/*! Copyright Elasticsearch B.V. and/or license to Elasticsearch B.V. under one or more contributor license agreements
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var executeModules=data[2];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}deferredModules.push.apply(deferredModules,executeModules||[]);return checkDeferredModules()}function checkDeferredModules(){var result;for(var i=0;i<deferredModules.length;i++){var deferredModule=deferredModules[i];var fulfilled=true;for(var j=1;j<deferredModule.length;j++){var depId=deferredModule[j];if(installedChunks[depId]!==0)fulfilled=false}if(fulfilled){deferredModules.splice(i--,1);result=__webpack_require__(__webpack_require__.s=deferredModule[0])}}return result}var installedModules={};var installedChunks={6:0};var deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="__REPLACE_WITH_PUBLIC_PATH__";var jsonpArray=window["webpackJsonp"]=window["webpackJsonp"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([3773,0]);return checkDeferredModules()})([,,,,,,,function(module,exports){module.exports=vendors},,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _action_modes=__webpack_require__(4401);Object.defineProperty(exports,"ACTION_MODES",{enumerable:true,get:function get(){return _action_modes.ACTION_MODES}});var _action_states=__webpack_require__(4402);Object.defineProperty(exports,"ACTION_STATES",{enumerable:true,get:function get(){return _action_states.ACTION_STATES}});var _action_types=__webpack_require__(4403);Object.defineProperty(exports,"ACTION_TYPES",{enumerable:true,get:function get(){return _action_types.ACTION_TYPES}});var _agg_types=__webpack_require__(4404);Object.defineProperty(exports,"AGG_TYPES",{enumerable:true,get:function get(){return _agg_types.AGG_TYPES}});var _comparators=__webpack_require__(4405);Object.defineProperty(exports,"COMPARATORS",{enumerable:true,get:function get(){return _comparators.COMPARATORS}});var _es_scroll_settings=__webpack_require__(4406);Object.defineProperty(exports,"ES_SCROLL_SETTINGS",{enumerable:true,get:function get(){return _es_scroll_settings.ES_SCROLL_SETTINGS}});var _index_names=__webpack_require__(4407);Object.defineProperty(exports,"INDEX_NAMES",{enumerable:true,get:function get(){return _index_names.INDEX_NAMES}});var _lists=__webpack_require__(4408);Object.defineProperty(exports,"LISTS",{enumerable:true,get:function get(){return _lists.LISTS}});var _pagination=__webpack_require__(4409);Object.defineProperty(exports,"PAGINATION",{enumerable:true,get:function get(){return _pagination.PAGINATION}});var _plugin=__webpack_require__(4410);Object.defineProperty(exports,"PLUGIN",{enumerable:true,get:function get(){return _plugin.PLUGIN}});var _refresh_intervals=__webpack_require__(4411);Object.defineProperty(exports,"REFRESH_INTERVALS",{enumerable:true,get:function get(){return _refresh_intervals.REFRESH_INTERVALS}});var _routes=__webpack_require__(4412);Object.defineProperty(exports,"ROUTES",{enumerable:true,get:function get(){return _routes.ROUTES}});var _sort_orders=__webpack_require__(4413);Object.defineProperty(exports,"SORT_ORDERS",{enumerable:true,get:function get(){return _sort_orders.SORT_ORDERS}});var _time_units=__webpack_require__(1329);Object.defineProperty(exports,"TIME_UNITS",{enumerable:true,get:function get(){return _time_units.TIME_UNITS}});var _watch_state_comments=__webpack_require__(4414);Object.defineProperty(exports,"WATCH_STATE_COMMENTS",{enumerable:true,get:function get(){return _watch_state_comments.WATCH_STATE_COMMENTS}});var _watch_history=__webpack_require__(4415);Object.defineProperty(exports,"WATCH_HISTORY",{enumerable:true,get:function get(){return _watch_history.WATCH_HISTORY}});var _watch_states=__webpack_require__(4416);Object.defineProperty(exports,"WATCH_STATES",{enumerable:true,get:function get(){return _watch_states.WATCH_STATES}});var _watch_types=__webpack_require__(4417);Object.defineProperty(exports,"WATCH_TYPES",{enumerable:true,get:function get(){return _watch_types.WATCH_TYPES}});var _error_codes=__webpack_require__(4418);Object.defineProperty(exports,"ERROR_CODES",{enumerable:true,get:function get(){return _error_codes.ERROR_CODES}})},,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _api=__webpack_require__(4220);Object.defineProperty(exports,"createJob",{enumerable:true,get:function get(){return _api.createJob}});Object.defineProperty(exports,"deleteJobs",{enumerable:true,get:function get(){return _api.deleteJobs}});Object.defineProperty(exports,"loadJobs",{enumerable:true,get:function get(){return _api.loadJobs}});Object.defineProperty(exports,"startJobs",{enumerable:true,get:function get(){return _api.startJobs}});Object.defineProperty(exports,"stopJobs",{enumerable:true,get:function get(){return _api.stopJobs}});Object.defineProperty(exports,"validateIndexPattern",{enumerable:true,get:function get(){return _api.validateIndexPattern}});var _api_errors=__webpack_require__(4221);Object.defineProperty(exports,"showApiError",{enumerable:true,get:function get(){return _api_errors.showApiError}});Object.defineProperty(exports,"showApiWarning",{enumerable:true,get:function get(){return _api_errors.showApiWarning}});var _cron=__webpack_require__(4222);Object.defineProperty(exports,"cronExpressionToParts",{enumerable:true,get:function get(){return _cron.cronExpressionToParts}});Object.defineProperty(exports,"cronPartsToExpression",{enumerable:true,get:function get(){return _cron.cronPartsToExpression}});Object.defineProperty(exports,"MINUTE",{enumerable:true,get:function get(){return _cron.MINUTE}});Object.defineProperty(exports,"HOUR",{enumerable:true,get:function get(){return _cron.HOUR}});Object.defineProperty(exports,"DAY",{enumerable:true,get:function get(){return _cron.DAY}});Object.defineProperty(exports,"WEEK",{enumerable:true,get:function get(){return _cron.WEEK}});Object.defineProperty(exports,"MONTH",{enumerable:true,get:function get(){return _cron.MONTH}});Object.defineProperty(exports,"YEAR",{enumerable:true,get:function get(){return _cron.YEAR}});var _documentation_links=__webpack_require__(4223);Object.defineProperty(exports,"logisticalDetailsUrl",{enumerable:true,get:function get(){return _documentation_links.logisticalDetailsUrl}});Object.defineProperty(exports,"dateHistogramDetailsUrl",{enumerable:true,get:function get(){return _documentation_links.dateHistogramDetailsUrl}});Object.defineProperty(exports,"dateHistogramAggregationUrl",{enumerable:true,get:function get(){return _documentation_links.dateHistogramAggregationUrl}});Object.defineProperty(exports,"termsDetailsUrl",{enumerable:true,get:function get(){return _documentation_links.termsDetailsUrl}});Object.defineProperty(exports,"histogramDetailsUrl",{enumerable:true,get:function get(){return _documentation_links.histogramDetailsUrl}});Object.defineProperty(exports,"metricsDetailsUrl",{enumerable:true,get:function get(){return _documentation_links.metricsDetailsUrl}});Object.defineProperty(exports,"cronUrl",{enumerable:true,get:function get(){return _documentation_links.cronUrl}});var _filter_items=__webpack_require__(4224);Object.defineProperty(exports,"filterItems",{enumerable:true,get:function get(){return _filter_items.filterItems}});var _flatten_panel_tree=__webpack_require__(4225);Object.defineProperty(exports,"flattenPanelTree",{enumerable:true,get:function get(){return _flatten_panel_tree.flattenPanelTree}});var _format_fields=__webpack_require__(4226);Object.defineProperty(exports,"formatFields",{enumerable:true,get:function get(){return _format_fields.formatFields}});var _http_provider=__webpack_require__(1309);Object.defineProperty(exports,"setHttp",{enumerable:true,get:function get(){return _http_provider.setHttp}});Object.defineProperty(exports,"getHttp",{enumerable:true,get:function get(){return _http_provider.getHttp}});var _humanized_numbers=__webpack_require__(4227);Object.defineProperty(exports,"getOrdinalValue",{enumerable:true,get:function get(){return _humanized_numbers.getOrdinalValue}});Object.defineProperty(exports,"getDayName",{enumerable:true,get:function get(){return _humanized_numbers.getDayName}});Object.defineProperty(exports,"getMonthName",{enumerable:true,get:function get(){return _humanized_numbers.getMonthName}});var _jobs=__webpack_require__(4228);Object.defineProperty(exports,"serializeJob",{enumerable:true,get:function get(){return _jobs.serializeJob}});Object.defineProperty(exports,"deserializeJob",{enumerable:true,get:function get(){return _jobs.deserializeJob}});Object.defineProperty(exports,"deserializeJobs",{enumerable:true,get:function get(){return _jobs.deserializeJobs}});var _noticeable_delay=__webpack_require__(4229);Object.defineProperty(exports,"createNoticeableDelay",{enumerable:true,get:function get(){return _noticeable_delay.createNoticeableDelay}});var _query_params=__webpack_require__(4230);Object.defineProperty(exports,"extractQueryParams",{enumerable:true,get:function get(){return _query_params.extractQueryParams}});var _routing=__webpack_require__(4231);Object.defineProperty(exports,"setUserHasLeftApp",{enumerable:true,get:function get(){return _routing.setUserHasLeftApp}});Object.defineProperty(exports,"getUserHasLeftApp",{enumerable:true,get:function get(){return _routing.getUserHasLeftApp}});Object.defineProperty(exports,"registerRouter",{enumerable:true,get:function get(){return _routing.registerRouter}});Object.defineProperty(exports,"getRouter",{enumerable:true,get:function get(){return _routing.getRouter}});Object.defineProperty(exports,"getRouterLinkProps",{enumerable:true,get:function get(){return _routing.getRouterLinkProps}});var _sort_table=__webpack_require__(4232);Object.defineProperty(exports,"sortTable",{enumerable:true,get:function get(){return _sort_table.sortTable}})},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _PHASE_HOT,_PHASE_WARM,_PHASE_COLD,_PHASE_DELETE,_ERROR_STRUCTURE;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SET_PHASE_DATA=exports.SET_PHASE_DATA="SET_PHASE_DATA";var SET_SELECTED_NODE_ATTRS=exports.SET_SELECTED_NODE_ATTRS="SET_SELECTED_NODE_ATTRS";var PHASE_HOT=exports.PHASE_HOT="hot";var PHASE_WARM=exports.PHASE_WARM="warm";var PHASE_COLD=exports.PHASE_COLD="cold";var PHASE_DELETE=exports.PHASE_DELETE="delete";var PHASE_ENABLED=exports.PHASE_ENABLED="phaseEnabled";var MAX_SIZE_TYPE_DOCUMENT=exports.MAX_SIZE_TYPE_DOCUMENT="d";var PHASE_ROLLOVER_ENABLED=exports.PHASE_ROLLOVER_ENABLED="rolloverEnabled";var WARM_PHASE_ON_ROLLOVER=exports.WARM_PHASE_ON_ROLLOVER="warmPhaseOnRollover";var PHASE_ROLLOVER_ALIAS=exports.PHASE_ROLLOVER_ALIAS="selectedAlias";var PHASE_ROLLOVER_MAX_AGE=exports.PHASE_ROLLOVER_MAX_AGE="selectedMaxAge";var PHASE_ROLLOVER_MAX_AGE_UNITS=exports.PHASE_ROLLOVER_MAX_AGE_UNITS="selectedMaxAgeUnits";var PHASE_ROLLOVER_MAX_SIZE_STORED=exports.PHASE_ROLLOVER_MAX_SIZE_STORED="selectedMaxSizeStored";var PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS=exports.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS="selectedMaxSizeStoredUnits";var PHASE_ROLLOVER_MINIMUM_AGE=exports.PHASE_ROLLOVER_MINIMUM_AGE="selectedMinimumAge";var PHASE_ROLLOVER_MINIMUM_AGE_UNITS=exports.PHASE_ROLLOVER_MINIMUM_AGE_UNITS="selectedMinimumAgeUnits";var PHASE_FORCE_MERGE_SEGMENTS=exports.PHASE_FORCE_MERGE_SEGMENTS="selectedForceMergeSegments";var PHASE_FORCE_MERGE_ENABLED=exports.PHASE_FORCE_MERGE_ENABLED="forceMergeEnabled";var PHASE_SHRINK_ENABLED=exports.PHASE_SHRINK_ENABLED="shrinkEnabled";var PHASE_NODE_ATTRS=exports.PHASE_NODE_ATTRS="selectedNodeAttrs";var PHASE_PRIMARY_SHARD_COUNT=exports.PHASE_PRIMARY_SHARD_COUNT="selectedPrimaryShardCount";var PHASE_REPLICA_COUNT=exports.PHASE_REPLICA_COUNT="selectedReplicaCount";var PHASE_ATTRIBUTES_THAT_ARE_NUMBERS_VALIDATE=exports.PHASE_ATTRIBUTES_THAT_ARE_NUMBERS_VALIDATE=[PHASE_ROLLOVER_MINIMUM_AGE,PHASE_FORCE_MERGE_SEGMENTS,PHASE_PRIMARY_SHARD_COUNT,PHASE_REPLICA_COUNT];var PHASE_ATTRIBUTES_THAT_ARE_NUMBERS=exports.PHASE_ATTRIBUTES_THAT_ARE_NUMBERS=[].concat(PHASE_ATTRIBUTES_THAT_ARE_NUMBERS_VALIDATE,[PHASE_ROLLOVER_MAX_AGE,PHASE_ROLLOVER_MAX_SIZE_STORED]);var STRUCTURE_INDEX_TEMPLATE=exports.STRUCTURE_INDEX_TEMPLATE="indexTemplate";var STRUCTURE_TEMPLATE_SELECTION=exports.STRUCTURE_TEMPLATE_SELECTION="templateSelection";var STRUCTURE_TEMPLATE_NAME=exports.STRUCTURE_TEMPLATE_NAME="templateName";var STRUCTURE_CONFIGURATION=exports.STRUCTURE_CONFIGURATION="configuration";var STRUCTURE_NODE_ATTRS=exports.STRUCTURE_NODE_ATTRS="node_attrs";var STRUCTURE_PRIMARY_NODES=exports.STRUCTURE_PRIMARY_NODES="primary_nodes";var STRUCTURE_REPLICAS=exports.STRUCTURE_REPLICAS="replicas";var STRUCTURE_POLICY_CONFIGURATION=exports.STRUCTURE_POLICY_CONFIGURATION="policyConfiguration";var STRUCTURE_REVIEW=exports.STRUCTURE_REVIEW="review";var STRUCTURE_POLICY_NAME=exports.STRUCTURE_POLICY_NAME="policyName";var STRUCTURE_INDEX_NAME=exports.STRUCTURE_INDEX_NAME="indexName";var STRUCTURE_ALIAS_NAME=exports.STRUCTURE_ALIAS_NAME="aliasName";var ERROR_STRUCTURE=exports.ERROR_STRUCTURE=(_ERROR_STRUCTURE={},_defineProperty(_ERROR_STRUCTURE,PHASE_HOT,(_PHASE_HOT={},_defineProperty(_PHASE_HOT,PHASE_ROLLOVER_ALIAS,[]),_defineProperty(_PHASE_HOT,PHASE_ROLLOVER_MAX_AGE,[]),_defineProperty(_PHASE_HOT,PHASE_ROLLOVER_MAX_AGE_UNITS,[]),_defineProperty(_PHASE_HOT,PHASE_ROLLOVER_MAX_SIZE_STORED,[]),_defineProperty(_PHASE_HOT,PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS,[]),_PHASE_HOT)),_defineProperty(_ERROR_STRUCTURE,PHASE_WARM,(_PHASE_WARM={},_defineProperty(_PHASE_WARM,PHASE_ROLLOVER_ALIAS,[]),_defineProperty(_PHASE_WARM,PHASE_ROLLOVER_MINIMUM_AGE,[]),_defineProperty(_PHASE_WARM,PHASE_ROLLOVER_MINIMUM_AGE_UNITS,[]),_defineProperty(_PHASE_WARM,PHASE_NODE_ATTRS,[]),_defineProperty(_PHASE_WARM,PHASE_PRIMARY_SHARD_COUNT,[]),_defineProperty(_PHASE_WARM,PHASE_REPLICA_COUNT,[]),_defineProperty(_PHASE_WARM,PHASE_FORCE_MERGE_SEGMENTS,[]),_PHASE_WARM)),_defineProperty(_ERROR_STRUCTURE,PHASE_COLD,(_PHASE_COLD={},_defineProperty(_PHASE_COLD,PHASE_ROLLOVER_ALIAS,[]),_defineProperty(_PHASE_COLD,PHASE_ROLLOVER_MINIMUM_AGE,[]),_defineProperty(_PHASE_COLD,PHASE_ROLLOVER_MINIMUM_AGE_UNITS,[]),_defineProperty(_PHASE_COLD,PHASE_NODE_ATTRS,[]),_defineProperty(_PHASE_COLD,PHASE_REPLICA_COUNT,[]),_PHASE_COLD)),_defineProperty(_ERROR_STRUCTURE,PHASE_DELETE,(_PHASE_DELETE={},_defineProperty(_PHASE_DELETE,PHASE_ROLLOVER_ALIAS,[]),_defineProperty(_PHASE_DELETE,PHASE_ROLLOVER_MINIMUM_AGE,[]),_defineProperty(_PHASE_DELETE,PHASE_ROLLOVER_MINIMUM_AGE_UNITS,[]),_PHASE_DELETE)),_defineProperty(_ERROR_STRUCTURE,STRUCTURE_POLICY_NAME,[]),_ERROR_STRUCTURE)},,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _clear_cache_indices=__webpack_require__(4013);Object.keys(_clear_cache_indices).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _clear_cache_indices[key]}})});var _clear_row_status=__webpack_require__(4017);Object.keys(_clear_row_status).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _clear_row_status[key]}})});var _close_indices=__webpack_require__(4018);Object.keys(_close_indices).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _close_indices[key]}})});var _delete_indices=__webpack_require__(1285);Object.keys(_delete_indices).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _delete_indices[key]}})});var _flush_indices=__webpack_require__(4019);Object.keys(_flush_indices).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _flush_indices[key]}})});var _forcemerge_indices=__webpack_require__(4020);Object.keys(_forcemerge_indices).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _forcemerge_indices[key]}})});var _load_indices=__webpack_require__(1286);Object.keys(_load_indices).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _load_indices[key]}})});var _load_index_data=__webpack_require__(783);Object.keys(_load_index_data).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _load_index_data[key]}})});var _open_indices=__webpack_require__(4021);Object.keys(_open_indices).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _open_indices[key]}})});var _refresh_indices=__webpack_require__(4022);Object.keys(_refresh_indices).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _refresh_indices[key]}})});var _reload_indices=__webpack_require__(1287);Object.keys(_reload_indices).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _reload_indices[key]}})});var _table_state=__webpack_require__(4024);Object.keys(_table_state).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _table_state[key]}})});var _edit_index_settings=__webpack_require__(4025);Object.keys(_edit_index_settings).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _edit_index_settings[key]}})});var _update_index_settings=__webpack_require__(1288);Object.keys(_update_index_settings).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _update_index_settings[key]}})});var _detail_panel=__webpack_require__(1289);Object.keys(_detail_panel).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _detail_panel[key]}})});var _extension_action=__webpack_require__(4026);Object.keys(_extension_action).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _extension_action[key]}})})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _api=__webpack_require__(3895);Object.defineProperty(exports,"API_STATUS",{enumerable:true,get:function get(){return _api.API_STATUS}});var _sections=__webpack_require__(3896);Object.defineProperty(exports,"SECTIONS",{enumerable:true,get:function get(){return _sections.SECTIONS}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _api=__webpack_require__(540);Object.keys(_api).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _api[key]}})});var _sort_table=__webpack_require__(4014);Object.defineProperty(exports,"sortTable",{enumerable:true,get:function get(){return _sort_table.sortTable}});var _filter_items=__webpack_require__(4015);Object.defineProperty(exports,"filterItems",{enumerable:true,get:function get(){return _filter_items.filterItems}});var _health_to_color=__webpack_require__(4016);Object.defineProperty(exports,"healthToColor",{enumerable:true,get:function get(){return _health_to_color.healthToColor}})},,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _api=__webpack_require__(4162);Object.defineProperty(exports,"setHttpClient",{enumerable:true,get:function get(){return _api.setHttpClient}});Object.defineProperty(exports,"loadClusters",{enumerable:true,get:function get(){return _api.loadClusters}});Object.defineProperty(exports,"addCluster",{enumerable:true,get:function get(){return _api.addCluster}});Object.defineProperty(exports,"editCluster",{enumerable:true,get:function get(){return _api.editCluster}});Object.defineProperty(exports,"removeClusterRequest",{enumerable:true,get:function get(){return _api.removeClusterRequest}});var _api_errors=__webpack_require__(4163);Object.defineProperty(exports,"showApiError",{enumerable:true,get:function get(){return _api_errors.showApiError}});Object.defineProperty(exports,"showApiWarning",{enumerable:true,get:function get(){return _api_errors.showApiWarning}});var _breadcrumbs=__webpack_require__(4164);Object.defineProperty(exports,"listBreadcrumb",{enumerable:true,get:function get(){return _breadcrumbs.listBreadcrumb}});Object.defineProperty(exports,"buildListBreadcrumb",{enumerable:true,get:function get(){return _breadcrumbs.buildListBreadcrumb}});Object.defineProperty(exports,"addBreadcrumb",{enumerable:true,get:function get(){return _breadcrumbs.addBreadcrumb}});Object.defineProperty(exports,"editBreadcrumb",{enumerable:true,get:function get(){return _breadcrumbs.editBreadcrumb}});var _redirect=__webpack_require__(4165);Object.defineProperty(exports,"setRedirect",{enumerable:true,get:function get(){return _redirect.setRedirect}});Object.defineProperty(exports,"redirect",{enumerable:true,get:function get(){return _redirect.redirect}});var _validate_seed_node=__webpack_require__(4166);Object.defineProperty(exports,"isSeedNodeValid",{enumerable:true,get:function get(){return _validate_seed_node.isSeedNodeValid}});Object.defineProperty(exports,"isSeedNodePortValid",{enumerable:true,get:function get(){return _validate_seed_node.isSeedNodePortValid}});var _query_params=__webpack_require__(4167);Object.defineProperty(exports,"extractQueryParams",{enumerable:true,get:function get(){return _query_params.extractQueryParams}});var _routing=__webpack_require__(4168);Object.defineProperty(exports,"setUserHasLeftApp",{enumerable:true,get:function get(){return _routing.setUserHasLeftApp}});Object.defineProperty(exports,"getUserHasLeftApp",{enumerable:true,get:function get(){return _routing.getUserHasLeftApp}});Object.defineProperty(exports,"registerRouter",{enumerable:true,get:function get(){return _routing.registerRouter}});Object.defineProperty(exports,"getRouter",{enumerable:true,get:function get(){return _routing.getRouter}});Object.defineProperty(exports,"getRouterLinkProps",{enumerable:true,get:function get(){return _routing.getRouterLinkProps}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var OPEN_DETAIL_PANEL=exports.OPEN_DETAIL_PANEL="OPEN_DETAIL_PANEL";var CLOSE_DETAIL_PANEL=exports.CLOSE_DETAIL_PANEL="CLOSE_DETAIL_PANEL";var LOAD_JOBS_START=exports.LOAD_JOBS_START="LOAD_JOBS_START";var LOAD_JOBS_SUCCESS=exports.LOAD_JOBS_SUCCESS="LOAD_JOBS_SUCCESS";var LOAD_JOBS_FAILURE=exports.LOAD_JOBS_FAILURE="LOAD_JOBS_FAILURE";var REFRESH_JOBS_SUCCESS=exports.REFRESH_JOBS_SUCCESS="REFRESH_JOBS_SUCCESS";var CREATE_JOB_START=exports.CREATE_JOB_START="CREATE_JOB_START";var CREATE_JOB_SUCCESS=exports.CREATE_JOB_SUCCESS="CREATE_JOB_SUCCESS";var CREATE_JOB_FAILURE=exports.CREATE_JOB_FAILURE="CREATE_JOB_FAILURE";var CLEAR_CREATE_JOB_ERRORS=exports.CLEAR_CREATE_JOB_ERRORS="CLEAR_CREATE_JOB_ERRORS";var UPDATE_JOB_START=exports.UPDATE_JOB_START="UPDATE_JOB_START";var UPDATE_JOB_SUCCESS=exports.UPDATE_JOB_SUCCESS="UPDATE_JOB_SUCCESS";var UPDATE_JOB_FAILURE=exports.UPDATE_JOB_FAILURE="UPDATE_JOB_FAILURE";var FILTER_CHANGED=exports.FILTER_CHANGED="FILTER_CHANGED";var PAGE_CHANGED=exports.PAGE_CHANGED="PAGE_CHANGED";var PAGE_SIZE_CHANGED=exports.PAGE_SIZE_CHANGED="PAGE_SIZE_CHANGED";var SORT_CHANGED=exports.SORT_CHANGED="SORT_CHANGED"},,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var OPEN_DETAIL_PANEL=exports.OPEN_DETAIL_PANEL="OPEN_DETAIL_PANEL";var CLOSE_DETAIL_PANEL=exports.CLOSE_DETAIL_PANEL="CLOSE_DETAIL_PANEL";var LOAD_CLUSTERS_START=exports.LOAD_CLUSTERS_START="LOAD_CLUSTERS_START";var LOAD_CLUSTERS_SUCCESS=exports.LOAD_CLUSTERS_SUCCESS="LOAD_CLUSTERS_SUCCESS";var LOAD_CLUSTERS_FAILURE=exports.LOAD_CLUSTERS_FAILURE="LOAD_CLUSTERS_FAILURE";var REFRESH_CLUSTERS_SUCCESS=exports.REFRESH_CLUSTERS_SUCCESS="REFRESH_CLUSTERS_SUCCESS";var ADD_CLUSTER_START=exports.ADD_CLUSTER_START="ADD_CLUSTER_START";var ADD_CLUSTER_SUCCESS=exports.ADD_CLUSTER_SUCCESS="ADD_CLUSTER_SUCCESS";var ADD_CLUSTER_FAILURE=exports.ADD_CLUSTER_FAILURE="ADD_CLUSTER_FAILURE";var CLEAR_ADD_CLUSTER_ERRORS=exports.CLEAR_ADD_CLUSTER_ERRORS="CLEAR_ADD_CLUSTER_ERRORS";var EDIT_CLUSTER_START=exports.EDIT_CLUSTER_START="EDIT_CLUSTER_START";var EDIT_CLUSTER_STOP=exports.EDIT_CLUSTER_STOP="EDIT_CLUSTER_STOP";var EDIT_CLUSTER_SAVE=exports.EDIT_CLUSTER_SAVE="EDIT_CLUSTER_SAVE";var EDIT_CLUSTER_SUCCESS=exports.EDIT_CLUSTER_SUCCESS="EDIT_CLUSTER_SUCCESS";var EDIT_CLUSTER_FAILURE=exports.EDIT_CLUSTER_FAILURE="EDIT_CLUSTER_FAILURE";var CLEAR_EDIT_CLUSTER_ERRORS=exports.CLEAR_EDIT_CLUSTER_ERRORS="CLEAR_EDIT_CLUSTER_ERRORS";var REMOVE_CLUSTERS_START=exports.REMOVE_CLUSTERS_START="REMOVE_CLUSTERS_START";var REMOVE_CLUSTERS_FINISH=exports.REMOVE_CLUSTERS_FINISH="REMOVE_CLUSTERS_FINISH"},,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(335)},,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _appToBasePathMap;var _history=__webpack_require__(421);var _querystring=__webpack_require__(240);var _constants=__webpack_require__(284);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var isModifiedEvent=function isModifiedEvent(event){return!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey)};var isLeftClickEvent=function isLeftClickEvent(event){return event.button===0};var queryParamsFromObject=function queryParamsFromObject(params){if(!params){return}var paramsStr=(0,_querystring.stringify)(params,"&","=",{encodeURIComponent:function encodeURIComponent(val){return val}});return"?"+paramsStr};var appToBasePathMap=(_appToBasePathMap={},_defineProperty(_appToBasePathMap,_constants.APPS.CCR_APP,_constants.BASE_PATH),_defineProperty(_appToBasePathMap,_constants.APPS.REMOTE_CLUSTER_APP,_constants.BASE_PATH_REMOTE_CLUSTERS),_appToBasePathMap);var Routing=function(){function Routing(){_classCallCheck(this,Routing);this._userHasLeftApp=false;this._reactRouter=null}_createClass(Routing,[{key:"getRouterLinkProps",value:function getRouterLinkProps(to){var _this=this;var base=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_constants.BASE_PATH;var params=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var search=queryParamsFromObject(params)||"";var location=typeof to==="string"?(0,_history.createLocation)(base+to+search,null,null,this._reactRouter.history.location):to;var href=this._reactRouter.history.createHref(location);var onClick=function onClick(event){if(event.defaultPrevented){return}if(event.target.getAttribute("target")){return}if(isModifiedEvent(event)||!isLeftClickEvent(event)){return}event.preventDefault();_this._reactRouter.history.push(location)};return{href:href,onClick:onClick}}},{key:"navigate",value:function navigate(){var route=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"/home";var app=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_constants.APPS.CCR_APP;var params=arguments[2];var search=queryParamsFromObject(params);this._reactRouter.history.push({pathname:encodeURI(appToBasePathMap[app]+route),search:search})}},{key:"reactRouter",get:function get(){return this._reactRouter},set:function set(router){this._reactRouter=router}},{key:"userHasLeftApp",get:function get(){return this._userHasLeftApp},set:function set(hasLeft){this._userHasLeftApp=hasLeft}}]);return Routing}();exports.default=new Routing;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _nodes=__webpack_require__(3953);Object.keys(_nodes).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _nodes[key]}})});var _policies=__webpack_require__(3954);Object.keys(_policies).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _policies[key]}})});var _lifecycle=__webpack_require__(3962);Object.keys(_lifecycle).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _lifecycle[key]}})});var _general=__webpack_require__(3963);Object.keys(_general).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _general[key]}})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _paths=__webpack_require__(4161);Object.defineProperty(exports,"CRUD_APP_BASE_PATH",{enumerable:true,get:function get(){return _paths.CRUD_APP_BASE_PATH}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4542)},,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addLifecyclePolicyToTemplate=exports.addLifecyclePolicyToIndex=exports.removeLifecycleForIndex=exports.retryLifecycleForIndex=exports.getAffectedIndices=exports.saveLifecycle=exports.deletePolicy=exports.loadPolicies=exports.loadIndexTemplate=exports.loadIndexTemplates=exports.loadNodeDetails=exports.loadNodes=exports.setHttpClient=undefined;var loadNodes=exports.loadNodes=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var httpClient=arguments.length>0&&arguments[0]!==undefined?arguments[0]:getHttpClient();var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return httpClient.get(apiPrefix+"/nodes/list");case 2:response=_context.sent;return _context.abrupt("return",response.data);case 4:case"end":return _context.stop()}}},_callee,this)}));return function loadNodes(){return _ref.apply(this,arguments)}}();var loadNodeDetails=exports.loadNodeDetails=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(selectedNodeAttrs){var httpClient=arguments.length>1&&arguments[1]!==undefined?arguments[1]:getHttpClient();var response;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return httpClient.get(apiPrefix+"/nodes/"+selectedNodeAttrs+"/details");case 2:response=_context2.sent;return _context2.abrupt("return",response.data);case 4:case"end":return _context2.stop()}}},_callee2,this)}));return function loadNodeDetails(_x3){return _ref2.apply(this,arguments)}}();var loadIndexTemplates=exports.loadIndexTemplates=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var httpClient=arguments.length>0&&arguments[0]!==undefined?arguments[0]:getHttpClient();var response;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return httpClient.get(apiPrefix+"/templates");case 2:response=_context3.sent;return _context3.abrupt("return",response.data);case 4:case"end":return _context3.stop()}}},_callee3,this)}));return function loadIndexTemplates(){return _ref3.apply(this,arguments)}}();var loadIndexTemplate=exports.loadIndexTemplate=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(templateName){var httpClient=arguments.length>1&&arguments[1]!==undefined?arguments[1]:getHttpClient();var response;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(templateName){_context4.next=2;break}return _context4.abrupt("return",{});case 2:_context4.next=4;return httpClient.get(apiPrefix+"/template/"+templateName);case 4:response=_context4.sent;return _context4.abrupt("return",response.data);case 6:case"end":return _context4.stop()}}},_callee4,this)}));return function loadIndexTemplate(_x6){return _ref4.apply(this,arguments)}}();var loadPolicies=exports.loadPolicies=function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(withIndices){var httpClient=arguments.length>1&&arguments[1]!==undefined?arguments[1]:getHttpClient();var response;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return httpClient.get(apiPrefix+"/policies"+(withIndices?"?withIndices=true":""));case 2:response=_context5.sent;return _context5.abrupt("return",response.data);case 4:case"end":return _context5.stop()}}},_callee5,this)}));return function loadPolicies(_x8){return _ref5.apply(this,arguments)}}();var deletePolicy=exports.deletePolicy=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(policyName){var httpClient=arguments.length>1&&arguments[1]!==undefined?arguments[1]:getHttpClient();var response;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return httpClient.delete(apiPrefix+"/policies/"+encodeURIComponent(policyName));case 2:response=_context6.sent;return _context6.abrupt("return",response.data);case 4:case"end":return _context6.stop()}}},_callee6,this)}));return function deletePolicy(_x10){return _ref6.apply(this,arguments)}}();var saveLifecycle=exports.saveLifecycle=function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(lifecycle){var httpClient=arguments.length>1&&arguments[1]!==undefined?arguments[1]:getHttpClient();var response;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return httpClient.post(apiPrefix+"/lifecycle",{lifecycle:lifecycle});case 2:response=_context7.sent;return _context7.abrupt("return",response.data);case 4:case"end":return _context7.stop()}}},_callee7,this)}));return function saveLifecycle(_x12){return _ref7.apply(this,arguments)}}();var getAffectedIndices=exports.getAffectedIndices=function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(indexTemplateName,policyName){var httpClient=arguments.length>2&&arguments[2]!==undefined?arguments[2]:getHttpClient();var path,response;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:path=policyName?apiPrefix+"/indices/affected/"+indexTemplateName+"/"+encodeURIComponent(policyName):apiPrefix+"/indices/affected/"+indexTemplateName;_context8.next=3;return httpClient.get(path);case 3:response=_context8.sent;return _context8.abrupt("return",response.data);case 5:case"end":return _context8.stop()}}},_callee8,this)}));return function getAffectedIndices(_x14,_x15){return _ref8.apply(this,arguments)}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var httpClient=void 0;var setHttpClient=exports.setHttpClient=function setHttpClient(client){httpClient=client};var getHttpClient=function getHttpClient(){return httpClient};var apiPrefix=_chrome2.default.addBasePath("/api/index_lifecycle_management");var retryLifecycleForIndex=exports.retryLifecycleForIndex=function(){var _ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(indexNames){var httpClient=arguments.length>1&&arguments[1]!==undefined?arguments[1]:getHttpClient();var response;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return httpClient.post(apiPrefix+"/index/retry",{indexNames:indexNames});case 2:response=_context9.sent;return _context9.abrupt("return",response.data);case 4:case"end":return _context9.stop()}}},_callee9,undefined)}));return function retryLifecycleForIndex(_x17){return _ref9.apply(this,arguments)}}();var removeLifecycleForIndex=exports.removeLifecycleForIndex=function(){var _ref10=_asyncToGenerator(regeneratorRuntime.mark(function _callee10(indexNames){var httpClient=arguments.length>1&&arguments[1]!==undefined?arguments[1]:getHttpClient();var response;return regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return httpClient.post(apiPrefix+"/index/remove",{indexNames:indexNames});case 2:response=_context10.sent;return _context10.abrupt("return",response.data);case 4:case"end":return _context10.stop()}}},_callee10,undefined)}));return function removeLifecycleForIndex(_x19){return _ref10.apply(this,arguments)}}();var addLifecyclePolicyToIndex=exports.addLifecyclePolicyToIndex=function(){var _ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee11(body){var httpClient=arguments.length>1&&arguments[1]!==undefined?arguments[1]:getHttpClient();var response;return regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return httpClient.post(apiPrefix+"/index/add",body);case 2:response=_context11.sent;return _context11.abrupt("return",response.data);case 4:case"end":return _context11.stop()}}},_callee11,undefined)}));return function addLifecyclePolicyToIndex(_x21){return _ref11.apply(this,arguments)}}();var addLifecyclePolicyToTemplate=exports.addLifecyclePolicyToTemplate=function(){var _ref12=_asyncToGenerator(regeneratorRuntime.mark(function _callee12(body){var httpClient=arguments.length>1&&arguments[1]!==undefined?arguments[1]:getHttpClient();var response;return regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return httpClient.post(apiPrefix+"/template",body);case 2:response=_context12.sent;return _context12.abrupt("return",response.data);case 4:case"end":return _context12.stop()}}},_callee12,undefined)}));return function addLifecyclePolicyToTemplate(_x23){return _ref12.apply(this,arguments)}}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _nodes=__webpack_require__(1280);Object.keys(_nodes).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _nodes[key]}})});var _policies=__webpack_require__(3964);Object.keys(_policies).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _policies[key]}})});var _lifecycle=__webpack_require__(3965);Object.keys(_lifecycle).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _lifecycle[key]}})});var _general=__webpack_require__(1281);Object.keys(_general).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _general[key]}})})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4544)},,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _default=__webpack_require__(3801);Object.defineProperty(exports,"DefaultFormatEditor",{enumerable:true,get:function get(){return _default.DefaultFormatEditor}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var plugin_1=__webpack_require__(1258);exports.PLUGIN=plugin_1.PLUGIN;var index_names_1=__webpack_require__(1259);exports.INDEX_NAMES=index_names_1.INDEX_NAMES;var configuration_blocks_1=__webpack_require__(3831);exports.UNIQUENESS_ENFORCING_TYPES=configuration_blocks_1.UNIQUENESS_ENFORCING_TYPES;exports.ConfigurationBlockTypes=configuration_blocks_1.ConfigurationBlockTypes;exports.BASE_PATH="/management/beats_management";var table_1=__webpack_require__(1260);exports.TABLE_CONFIG=table_1.TABLE_CONFIG;var security_1=__webpack_require__(773);exports.REQUIRED_ROLES=security_1.REQUIRED_ROLES;exports.LICENSES=security_1.LICENSES;exports.REQUIRED_LICENSES=security_1.REQUIRED_LICENSES},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _plugin=__webpack_require__(3886);Object.keys(_plugin).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _plugin[key]}})});var _base_path=__webpack_require__(1272);Object.keys(_base_path).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _base_path[key]}})});var _app=__webpack_require__(3887);Object.keys(_app).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _app[key]}})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var API=exports.API="API";var API_REQUEST_START=exports.API_REQUEST_START="API_REQUEST_START";var API_REQUEST_END=exports.API_REQUEST_END="API_REQUEST_END";var API_ERROR_SET=exports.API_ERROR_SET="API_ERROR_SET";var AUTO_FOLLOW_PATTERN_EDIT=exports.AUTO_FOLLOW_PATTERN_EDIT="AUTO_FOLLOW_PATTERN_EDIT";var AUTO_FOLLOW_PATTERN_LOAD=exports.AUTO_FOLLOW_PATTERN_LOAD="AUTO_FOLLOW_PATTERN_LOAD";var AUTO_FOLLOW_PATTERN_GET=exports.AUTO_FOLLOW_PATTERN_GET="AUTO_FOLLOW_PATTERN_GET";var AUTO_FOLLOW_PATTERN_CREATE=exports.AUTO_FOLLOW_PATTERN_CREATE="AUTO_FOLLOW_PATTERN_CREATE";var AUTO_FOLLOW_PATTERN_UPDATE=exports.AUTO_FOLLOW_PATTERN_UPDATE="AUTO_FOLLOW_PATTERN_UPDATE";var AUTO_FOLLOW_PATTERN_DELETE=exports.AUTO_FOLLOW_PATTERN_DELETE="AUTO_FOLLOW_PATTERN_DELETE";var AUTO_FOLLOW_PATTERN_DETAIL_PANEL=exports.AUTO_FOLLOW_PATTERN_DETAIL_PANEL="AUTO_FOLLOW_PATTERN_DETAIL_PANEL";var AUTO_FOLLOW_STATS_LOAD=exports.AUTO_FOLLOW_STATS_LOAD="AUTO_FOLLOW_STATS_LOAD"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var lodash_1=__webpack_require__(1);function isRoleEnabled(role){return lodash_1.get(role,"transient_metadata.enabled",true)}exports.isRoleEnabled=isRoleEnabled;function isReservedRole(role){return lodash_1.get(role,"metadata._reserved",false)}exports.isReservedRole=isReservedRole},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var UpgradeAssistantTabComponent=function(_react_1$default$Comp){_inherits(UpgradeAssistantTabComponent,_react_1$default$Comp);function UpgradeAssistantTabComponent(){_classCallCheck(this,UpgradeAssistantTabComponent);return _possibleConstructorReturn(this,(UpgradeAssistantTabComponent.__proto__||Object.getPrototypeOf(UpgradeAssistantTabComponent)).apply(this,arguments))}return UpgradeAssistantTabComponent}(react_1.default.Component);exports.UpgradeAssistantTabComponent=UpgradeAssistantTabComponent;var LoadingState;(function(LoadingState){LoadingState[LoadingState["Loading"]=0]="Loading";LoadingState[LoadingState["Success"]=1]="Success";LoadingState[LoadingState["Error"]=2]="Error"})(LoadingState=exports.LoadingState||(exports.LoadingState={}));var LevelFilterOption;(function(LevelFilterOption){LevelFilterOption["all"]="all";LevelFilterOption["critical"]="critical"})(LevelFilterOption=exports.LevelFilterOption||(exports.LevelFilterOption={}));var GroupByOption;(function(GroupByOption){GroupByOption["message"]="message";GroupByOption["index"]="index";GroupByOption["node"]="node"})(GroupByOption=exports.GroupByOption||(exports.GroupByOption={}))},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4452)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SharedComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _autocomplete_component=__webpack_require__(1344);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SharedComponent=exports.SharedComponent=function(_AutocompleteComponen){_inherits(SharedComponent,_AutocompleteComponen);function SharedComponent(name,parent){_classCallCheck(this,SharedComponent);var _this=_possibleConstructorReturn(this,(SharedComponent.__proto__||Object.getPrototypeOf(SharedComponent)).call(this,name));_this._nextDict={};if(parent){parent.addComponent(_this)}_this._parent=parent;return _this}_createClass(SharedComponent,[{key:"getComponent",value:function getComponent(name){return(this._nextDict[name]||[undefined])[0]}},{key:"addComponent",value:function addComponent(component){var current=this._nextDict[component.name]||[];current.push(component);this._nextDict[component.name]=current;this.next=[].concat.apply([],_lodash2.default.values(this._nextDict))}}]);return SharedComponent}(_autocomplete_component.AutocompleteComponent)},,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var provider_1=__webpack_require__(3833);exports.BreadcrumbProvider=provider_1.BreadcrumbProvider;var consumer_1=__webpack_require__(1262);exports.BreadcrumbConsumer=consumer_1.BreadcrumbConsumer;var breadcrumb_1=__webpack_require__(3834);exports.Breadcrumb=breadcrumb_1.Breadcrumb},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getListAutoFollowPatterns=exports.getDetailPanelAutoFollowPattern=exports.isAutoFollowPatternDetailPanelOpen=exports.getSelectedAutoFollowPattern=exports.getDetailPanelAutoFollowPatternName=exports.getAutoFollowPatterns=exports.getAutoFollowPatternState=exports.getAutoFollowStats=exports.getStatsState=exports.isApiAuthorized=exports.getApiError=exports.getApiStatus=exports.getApiState=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _reselect=__webpack_require__(27);var _utils=__webpack_require__(1273);var getApiState=exports.getApiState=function getApiState(state){return state.api};var getApiStatus=exports.getApiStatus=function getApiStatus(scope){return(0,_reselect.createSelector)(getApiState,function(apiState){return apiState.status[scope]})};var getApiError=exports.getApiError=function getApiError(scope){return(0,_reselect.createSelector)(getApiState,function(apiState){return apiState.error[scope]})};var isApiAuthorized=exports.isApiAuthorized=function isApiAuthorized(scope){return(0,_reselect.createSelector)(getApiError(scope),function(error){if(!error){return true}return error.status!==403})};var getStatsState=exports.getStatsState=function getStatsState(state){return state.stats};var getAutoFollowStats=exports.getAutoFollowStats=(0,_reselect.createSelector)(getStatsState,function(statsState){return statsState.autoFollow});var getAutoFollowPatternState=exports.getAutoFollowPatternState=function getAutoFollowPatternState(state){return state.autoFollowPattern};var getAutoFollowPatterns=exports.getAutoFollowPatterns=(0,_reselect.createSelector)(getAutoFollowPatternState,function(autoFollowPatternsState){return autoFollowPatternsState.byId});var getDetailPanelAutoFollowPatternName=exports.getDetailPanelAutoFollowPatternName=(0,_reselect.createSelector)(getAutoFollowPatternState,function(autoFollowPatternsState){return autoFollowPatternsState.detailPanelId});var getSelectedAutoFollowPattern=exports.getSelectedAutoFollowPattern=(0,_reselect.createSelector)(getAutoFollowPatternState,function(autoFollowPatternsState){if(!autoFollowPatternsState.selectedId){return null}return autoFollowPatternsState.byId[autoFollowPatternsState.selectedId]});var isAutoFollowPatternDetailPanelOpen=exports.isAutoFollowPatternDetailPanelOpen=(0,_reselect.createSelector)(getAutoFollowPatternState,function(autoFollowPatternsState){return!!autoFollowPatternsState.detailPanelId});var getDetailPanelAutoFollowPattern=exports.getDetailPanelAutoFollowPattern=(0,_reselect.createSelector)(getAutoFollowPatternState,getAutoFollowStats,function(autoFollowPatternsState,autoFollowStatsState){if(!autoFollowPatternsState.detailPanelId){return null}var detailPanelId=autoFollowPatternsState.detailPanelId;var autoFollowPattern=autoFollowPatternsState.byId[detailPanelId];var errors=autoFollowStatsState&&autoFollowStatsState.recentAutoFollowErrors[detailPanelId]||[];return autoFollowPattern?_extends({},autoFollowPattern,{errors:errors}):null});var getListAutoFollowPatterns=exports.getListAutoFollowPatterns=(0,_reselect.createSelector)(getAutoFollowPatterns,function(autoFollowPatterns){return(0,_utils.objectToArray)(autoFollowPatterns)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _auto_follow_pattern=__webpack_require__(3900);Object.keys(_auto_follow_pattern).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _auto_follow_pattern[key]}})});var _api=__webpack_require__(536);Object.keys(_api).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _api[key]}})});var _ccr=__webpack_require__(3901);Object.keys(_ccr).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _ccr[key]}})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _section_loading=__webpack_require__(3903);Object.defineProperty(exports,"SectionLoading",{enumerable:true,get:function get(){return _section_loading.SectionLoading}});var _section_error=__webpack_require__(3904);Object.defineProperty(exports,"SectionError",{enumerable:true,get:function get(){return _section_error.SectionError}});var _section_unauthorized=__webpack_require__(3905);Object.defineProperty(exports,"SectionUnauthorized",{enumerable:true,get:function get(){return _section_unauthorized.SectionUnauthorized}});var _remote_clusters_provider=__webpack_require__(3906);Object.defineProperty(exports,"RemoteClustersProvider",{enumerable:true,get:function get(){return _remote_clusters_provider.RemoteClustersProvider}});var _auto_follow_pattern_form=__webpack_require__(3907);Object.defineProperty(exports,"AutoFollowPatternForm",{enumerable:true,get:function get(){return _auto_follow_pattern_form.AutoFollowPatternForm}});var _auto_follow_pattern_delete_provider=__webpack_require__(3911);Object.defineProperty(exports,"AutoFollowPatternDeleteProvider",{enumerable:true,get:function get(){return _auto_follow_pattern_delete_provider.AutoFollowPatternDeleteProvider}});var _auto_follow_pattern_page_title=__webpack_require__(3912);Object.defineProperty(exports,"AutoFollowPatternPageTitle",{enumerable:true,get:function get(){return _auto_follow_pattern_page_title.AutoFollowPatternPageTitle}});var _auto_follow_pattern_indices_preview=__webpack_require__(3914);Object.defineProperty(exports,"AutoFollowPatternIndicesPreview",{enumerable:true,get:function get(){return _auto_follow_pattern_indices_preview.AutoFollowPatternIndicesPreview}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _plugin=__webpack_require__(3922);Object.defineProperty(exports,"PLUGIN",{enumerable:true,get:function get(){return _plugin.PLUGIN}});var _base_path=__webpack_require__(1278);Object.defineProperty(exports,"BASE_PATH",{enumerable:true,get:function get(){return _base_path.BASE_PATH}});var _index_statuses=__webpack_require__(3923);Object.keys(_index_statuses).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _index_statuses[key]}})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showApiWarning=showApiWarning;exports.showApiError=showApiError;var _notify=__webpack_require__(10);function createToastConfig(error,errorTitle){if(error&&error.data){var _error$data=error.data,errorString=_error$data.error,statusCode=_error$data.statusCode,message=_error$data.message;return{title:errorTitle,text:statusCode+": "+errorString+". "+message}}}function showApiWarning(error,errorTitle){var toastConfig=createToastConfig(error,errorTitle);if(toastConfig){return _notify.toastNotifications.addWarning(toastConfig)}return(0,_notify.fatalError)(error,errorTitle)}function showApiError(error,errorTitle){var toastConfig=createToastConfig(error,errorTitle);if(toastConfig){return _notify.toastNotifications.addDanger(toastConfig)}(0,_notify.fatalError)(error,errorTitle)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSortField=exports.isSortAscending=exports.showSystemIndices=exports.getFilter=exports.getCurrentPage=exports.getHasPreviousPage=exports.getHasNextPage=exports.getIndexNamesForCurrentPage=exports.getPageOfIndices=exports.getPager=exports.getTotalItems=exports.getIndexStatusByIndexName=exports.getTableState=exports.getRowStatuses=exports.getFilteredIds=exports.getIndexByIndexName=exports.getIndicesByName=exports.getIndicesAsArray=exports.indicesLoading=exports.getIndices=exports.getDetailPanelIndexName=exports.isDetailPanelOpen=exports.getDetailPanelType=exports.getDetailPanelError=exports.getDetailPanelData=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _eui=__webpack_require__(2);var _reselect=__webpack_require__(27);var _index_status_labels=__webpack_require__(4023);var _services=__webpack_require__(184);var getDetailPanelData=exports.getDetailPanelData=function getDetailPanelData(state){return state.detailPanel.data};var getDetailPanelError=exports.getDetailPanelError=function getDetailPanelError(state){return state.detailPanel.error};var getDetailPanelType=exports.getDetailPanelType=function getDetailPanelType(state){return state.detailPanel.panelType};var isDetailPanelOpen=exports.isDetailPanelOpen=function isDetailPanelOpen(state){return!!getDetailPanelType(state)};var getDetailPanelIndexName=exports.getDetailPanelIndexName=function getDetailPanelIndexName(state){return state.detailPanel.indexName};var getIndices=exports.getIndices=function getIndices(state){return state.indices.byId};var indicesLoading=exports.indicesLoading=function indicesLoading(state){return state.indices.loading};var getIndicesAsArray=exports.getIndicesAsArray=function getIndicesAsArray(state){return Object.values(state.indices.byId)};var getIndicesByName=exports.getIndicesByName=function getIndicesByName(state,indexNames){var indices=getIndices(state);return indexNames.map(function(indexName){return indices[indexName]})};var getIndexByIndexName=exports.getIndexByIndexName=function getIndexByIndexName(state,name){return getIndices(state)[name]};var getFilteredIds=exports.getFilteredIds=function getFilteredIds(state){return state.indices.filteredIds};var getRowStatuses=exports.getRowStatuses=function getRowStatuses(state){return state.rowStatus};var getTableState=exports.getTableState=function getTableState(state){return state.tableState};var getIndexStatusByIndexName=exports.getIndexStatusByIndexName=function getIndexStatusByIndexName(state,indexName){var indices=getIndices(state);var _ref=indices[indexName]||{},status=_ref.status;return status};var defaultFilterFields=["name","uuid"];var getFilteredIndices=(0,_reselect.createSelector)(getIndices,getRowStatuses,getTableState,function(indices,rowStatuses,tableState){var indexArray=Object.keys(indices).map(function(indexName){return indices[indexName]});var systemFilteredIndexes=tableState.showSystemIndices?indexArray:indexArray.filter(function(index){return!(index.name+"").startsWith(".")});var filter=tableState.filter||_eui.EuiSearchBar.Query.MATCH_ALL;return _eui.EuiSearchBar.Query.execute(filter,systemFilteredIndexes,defaultFilterFields)});var getTotalItems=exports.getTotalItems=(0,_reselect.createSelector)(getFilteredIndices,function(filteredIndices){return Object.keys(filteredIndices).length});var getPager=exports.getPager=(0,_reselect.createSelector)(getTableState,getTotalItems,function(_ref2,totalItems){var currentPage=_ref2.currentPage,pageSize=_ref2.pageSize;return new _eui.Pager(totalItems,pageSize,currentPage)});var getPageOfIndices=exports.getPageOfIndices=(0,_reselect.createSelector)(getFilteredIndices,getTableState,getRowStatuses,getPager,function(filteredIndices,tableState,rowStatuses,pager){var sortedIndexes=(0,_services.sortTable)(filteredIndices,tableState.sortField,tableState.isSortAscending);var firstItemIndex=pager.firstItemIndex,lastItemIndex=pager.lastItemIndex;var pagedIndexes=sortedIndexes.slice(firstItemIndex,lastItemIndex+1);return pagedIndexes.map(function(index){var status=_index_status_labels.indexStatusLabels[rowStatuses[index.name]]||rowStatuses[index.name]||_index_status_labels.indexStatusLabels[index.status]||index.status;return _extends({},index,{status:status})})});var getIndexNamesForCurrentPage=exports.getIndexNamesForCurrentPage=(0,_reselect.createSelector)(getPageOfIndices,function(pageOfIndices){return pageOfIndices.map(function(index){return index.name})});var getHasNextPage=exports.getHasNextPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.hasNextPage});var getHasPreviousPage=exports.getHasPreviousPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.hasPreviousPage});var getCurrentPage=exports.getCurrentPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.currentPage});var getFilter=exports.getFilter=(0,_reselect.createSelector)(getTableState,function(_ref3){var filter=_ref3.filter;return filter});var showSystemIndices=exports.showSystemIndices=(0,_reselect.createSelector)(getTableState,function(_ref4){var showSystemIndices=_ref4.showSystemIndices;return showSystemIndices});var isSortAscending=exports.isSortAscending=(0,_reselect.createSelector)(getTableState,function(_ref5){var isSortAscending=_ref5.isSortAscending;return isSortAscending});var getSortField=exports.getSortField=(0,_reselect.createSelector)(getTableState,function(_ref6){var sortField=_ref6.sortField;return sortField})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_names=__webpack_require__(4100);Object.defineProperty(exports,"INDEX_NAMES",{enumerable:true,get:function get(){return _index_names.INDEX_NAMES}});var _type_names=__webpack_require__(4101);Object.defineProperty(exports,"TYPE_NAMES",{enumerable:true,get:function get(){return _type_names.TYPE_NAMES}});var _routes=__webpack_require__(4102);Object.defineProperty(exports,"ROUTES",{enumerable:true,get:function get(){return _routes.ROUTES}});var _pagination=__webpack_require__(4103);Object.defineProperty(exports,"PAGINATION",{enumerable:true,get:function get(){return _pagination.PAGINATION}});var _plugin=__webpack_require__(4104);Object.defineProperty(exports,"PLUGIN",{enumerable:true,get:function get(){return _plugin.PLUGIN}});var _es_scroll_settings=__webpack_require__(4105);Object.defineProperty(exports,"ES_SCROLL_SETTINGS",{enumerable:true,get:function get(){return _es_scroll_settings.ES_SCROLL_SETTINGS}});var _tooltips=__webpack_require__(1296);Object.defineProperty(exports,"TOOLTIPS",{enumerable:true,get:function get(){return _tooltips.TOOLTIPS}});var _pipeline=__webpack_require__(4106);Object.defineProperty(exports,"PIPELINE",{enumerable:true,get:function get(){return _pipeline.PIPELINE}});var _monitoring=__webpack_require__(4107);Object.defineProperty(exports,"MONITORING",{enumerable:true,get:function get(){return _monitoring.MONITORING}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MANAGEMENT_PATH="/management";exports.SECURITY_PATH=exports.MANAGEMENT_PATH+"/security";exports.ROLES_PATH=exports.SECURITY_PATH+"/roles";exports.EDIT_ROLES_PATH=exports.ROLES_PATH+"/edit";exports.USERS_PATH=exports.SECURITY_PATH+"/users";exports.EDIT_USERS_PATH=exports.USERS_PATH+"/edit"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _autocomplete_component=__webpack_require__(1344);Object.defineProperty(exports,"AutocompleteComponent",{enumerable:true,get:function get(){return _autocomplete_component.AutocompleteComponent}});var _shared_component=__webpack_require__(289);Object.defineProperty(exports,"SharedComponent",{enumerable:true,get:function get(){return _shared_component.SharedComponent}});var _constant_component=__webpack_require__(4690);Object.defineProperty(exports,"ConstantComponent",{enumerable:true,get:function get(){return _constant_component.ConstantComponent}});var _list_component=__webpack_require__(373);Object.defineProperty(exports,"ListComponent",{enumerable:true,get:function get(){return _list_component.ListComponent}});var _simple_param_component=__webpack_require__(4691);Object.defineProperty(exports,"SimpleParamComponent",{enumerable:true,get:function get(){return _simple_param_component.SimpleParamComponent}});var _conditional_proxy=__webpack_require__(4692);Object.defineProperty(exports,"ConditionalProxy",{enumerable:true,get:function get(){return _conditional_proxy.ConditionalProxy}});var _global_only_component=__webpack_require__(4693);Object.defineProperty(exports,"GlobalOnlyComponent",{enumerable:true,get:function get(){return _global_only_component.GlobalOnlyComponent}});var _object_component=__webpack_require__(4694);Object.defineProperty(exports,"ObjectComponent",{enumerable:true,get:function get(){return _object_component.ObjectComponent}});var _accept_endpoint_component=__webpack_require__(4695);Object.defineProperty(exports,"AcceptEndpointComponent",{enumerable:true,get:function get(){return _accept_endpoint_component.AcceptEndpointComponent}});Object.defineProperty(exports,"URL_PATH_END_MARKER",{enumerable:true,get:function get(){return _accept_endpoint_component.URL_PATH_END_MARKER}});var _url_pattern_matcher=__webpack_require__(4696);Object.defineProperty(exports,"UrlPatternMatcher",{enumerable:true,get:function get(){return _url_pattern_matcher.UrlPatternMatcher}});var _index_autocomplete_component=__webpack_require__(4697);Object.defineProperty(exports,"IndexAutocompleteComponent",{enumerable:true,get:function get(){return _index_autocomplete_component.IndexAutocompleteComponent}});var _field_autocomplete_component=__webpack_require__(4700);Object.defineProperty(exports,"FieldAutocompleteComponent",{enumerable:true,get:function get(){return _field_autocomplete_component.FieldAutocompleteComponent}});var _type_autocomplete_component=__webpack_require__(4701);Object.defineProperty(exports,"TypeAutocompleteComponent",{enumerable:true,get:function get(){return _type_autocomplete_component.TypeAutocompleteComponent}});var _id_autocomplete_component=__webpack_require__(4702);Object.defineProperty(exports,"IdAutocompleteComponent",{enumerable:true,get:function get(){return _id_autocomplete_component.IdAutocompleteComponent}});var _template_autocomplete_component=__webpack_require__(4703);Object.defineProperty(exports,"TemplateAutocompleteComponent",{enumerable:true,get:function get(){return _template_autocomplete_component.TemplateAutocompleteComponent}});var _username_autocomplete_component=__webpack_require__(4704);Object.defineProperty(exports,"UsernameAutocompleteComponent",{enumerable:true,get:function get(){return _username_autocomplete_component.UsernameAutocompleteComponent}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _samples=__webpack_require__(3802);Object.defineProperty(exports,"FormatEditorSamples",{enumerable:true,get:function get(){return _samples.FormatEditorSamples}})},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var BASE_PATH=exports.BASE_PATH="/management/elasticsearch/index_lifecycle_management/";var PLUGIN_ID=exports.PLUGIN_ID="index_lifecycle_management"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _active_badge=__webpack_require__(3950);Object.defineProperty(exports,"ActiveBadge",{enumerable:true,get:function get(){return _active_badge.ActiveBadge}});var _learn_more_link=__webpack_require__(780);Object.defineProperty(exports,"LearnMoreLink",{enumerable:true,get:function get(){return _learn_more_link.LearnMoreLink}});var _phase_error_message=__webpack_require__(3951);Object.defineProperty(exports,"PhaseErrorMessage",{enumerable:true,get:function get(){return _phase_error_message.PhaseErrorMessage}});var _optional_label=__webpack_require__(3952);Object.defineProperty(exports,"OptionalLabel",{enumerable:true,get:function get(){return _optional_label.OptionalLabel}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ErrableFormRow=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var ErrableFormRow=function ErrableFormRow(_ref){var errorKey=_ref.errorKey,isShowingErrors=_ref.isShowingErrors,errors=_ref.errors,children=_ref.children,rest=_objectWithoutProperties(_ref,["errorKey","isShowingErrors","errors","children"]);return _react2.default.createElement(_eui.EuiFormRow,_extends({isInvalid:isShowingErrors&&errors[errorKey].length>0,error:errors[errorKey]},rest),_react2.default.createElement(_react.Fragment,null,_react.Children.map(children,function(child){return(0,_react.cloneElement)(child,{isInvalid:isShowingErrors&&errors[errorKey].length>0})})))};exports.ErrableFormRow=ErrableFormRow},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getStartBasicMessages=exports.startBasicLicenseNeedsAcknowledgement=exports.startTrialError=exports.shouldShowRequestTrialExtension=exports.shouldShowStartTrial=exports.getUploadErrorMessage=exports.isInvalid=exports.uploadMessages=exports.isApplying=exports.uploadNeedsAcknowledgement=exports.shouldShowRevertToBasicLicense=exports.isImminentExpiration=exports.isExpired=exports.getExpirationDateFormatted=exports.getExpirationDate=exports.getExpirationMillis=exports.getLicenseType=exports.getLicense=exports.licenseManagement=exports.WARNING_THRESHOLD_IN_DAYS=undefined;var _redux=__webpack_require__(28);var _license=__webpack_require__(4071);var _upload_status=__webpack_require__(4072);var _start_basic_license_status=__webpack_require__(4073);var _upload_error_message=__webpack_require__(4074);var _trial_status=__webpack_require__(4075);var _momentTimezone=__webpack_require__(191);var _momentTimezone2=_interopRequireDefault(_momentTimezone);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var WARNING_THRESHOLD_IN_DAYS=exports.WARNING_THRESHOLD_IN_DAYS=25;var licenseManagement=exports.licenseManagement=(0,_redux.combineReducers)({license:_license.license,uploadStatus:_upload_status.uploadStatus,uploadErrorMessage:_upload_error_message.uploadErrorMessage,trialStatus:_trial_status.trialStatus,startBasicStatus:_start_basic_license_status.startBasicStatus});var getLicense=exports.getLicense=function getLicense(state){return state.license};var getLicenseType=exports.getLicenseType=function getLicenseType(state){return getLicense(state).type};var getExpirationMillis=exports.getExpirationMillis=function getExpirationMillis(state){return getLicense(state).expiryDateInMillis};var getExpirationDate=exports.getExpirationDate=function getExpirationDate(state){if(getLicenseType(state)==="basic"){return null}var expirationMillis=getExpirationMillis(state);if(expirationMillis){return _momentTimezone2.default.tz(getExpirationMillis(state),_momentTimezone2.default.tz.guess())}else{return null}};var getExpirationDateFormatted=exports.getExpirationDateFormatted=function getExpirationDateFormatted(state){var expirationDate=getExpirationDate(state);return expirationDate?expirationDate.format("LLL z"):null};var isExpired=exports.isExpired=function isExpired(state){return(new Date).getTime()>getExpirationMillis(state)};var isImminentExpiration=exports.isImminentExpiration=function isImminentExpiration(state){var now=new Date;var expirationDate=getExpirationDate(state);return expirationDate&&expirationDate.isAfter(now)&&expirationDate.diff(now,"days")<=WARNING_THRESHOLD_IN_DAYS};var shouldShowRevertToBasicLicense=exports.shouldShowRevertToBasicLicense=function shouldShowRevertToBasicLicense(state){var _getLicense=getLicense(state),type=_getLicense.type;return type==="trial"||isImminentExpiration(state)||isExpired(state)};var uploadNeedsAcknowledgement=exports.uploadNeedsAcknowledgement=function uploadNeedsAcknowledgement(state){return!!state.uploadStatus.acknowledge};var isApplying=exports.isApplying=function isApplying(state){return!!state.uploadStatus.applying};var uploadMessages=exports.uploadMessages=function uploadMessages(state){return state.uploadStatus.messages};var isInvalid=exports.isInvalid=function isInvalid(state){return!!state.uploadStatus.invalid};var getUploadErrorMessage=exports.getUploadErrorMessage=function getUploadErrorMessage(state){return state.uploadErrorMessage};var shouldShowStartTrial=exports.shouldShowStartTrial=function shouldShowStartTrial(state){var licenseType=getLicenseType(state);return state.trialStatus.canStartTrial&&licenseType!=="trial"&&(licenseType!=="platinum"||isExpired(state))};var shouldShowRequestTrialExtension=exports.shouldShowRequestTrialExtension=function shouldShowRequestTrialExtension(state){if(state.trialStatus.canStartTrial){return false}var _getLicense2=getLicense(state),type=_getLicense2.type;return type!=="platinum"||isExpired(state)};var startTrialError=exports.startTrialError=function startTrialError(state){return state.trialStatus.startTrialError};var startBasicLicenseNeedsAcknowledgement=exports.startBasicLicenseNeedsAcknowledgement=function startBasicLicenseNeedsAcknowledgement(state){return!!state.startBasicStatus.acknowledge};var getStartBasicMessages=exports.getStartBasicMessages=function getStartBasicMessages(state){return state.startBasicStatus.messages}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _add_cluster=__webpack_require__(4173);Object.defineProperty(exports,"addCluster",{enumerable:true,get:function get(){return _add_cluster.addCluster}});Object.defineProperty(exports,"clearAddClusterErrors",{enumerable:true,get:function get(){return _add_cluster.clearAddClusterErrors}});var _detail_panel=__webpack_require__(1304);Object.defineProperty(exports,"openDetailPanel",{enumerable:true,get:function get(){return _detail_panel.openDetailPanel}});Object.defineProperty(exports,"closeDetailPanel",{enumerable:true,get:function get(){return _detail_panel.closeDetailPanel}});var _remove_clusters=__webpack_require__(4174);Object.defineProperty(exports,"removeClusters",{enumerable:true,get:function get(){return _remove_clusters.removeClusters}});var _edit_cluster=__webpack_require__(4175);Object.defineProperty(exports,"editCluster",{enumerable:true,get:function get(){return _edit_cluster.editCluster}});Object.defineProperty(exports,"startEditingCluster",{enumerable:true,get:function get(){return _edit_cluster.startEditingCluster}});Object.defineProperty(exports,"stopEditingCluster",{enumerable:true,get:function get(){return _edit_cluster.stopEditingCluster}});Object.defineProperty(exports,"clearEditClusterErrors",{enumerable:true,get:function get(){return _edit_cluster.clearEditClusterErrors}});var _load_clusters=__webpack_require__(1306);Object.defineProperty(exports,"loadClusters",{enumerable:true,get:function get(){return _load_clusters.loadClusters}});var _refresh_clusters=__webpack_require__(1305);Object.defineProperty(exports,"refreshClusters",{enumerable:true,get:function get(){return _refresh_clusters.refreshClusters}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSortField=exports.isSortAscending=exports.getFilter=exports.getCurrentPage=exports.getHasPreviousPage=exports.getHasNextPage=exports.getPageOfJobs=exports.getPager=exports.getTotalItems=exports.getJobStatusByJobName=exports.isUpdating=exports.getCreateJobError=exports.isSaving=exports.jobLoadError=exports.isLoading=exports.getDetailPanelJobId=exports.getDetailPanelJob=exports.isDetailPanelOpen=exports.getDetailPanelType=exports.getTableState=exports.getFilteredIds=exports.getJobByJobId=exports.getJobsList=exports.getJobs=undefined;var _eui=__webpack_require__(2);var _reselect=__webpack_require__(27);var _services=__webpack_require__(52);var getJobs=exports.getJobs=function getJobs(state){return state.jobs.byId};var getJobsList=exports.getJobsList=function getJobsList(state){return state.jobs.allIds};var getJobByJobId=exports.getJobByJobId=function getJobByJobId(state,id){return getJobs(state)[id]};var getFilteredIds=exports.getFilteredIds=function getFilteredIds(state){return state.jobs.filteredIds};var getTableState=exports.getTableState=function getTableState(state){return state.tableState};var getDetailPanelType=exports.getDetailPanelType=function getDetailPanelType(state){return state.detailPanel.panelType};var isDetailPanelOpen=exports.isDetailPanelOpen=function isDetailPanelOpen(state){return state.detailPanel.isOpen};var getDetailPanelJob=exports.getDetailPanelJob=function getDetailPanelJob(state){return getJobByJobId(state,state.detailPanel.jobId)};var getDetailPanelJobId=exports.getDetailPanelJobId=function getDetailPanelJobId(state){return state.detailPanel.jobId};var isLoading=exports.isLoading=function isLoading(state){return state.jobs.isLoading};var jobLoadError=exports.jobLoadError=function jobLoadError(state){return state.jobs.jobLoadError};var isSaving=exports.isSaving=function isSaving(state){return state.createJob.isSaving};var getCreateJobError=exports.getCreateJobError=function getCreateJobError(state){return state.createJob.error};var isUpdating=exports.isUpdating=function isUpdating(state){return state.updateJob.isUpdating};var getJobStatusByJobName=exports.getJobStatusByJobName=function getJobStatusByJobName(state,jobName){var jobs=getJobs(state);var _ref=jobs[jobName]||{},status=_ref.status;return status};var getFilteredJobs=(0,_reselect.createSelector)(getJobs,getTableState,function(jobs,tableState){var jobArray=Object.keys(jobs).map(function(jobName){return jobs[jobName]});return(0,_services.filterItems)(["id","indexPattern","rollupIndex"],tableState.filter,jobArray)});var getTotalItems=exports.getTotalItems=(0,_reselect.createSelector)(getFilteredJobs,function(filteredJobs){return Object.keys(filteredJobs).length});var getPager=exports.getPager=(0,_reselect.createSelector)(getTableState,getTotalItems,function(_ref2,totalItems){var currentPage=_ref2.currentPage,pageSize=_ref2.pageSize;return new _eui.Pager(totalItems,pageSize,currentPage)});var getPageOfJobs=exports.getPageOfJobs=(0,_reselect.createSelector)(getFilteredJobs,getTableState,getPager,function(filteredJobs,tableState,pager){var sortedIndexes=(0,_services.sortTable)(filteredJobs,tableState.sortField,tableState.isSortAscending);var firstItemIndex=pager.firstItemIndex,lastItemIndex=pager.lastItemIndex;var pagedIndexes=sortedIndexes.slice(firstItemIndex,lastItemIndex+1);return pagedIndexes});var getHasNextPage=exports.getHasNextPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.hasNextPage});var getHasPreviousPage=exports.getHasPreviousPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.hasPreviousPage});var getCurrentPage=exports.getCurrentPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.currentPage});var getFilter=exports.getFilter=(0,_reselect.createSelector)(getTableState,function(_ref3){var filter=_ref3.filter;return filter});var isSortAscending=exports.isSortAscending=(0,_reselect.createSelector)(getTableState,function(_ref4){var isSortAscending=_ref4.isSortAscending;return isSortAscending});var getSortField=exports.getSortField=(0,_reselect.createSelector)(getTableState,function(_ref5){var sortField=_ref5.sortField;return sortField})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field_list=__webpack_require__(543);Object.defineProperty(exports,"FieldList",{enumerable:true,get:function get(){return _field_list.FieldList}});var _job_action_menu=__webpack_require__(4247);Object.defineProperty(exports,"JobActionMenu",{enumerable:true,get:function get(){return _job_action_menu.JobActionMenu}});var _job_details=__webpack_require__(4252);Object.defineProperty(exports,"JobDetails",{enumerable:true,get:function get(){return _job_details.JobDetails}});Object.defineProperty(exports,"JOB_DETAILS_TAB_SUMMARY",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_SUMMARY}});Object.defineProperty(exports,"JOB_DETAILS_TAB_TERMS",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_TERMS}});Object.defineProperty(exports,"JOB_DETAILS_TAB_HISTOGRAM",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_HISTOGRAM}});Object.defineProperty(exports,"JOB_DETAILS_TAB_METRICS",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_METRICS}});Object.defineProperty(exports,"JOB_DETAILS_TAB_JSON",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_JSON}});Object.defineProperty(exports,"tabToHumanizedMap",{enumerable:true,get:function get(){return _job_details.tabToHumanizedMap}});var _job_status=__webpack_require__(1311);Object.defineProperty(exports,"JobStatus",{enumerable:true,get:function get(){return _job_status.JobStatus}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NO_PRIVILEGE_VALUE="none"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var package_json_1=tslib_1.__importDefault(__webpack_require__(5046));var currentVersionNum=package_json_1.default.version;var matches=currentVersionNum.match(/^([1-9]+)\.([0-9]+)\.([0-9]+)$/);exports.CURRENT_MAJOR_VERSION=matches[1];exports.NEXT_MAJOR_VERSION=(parseInt(exports.CURRENT_MAJOR_VERSION,10)+1).toString()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ListComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _shared_component=__webpack_require__(289);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ListComponent=exports.ListComponent=function(_SharedComponent){_inherits(ListComponent,_SharedComponent);function ListComponent(name,list,parent,multiValued,allowNonValidValues){_classCallCheck(this,ListComponent);var _this=_possibleConstructorReturn(this,(ListComponent.__proto__||Object.getPrototypeOf(ListComponent)).call(this,name,parent));_this.listGenerator=Array.isArray(list)?function(){return list}:list;_this.multiValued=_lodash2.default.isUndefined(multiValued)?true:multiValued;_this.allowNonValidValues=_lodash2.default.isUndefined(allowNonValidValues)?false:allowNonValidValues;return _this}_createClass(ListComponent,[{key:"getTerms",value:function getTerms(context,editor){if(!this.multiValued&&context.otherTokenValues){return[]}var alreadySet=context.otherTokenValues||[];if(_lodash2.default.isString(alreadySet)){alreadySet=[alreadySet]}var ret=_lodash2.default.difference(this.listGenerator(context,editor),alreadySet);if(this.getDefaultTermMeta()){var meta=this.getDefaultTermMeta();ret=_lodash2.default.map(ret,function(term){if(_lodash2.default.isString(term)){term={name:term}}return _lodash2.default.defaults(term,{meta:meta})})}return ret}},{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1){return false}var list=this.listGenerator();var notFound=_lodash2.default.any(tokens,function(token){return list.indexOf(token)===-1});if(notFound){return false}return true}},{key:"getContextKey",value:function getContextKey(){return this.name}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return this.name}},{key:"match",value:function match(token,context,editor){if(!Array.isArray(token)){token=[token]}if(!this.allowNonValidValues&&!this.validateTokens(token,context,editor)){return null}var result=_get(ListComponent.prototype.__proto__||Object.getPrototypeOf(ListComponent.prototype),"match",this).call(this,token,context,editor);result.context_values=result.context_values||{};result.context_values[this.getContextKey()]=token;return result}}]);return ListComponent}(_shared_component.SharedComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var $=__webpack_require__(17);var _=__webpack_require__(1);var es=__webpack_require__(799);var settings=__webpack_require__(437);var perIndexTypes={};var perAliasIndexes=[];var templates=[];var mappingObj={};function expandAliases(indicesOrAliases){if(!indicesOrAliases){return indicesOrAliases}if(typeof indicesOrAliases==="string"){indicesOrAliases=[indicesOrAliases]}indicesOrAliases=$.map(indicesOrAliases,function(iOrA){if(perAliasIndexes[iOrA]){return perAliasIndexes[iOrA]}return[iOrA]});var ret=[].concat.apply([],indicesOrAliases);ret.sort();var last=void 0;ret=$.map(ret,function(v){var r=last===v?null:v;last=v;return r});return ret.length>1?ret:ret[0]}function getTemplates(){return[].concat(_toConsumableArray(templates))}function getFields(indices,types){var ret=[];indices=expandAliases(indices);if(typeof indices==="string"){var typeDict=perIndexTypes[indices];if(!typeDict){return[]}if(typeof types==="string"){var f=typeDict[types];ret=f?f:[]}else{$.each(typeDict,function(type,fields){if(!types||types.length===0||$.inArray(type,types)!==-1){ret.push(fields)}});ret=[].concat.apply([],ret)}}else{$.each(perIndexTypes,function(index){if(!indices||indices.length===0||$.inArray(index,indices)!==-1){ret.push(getFields(index,types))}});ret=[].concat.apply([],ret)}return _.uniq(ret,function(f){return f.name+":"+f.type})}function getTypes(indices){var ret=[];indices=expandAliases(indices);if(typeof indices==="string"){var typeDict=perIndexTypes[indices];if(!typeDict){return[]}$.each(typeDict,function(type){ret.push(type)})}else{$.each(perIndexTypes,function(index){if(!indices||$.inArray(index,indices)!==-1){ret.push(getTypes(index))}});ret=[].concat.apply([],ret)}return _.uniq(ret)}function getIndices(includeAliases){var ret=[];$.each(perIndexTypes,function(index){ret.push(index)});if(typeof includeAliases==="undefined"?true:includeAliases){$.each(perAliasIndexes,function(alias){ret.push(alias)})}return ret}function getFieldNamesFromFieldMapping(fieldName,fieldMapping){if(fieldMapping.enabled===false){return[]}var nestedFields=void 0;function applyPathSettings(nestedFieldNames){var pathType=fieldMapping.path||"full";if(pathType==="full"){return $.map(nestedFieldNames,function(f){f.name=fieldName+"."+f.name;return f})}return nestedFieldNames}if(fieldMapping.properties){nestedFields=getFieldNamesFromTypeMapping(fieldMapping);return applyPathSettings(nestedFields)}var fieldType=fieldMapping.type;if(fieldType==="multi_field"){nestedFields=$.map(fieldMapping.fields,function(fieldMapping,fieldName){return getFieldNamesFromFieldMapping(fieldName,fieldMapping)});return applyPathSettings(nestedFields)}var ret={name:fieldName,type:fieldType};if(fieldMapping.index_name){ret.name=fieldMapping.index_name}if(fieldMapping.fields){nestedFields=$.map(fieldMapping.fields,function(fieldMapping,fieldName){return getFieldNamesFromFieldMapping(fieldName,fieldMapping)});nestedFields=applyPathSettings(nestedFields);nestedFields.unshift(ret);return nestedFields}return[ret]}function getFieldNamesFromTypeMapping(typeMapping){var fieldList=$.map(typeMapping.properties||{},function(fieldMapping,fieldName){return getFieldNamesFromFieldMapping(fieldName,fieldMapping)});return _.uniq(fieldList,function(f){return f.name+":"+f.type})}function loadTemplates(templatesObject){templates=Object.keys(templatesObject)}function loadMappings(mappings){perIndexTypes={};$.each(mappings,function(index,indexMapping){var normalizedIndexMappings={};if(indexMapping.mappings&&_.keys(indexMapping).length===1){indexMapping=indexMapping.mappings}$.each(indexMapping,function(typeName,typeMapping){var fieldList=getFieldNamesFromTypeMapping(typeMapping);normalizedIndexMappings[typeName]=fieldList});perIndexTypes[index]=normalizedIndexMappings})}function loadAliases(aliases){perAliasIndexes={};$.each(aliases||{},function(index,omdexAliases){perIndexTypes[index]=perIndexTypes[index]||{};$.each(omdexAliases.aliases||{},function(alias){if(alias===index){return}var curAliases=perAliasIndexes[alias];if(!curAliases){curAliases=[];perAliasIndexes[alias]=curAliases}curAliases.push(index)})});perAliasIndexes._all=getIndices(false)}function clear(){perIndexTypes={};perAliasIndexes={};templates=[]}function retrieveAutocompleteInfoFromServer(){var autocompleteSettings=settings.getAutocomplete();var mappingPromise=void 0;var aliasesPromise=void 0;var templatesPromise=void 0;if(autocompleteSettings.fields){mappingPromise=es.send("GET","_mapping",null,null,true)}else{mappingPromise=new $.Deferred;mappingPromise.resolve()}if(autocompleteSettings.indices){aliasesPromise=es.send("GET","_aliases",null,null,true)}else{aliasesPromise=new $.Deferred;aliasesPromise.resolve()}if(autocompleteSettings.templates){templatesPromise=es.send("GET","_template",null,null,true)}else{templatesPromise=new $.Deferred;templatesPromise.resolve()}$.when(mappingPromise,aliasesPromise,templatesPromise).done(function(mappings,aliases,templates){if(!mappings){mappings={}}else if(mappings[0].length<10*1024*1024){mappings=JSON.parse(mappings[0])}else{console.warn("mapping size is larger than 10MB ("+mappings[0].length/1024/1024+" MB). ignoring..");mappings={}}loadMappings(mappings);if(aliases){loadAliases(JSON.parse(aliases[0]))}else{aliases=[{}];loadAliases({})}if(templates){loadTemplates(JSON.parse(templates[0]))}else{templates=[]}$(mappingObj).trigger("update",[mappings[0],aliases[0]])})}function autocompleteRetriever(){retrieveAutocompleteInfoFromServer();setTimeout(function(){autocompleteRetriever()},6e4)}exports.default=_.assign(mappingObj,{getFields:getFields,getTemplates:getTemplates,getIndices:getIndices,getTypes:getTypes,loadMappings:loadMappings,loadAliases:loadAliases,expandAliases:expandAliases,clear:clear,startRetrievingAutoCompleteInfo:autocompleteRetriever});module.exports=exports["default"]},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(2433)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var action_schema_1=__webpack_require__(533);exports.beatsListActions=action_schema_1.beatsListActions;exports.tagConfigActions=action_schema_1.tagConfigActions;var table_1=__webpack_require__(777);exports.AssignmentActionType=table_1.AssignmentActionType;exports.Table=table_1.Table;var table_type_configs_1=__webpack_require__(3862);exports.BeatDetailTagsTable=table_type_configs_1.BeatDetailTagsTable;exports.BeatsTableType=table_type_configs_1.BeatsTableType;exports.TagsTableType=table_type_configs_1.TagsTableType},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var summaryExtensions=[];var addSummaryExtension=exports.addSummaryExtension=function addSummaryExtension(summaryExtension){summaryExtensions.push(summaryExtension)};var getSummaryExtensions=exports.getSummaryExtensions=function getSummaryExtensions(){return summaryExtensions};var actionExtensions=[];var addActionExtension=exports.addActionExtension=function addActionExtension(actionExtension){actionExtensions.push(actionExtension)};var getActionExtensions=exports.getActionExtensions=function getActionExtensions(){return actionExtensions};var bannerExtensions=[];var addBannerExtension=exports.addBannerExtension=function addBannerExtension(actionExtension){bannerExtensions.push(actionExtension)};var getBannerExtensions=exports.getBannerExtensions=function getBannerExtensions(){return bannerExtensions};var filterExtensions=[];var addFilterExtension=exports.addFilterExtension=function addFilterExtension(filterExtension){filterExtensions.push(filterExtension)};var getFilterExtensions=exports.getFilterExtensions=function getFilterExtensions(){return filterExtensions}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var getClustersList=exports.getClustersList=function getClustersList(state){return state.clusters.asList};var getClustersByName=exports.getClustersByName=function getClustersByName(state){return state.clusters.byName};var getClusterByName=exports.getClusterByName=function getClusterByName(state,name){return getClustersByName(state)[name]};var isDetailPanelOpen=exports.isDetailPanelOpen=function isDetailPanelOpen(state){return state.detailPanel.isOpen};var getDetailPanelCluster=exports.getDetailPanelCluster=function getDetailPanelCluster(state){return getClusterByName(state,state.detailPanel.clusterName)};var getDetailPanelClusterName=exports.getDetailPanelClusterName=function getDetailPanelClusterName(state){return state.detailPanel.clusterName};var isLoading=exports.isLoading=function isLoading(state){return state.clusters.isLoading};var clusterLoadError=exports.clusterLoadError=function clusterLoadError(state){return state.clusters.clusterLoadError};var isAddingCluster=exports.isAddingCluster=function isAddingCluster(state){return state.addCluster.isAdding};var getAddClusterError=exports.getAddClusterError=function getAddClusterError(state){return state.addCluster.error};var getEditedCluster=exports.getEditedCluster=function getEditedCluster(state){return getClustersByName(state)[state.editCluster.clusterName]};var isEditingCluster=exports.isEditingCluster=function isEditingCluster(state){return state.editCluster.isEditing};var getEditClusterError=exports.getEditClusterError=function getEditClusterError(state){return state.editCluster.error};var isRemovingCluster=exports.isRemovingCluster=function isRemovingCluster(state){return state.removeCluster.isRemoving}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _paths=__webpack_require__(4219);Object.defineProperty(exports,"CRUD_APP_BASE_PATH",{enumerable:true,get:function get(){return _paths.CRUD_APP_BASE_PATH}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _change_job_status=__webpack_require__(4237);Object.defineProperty(exports,"startJobs",{enumerable:true,get:function get(){return _change_job_status.startJobs}});Object.defineProperty(exports,"stopJobs",{enumerable:true,get:function get(){return _change_job_status.stopJobs}});var _create_job=__webpack_require__(4238);Object.defineProperty(exports,"createJob",{enumerable:true,get:function get(){return _create_job.createJob}});Object.defineProperty(exports,"clearCreateJobErrors",{enumerable:true,get:function get(){return _create_job.clearCreateJobErrors}});var _delete_jobs=__webpack_require__(4239);Object.defineProperty(exports,"deleteJobs",{enumerable:true,get:function get(){return _delete_jobs.deleteJobs}});var _detail_panel=__webpack_require__(1310);Object.defineProperty(exports,"openDetailPanel",{enumerable:true,get:function get(){return _detail_panel.openDetailPanel}});Object.defineProperty(exports,"closeDetailPanel",{enumerable:true,get:function get(){return _detail_panel.closeDetailPanel}});var _load_jobs=__webpack_require__(4240);Object.defineProperty(exports,"loadJobs",{enumerable:true,get:function get(){return _load_jobs.loadJobs}});var _refresh_jobs=__webpack_require__(787);Object.defineProperty(exports,"refreshJobs",{enumerable:true,get:function get(){return _refresh_jobs.refreshJobs}});var _table_state=__webpack_require__(4241);Object.defineProperty(exports,"filterChanged",{enumerable:true,get:function get(){return _table_state.filterChanged}});Object.defineProperty(exports,"pageChanged",{enumerable:true,get:function get(){return _table_state.pageChanged}});Object.defineProperty(exports,"pageSizeChanged",{enumerable:true,get:function get(){return _table_state.pageSizeChanged}});Object.defineProperty(exports,"sortChanged",{enumerable:true,get:function get(){return _table_state.sortChanged}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field_chooser=__webpack_require__(4273);Object.defineProperty(exports,"FieldChooser",{enumerable:true,get:function get(){return _field_chooser.FieldChooser}});var _cron_editor=__webpack_require__(4274);Object.defineProperty(exports,"CronEditor",{enumerable:true,get:function get(){return _cron_editor.CronEditor}});var _step_error=__webpack_require__(4281);Object.defineProperty(exports,"StepError",{enumerable:true,get:function get(){return _step_error.StepError}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4399)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BaseAction=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _i18n=__webpack_require__(9);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var BaseAction=exports.BaseAction=function(){function BaseAction(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,BaseAction);this.id=(0,_lodash.get)(props,"id");this.type=(0,_lodash.get)(props,"type")}_createClass(BaseAction,[{key:"upstreamJson",get:function get(){var result={id:this.id,type:this.type};return result}},{key:"typeName",get:function get(){return this.constructor.typeName}},{key:"iconClass",get:function get(){return this.constructor.iconClass}},{key:"selectMessage",get:function get(){return this.constructor.selectMessage}},{key:"simulateMessage",get:function get(){return _i18n.i18n.translate("xpack.watcher.models.baseAction.simulateMessage",{defaultMessage:"Action {id} simulated successfully",values:{id:this.id}})}},{key:"simulatePrompt",get:function get(){return this.constructor.simulatePrompt}},{key:"template",get:function get(){return this.constructor.template}}]);return BaseAction}();BaseAction.typeName=_i18n.i18n.translate("xpack.watcher.models.baseAction.typeName",{defaultMessage:"Action"});BaseAction.iconClass="fa-cog";BaseAction.template="";BaseAction.selectMessage=_i18n.i18n.translate("xpack.watcher.models.baseAction.selectMessageText",{defaultMessage:"Perform an action."});BaseAction.simulatePrompt=_i18n.i18n.translate("xpack.watcher.models.baseAction.simulateButtonLabel",{defaultMessage:"Simulate this action now"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _threshold_watch_base=__webpack_require__(4551);Object.defineProperty(exports,"ThresholdWatchBaseController",{enumerable:true,get:function get(){return _threshold_watch_base.ThresholdWatchBaseController}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActionDefaultsRegistryProvider=undefined;var _registry=__webpack_require__(56);var ActionDefaultsRegistryProvider=exports.ActionDefaultsRegistryProvider=(0,_registry.uiRegistry)({name:"actionDefaultsRegistry"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAutocomplete=getAutocomplete;exports.applyCurrentSettings=applyCurrentSettings;exports.getCurrentSettings=getCurrentSettings;exports.updateSettings=updateSettings;var _input=__webpack_require__(1342);var _input2=_interopRequireDefault(_input);var _output=__webpack_require__(1345);var _output2=_interopRequireDefault(_output);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var storage=__webpack_require__(438);function getFontSize(){return storage.get("font_size",14)}function setFontSize(size){storage.set("font_size",size);applyCurrentSettings();return true}function getWrapMode(){return storage.get("wrap_mode",true)}function setWrapMode(mode){storage.set("wrap_mode",mode);applyCurrentSettings();return true}function getAutocomplete(){return storage.get("autocomplete_settings",{fields:true,indices:true,templates:true})}function setAutocomplete(settings){storage.set("autocomplete_settings",settings);return true}function applyCurrentSettings(editor){if(typeof editor==="undefined"){applyCurrentSettings((0,_input2.default)());applyCurrentSettings((0,_output2.default)())}if(editor){editor.getSession().setUseWrapMode(getWrapMode());editor.$el.css("font-size",getFontSize()+"px")}}function getCurrentSettings(){return{autocomplete:getAutocomplete(),wrapMode:getWrapMode(),fontSize:parseFloat(getFontSize())}}function updateSettings(_ref){var fontSize=_ref.fontSize,wrapMode=_ref.wrapMode,autocomplete=_ref.autocomplete;setFontSize(fontSize);setWrapMode(wrapMode);setAutocomplete(autocomplete);(0,_input2.default)().focus();return getCurrentSettings()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _require=__webpack_require__(1),transform=_require.transform,_keys=_require.keys,startsWith=_require.startsWith;var Storage=function(){function Storage(engine,prefix){_classCallCheck(this,Storage);this.engine=engine;this.prefix=prefix}_createClass(Storage,[{key:"encode",value:function encode(val){return JSON.stringify(val)}},{key:"decode",value:function decode(val){if(typeof val==="string"){return JSON.parse(val)}}},{key:"encodeKey",value:function encodeKey(key){return""+this.prefix+key}},{key:"decodeKey",value:function decodeKey(key){if(startsWith(key,this.prefix)){return""+key.slice(this.prefix.length)}}},{key:"set",value:function set(key,val){this.engine.setItem(this.encodeKey(key),this.encode(val));return val}},{key:"has",value:function has(key){return this.engine.getItem(this.encodeKey(key))!=null}},{key:"get",value:function get(key,_default){if(this.has(key)){return this.decode(this.engine.getItem(this.encodeKey(key)))}else{return _default}}},{key:"delete",value:function _delete(key){return this.engine.removeItem(this.encodeKey(key))}},{key:"keys",value:function keys(){var _this=this;return transform(_keys(this.engine),function(ours,key){var ourKey=_this.decodeKey(key);if(ourKey!=null)ours.push(ourKey)})}}]);return Storage}();var instance=new Storage(window.localStorage,"sense:");exports.default=instance;module.exports=exports["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var i18n_1=__webpack_require__(9);var lodash_1=__webpack_require__(1);var config_schemas_1=__webpack_require__(3836);var translatedConfigs=void 0;var supportedConfigLabelsMap=new Map([["filebeatInputConfig.paths.ui.label",i18n_1.i18n.translate("xpack.beatsManagement.filebeatInputConfig.pathsLabel",{defaultMessage:"Paths"})],["filebeatInputConfig.paths.ui.helpText",i18n_1.i18n.translate("xpack.beatsManagement.filebeatInputConfig.pathsDescription",{defaultMessage:"Put each of the paths on a separate line"})],["filebeatInputConfig.paths.error",i18n_1.i18n.translate("xpack.beatsManagement.filebeatInputConfig.pathsErrorMessage",{defaultMessage:"One file path per line"})],["filebeatInputConfig.other.ui.label",i18n_1.i18n.translate("xpack.beatsManagement.filebeatInputConfig.otherConfigLabel",{defaultMessage:"Other Config"})],["filebeatInputConfig.other.ui.helpText",i18n_1.i18n.translate("xpack.beatsManagement.filebeatInputConfig.otherConfigDescription",{defaultMessage:"Use YAML format to specify other settings for the Filebeat Input"})],["filebeatInputConfig.other.error",i18n_1.i18n.translate("xpack.beatsManagement.filebeatInputConfig.otherConfigErrorMessage",{defaultMessage:"Use valid YAML format"})],["filebeatModuleConfig.module.ui.label",i18n_1.i18n.translate("xpack.beatsManagement.filebeatModuleConfig.moduleLabel",{defaultMessage:"Module"})],["filebeatModuleConfig.module.error",i18n_1.i18n.translate("xpack.beatsManagement.filebeatModuleConfig.moduleErrorMessage",{defaultMessage:"Please select a module"})],["filebeatModuleConfig.other.ui.label",i18n_1.i18n.translate("xpack.beatsManagement.filebeatModuleConfig.otherConfigLabel",{defaultMessage:"Other Config"})],["filebeatModuleConfig.other.ui.helpText",i18n_1.i18n.translate("xpack.beatsManagement.filebeatModuleConfig.moduleDescription",{defaultMessage:"Use YAML format to specify other settings for the Filebeat Module"})],["filebeatModuleConfig.other.error",i18n_1.i18n.translate("xpack.beatsManagement.filebeatModuleConfig.otherConfigErrorMessage",{defaultMessage:"Use valid YAML format"})],["metricbeatModuleConfig.module.ui.label",i18n_1.i18n.translate("xpack.beatsManagement.metricbeatModuleConfig.moduleLabel",{defaultMessage:"Module"})],["metricbeatModuleConfig.module.error",i18n_1.i18n.translate("xpack.beatsManagement.metricbeatModuleConfig.moduleErrorMessage",{defaultMessage:"Please select a module"})],["metricbeatModuleConfig.hosts.ui.label",i18n_1.i18n.translate("xpack.beatsManagement.metricbeatModuleConfig.hostsLabel",{defaultMessage:"Hosts"})],["metricbeatModuleConfig.hosts.ui.helpText",i18n_1.i18n.translate("xpack.beatsManagement.metricbeatModuleConfig.hostsDescription",{defaultMessage:"Put each of the paths on a seperate line"})],["metricbeatModuleConfig.hosts.error",i18n_1.i18n.translate("xpack.beatsManagement.metricbeatModuleConfig.hostsErrorMessage",{defaultMessage:"One file host per line"})],["metricbeatModuleConfig.period.ui.label",i18n_1.i18n.translate("xpack.beatsManagement.metricbeatModuleConfig.periodLabel",{defaultMessage:"Period"})],["metricbeatModuleConfig.period.error",i18n_1.i18n.translate("xpack.beatsManagement.metricbeatModuleConfig.periodErrorMessage",{defaultMessage:"Invalid Period, must be formatted as `10s` for 10 seconds"})],["metricbeatModuleConfig.other.ui.label",i18n_1.i18n.translate("xpack.beatsManagement.metricbeatModuleConfig.otherConfigLabel",{defaultMessage:"Other Config"})],["metricbeatModuleConfig.other.ui.helpText",i18n_1.i18n.translate("xpack.beatsManagement.metricbeatModuleConfig.otherConfigDescription",{defaultMessage:"Use YAML format to specify other settings for the Metricbeat Module"})],["metricbeatModuleConfig.other.error",i18n_1.i18n.translate("xpack.beatsManagement.metricbeatModuleConfig.otherConfigErrorMessage",{defaultMessage:"Use valid YAML format"})],["outputConfig.output.ui.label",i18n_1.i18n.translate("xpack.beatsManagement.outputConfig.outputTypeLabel",{defaultMessage:"Output Type"})],["outputConfig.output.error",i18n_1.i18n.translate("xpack.beatsManagement.outputConfig.outputTypeErrorMessage",{defaultMessage:"Please select an output type"})],["outputConfig.hosts.ui.label",i18n_1.i18n.translate("xpack.beatsManagement.outputConfig.hostsLabel",{defaultMessage:"Hosts"})],["outputConfig.hosts.error",i18n_1.i18n.translate("xpack.beatsManagement.outputConfig.hostsErrorMessage",{defaultMessage:"One file host per line"})],["outputConfig.username.ui.label",i18n_1.i18n.translate("xpack.beatsManagement.outputConfig.usernameLabel",{defaultMessage:"Username"})],["outputConfig.username.error",i18n_1.i18n.translate("xpack.beatsManagement.outputConfig.usernameErrorMessage",{defaultMessage:"Unprocessable username"})],["outputConfig.password.ui.label",i18n_1.i18n.translate("xpack.beatsManagement.outputConfig.passwordLabel",{defaultMessage:"Password"})],["outputConfig.password.error",i18n_1.i18n.translate("xpack.beatsManagement.outputConfig.passwordErrorMessage",{defaultMessage:"Unprocessable password"})],["supportedConfigs.filebeatInput.text",i18n_1.i18n.translate("xpack.beatsManagement.tagConfig.filebeatInputLabel",{defaultMessage:"Filebeat Input"})],["supportedConfigs.filebeatModule.text",i18n_1.i18n.translate("xpack.beatsManagement.tagConfig.filebeatModuleLabel",{defaultMessage:"Filebeat Module"})],["supportedConfigs.metricbeatModule.text",i18n_1.i18n.translate("xpack.beatsManagement.tagConfig.metricbeatModuleLabel",{defaultMessage:"Metricbeat Module"})],["supportedConfigs.output.text",i18n_1.i18n.translate("xpack.beatsManagement.tagConfig.outputLabel",{defaultMessage:"Output"})]]);exports.getSupportedConfig=function(){if(translatedConfigs){return translatedConfigs}translatedConfigs=lodash_1.cloneDeep(config_schemas_1.supportedConfigs);translatedConfigs.forEach(function(_ref,index){var text=_ref.text,config=_ref.config;if(text){translatedConfigs[index].text=supportedConfigLabelsMap.get(text)||""}config.forEach(function(yanlConfig){if(yanlConfig.ui.label){yanlConfig.ui.label=supportedConfigLabelsMap.get(yanlConfig.ui.label)||""}if(yanlConfig.ui.helpText){yanlConfig.ui.helpText=supportedConfigLabelsMap.get(yanlConfig.ui.helpText)}if(yanlConfig.error){yanlConfig.error=supportedConfigLabelsMap.get(yanlConfig.error)||""}})});return translatedConfigs}},function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(37);exports.ChildRoutes=function(_ref){var routes=_ref.routes,_ref$useSwitch=_ref.useSwitch,useSwitch=_ref$useSwitch===undefined?true:_ref$useSwitch,rest=_objectWithoutProperties(_ref,["routes","useSwitch"]);if(!routes){return null}var Parent=useSwitch?react_router_dom_1.Switch:react_1.default.Fragment;return react_1.default.createElement(Parent,null,routes.map(function(route){return react_1.default.createElement(react_router_dom_1.Route,{key:route.path,path:route.path,render:function render(routeProps){var Component=route.component;return react_1.default.createElement(Component,Object.assign({},routeProps,{routes:route.routes},rest))}})}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var i18n_1=__webpack_require__(9);var table_1=__webpack_require__(777);var ActionComponentType;(function(ActionComponentType){ActionComponentType[ActionComponentType["Action"]=0]="Action";ActionComponentType[ActionComponentType["Popover"]=1]="Popover";ActionComponentType[ActionComponentType["SelectionCount"]=2]="SelectionCount";ActionComponentType[ActionComponentType["TagBadgeList"]=3]="TagBadgeList"})(ActionComponentType=exports.ActionComponentType||(exports.ActionComponentType={}));exports.beatsListActions=[{grow:false,name:i18n_1.i18n.translate("xpack.beatsManagement.beatsListAssignmentOptions.unenrollButtonLabel",{defaultMessage:"Unenroll selected"}),showWarning:true,type:ActionComponentType.Action,warningHeading:i18n_1.i18n.translate("xpack.beatsManagement.beatsListAssignmentOptions.unenrollBeatsWarninigTitle",{defaultMessage:"Unenroll selected beats?"}),warningMessage:i18n_1.i18n.translate("xpack.beatsManagement.beatsListAssignmentOptions.unenrollBeatsWarninigMessage",{defaultMessage:"The selected Beats will no longer use central management"}),action:table_1.AssignmentActionType.Delete,danger:true},{name:i18n_1.i18n.translate("xpack.beatsManagement.beatsListAssignmentOptions.setTagsButtonLabel",{defaultMessage:"Set tags"}),grow:false,type:ActionComponentType.TagBadgeList,actionDataKey:"tags",lazyLoad:true}];exports.tagListActions=[{danger:true,grow:false,name:i18n_1.i18n.translate("xpack.beatsManagement.tagListAssignmentOptions.removeTagsButtonLabel",{defaultMessage:"Remove selected"}),type:ActionComponentType.Action,showWarning:true,warningHeading:i18n_1.i18n.translate("xpack.beatsManagement.tagListAssignmentOptions.removeTagsWarninigTitle",{defaultMessage:"Remove tag(s)"}),warningMessage:i18n_1.i18n.translate("xpack.beatsManagement.tagListAssignmentOptions.removeTagWarninigMessage",{defaultMessage:"Remove the tag?"}),action:table_1.AssignmentActionType.Delete}];exports.tagConfigActions=[{danger:true,grow:false,name:i18n_1.i18n.translate("xpack.beatsManagement.tagConfigAssignmentOptions.removeTagsButtonLabel",{defaultMessage:"Remove tag(s)"}),type:ActionComponentType.Action,showWarning:true,warningHeading:i18n_1.i18n.translate("xpack.beatsManagement.tagConfigAssignmentOptions.removeTagsWarninigTitle",{defaultMessage:"Remove tag(s)"}),warningMessage:i18n_1.i18n.translate("xpack.beatsManagement.tagConfigAssignmentOptions.removeTagsWarninigMessage",{defaultMessage:"Remove the tag from the selected beat(s)?"}),action:table_1.AssignmentActionType.Delete}]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(37);var eui_1=__webpack_require__(2);exports.NoDataLayout=react_router_dom_1.withRouter(function(_ref){var actionSection=_ref.actionSection,title=_ref.title,modalClosePath=_ref.modalClosePath,children=_ref.children,history=_ref.history;return react_1.default.createElement(eui_1.EuiPage,null,react_1.default.createElement(eui_1.EuiPageBody,null,react_1.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"spaceAround",style:{marginTop:50}},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiPageContent,null,react_1.default.createElement(eui_1.EuiEmptyPrompt,{iconType:"logoBeats",title:react_1.default.createElement("h2",null,title),body:children,actions:actionSection}))))))})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadAutoFollowStats=exports.deleteAutoFollowPattern=exports.updateAutoFollowPattern=exports.createAutoFollowPattern=exports.loadRemoteClusters=exports.getAutoFollowPattern=exports.loadAutoFollowPatterns=undefined;exports.setHttpClient=setHttpClient;var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(284);var _utils=__webpack_require__(1274);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var apiPrefix=_chrome2.default.addBasePath(_constants.API_BASE_PATH);var apiPrefixRemoteClusters=_chrome2.default.addBasePath(_constants.API_REMOTE_CLUSTERS_BASE_PATH);var httpClient=void 0;function setHttpClient(client){httpClient=client}var extractData=function extractData(response){return response.data};var loadAutoFollowPatterns=exports.loadAutoFollowPatterns=function loadAutoFollowPatterns(){return httpClient.get(apiPrefix+"/auto_follow_patterns").then(extractData)};var getAutoFollowPattern=exports.getAutoFollowPattern=function getAutoFollowPattern(id){return httpClient.get(apiPrefix+"/auto_follow_patterns/"+encodeURIComponent(id)).then(extractData)};var loadRemoteClusters=exports.loadRemoteClusters=function loadRemoteClusters(){return httpClient.get(""+apiPrefixRemoteClusters).then(extractData)};var createAutoFollowPattern=exports.createAutoFollowPattern=function createAutoFollowPattern(autoFollowPattern){return httpClient.post(apiPrefix+"/auto_follow_patterns",autoFollowPattern).then(extractData)};var updateAutoFollowPattern=exports.updateAutoFollowPattern=function updateAutoFollowPattern(id,autoFollowPattern){return httpClient.put(apiPrefix+"/auto_follow_patterns/"+encodeURIComponent(id),autoFollowPattern).then(extractData)};var deleteAutoFollowPattern=exports.deleteAutoFollowPattern=function deleteAutoFollowPattern(id){var ids=(0,_utils.arrify)(id).map(function(_id){return encodeURIComponent(_id)}).join(",");return httpClient.delete(apiPrefix+"/auto_follow_patterns/"+ids).then(extractData)};var loadAutoFollowStats=exports.loadAutoFollowStats=function loadAutoFollowStats(){return httpClient.get(apiPrefix+"/stats/auto-follow").then(extractData)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.clearApiError=exports.setApiError=exports.apiRequestEnd=exports.apiRequestStart=exports.sendApiRequest=undefined;var _action_types=__webpack_require__(285);var t=_interopRequireWildcard(_action_types);var _constants=__webpack_require__(183);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}var sendApiRequest=exports.sendApiRequest=function sendApiRequest(_ref){var label=_ref.label,scope=_ref.scope,status=_ref.status,handler=_ref.handler,_ref$onSuccess=_ref.onSuccess,onSuccess=_ref$onSuccess===undefined?function(){return undefined}:_ref$onSuccess,_ref$onError=_ref.onError,onError=_ref$onError===undefined?function(){return undefined}:_ref$onError;return{type:t.API,payload:{label:label,scope:scope,status:status,handler:handler,onSuccess:onSuccess,onError:onError}}};var apiRequestStart=exports.apiRequestStart=function apiRequestStart(_ref2){var label=_ref2.label,scope=_ref2.scope,_ref2$status=_ref2.status,status=_ref2$status===undefined?_constants.API_STATUS.LOADING:_ref2$status;return{type:t.API_REQUEST_START,payload:{label:label,scope:scope,status:status}}};var apiRequestEnd=exports.apiRequestEnd=function apiRequestEnd(_ref3){var label=_ref3.label,scope=_ref3.scope;return{type:t.API_REQUEST_END,payload:{label:label,scope:scope}}};var setApiError=exports.setApiError=function setApiError(_ref4){var error=_ref4.error,scope=_ref4.scope;return{type:t.API_ERROR_SET,payload:{error:error,scope:scope}}};var clearApiError=exports.clearApiError=function clearApiError(scope){return{type:t.API_ERROR_SET,payload:{error:null,scope:scope}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _constants=__webpack_require__(1276);Object.defineProperty(exports,"INDEX_ILLEGAL_CHARACTERS_VISIBLE",{enumerable:true,get:function get(){return _constants.INDEX_ILLEGAL_CHARACTERS_VISIBLE}});var _validate=__webpack_require__(3908);Object.defineProperty(exports,"indexNameBeginsWithPeriod",{enumerable:true,get:function get(){return _validate.indexNameBeginsWithPeriod}});Object.defineProperty(exports,"findIllegalCharactersInIndexName",{enumerable:true,get:function get(){return _validate.findIllegalCharactersInIndexName}});Object.defineProperty(exports,"indexNameContainsSpaces",{enumerable:true,get:function get(){return _validate.indexNameContainsSpaces}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIndexListUri=exports.getUrlService=exports.setUrlService=undefined;var _constants=__webpack_require__(316);var urlService=void 0;var setUrlService=exports.setUrlService=function setUrlService(aUrlService){urlService=aUrlService};var getUrlService=exports.getUrlService=function getUrlService(){return urlService};var getIndexListUri=exports.getIndexListUri=function getIndexListUri(filter){if(filter){return encodeURI("#"+_constants.BASE_PATH+"indices/filter/"+encodeURIComponent(filter))}return"#"+_constants.BASE_PATH+"indices"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPolicyPath=exports.goToPolicyList=exports.getUrlService=exports.setUrlService=undefined;var _constants=__webpack_require__(364);var urlService=void 0;var setUrlService=exports.setUrlService=function setUrlService(aUrlService){urlService=aUrlService};var getUrlService=exports.getUrlService=function getUrlService(){return urlService};var goToPolicyList=exports.goToPolicyList=function goToPolicyList(){urlService.change(_constants.BASE_PATH+"policies")};var getPolicyPath=exports.getPolicyPath=function getPolicyPath(policyName){return encodeURI("#"+_constants.BASE_PATH+"policies/edit/"+encodeURIComponent(policyName))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadIndexData=exports.loadIndexMapping=exports.loadIndexStats=exports.updateIndexSettings=exports.loadIndexSettings=exports.clearCacheIndices=exports.forcemergeIndices=exports.flushIndices=exports.refreshIndices=exports.openIndices=exports.deleteIndices=exports.closeIndices=exports.reloadIndices=exports.loadIndices=exports.getHttpClient=exports.setHttpClient=undefined;var loadIndices=exports.loadIndices=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return httpClient.get(apiPrefix+"/indices");case 2:response=_context.sent;return _context.abrupt("return",response.data);case 4:case"end":return _context.stop()}}},_callee,this)}));return function loadIndices(){return _ref.apply(this,arguments)}}();var reloadIndices=exports.reloadIndices=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(indexNames){var body,response;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:body={indexNames:indexNames};_context2.next=3;return httpClient.post(apiPrefix+"/indices/reload",body);case 3:response=_context2.sent;return _context2.abrupt("return",response.data);case 5:case"end":return _context2.stop()}}},_callee2,this)}));return function reloadIndices(_x){return _ref2.apply(this,arguments)}}();var closeIndices=exports.closeIndices=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(indices){var body,response;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:body={indices:indices};_context3.next=3;return httpClient.post(apiPrefix+"/indices/close",body);case 3:response=_context3.sent;return _context3.abrupt("return",response.data);case 5:case"end":return _context3.stop()}}},_callee3,this)}));return function closeIndices(_x2){return _ref3.apply(this,arguments)}}();var deleteIndices=exports.deleteIndices=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(indices){var body,response;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:body={indices:indices};_context4.next=3;return httpClient.post(apiPrefix+"/indices/delete",body);case 3:response=_context4.sent;return _context4.abrupt("return",response.data);case 5:case"end":return _context4.stop()}}},_callee4,this)}));return function deleteIndices(_x3){return _ref4.apply(this,arguments)}}();var openIndices=exports.openIndices=function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(indices){var body,response;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:body={indices:indices};_context5.next=3;return httpClient.post(apiPrefix+"/indices/open",body);case 3:response=_context5.sent;return _context5.abrupt("return",response.data);case 5:case"end":return _context5.stop()}}},_callee5,this)}));return function openIndices(_x4){return _ref5.apply(this,arguments)}}();var refreshIndices=exports.refreshIndices=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(indices){var body,response;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:body={indices:indices};_context6.next=3;return httpClient.post(apiPrefix+"/indices/refresh",body);case 3:response=_context6.sent;return _context6.abrupt("return",response.data);case 5:case"end":return _context6.stop()}}},_callee6,this)}));return function refreshIndices(_x5){return _ref6.apply(this,arguments)}}();var flushIndices=exports.flushIndices=function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(indices){var body,response;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:body={indices:indices};_context7.next=3;return httpClient.post(apiPrefix+"/indices/flush",body);case 3:response=_context7.sent;return _context7.abrupt("return",response.data);case 5:case"end":return _context7.stop()}}},_callee7,this)}));return function flushIndices(_x6){return _ref7.apply(this,arguments)}}();var forcemergeIndices=exports.forcemergeIndices=function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(indices,maxNumSegments){var body,response;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:body={indices:indices,maxNumSegments:maxNumSegments};_context8.next=3;return httpClient.post(apiPrefix+"/indices/forcemerge",body);case 3:response=_context8.sent;return _context8.abrupt("return",response.data);case 5:case"end":return _context8.stop()}}},_callee8,this)}));return function forcemergeIndices(_x7,_x8){return _ref8.apply(this,arguments)}}();var clearCacheIndices=exports.clearCacheIndices=function(){var _ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(indices){var body,response;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:body={indices:indices};_context9.next=3;return httpClient.post(apiPrefix+"/indices/clear_cache",body);case 3:response=_context9.sent;return _context9.abrupt("return",response.data);case 5:case"end":return _context9.stop()}}},_callee9,this)}));return function clearCacheIndices(_x9){return _ref9.apply(this,arguments)}}();var loadIndexSettings=exports.loadIndexSettings=function(){var _ref10=_asyncToGenerator(regeneratorRuntime.mark(function _callee10(indexName){var response;return regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return httpClient.get(apiPrefix+"/settings/"+indexName);case 2:response=_context10.sent;return _context10.abrupt("return",response.data);case 4:case"end":return _context10.stop()}}},_callee10,this)}));return function loadIndexSettings(_x10){return _ref10.apply(this,arguments)}}();var updateIndexSettings=exports.updateIndexSettings=function(){var _ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee11(indexName,settings){return regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return httpClient.put(apiPrefix+"/settings/"+indexName,settings);case 2:return _context11.abrupt("return",_context11.sent);case 3:case"end":return _context11.stop()}}},_callee11,this)}));return function updateIndexSettings(_x11,_x12){return _ref11.apply(this,arguments)}}();var loadIndexStats=exports.loadIndexStats=function(){var _ref12=_asyncToGenerator(regeneratorRuntime.mark(function _callee12(indexName){var response;return regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return httpClient.get(apiPrefix+"/stats/"+indexName);case 2:response=_context12.sent;return _context12.abrupt("return",response.data);case 4:case"end":return _context12.stop()}}},_callee12,this)}));return function loadIndexStats(_x13){return _ref12.apply(this,arguments)}}();var loadIndexMapping=exports.loadIndexMapping=function(){var _ref13=_asyncToGenerator(regeneratorRuntime.mark(function _callee13(indexName){var response;return regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return httpClient.get(apiPrefix+"/mapping/"+indexName);case 2:response=_context13.sent;return _context13.abrupt("return",response.data);case 4:case"end":return _context13.stop()}}},_callee13,this)}));return function loadIndexMapping(_x14){return _ref13.apply(this,arguments)}}();var loadIndexData=exports.loadIndexData=function(){var _ref14=_asyncToGenerator(regeneratorRuntime.mark(function _callee14(type,indexName){return regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.t0=type;_context14.next=_context14.t0==="Mapping"?3:_context14.t0==="Settings"?4:_context14.t0==="Stats"?5:6;break;case 3:return _context14.abrupt("return",loadIndexMapping(indexName));case 4:return _context14.abrupt("return",loadIndexSettings(indexName));case 5:return _context14.abrupt("return",loadIndexStats(indexName));case 6:case"end":return _context14.stop()}}},_callee14,this)}));return function loadIndexData(_x15,_x16){return _ref14.apply(this,arguments)}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var httpClient=void 0;var setHttpClient=exports.setHttpClient=function setHttpClient(client){httpClient=client};var getHttpClient=exports.getHttpClient=function getHttpClient(){return httpClient};var apiPrefix=_chrome2.default.addBasePath("/api/index_management")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTelemetryFetcher=exports.showTelemetryOptIn=exports.optInToTelemetry=exports.setTelemetryOptInService=exports.setHttpClient=exports.setTelemetryEnabled=exports.OptInExampleFlyout=exports.TelemetryOptInProvider=exports.PRIVACY_STATEMENT_URL=undefined;var _constants=__webpack_require__(384);Object.defineProperty(exports,"PRIVACY_STATEMENT_URL",{enumerable:true,get:function get(){return _constants.PRIVACY_STATEMENT_URL}});var _telemetry_opt_in=__webpack_require__(576);Object.defineProperty(exports,"TelemetryOptInProvider",{enumerable:true,get:function get(){return _telemetry_opt_in.TelemetryOptInProvider}});var _components=__webpack_require__(385);Object.defineProperty(exports,"OptInExampleFlyout",{enumerable:true,get:function get(){return _components.OptInExampleFlyout}});var _fetch_telemetry=__webpack_require__(573);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var telemetryEnabled=void 0;var httpClient=void 0;var telemetryOptInService=void 0;var setTelemetryEnabled=exports.setTelemetryEnabled=function setTelemetryEnabled(isTelemetryEnabled){telemetryEnabled=isTelemetryEnabled};var setHttpClient=exports.setHttpClient=function setHttpClient(anHttpClient){httpClient=anHttpClient};var setTelemetryOptInService=exports.setTelemetryOptInService=function setTelemetryOptInService(aTelemetryOptInService){telemetryOptInService=aTelemetryOptInService};var optInToTelemetry=exports.optInToTelemetry=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(enableTelemetry){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return telemetryOptInService.setOptIn(enableTelemetry);case 2:case"end":return _context.stop()}}},_callee,undefined)}));return function optInToTelemetry(_x){return _ref.apply(this,arguments)}}();var showTelemetryOptIn=exports.showTelemetryOptIn=function showTelemetryOptIn(){return telemetryEnabled&&!telemetryOptInService.getOptIn()};var getTelemetryFetcher=exports.getTelemetryFetcher=function getTelemetryFetcher(){return(0,_fetch_telemetry.fetchTelemetry)(httpClient)}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4109)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field_list=__webpack_require__(4246);Object.defineProperty(exports,"FieldList",{enumerable:true,get:function get(){return _field_list.FieldList}})},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var constants_1=__webpack_require__(371);var PrivilegeSelector=function(_react_1$Component){_inherits(PrivilegeSelector,_react_1$Component);function PrivilegeSelector(){_classCallCheck(this,PrivilegeSelector);var _this=_possibleConstructorReturn(this,(PrivilegeSelector.__proto__||Object.getPrototypeOf(PrivilegeSelector)).apply(this,arguments));_this.state={};_this.onChange=function(e){_this.props.onChange(e.target.value)};return _this}_createClass(PrivilegeSelector,[{key:"render",value:function render(){var _props=this.props,availablePrivileges=_props.availablePrivileges,value=_props.value,disabled=_props.disabled,allowNone=_props.allowNone,compressed=_props.compressed;var options=[];if(allowNone){options.push({value:constants_1.NO_PRIVILEGE_VALUE,text:"none"})}options.push.apply(options,_toConsumableArray(availablePrivileges.map(function(p){return{value:p,text:p}})));return react_1.default.createElement(eui_1.EuiSelect,{"data-test-subj":this.props["data-test-subj"],options:options,hasNoInitialSelection:!allowNone&&!value,value:value||undefined,onChange:this.onChange,disabled:disabled,compressed:compressed})}}]);return PrivilegeSelector}(react_1.Component);exports.PrivilegeSelector=PrivilegeSelector},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4464)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternCreationConfigRegistry=exports.IndexPatternCreationConfig=exports.IndexPatternCreationFactory=undefined;var _index_pattern_creation=__webpack_require__(4673);Object.defineProperty(exports,"IndexPatternCreationFactory",{enumerable:true,get:function get(){return _index_pattern_creation.IndexPatternCreationFactory}});var _index_pattern_creation_config=__webpack_require__(1340);Object.defineProperty(exports,"IndexPatternCreationConfig",{enumerable:true,get:function get(){return _index_pattern_creation_config.IndexPatternCreationConfig}});var _index_pattern_creation_config_registry=__webpack_require__(796);Object.defineProperty(exports,"IndexPatternCreationConfigRegistry",{enumerable:true,get:function get(){return _index_pattern_creation_config_registry.IndexPatternCreationConfigRegistry}});__webpack_require__(4674)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternListConfigRegistry=exports.IndexPatternListConfig=exports.IndexPatternListFactory=undefined;var _index_pattern_list=__webpack_require__(4681);Object.defineProperty(exports,"IndexPatternListFactory",{enumerable:true,get:function get(){return _index_pattern_list.IndexPatternListFactory}});var _index_pattern_list_config=__webpack_require__(1341);Object.defineProperty(exports,"IndexPatternListConfig",{enumerable:true,get:function get(){return _index_pattern_list_config.IndexPatternListConfig}});var _index_pattern_list_config_registry=__webpack_require__(797);Object.defineProperty(exports,"IndexPatternListConfigRegistry",{enumerable:true,get:function get(){return _index_pattern_list_config_registry.IndexPatternListConfigRegistry}});__webpack_require__(4682)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _routes=__webpack_require__(4736);Object.defineProperty(exports,"ROUTES",{enumerable:true,get:function get(){return _routes.ROUTES}});var _plugin=__webpack_require__(4737);Object.defineProperty(exports,"PLUGIN",{enumerable:true,get:function get(){return _plugin.PLUGIN}});var _editor=__webpack_require__(4738);Object.defineProperty(exports,"EDITOR",{enumerable:true,get:function get(){return _editor.EDITOR}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_in_app_url=__webpack_require__(1362);Object.keys(_get_in_app_url).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_in_app_url[key]}})});var _get_relationships=__webpack_require__(4855);Object.keys(_get_relationships).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_relationships[key]}})});var _get_saved_object_counts=__webpack_require__(4856);Object.keys(_get_saved_object_counts).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_saved_object_counts[key]}})});var _get_saved_object_icon=__webpack_require__(4857);Object.keys(_get_saved_object_icon).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_saved_object_icon[key]}})});var _get_saved_object_label=__webpack_require__(4858);Object.keys(_get_saved_object_label).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_saved_object_label[key]}})});var _import_file=__webpack_require__(1360);Object.keys(_import_file).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _import_file[key]}})});var _parse_query=__webpack_require__(4859);Object.keys(_parse_query).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _parse_query[key]}})});var _resolve_saved_objects=__webpack_require__(1361);Object.keys(_resolve_saved_objects).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _resolve_saved_objects[key]}})});var _retrieve_and_export_docs=__webpack_require__(4860);Object.keys(_retrieve_and_export_docs).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _retrieve_and_export_docs[key]}})});var _save_to_file=__webpack_require__(4861);Object.keys(_save_to_file).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _save_to_file[key]}})});var _scan_all_types=__webpack_require__(4862);Object.keys(_scan_all_types).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _scan_all_types[key]}})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ESTIMATED_NUMBER_OF_SYSTEM_INDICES=exports.ESTIMATED_NUMBER_OF_SYSTEM_INDICES=100;var MAX_NUMBER_OF_MATCHING_INDICES=exports.MAX_NUMBER_OF_MATCHING_INDICES=100;var MAX_SEARCH_SIZE=exports.MAX_SEARCH_SIZE=MAX_NUMBER_OF_MATCHING_INDICES+ESTIMATED_NUMBER_OF_SYSTEM_INDICES;var PER_PAGE_INCREMENTS=exports.PER_PAGE_INCREMENTS=[5,10,20,50]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3351)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _number=__webpack_require__(3800);Object.defineProperty(exports,"NumberFormatEditor",{enumerable:true,get:function get(){return _number.NumberFormatEditor}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.REQUIRED_ROLES=["beats_admin"];exports.REQUIRED_LICENSES=["standard","gold","trial","platinum"];exports.LICENSES=["oss","basic","standard","gold","trial","platinum"]},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_router_dom_1=__webpack_require__(37);function ConnectedLinkComponent(_ref){var location=_ref.location,path=_ref.path,query=_ref.query,disabled=_ref.disabled,children=_ref.children,props=_objectWithoutProperties(_ref,["location","path","query","disabled","children"]);if(disabled){return react_1.default.createElement(eui_1.EuiLink,Object.assign({"aria-disabled":"true"},props))}var pathname=path||_.get(props.to,"pathname")||location.pathname;return react_1.default.createElement(react_router_dom_1.Link,{children:children,to:_extends({},location,props.to,{pathname:pathname,query:query}),className:"euiLink euiLink--primary "+(props.className||"")})}exports.ConnectedLinkComponent=ConnectedLinkComponent;exports.ConnectedLink=react_router_dom_1.withRouter(ConnectedLinkComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tag_badge_1=__webpack_require__(776);exports.TagBadge=tag_badge_1.TagBadge;var tag_edit_1=__webpack_require__(1267);exports.TagEdit=tag_edit_1.TagEdit},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var constants_1=__webpack_require__(283);var disabled_tag_badge_1=__webpack_require__(3854);exports.TagBadge=function(props){var iconType=props.iconType,onClick=props.onClick,onClickAriaLabel=props.onClickAriaLabel,_props$tag=props.tag,color=_props$tag.color,disabled=_props$tag.disabled,id=_props$tag.id;var maxIdRenderSize=props.maxIdRenderSize||constants_1.TABLE_CONFIG.TRUNCATE_TAG_LENGTH;var idToRender=id.length>maxIdRenderSize?id.substring(0,maxIdRenderSize)+"...":id;return disabled?react_1.default.createElement(disabled_tag_badge_1.DisabledTagBadge,{maxIdRenderSize:props.maxIdRenderSize,id:id}):react_1.default.createElement(eui_1.EuiBadge,{color:color||"primary",iconType:iconType,onClick:onClick,onClickAriaLabel:onClickAriaLabel},idToRender)}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  padding: 16px;\n"],["\n  padding: 16px;\n"]);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var i18n_1=__webpack_require__(9);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(18));var constants_1=__webpack_require__(283);var index_1=__webpack_require__(3856);var option_control_1=__webpack_require__(3859);var AssignmentActionType;(function(AssignmentActionType){AssignmentActionType[AssignmentActionType["Add"]=0]="Add";AssignmentActionType[AssignmentActionType["Assign"]=1]="Assign";AssignmentActionType[AssignmentActionType["Delete"]=2]="Delete";AssignmentActionType[AssignmentActionType["Edit"]=3]="Edit";AssignmentActionType[AssignmentActionType["Reload"]=4]="Reload";AssignmentActionType[AssignmentActionType["Search"]=5]="Search"})(AssignmentActionType=exports.AssignmentActionType||(exports.AssignmentActionType={}));var TableContainer=styled_components_1.default.div(_templateObject);var Table=function(_react_1$default$Comp){_inherits(Table,_react_1$default$Comp);function Table(props){_classCallCheck(this,Table);var _this=_possibleConstructorReturn(this,(Table.__proto__||Object.getPrototypeOf(Table)).call(this,props));_this.resetSelection=function(){_this.setSelection([])};_this.setSelection=function(selection){_this.setState({selection:selection})};_this.actionHandler=function(action,payload){if(_this.props.actionHandler){_this.props.actionHandler(action,payload)}};_this.state={selection:[]};return _this}_createClass(Table,[{key:"render",value:function render(){var _this2=this;var _props=this.props,actionData=_props.actionData,actions=_props.actions,hideTableControls=_props.hideTableControls,items=_props.items,kueryBarProps=_props.kueryBarProps,type=_props.type;var pagination={initialPageSize:constants_1.TABLE_CONFIG.INITIAL_ROW_SIZE,pageSizeOptions:constants_1.TABLE_CONFIG.PAGE_SIZE_OPTIONS};var selectionOptions=hideTableControls?null:{onSelectionChange:this.setSelection,selectable:function selectable(){return true},selectableMessage:function selectableMessage(){return i18n_1.i18n.translate("xpack.beatsManagement.table.selectThisBeatTooltip",{defaultMessage:"Select this beat"})},selection:this.state.selection};return react_1.default.createElement(TableContainer,null,react_1.default.createElement(eui_1.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},actions&&actions.map(function(action){return react_1.default.createElement(eui_1.EuiFlexItem,{grow:false,key:action.name},react_1.default.createElement(option_control_1.OptionControl,Object.assign({},action,{actionData:actionData,actionHandler:_this2.actionHandler,disabled:_this2.state.selection.length===0})))}),kueryBarProps&&react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(index_1.AutocompleteField,Object.assign({},kueryBarProps,{placeholder:i18n_1.i18n.translate("xpack.beatsManagement.table.filterResultsPlaceholder",{defaultMessage:"Filter results"})})))),react_1.default.createElement(eui_1.EuiSpacer,{size:"m"}),react_1.default.createElement(eui_1.EuiInMemoryTable,{columns:type.columnDefinitions,items:items,itemId:"id",isSelectable:true,pagination:pagination,selection:selectionOptions,sorting:true}))}}]);return Table}(react_1.default.Component);exports.Table=Table},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  height: 29px;\n"],["\n  height: 29px;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var i18n_1=__webpack_require__(9);var react_1=tslib_1.__importStar(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(18));var breadcrumb_1=__webpack_require__(312);var PrimaryLayout=function(_react_1$Component){_inherits(PrimaryLayout,_react_1$Component);function PrimaryLayout(props){_classCallCheck(this,PrimaryLayout);var _this=_possibleConstructorReturn(this,(PrimaryLayout.__proto__||Object.getPrototypeOf(PrimaryLayout)).call(this,props));_this.actionSection=null;_this.renderAction=function(component){_this.actionSection=component;_this.forceUpdate()};return _this}_createClass(PrimaryLayout,[{key:"render",value:function render(){var children=this.props.children;return react_1.default.createElement(react_1.default.Fragment,null,!this.props.hideBreadcrumbs&&react_1.default.createElement(breadcrumb_1.BreadcrumbConsumer,null,function(_ref){var breadcrumbs=_ref.breadcrumbs;return react_1.default.createElement(HeaderWrapper,null,react_1.default.createElement(eui_1.EuiHeaderSection,null,react_1.default.createElement(eui_1.EuiHeaderBreadcrumbs,{breadcrumbs:[{href:"#/management",text:i18n_1.i18n.translate("xpack.beatsManagement.breadcrumb.managementTitle",{defaultMessage:"Management"})},{href:"#/management/beats_management",text:i18n_1.i18n.translate("xpack.beatsManagement.breadcrumb.beatsTitle",{defaultMessage:"Beats"})}].concat(_toConsumableArray(breadcrumbs))})))}),react_1.default.createElement(eui_1.EuiPage,null,react_1.default.createElement(eui_1.EuiPageBody,null,react_1.default.createElement(eui_1.EuiPageHeader,null,react_1.default.createElement(eui_1.EuiPageHeaderSection,null,react_1.default.createElement(eui_1.EuiTitle,null,react_1.default.createElement("h1",null,this.props.title))),react_1.default.createElement(eui_1.EuiPageHeaderSection,null,this.actionSection&&this.actionSection()||this.props.actionSection)),react_1.default.createElement(eui_1.EuiPageContent,null,react_1.default.createElement(eui_1.EuiPageContentBody,null,(children&&typeof children==="function"?children(this.renderAction):children)||react_1.default.createElement("span",null))))))}}]);return PrimaryLayout}(react_1.Component);exports.PrimaryLayout=PrimaryLayout;var HeaderWrapper=styled_components_1.default(eui_1.EuiHeader)(_templateObject)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.editBreadcrumb=exports.addBreadcrumb=exports.listBreadcrumb=undefined;var _i18n=__webpack_require__(9);var _constants=__webpack_require__(284);var listBreadcrumb=exports.listBreadcrumb={text:_i18n.i18n.translate("xpack.crossClusterReplication.homeBreadcrumbTitle",{defaultMessage:"Cross Cluster Replication"}),href:"#"+_constants.BASE_PATH};var addBreadcrumb=exports.addBreadcrumb={text:_i18n.i18n.translate("xpack.crossClusterReplication.addBreadcrumbTitle",{defaultMessage:"Add"})};var editBreadcrumb=exports.editBreadcrumb={text:_i18n.i18n.translate("xpack.crossClusterReplication.editBreadcrumbTitle",{defaultMessage:"Edit"})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LearnMoreLink=exports.LearnMoreLinkUi=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _documentation_links=__webpack_require__(65);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var esBase=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/elasticsearch/reference/"+_documentation_links.DOC_LINK_VERSION+"/";var LearnMoreLinkUi=exports.LearnMoreLinkUi=function(_React$PureComponent){_inherits(LearnMoreLinkUi,_React$PureComponent);function LearnMoreLinkUi(){_classCallCheck(this,LearnMoreLinkUi);return _possibleConstructorReturn(this,(LearnMoreLinkUi.__proto__||Object.getPrototypeOf(LearnMoreLinkUi)).apply(this,arguments))}_createClass(LearnMoreLinkUi,[{key:"render",value:function render(){var _props=this.props,href=_props.href,docPath=_props.docPath,text=_props.text;var url=void 0;if(docPath){url=""+esBase+docPath}else{url=href}var content=text?text:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.learnMore",defaultMessage:"Learn more"});return _react2.default.createElement(_eui.EuiLink,{href:url,target:"_blank"},content)}}]);return LearnMoreLinkUi}(_react2.default.PureComponent);var LearnMoreLink=exports.LearnMoreLink=(0,_react3.injectI18n)(LearnMoreLinkUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MinAgeInput=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _components=__webpack_require__(365);var _eui=__webpack_require__(2);var _constants=__webpack_require__(55);var _form_errors=__webpack_require__(366);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var MinAgeInputUi=function MinAgeInputUi(props){var rolloverEnabled=props.rolloverEnabled,errors=props.errors,phaseData=props.phaseData,phase=props.phase,setPhaseData=props.setPhaseData,isShowingErrors=props.isShowingErrors,intl=props.intl;var fromMessage=rolloverEnabled?intl.formatMessage({id:"xpack.indexLifecycleMgmt.editPolicy.fromRolloverMessage",defaultMessage:"from rollover"}):intl.formatMessage({id:"xpack.indexLifecycleMgmt.editPolicy.fromIndexCreationMessage",defaultMessage:"from index creation"});return _react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{style:{maxWidth:188}},_react2.default.createElement(_form_errors.ErrableFormRow,{id:phase+"-"+_constants.PHASE_ROLLOVER_MINIMUM_AGE,label:intl.formatMessage({id:"xpack.indexLifecycleMgmt.editPolicy.minimimAgeLabel",defaultMessage:"Timing for {phase} phase"},{phase:phase}),errorKey:_constants.PHASE_ROLLOVER_MINIMUM_AGE,isShowingErrors:isShowingErrors,errors:errors,helpText:_react2.default.createElement(_components.LearnMoreLink,{docPath:"_timing.html",text:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.learnAboutTimingText",defaultMessage:"Learn about timing"})})},_react2.default.createElement(_eui.EuiFieldNumber,{id:phase+"-"+_constants.PHASE_ROLLOVER_MINIMUM_AGE,value:phaseData[_constants.PHASE_ROLLOVER_MINIMUM_AGE],onChange:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setPhaseData(_constants.PHASE_ROLLOVER_MINIMUM_AGE,e.target.value);case 1:case"end":return _context.stop()}}},_callee,undefined)}));return function(_x){return _ref.apply(this,arguments)}}(),min:1}))),_react2.default.createElement(_eui.EuiFlexItem,{style:{maxWidth:220}},_react2.default.createElement(_eui.EuiFormRow,{hasEmptyLabelSpace:true},_react2.default.createElement(_eui.EuiSelect,{"aria-label":intl.formatMessage({id:"xpack.indexLifecycleMgmt.editPolicy.minimimAgeUnitsAriaLabel",defaultMessage:"{phaseUpper} phase after units"},{phaseUpper:""+phase.charAt(0).toUpperCase()+phase.slice(1)}),value:phaseData[_constants.PHASE_ROLLOVER_MINIMUM_AGE_UNITS],onChange:function onChange(e){return setPhaseData(_constants.PHASE_ROLLOVER_MINIMUM_AGE_UNITS,e.target.value)},options:[{value:"d",text:intl.formatMessage({id:"xpack.indexLifecycleMgmt.editPolicy.daysLabel",defaultMessage:"days {fromMessage}"},{fromMessage:fromMessage})},{value:"h",text:intl.formatMessage({id:"xpack.indexLifecycleMgmt.editPolicy.hoursLabel",defaultMessage:"hours {fromMessage}"},{fromMessage:fromMessage})}]}))))};var MinAgeInput=exports.MinAgeInput=(0,_react3.injectI18n)(MinAgeInputUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_actions_context_menu=__webpack_require__(4009);Object.defineProperty(exports,"IndexActionsContextMenu",{enumerable:true,get:function get(){return _index_actions_context_menu.IndexActionsContextMenu}});var _index_list=__webpack_require__(1284);Object.defineProperty(exports,"IndexList",{enumerable:true,get:function get(){return _index_list.IndexList}});var _detail_panel=__webpack_require__(4027);Object.defineProperty(exports,"DetailPanel",{enumerable:true,get:function get(){return _detail_panel.DetailPanel}});var _index_table=__webpack_require__(4043);Object.defineProperty(exports,"IndexTable",{enumerable:true,get:function get(){return _index_table.IndexTable}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadIndexData=exports.loadIndexDataSuccess=undefined;var _services=__webpack_require__(184);var _reduxActions=__webpack_require__(25);var _notify=__webpack_require__(10);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var loadIndexDataSuccess=exports.loadIndexDataSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_LOAD_INDEX_DATA_SUCCESS");var loadIndexData=exports.loadIndexData=function loadIndexData(_ref){var indexName=_ref.indexName,dataType=_ref.dataType;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var data;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=void 0;_context.prev=1;_context.next=4;return(0,_services.loadIndexData)(dataType,indexName);case 4:data=_context.sent;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);return _context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 10:dispatch(loadIndexDataSuccess({data:data,indexName:indexName}));case 11:case"end":return _context.stop()}}},_callee,undefined,[[1,7]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.putLicense=putLicense;exports.startBasic=startBasic;exports.startTrial=startTrial;exports.canStartTrial=canStartTrial;var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _jquery=__webpack_require__(17);var _jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function putLicense(license,acknowledge){var options={url:""+_chrome2.default.addBasePath("/api/license")+(acknowledge?"?acknowledge=true":""),data:license,contentType:"application/json",cache:false,crossDomain:true,type:"PUT"};return _jquery2.default.ajax(options)}function startBasic(acknowledge){var options={url:""+_chrome2.default.addBasePath("/api/license/start_basic")+(acknowledge?"?acknowledge=true":""),contentType:"application/json",cache:false,crossDomain:true,type:"POST"};return _jquery2.default.ajax(options)}function startTrial(){var options={url:_chrome2.default.addBasePath("/api/license/start_trial"),contentType:"application/json",cache:false,crossDomain:true,type:"POST"};return _jquery2.default.ajax(options)}function canStartTrial(){var options={url:_chrome2.default.addBasePath("/api/license/start_trial"),contentType:"application/json",cache:false,crossDomain:true,type:"GET"};return _jquery2.default.ajax(options)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addUploadErrorMessage=undefined;var _reduxActions=__webpack_require__(25);var addUploadErrorMessage=exports.addUploadErrorMessage=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_ADD_UPLOAD_ERROR_MESSAGE")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _remote_cluster_form=__webpack_require__(4188);Object.defineProperty(exports,"RemoteClusterForm",{enumerable:true,get:function get(){return _remote_cluster_form.RemoteClusterForm}});var _remote_cluster_page_title=__webpack_require__(4190);Object.defineProperty(exports,"RemoteClusterPageTitle",{enumerable:true,get:function get(){return _remote_cluster_page_title.RemoteClusterPageTitle}});var _configured_by_node_warning=__webpack_require__(4192);Object.defineProperty(exports,"ConfiguredByNodeWarning",{enumerable:true,get:function get(){return _configured_by_node_warning.ConfiguredByNodeWarning}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.refreshJobs=undefined;var _i18n=__webpack_require__(9);var _services=__webpack_require__(52);var _action_types=__webpack_require__(203);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var refreshJobs=exports.refreshJobs=function refreshJobs(){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var jobs;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:jobs=void 0;_context.prev=1;_context.next=4;return(0,_services.loadJobs)();case 4:jobs=_context.sent;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);return _context.abrupt("return",(0,_services.showApiWarning)(_context.t0,_i18n.i18n.translate("xpack.rollupJobs.refreshAction.errorTitle",{defaultMessage:"Error refreshing rollup jobs"})));case 10:dispatch({type:_action_types.REFRESH_JOBS_SUCCESS,payload:{jobs:(0,_services.deserializeJobs)(jobs)}});case 11:case"end":return _context.stop()}}},_callee,undefined,[[1,7]])}));return function(_x){return _ref.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(464);var _lodash=__webpack_require__(1);var _angular=__webpack_require__(21);var _angular2=_interopRequireDefault(_angular);var _modules=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("security",["ngResource"]);_module.service("ShieldRole",function($resource,chrome){return $resource(chrome.addBasePath("/api/security/role/:name"),{name:"@name"},{save:{method:"PUT",transformRequest:function transformRequest(data){return _angular2.default.toJson((0,_lodash.omit)(data,"name","transient_metadata","_unrecognized_applications"))}}})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BaseWatch=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get_search_value=__webpack_require__(4422);var _lodash=__webpack_require__(1);var _action=__webpack_require__(1332);var _watch_status=__webpack_require__(790);var _watch_errors=__webpack_require__(4434);var _create_action_id=__webpack_require__(4436);var _check_action_id_collision=__webpack_require__(4438);var _i18n=__webpack_require__(9);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var BaseWatch=exports.BaseWatch=function(){function BaseWatch(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,BaseWatch);_initialiseProps.call(this);this.id=(0,_lodash.get)(props,"id");this.type=(0,_lodash.get)(props,"type");this.isNew=(0,_lodash.get)(props,"isNew",true);this.name=(0,_lodash.get)(props,"name","");this.isSystemWatch=Boolean((0,_lodash.get)(props,"isSystemWatch"));this.watchStatus=_watch_status.WatchStatus.fromUpstreamJson((0,_lodash.get)(props,"watchStatus"));this.watchErrors=_watch_errors.WatchErrors.fromUpstreamJson((0,_lodash.get)(props,"watchErrors"));var actions=(0,_lodash.get)(props,"actions",[]);this.actions=actions.map(_action.Action.fromUpstreamJson)}_createClass(BaseWatch,[{key:"validate",value:function validate(){var actionsErrors=this.actions.reduce(function(actionsErrors,action){if(action.validate){var _action$validate=action.validate(),errors=_action$validate.errors;if(!errors){return actionsErrors}return[].concat(_toConsumableArray(actionsErrors),_toConsumableArray(errors))}return actionsErrors},[]);if(!actionsErrors.length){return{warning:null}}var warningMessage=actionsErrors.reduce(function(message,error){return!!message?message+", "+error.message:error.message},"");return{warning:{message:warningMessage}}}},{key:"displayName",get:function get(){if(this.isNew){return _i18n.i18n.translate("xpack.watcher.models.baseWatch.displayName",{defaultMessage:"New Watch"})}else if(this.name){return this.name}else{return this.id}}},{key:"searchValue",get:function get(){return(0,_get_search_value.getSearchValue)(this,["id","name"])}},{key:"typeName",get:function get(){return this.constructor.typeName}},{key:"iconClass",get:function get(){return this.constructor.iconClass}},{key:"selectMessage",get:function get(){return this.constructor.selectMessage}},{key:"selectSortOrder",get:function get(){return this.constructor.selectSortOrder}},{key:"upstreamJson",get:function get(){return{id:this.id,name:this.name,type:this.type,actions:(0,_lodash.map)(this.actions,function(action){return action.upstreamJson})}}}]);return BaseWatch}();BaseWatch.typeName=_i18n.i18n.translate("xpack.watcher.models.baseWatch.typeName",{defaultMessage:"Watch"});BaseWatch.iconClass="";BaseWatch.selectMessage=_i18n.i18n.translate("xpack.watcher.models.baseWatch.selectMessageText",{defaultMessage:"Set up a new watch."});BaseWatch.isCreatable=true;BaseWatch.selectSortOrder=0;var _initialiseProps=function _initialiseProps(){var _this=this;this.updateWatchStatus=function(watchStatus){_this.watchStatus=watchStatus};this.createAction=function(type,defaults){var ActionTypes=_action.Action.getActionTypes();var ActionType=ActionTypes[type];if(!Boolean(ActionType)){throw new Error(_i18n.i18n.translate("xpack.watcher.models.baseWatch.createUnknownActionTypeErrorMessage",{defaultMessage:"Attempted to create unknown action type {type}.",values:{type:type}}))}var id=(0,_create_action_id.createActionId)(_this.actions,type);var props=(0,_lodash.merge)({},defaults,{id:id,type:type});var action=new ActionType(props);_this.addAction(action)};this.addAction=function(action){if((0,_check_action_id_collision.checkActionIdCollision)(_this.actions,action)){action.id=(0,_create_action_id.createActionId)(_this.actions,action.type)}_this.actions.push(action)};this.deleteAction=function(action){(0,_lodash.remove)(_this.actions,action)};this.resetActions=function(){_this.actions=[]};this.isEqualTo=function(otherWatch){var cleanWatch=_extends({},_this);var cleanOtherWatch=_extends({},otherWatch);return(0,_lodash.isEqual)(cleanWatch,cleanOtherWatch)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _watch_status=__webpack_require__(4430);Object.defineProperty(exports,"WatchStatus",{enumerable:true,get:function get(){return _watch_status.WatchStatus}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_moment=__webpack_require__(4431);Object.defineProperty(exports,"getMoment",{enumerable:true,get:function get(){return _get_moment.getMoment}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _time_units=__webpack_require__(4443);Object.defineProperty(exports,"TIME_UNITS",{enumerable:true,get:function get(){return _time_units.TIME_UNITS}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4448)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _update_watch_sections=__webpack_require__(4472);Object.defineProperty(exports,"updateWatchSections",{enumerable:true,get:function get(){return _update_watch_sections.updateWatchSections}});var _update_history_section=__webpack_require__(4473);Object.defineProperty(exports,"updateHistorySection",{enumerable:true,get:function get(){return _update_history_section.updateHistorySection}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _watch_action_controller_base=__webpack_require__(4595);Object.defineProperty(exports,"WatchActionControllerBase",{enumerable:true,get:function get(){return _watch_action_controller_base.WatchActionControllerBase}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternCreationConfigRegistry=undefined;var _registry=__webpack_require__(56);var IndexPatternCreationConfigRegistry=exports.IndexPatternCreationConfigRegistry=(0,_registry.uiRegistry)({name:"indexPatternCreation",index:["name"],order:["order"]})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternListConfigRegistry=undefined;var _registry=__webpack_require__(56);var IndexPatternListConfigRegistry=exports.IndexPatternListConfigRegistry=(0,_registry.uiRegistry)({name:"indexPatternList",index:["name"],order:["order"]})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useResizeChecker=useResizeChecker;var _resize_checker=__webpack_require__(643);function useResizeChecker($scope,$el){for(var _len=arguments.length,editors=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){editors[_key-2]=arguments[_key]}var checker=new _resize_checker.ResizeChecker($el);checker.on("resize",function(){return editors.forEach(function(e){return e.resize()})});$scope.$on("$destroy",function(){return checker.destroy()})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getVersion=getVersion;exports.getContentType=getContentType;exports.send=send;exports.constructESUrl=constructESUrl;var _querystring=__webpack_require__(240);var _jquery=__webpack_require__(17);var _jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var esVersion=[];function getVersion(){return esVersion}function getContentType(body){if(!body)return;return"application/json"}function send(method,path,data){var wrappedDfd=_jquery2.default.Deferred();var isGetRequest=/^get$/i.test(method);if(data&&isGetRequest){method="POST"}var options={url:"../api/console/proxy?"+(0,_querystring.stringify)({path:path,method:method}),data:data,contentType:getContentType(data),cache:false,crossDomain:true,type:"POST",dataType:"text"};_jquery2.default.ajax(options).then(function(data,textStatus,jqXHR){wrappedDfd.resolveWith(this,[data,textStatus,jqXHR])},function(jqXHR,textStatus,errorThrown){if(jqXHR.status===0){jqXHR.responseText="\n\nFailed to connect to Console's backend.\nPlease check the Kibana server is up and running"}wrappedDfd.rejectWith(this,[jqXHR,textStatus,errorThrown])});return wrappedDfd}function constructESUrl(baseUri,path){baseUri=baseUri.replace(/\/+$/,"");path=path.replace(/^\/+/,"");return baseUri+"/"+path}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var utils={};utils.textFromRequest=function(request){var data=request.data;if(typeof data!=="string"){data=data.join("\n")}return request.method+" "+request.url+"\n"+data};utils.jsonToString=function(data,indent){return JSON.stringify(data,null,indent?2:0)};utils.reformatData=function(data,indent){var changed=false;var formattedData=[];for(var i=0;i<data.length;i++){var curDoc=data[i];try{var newDoc=utils.jsonToString(JSON.parse(utils.collapseLiteralStrings(curDoc)),indent?2:0);if(indent){newDoc=utils.expandLiteralStrings(newDoc)}changed=changed||newDoc!==curDoc;formattedData.push(newDoc)}catch(e){console.log(e);formattedData.push(curDoc)}}return{changed:changed,data:formattedData}};utils.collapseLiteralStrings=function(data){return data.replace(/"""(?:\s*\r?\n)?((?:.|\r?\n)*?)(?:\r?\n\s*)?"""/g,function(match,literal){return JSON.stringify(literal)})};utils.expandLiteralStrings=function(data){return data.replace(/("(?:\\"|[^"])*?")/g,function(match,string){if(string.split(/\\./).length>2){string=JSON.parse(string).replace("^s*\n","").replace("\ns*^","");var append=string.includes("\n")?"\n":"";return'"""'+append+string+append+'"""'}else{return string}})};utils.extractDeprecationMessages=function(warnings){var re=/\d{3} [0-9a-zA-Z!#$%&'*+-.^_`|~]+ \"((?:\t| |!|[\x23-\x5b]|[\x5d-\x7e]|[\x80-\xff]|\\\\|\\")*)\"(?: \"[^"]*\")/;return _lodash2.default.map(utils.splitOnUnquotedCommaSpace(warnings),function(warning){var match=re.exec(warning);return"#! Deprecation: "+(match!==null?utils.unescape(match[1]):warning)})};utils.unescape=function(s){return s.replace(/\\\\/g,"\\").replace(/\\"/g,'"')};utils.splitOnUnquotedCommaSpace=function(s){var quoted=false;var arr=[];var buffer="";var i=0;while(i<s.length){var token=s.charAt(i++);if(token==="\\"&&i<s.length){token+=s.charAt(i++)}else if(token===","&&i<s.length&&s.charAt(i)===" "){token+=s.charAt(i++)}if(token==='"'){quoted=!quoted}else if(!quoted&&token===", "){arr.push(buffer);buffer="";continue}buffer+=token}arr.push(buffer);return arr};exports.default=utils;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=SenseEditor;var _=__webpack_require__(1);var ace=__webpack_require__(235);var $=__webpack_require__(17);var curl=__webpack_require__(4708);var RowParser=__webpack_require__(4709);var InputMode=__webpack_require__(4710);var utils=__webpack_require__(800);var es=__webpack_require__(799);var chrome=__webpack_require__(8);var smartResize=__webpack_require__(1349);function createInstance($el){var aceEditor=ace.edit($el[0]);var CustomSenseEditor=function CustomSenseEditor(){};CustomSenseEditor.prototype={};function bindProp(key){Object.defineProperty(CustomSenseEditor.prototype,key,{get:function get(){return aceEditor[key]},set:function set(val){aceEditor[key]=val}})}for(var key in aceEditor){switch(_typeof(aceEditor[key])){case"function":CustomSenseEditor.prototype[key]=_.bindKey(aceEditor,key);break;default:bindProp(key);break}}var editor=new CustomSenseEditor;editor.__ace=aceEditor;return editor}function SenseEditor($el){var editor=createInstance($el);var CURRENT_REQ_RANGE=null;editor.$el=$el;editor.$actions=null;editor.parser=new RowParser(editor);editor.resize=smartResize(editor);var onceDoneTokenizing=function onceDoneTokenizing(func,cancelAlreadyScheduledCalls){var session=editor.getSession();var timer=false;var checkInterval=25;return function(){var self=this;var args=[].slice.call(arguments,0);if(cancelAlreadyScheduledCalls){timer=clearTimeout(timer)}setTimeout(function check(){if(session.bgTokenizer.running){timer=setTimeout(check,checkInterval)}else{func.apply(self,args)}})}};editor.setShowPrintMargin(false);(function(session){session.setMode(new InputMode.Mode);session.setFoldStyle("markbeginend");session.setTabSize(2);session.setUseWrapMode(true)})(editor.getSession());editor.prevRequestStart=function(rowOrPos){rowOrPos=_.isUndefined(rowOrPos)||rowOrPos===null?editor.getCursorPosition():rowOrPos;var curRow=_.isObject(rowOrPos)?rowOrPos.row:rowOrPos;while(curRow>0&&!editor.parser.isStartRequestRow(curRow,editor)){curRow--}return{row:curRow,column:0}};editor.nextRequestStart=function(rowOrPos){rowOrPos=_.isUndefined(rowOrPos)||rowOrPos===null?editor.getCursorPosition():rowOrPos;var session=editor.getSession();var curRow=_.isObject(rowOrPos)?rowOrPos.row:rowOrPos;var maxLines=session.getLength();for(;curRow<maxLines-1;curRow++){if(editor.parser.isStartRequestRow(curRow,editor)){break}}return{row:curRow,column:0}};editor.autoIndent=onceDoneTokenizing(function(){editor.getRequestRange(function(reqRange){if(!reqRange){return}editor.getRequest(function(parsedReq){if(parsedReq.data&&parsedReq.data.length>0){var indent=parsedReq.data.length===1;var formattedData=utils.reformatData(parsedReq.data,indent);if(!formattedData.changed){indent=!indent;formattedData=utils.reformatData(parsedReq.data,indent)}parsedReq.data=formattedData.data;editor.replaceRequestRange(parsedReq,reqRange)}})})},true);editor.update=function(data,callback){callback=typeof callback==="function"?callback:null;var session=editor.getSession();session.setValue(data);if(callback){setTimeout(function(){var i=void 0;for(i=0;i<session.getLength();i++){session.getTokens(i)}callback()})}};editor.replaceRequestRange=function(newRequest,requestRange){var text=utils.textFromRequest(newRequest);if(requestRange){var pos=editor.getCursorPosition();editor.getSession().replace(requestRange,text);var maxRow=Math.max(requestRange.start.row+text.split("\n").length-1,0);pos.row=Math.min(pos.row,maxRow);editor.moveCursorToPosition(pos);editor.clearSelection()}else{editor.insert(text)}};editor.iterForCurrentLoc=function(){var pos=editor.getCursorPosition();return editor.iterForPosition(pos.row,pos.column,editor)};editor.iterForPosition=function(row,column){return new(ace.acequire("ace/token_iterator").TokenIterator)(editor.getSession(),row,column)};editor.getRequestRange=onceDoneTokenizing(function(row,cb){if(_.isUndefined(cb)){cb=row;row=null}if(typeof cb!=="function"){return}if(editor.parser.isInBetweenRequestsRow(row)){cb(null);return}var reqStart=editor.prevRequestStart(row,editor);var reqEnd=editor.nextRequestEnd(reqStart,editor);cb(new(ace.acequire("ace/range").Range)(reqStart.row,reqStart.column,reqEnd.row,reqEnd.column))});editor.getEngulfingRequestsRange=onceDoneTokenizing(function(range,cb){if(_.isUndefined(cb)){cb=range;range=null}range=range||editor.getSelectionRange();var session=editor.getSession();var startRow=range.start.row;var endRow=range.end.row;var maxLine=Math.max(0,session.getLength()-1);if(editor.parser.isInBetweenRequestsRow(startRow)){}else{for(;startRow>=0;startRow--){if(editor.parser.isStartRequestRow(startRow)){break}}}if(startRow<0||startRow>endRow){cb(null);return}if(editor.parser.isInBetweenRequestsRow(endRow)){for(;endRow>=startRow;endRow--){if(editor.parser.isEndRequestRow(endRow)){break}}}else{for(;endRow<=maxLine;endRow++){if(editor.parser.isEndRequestRow(endRow)){break}}}if(endRow<startRow||endRow>maxLine){cb(null);return}var endColumn=(session.getLine(endRow)||"").replace(/\s+$/,"").length;cb(new(ace.acequire("ace/range").Range)(startRow,0,endRow,endColumn))});editor.getRequestInRange=onceDoneTokenizing(function(range,cb){if(!range){return}var request={method:"",data:[],url:null,range:range};var pos=range.start;var tokenIter=editor.iterForPosition(pos.row,pos.column,editor);var t=tokenIter.getCurrentToken();if(editor.parser.isEmptyToken(t)){t=editor.parser.nextNonEmptyToken(tokenIter)}request.method=t.value;t=editor.parser.nextNonEmptyToken(tokenIter);if(!t||t.type==="method"){return null}request.url="";while(t&&t.type&&t.type.indexOf("url")===0){request.url+=t.value;t=tokenIter.stepForward()}if(editor.parser.isEmptyToken(t)){t=editor.parser.nextNonEmptyToken(tokenIter)}var bodyStartRow=(t?0:1)+tokenIter.getCurrentTokenRow();var dataEndPos=void 0;while(bodyStartRow<range.end.row||bodyStartRow===range.end.row&&0<range.end.column){dataEndPos=editor.nextDataDocEnd({row:bodyStartRow,column:0});var bodyRange=new(ace.acequire("ace/range").Range)(bodyStartRow,0,dataEndPos.row,dataEndPos.column);var data=editor.getSession().getTextRange(bodyRange);request.data.push(data.trim());bodyStartRow=dataEndPos.row+1}cb(request)});editor.getRequestsInRange=function(range,includeNonRequestBlocks,cb){if(_.isUndefined(includeNonRequestBlocks)){includeNonRequestBlocks=false;cb=range;range=null}else if(_.isUndefined(cb)){cb=includeNonRequestBlocks;includeNonRequestBlocks=false}function explicitRangeToRequests(requestsRange,tempCb){if(!requestsRange){tempCb([]);return}var startRow=requestsRange.start.row;var endRow=requestsRange.end.row;var currentRow=startRow;for(;currentRow<=endRow;currentRow++){if(editor.parser.isStartRequestRow(currentRow)){break}}var nonRequestPrefixBlock=null;if(includeNonRequestBlocks&&currentRow!==startRow){nonRequestPrefixBlock=editor.getSession().getLines(startRow,currentRow-1).join("\n")}if(currentRow>endRow){tempCb(nonRequestPrefixBlock?[nonRequestPrefixBlock]:[]);return}editor.getRequest(currentRow,function(request){if(!request){return}explicitRangeToRequests({start:{row:request.range.end.row+1},end:{row:requestsRange.end.row}},function(restOfRequests){restOfRequests.unshift(request);if(nonRequestPrefixBlock!==null){restOfRequests.unshift(nonRequestPrefixBlock)}tempCb(restOfRequests)})})}editor.getEngulfingRequestsRange(range,function(requestRange){explicitRangeToRequests(requestRange,cb)})};editor.getRequest=onceDoneTokenizing(function(row,cb){if(_.isUndefined(cb)){cb=row;row=null}if(typeof cb!=="function"){return}if(editor.parser.isInBetweenRequestsRow(row)){cb(null);return}editor.getRequestRange(row,function(range){editor.getRequestInRange(range,cb)})});editor.moveToPreviousRequestEdge=onceDoneTokenizing(function(){var pos=editor.getCursorPosition();for(pos.row--;pos.row>0&&!editor.parser.isRequestEdge(pos.row);pos.row--){}editor.moveCursorTo(pos.row,0)});editor.moveToNextRequestEdge=onceDoneTokenizing(function(moveOnlyIfNotOnEdge){var pos=editor.getCursorPosition();var maxRow=editor.getSession().getLength();if(!moveOnlyIfNotOnEdge){pos.row++}for(;pos.row<maxRow&&!editor.parser.isRequestEdge(pos.row);pos.row++){}editor.moveCursorTo(pos.row,0)});editor.nextRequestEnd=function(pos){pos=pos||editor.getCursorPosition();var session=editor.getSession();var curRow=pos.row;var maxLines=session.getLength();for(;curRow<maxLines-1;curRow++){var curRowMode=editor.parser.getRowParseMode(curRow,editor);if((curRowMode&editor.parser.MODE.REQUEST_END)>0){break}if(curRow!==pos.row&&(curRowMode&editor.parser.MODE.REQUEST_START)>0){break}}var column=(session.getLine(curRow)||"").replace(/\s+$/,"").length;return{row:curRow,column:column}};editor.nextDataDocEnd=function(pos){pos=pos||editor.getCursorPosition();var session=editor.getSession();var curRow=pos.row;var maxLines=session.getLength();for(;curRow<maxLines-1;curRow++){var curRowMode=editor.parser.getRowParseMode(curRow,editor);if((curRowMode&RowParser.REQUEST_END)>0){break}if((curRowMode&editor.parser.MODE.MULTI_DOC_CUR_DOC_END)>0){break}if(curRow!==pos.row&&(curRowMode&editor.parser.MODE.REQUEST_START)>0){break}}var column=(session.getLine(curRow)||"").length;return{row:curRow,column:column}};var origOnPaste=editor.__ace.onPaste;editor.__ace.onPaste=function(text){if(text&&curl.detectCURL(text)){editor.handleCURLPaste(text);return}origOnPaste.call(this,text)};editor.handleCURLPaste=function(text){var curlInput=curl.parseCURL(text);editor.insert(curlInput)};editor.highlightCurrentRequestsAndUpdateActionBar=onceDoneTokenizing(function(){var session=editor.getSession();editor.getEngulfingRequestsRange(function(newCurrentReqRange){if(newCurrentReqRange===null&&CURRENT_REQ_RANGE===null){return}if(newCurrentReqRange!==null&&CURRENT_REQ_RANGE!==null&&newCurrentReqRange.start.row===CURRENT_REQ_RANGE.start.row&&newCurrentReqRange.end.row===CURRENT_REQ_RANGE.end.row){var cursorRow=editor.getCursorPosition().row;if(cursorRow===CURRENT_REQ_RANGE.start.row){editor.updateActionsBar()}return}if(CURRENT_REQ_RANGE){session.removeMarker(CURRENT_REQ_RANGE.marker_id)}CURRENT_REQ_RANGE=newCurrentReqRange;if(CURRENT_REQ_RANGE){CURRENT_REQ_RANGE.marker_id=session.addMarker(CURRENT_REQ_RANGE,"ace_snippet-marker","fullLine")}editor.updateActionsBar()})},true);editor.getRequestsAsCURL=function(range,cb){if(_.isUndefined(cb)){cb=range;range=null}if(_.isUndefined(cb)){cb=$.noop}editor.getRequestsInRange(range,true,function(requests){var result=_.map(requests,function requestToCurl(req){if(typeof req==="string"){return req}var esPath=req.url;var esMethod=req.method;var esData=req.data;var elasticsearchBaseUrl=chrome.getInjected("elasticsearchUrl");var url=es.constructESUrl(elasticsearchBaseUrl,esPath);var ret="curl -X"+esMethod+' "'+url+'"';if(esData&&esData.length){ret+=" -H 'Content-Type: application/json' -d'\n";var dataAsString=utils.collapseLiteralStrings(esData.join("\n"));ret+=dataAsString.replace(/'/g,'\\"');if(esData.length>1){ret+="\n"}ret+="'"}return ret});cb(result.join("\n"))})};editor.getSession().on("tokenizerUpdate",function(){editor.highlightCurrentRequestsAndUpdateActionBar()});editor.getSession().selection.on("changeCursor",function(){editor.highlightCurrentRequestsAndUpdateActionBar()});editor.updateActionsBar=function(){var set=function set(top){if(top===null){editor.$actions.css("visibility","hidden")}else{editor.$actions.css({top:top,visibility:"visible"})}};var hide=function hide(){set()};return function(){if(!editor.$actions){return}if(CURRENT_REQ_RANGE){var offsetFromPage=editor.$el.offset().top;var startRow=CURRENT_REQ_RANGE.start.row;var startColumn=CURRENT_REQ_RANGE.start.column;var session=editor.session;var firstLine=session.getLine(startRow);if(firstLine.length>session.getWrapLimit()-5){if(startRow>0){startRow--}else{startRow++}}var topOfReq=editor.renderer.textToScreenCoordinates(startRow,startColumn).pageY-offsetFromPage;if(topOfReq>=0){return set(topOfReq)}var bottomOfReq=editor.renderer.textToScreenCoordinates(CURRENT_REQ_RANGE.end.row,CURRENT_REQ_RANGE.end.column).pageY-offsetFromPage;if(bottomOfReq>=0){return set(0)}}hide()}}();editor.getSession().on("changeScrollTop",editor.updateActionsBar);return editor}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var $=__webpack_require__(17);var storage=__webpack_require__(438);var history={restoreFromHistory:function restoreFromHistory(){throw new Error("not implemented")},getHistoryKeys:function getHistoryKeys(){return storage.keys().filter(function(key){return key.indexOf("hist_elem")===0}).sort().reverse()},getHistory:function getHistory(){return history.getHistoryKeys().map(function(key){return storage.get(key)})},addToHistory:function addToHistory(endpoint,method,data){var keys=history.getHistoryKeys();keys.splice(0,500);$.each(keys,function(i,k){storage.delete(k)});var timestamp=(new Date).getTime();var k="hist_elem_"+timestamp;storage.set(k,{time:timestamp,endpoint:endpoint,method:method,data:data})},updateCurrentState:function updateCurrentState(content){var timestamp=(new Date).getTime();storage.set("editor_state",{time:timestamp,content:content})},getSavedEditorState:function getSavedEditorState(){var saved=storage.get("editor_state");if(!saved)return;var time=saved.time,content=saved.content;return{time:time,content:content}},clearHistory:function clearHistory(){history.getHistoryKeys().forEach(function(key){return storage.delete(key)})}};exports.default=history;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Synopsis=Synopsis;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Synopsis(_ref){var description=_ref.description,iconUrl=_ref.iconUrl,iconType=_ref.iconType,title=_ref.title,url=_ref.url,wrapInPanel=_ref.wrapInPanel,onClick=_ref.onClick,isBeta=_ref.isBeta;var optionalImg=void 0;if(iconUrl){optionalImg=_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement("img",{className:"synopsisIcon",src:iconUrl,alt:""}))}else if(iconType){optionalImg=_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiIcon,{type:iconType,color:"primary",size:"xl"}))}var content=_react2.default.createElement(_eui.EuiFlexGroup,null,optionalImg,_react2.default.createElement(_eui.EuiFlexItem,{className:"synopsisContent"},_react2.default.createElement(_eui.EuiTitle,{size:"s",className:"synopsisTitle"},_react2.default.createElement("h4",null,title)),_react2.default.createElement(_eui.EuiText,{className:"synopsisBody"},_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},description)))));var synopsisDisplay=content;if(wrapInPanel){synopsisDisplay=_react2.default.createElement(_eui.EuiPanel,{className:"synopsisPanel",betaBadgeLabel:isBeta?"BETA":null},content)}if(onClick){return _react2.default.createElement("span",{onClick:onClick,className:"euiLink synopsis","data-test-subj":"homeSynopsisLink"+title.toLowerCase()},synopsisDisplay)}return _react2.default.createElement("a",{href:url,className:"euiLink synopsis","data-test-subj":"homeSynopsisLink"+title.toLowerCase()},synopsisDisplay)}Synopsis.propTypes={description:_propTypes2.default.string.isRequired,iconUrl:_propTypes2.default.string,iconType:_propTypes2.default.string,title:_propTypes2.default.string.isRequired,url:_propTypes2.default.string,onClick:_propTypes2.default.func,isBeta:_propTypes2.default.bool};Synopsis.defaultProps={isBeta:false}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Content=Content;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _markdown=__webpack_require__(1047);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var whiteListedRules=["backticks","emphasis","link","list"];function Content(_ref){var text=_ref.text;return _react2.default.createElement(_markdown.Markdown,{className:"euiText",markdown:text,openLinksInNewTab:true,whiteListedRules:whiteListedRules})}Content.propTypes={text:_propTypes2.default.string.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getCreateBreadcrumbs=getCreateBreadcrumbs;exports.getEditBreadcrumbs=getEditBreadcrumbs;exports.getEditFieldBreadcrumbs=getEditFieldBreadcrumbs;exports.getCreateFieldBreadcrumbs=getCreateFieldBreadcrumbs;var _management=__webpack_require__(24);var _i18n=__webpack_require__(9);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function getCreateBreadcrumbs(){return[_management.MANAGEMENT_BREADCRUMB,{text:_i18n.i18n.translate("kbn.management.indexPatterns.createBreadcrumb",{defaultMessage:"Create index pattern"}),href:"#/management/kibana/objects"}]}function getEditBreadcrumbs($route){var indexPattern=$route.current.locals.indexPattern;return[_management.MANAGEMENT_BREADCRUMB,{text:indexPattern.title,href:"#/management/kibana/indices/"+indexPattern.id}]}function getEditFieldBreadcrumbs($route){var fieldName=$route.current.params.fieldName;return[].concat(_toConsumableArray(getEditBreadcrumbs($route)),[{text:fieldName}])}function getCreateFieldBreadcrumbs($route){return[].concat(_toConsumableArray(getEditBreadcrumbs($route)),[{text:_i18n.i18n.translate("kbn.management.indexPatterns.createFieldBreadcrumb",{defaultMessage:"Create field"})}])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _can_append_wildcard=__webpack_require__(4872);Object.defineProperty(exports,"canAppendWildcard",{enumerable:true,get:function get(){return _can_append_wildcard.canAppendWildcard}});var _ensure_minimum_time=__webpack_require__(4873);Object.defineProperty(exports,"ensureMinimumTime",{enumerable:true,get:function get(){return _ensure_minimum_time.ensureMinimumTime}});var _get_indices=__webpack_require__(4874);Object.defineProperty(exports,"getIndices",{enumerable:true,get:function get(){return _get_indices.getIndices}});var _get_matched_indices=__webpack_require__(4875);Object.defineProperty(exports,"getMatchedIndices",{enumerable:true,get:function get(){return _get_matched_indices.getMatchedIndices}});var _contains_illegal_characters=__webpack_require__(4876);Object.defineProperty(exports,"containsIllegalCharacters",{enumerable:true,get:function get(){return _contains_illegal_characters.containsIllegalCharacters}});var _extract_time_fields=__webpack_require__(4877);Object.defineProperty(exports,"extractTimeFields",{enumerable:true,get:function get(){return _extract_time_fields.extractTimeFields}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var FAILURE_REASONS=exports.FAILURE_REASONS={UNKNOWN:"unknown",INVALID_TIEBREAKER:"invalid_tiebreaker"};var LOADING_STATUS=exports.LOADING_STATUS={FAILED:"failed",LOADED:"loaded",LOADING:"loading",UNINITIALIZED:"uninitialized"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RegistryFieldFormatEditorsProvider=undefined;var _registry=__webpack_require__(56);var RegistryFieldFormatEditorsProvider=exports.RegistryFieldFormatEditorsProvider=(0,_registry.uiRegistry)({name:"fieldFormatEditors",index:["formatId"],constructor:function constructor(){this.getEditor=function(formatId){return this.byFormatId[formatId]}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PLUGIN={ID:"beats_management"};exports.CONFIG_PREFIX="xpack.beats"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INDEX_NAMES={BEATS:".management-beats"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TABLE_CONFIG={INITIAL_ROW_SIZE:5,PAGE_SIZE_OPTIONS:[3,5,10,20],TRUNCATE_TAG_LENGTH:33,TRUNCATE_TAG_LENGTH_SMALL:20}},function(module,exports,__webpack_require__){"use strict";var _a;Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var defaultContext={breadcrumbs:[],addCrumb:function addCrumb(crumb){return null},removeCrumb:function removeCrumb(crumb){return null}};_a=react_1.default.createContext(defaultContext),exports.Provider=_a.Provider,exports.Consumer=_a.Consumer},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var context_1=__webpack_require__(1261);exports.BreadcrumbConsumer=context_1.Consumer},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var unstated_1=__webpack_require__(592);var BeatsContainer=function(_unstated_1$Container){_inherits(BeatsContainer,_unstated_1$Container);function BeatsContainer(libs){var _this2=this;_classCallCheck(this,BeatsContainer);var _this=_possibleConstructorReturn(this,(BeatsContainer.__proto__||Object.getPrototypeOf(BeatsContainer)).call(this));_this.libs=libs;_this.getBeatWithToken=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(token){var beat;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.libs.beats.getBeatWithToken(token);case 2:beat=_context.sent;if(!beat){_context.next=6;break}_this.setState({list:[beat].concat(_toConsumableArray(_this.state.list))});return _context.abrupt("return",beat);case 6:return _context.abrupt("return",null);case 7:case"end":return _context.stop()}}},_callee,_this2)}));return function(_x){return _ref.apply(this,arguments)}}();_this.reload=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(kuery){var beats;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!kuery){_context2.next=6;break}_context2.next=3;return _this.libs.elasticsearch.convertKueryToEsQuery(kuery);case 3:_this.query=_context2.sent;_context2.next=7;break;case 6:_this.query=undefined;case 7:_context2.next=9;return _this.libs.beats.getAll(_this.query);case 9:beats=_context2.sent;_this.setState({list:beats});case 11:case"end":return _context2.stop()}}},_callee2,_this2)}));return function(_x2){return _ref2.apply(this,arguments)}}();_this.deactivate=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(beats){var _iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,beat;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context4.prev=3;_iterator=beats[Symbol.iterator]();case 5:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context4.next=12;break}beat=_step.value;_context4.next=9;return _this.libs.beats.update(beat.id,{active:false});case 9:_iteratorNormalCompletion=true;_context4.next=5;break;case 12:_context4.next=18;break;case 14:_context4.prev=14;_context4.t0=_context4["catch"](3);_didIteratorError=true;_iteratorError=_context4.t0;case 18:_context4.prev=18;_context4.prev=19;if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}case 21:_context4.prev=21;if(!_didIteratorError){_context4.next=24;break}throw _iteratorError;case 24:return _context4.finish(21);case 25:return _context4.finish(18);case 26:setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.reload(_this.query);case 2:case"end":return _context3.stop()}}},_callee3,_this2)})),100);case 27:case"end":return _context4.stop()}}},_callee4,_this2,[[3,14,18,26],[19,,21,25]])}));return function(_x3){return _ref3.apply(this,arguments)}}();_this.toggleTagAssignment=function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(tagId,beats){return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!beats.some(function(beat){return beat.full_tags.some(function(_ref6){var id=_ref6.id;return id===tagId})})){_context5.next=4;break}_context5.next=3;return _this.removeTagsFromBeats(beats,tagId);case 3:return _context5.abrupt("return","removed");case 4:_context5.next=6;return _this.assignTagsToBeats(beats,tagId);case 6:return _context5.abrupt("return","added");case 7:case"end":return _context5.stop()}}},_callee5,_this2)}));return function(_x4,_x5){return _ref5.apply(this,arguments)}}();_this.removeTagsFromBeats=function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(beats,tagId){var assignments;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(beats.length){_context7.next=2;break}return _context7.abrupt("return",false);case 2:assignments=createBeatTagAssignments(beats,tagId);_context7.next=5;return _this.libs.beats.removeTagsFromBeats(assignments);case 5:setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _this.reload(_this.query);case 2:case"end":return _context6.stop()}}},_callee6,_this2)})),150);case 6:case"end":return _context7.stop()}}},_callee7,_this2)}));return function(_x6,_x7){return _ref7.apply(this,arguments)}}();_this.assignTagsToBeats=function(){var _ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(beats,tagId){var assignments;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:if(beats.length){_context9.next=2;break}return _context9.abrupt("return",false);case 2:assignments=createBeatTagAssignments(beats,tagId);_context9.next=5;return _this.libs.beats.assignTagsToBeats(assignments);case 5:setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return _this.reload(_this.query);case 2:case"end":return _context8.stop()}}},_callee8,_this2)})),150);case 6:case"end":return _context9.stop()}}},_callee9,_this2)}));return function(_x8,_x9){return _ref9.apply(this,arguments)}}();_this.state={list:[]};return _this}return BeatsContainer}(unstated_1.Container);exports.BeatsContainer=BeatsContainer;function createBeatTagAssignments(beats,tagId){if(typeof beats[0]==="string"){return beats.map(function(id){return{beatId:id,tag:tagId}})}else{return beats.map(function(_ref11){var id=_ref11.id;return{beatId:id,tag:tagId}})}}},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var unstated_1=__webpack_require__(592);var TagsContainer=function(_unstated_1$Container){_inherits(TagsContainer,_unstated_1$Container);function TagsContainer(libs){var _this2=this;_classCallCheck(this,TagsContainer);var _this=_possibleConstructorReturn(this,(TagsContainer.__proto__||Object.getPrototypeOf(TagsContainer)).call(this));_this.libs=libs;_this.reload=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(kuery){var tags;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!kuery){_context.next=6;break}_context.next=3;return _this.libs.elasticsearch.convertKueryToEsQuery(kuery);case 3:_this.query=_context.sent;_context.next=7;break;case 6:_this.query=undefined;case 7:_context.next=9;return _this.libs.tags.getAll(_this.query);case 9:tags=_context.sent;_this.setState({list:tags});case 11:case"end":return _context.stop()}}},_callee,_this2)}));return function(_x){return _ref.apply(this,arguments)}}();_this.delete=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(tags){var tagIds,success;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:tagIds=tags.map(function(tag){return tag.id});_context2.next=3;return _this.libs.tags.delete(tagIds);case 3:success=_context2.sent;if(success){_this.reload(_this.query)}return _context2.abrupt("return",success);case 6:case"end":return _context2.stop()}}},_callee2,_this2)}));return function(_x2){return _ref2.apply(this,arguments)}}();_this.upsertTag=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(tag){var beatTag;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.libs.tags.upsertTag(tag);case 2:beatTag=_context3.sent;if(beatTag!==null){_this.reload(_this.query)}return _context3.abrupt("return",beatTag!==null);case 5:case"end":return _context3.stop()}}},_callee3,_this2)}));return function(_x3){return _ref3.apply(this,arguments)}}();_this.state={list:[]};return _this}return TagsContainer}(unstated_1.Container);exports.TagsContainer=TagsContainer},,function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var querystring_1=__webpack_require__(240);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(37);var WithURLStateComponent=function(_react_1$default$Comp){_inherits(WithURLStateComponent,_react_1$default$Comp);function WithURLStateComponent(){var _this2=this;_classCallCheck(this,WithURLStateComponent);var _this=_possibleConstructorReturn(this,(WithURLStateComponent.__proto__||Object.getPrototypeOf(WithURLStateComponent)).apply(this,arguments));_this.historyListener=null;_this.setURLState=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(state){var newState,pastState,search,newLocation;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:newState=void 0;pastState=_this.URLState;if(!(typeof state==="function")){_context.next=8;break}_context.next=5;return state(pastState);case 5:newState=_context.sent;_context.next=9;break;case 8:newState=state;case 9:search=querystring_1.stringify(_extends({},pastState,newState));newLocation=_extends({},_this.props.history.location,{search:search});_this.props.history.replace(newLocation);_this.forceUpdate();case 13:case"end":return _context.stop()}}},_callee,_this2)}));return function(_x){return _ref.apply(this,arguments)}}();_this.goTo=function(path){_this.props.history.push({pathname:path,search:_this.props.history.location.search})};return _this}_createClass(WithURLStateComponent,[{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.historyListener){this.historyListener()}}},{key:"render",value:function render(){return this.props.children({goTo:this.goTo,setUrlState:this.setURLState,urlState:this.URLState||{}})}},{key:"URLState",get:function get(){return querystring_1.parse(decodeURIComponent(this.props.history.location.search).substring(1))}}]);return WithURLStateComponent}(react_1.default.Component);exports.WithURLStateComponent=WithURLStateComponent;exports.WithURLState=react_router_dom_1.withRouter(WithURLStateComponent);function withUrlState(UnwrappedComponent){return function(origProps){return react_1.default.createElement(exports.WithURLState,null,function(URLProps){return react_1.default.createElement(UnwrappedComponent,Object.assign({},URLProps,origProps))})}}exports.withUrlState=withUrlState},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var i18n_1=__webpack_require__(9);var react_1=__webpack_require__(3);__webpack_require__(1290);__webpack_require__(488);var lodash_1=__webpack_require__(1);var react_2=tslib_1.__importDefault(__webpack_require__(0));var config_list_1=__webpack_require__(3855);var table_1=__webpack_require__(427);var config_view_1=__webpack_require__(1269);var tag_badge_1=__webpack_require__(776);var TagEdit=function(_react_2$default$Pure){_inherits(TagEdit,_react_2$default$Pure);function TagEdit(props){_classCallCheck(this,TagEdit);var _this=_possibleConstructorReturn(this,(TagEdit.__proto__||Object.getPrototypeOf(TagEdit)).call(this,props));_this.getNameError=function(name){if(name&&name!==""&&name.search(/^[a-zA-Z0-9-]+$/)===-1){return i18n_1.i18n.translate("xpack.beatsManagement.tag.tagName.validationErrorMessage",{defaultMessage:"Tag name must consist of letters, numbers, and dashes only"})}else{return false}};_this.handleAssignmentActions=function(action){switch(action){case table_1.AssignmentActionType.Delete:var selection=_this.state.tableRef.current.state.selection;if(_this.props.onDetachBeat){_this.props.onDetachBeat(selection.map(function(beat){return beat.id}))}}};_this.updateTag=function(key,value){return value!==undefined?_this.props.onTagChange(key,value):function(e){return _this.props.onTagChange(key,e.target?e.target.value:e)}};_this.state={showFlyout:false,tableRef:react_2.default.createRef()};return _this}_createClass(TagEdit,[{key:"render",value:function render(){var _this2=this;var _props=this.props,tag=_props.tag,attachedBeats=_props.attachedBeats;return react_2.default.createElement("div",null,react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h3",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tag.tagDetailsTitle",defaultMessage:"Tag details"}))),react_2.default.createElement(eui_1.EuiText,{color:"subdued"},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tag.tagDetailsDescription",defaultMessage:"A tag is a group of configuration blocks that you can apply to one or more Beats."}))),react_2.default.createElement("div",null,react_2.default.createElement(tag_badge_1.TagBadge,{tag:{color:tag.color||"#FF0",id:tag.id}}))),react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiForm,null,react_2.default.createElement(eui_1.EuiFormRow,{label:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tag.tagNameLabel",defaultMessage:"Tag Name"}),isInvalid:!!this.getNameError(tag.id),error:this.getNameError(tag.id)||undefined},react_2.default.createElement(eui_1.EuiFieldText,{name:"name",isInvalid:!!this.getNameError(tag.id),onChange:this.updateTag("id"),disabled:!!this.props.onDetachBeat,value:tag.id,placeholder:i18n_1.i18n.translate("xpack.beatsManagement.tag.tagNamePlaceholder",{defaultMessage:"Tag name (required)"})})),!this.props.onDetachBeat&&react_2.default.createElement(eui_1.EuiFormRow,{label:i18n_1.i18n.translate("xpack.beatsManagement.tag.tagColorLabel",{defaultMessage:"Tag Color"})},react_2.default.createElement(eui_1.EuiColorPicker,{color:tag.color,onChange:this.updateTag("color")}))))),react_2.default.createElement(eui_1.EuiSpacer,null),react_2.default.createElement(eui_1.EuiHorizontalRule,null),react_2.default.createElement(eui_1.EuiFlexGroup,{alignItems:tag.configuration_blocks&&tag.configuration_blocks.length?"stretch":"center"},react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h3",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tag.tagConfigurationsTitle",defaultMessage:"Configuration blocks"}))),react_2.default.createElement(eui_1.EuiText,{color:"subdued"},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tag.tagConfigurationsDescription",defaultMessage:"A tag can have configuration blocks for different types of Beats. For example, a tag\n                  can have two Metricbeat configuration blocks and one Filebeat input configuration block."})))),react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement("div",null,react_2.default.createElement(config_list_1.ConfigList,{configs:tag.configuration_blocks,onConfigClick:function onConfigClick(action,config){var selectedIndex=tag.configuration_blocks.findIndex(function(c){return lodash_1.isEqual(config,c)});if(action==="delete"){var configs=[].concat(_toConsumableArray(tag.configuration_blocks));configs.splice(selectedIndex,1);_this2.updateTag("configuration_blocks",configs)}else{_this2.setState({showFlyout:true,selectedConfigIndex:selectedIndex})}}}),react_2.default.createElement("br",null),react_2.default.createElement(eui_1.EuiButton,{onClick:function onClick(){_this2.setState({showFlyout:true})}},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tag.addConfigurationButtonLabel",defaultMessage:"Add configuration block"}))))),react_2.default.createElement(eui_1.EuiSpacer,null),attachedBeats&&react_2.default.createElement("div",null,react_2.default.createElement(eui_1.EuiHorizontalRule,null),react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h3",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tag.beatsAssignedToTagTitle",defaultMessage:"Beats with this tag"}))),react_2.default.createElement(table_1.Table,{actions:table_1.tagConfigActions,actionHandler:this.handleAssignmentActions,items:attachedBeats,ref:this.state.tableRef,type:table_1.BeatsTableType})),this.state.showFlyout&&react_2.default.createElement(config_view_1.ConfigView,{configBlock:this.state.selectedConfigIndex!==undefined?tag.configuration_blocks[this.state.selectedConfigIndex]:undefined,onClose:function onClose(){return _this2.setState({showFlyout:false,selectedConfigIndex:undefined})},onSave:function onSave(config){_this2.setState({showFlyout:false,selectedConfigIndex:undefined});if(_this2.state.selectedConfigIndex!==undefined){var configs=[].concat(_toConsumableArray(tag.configuration_blocks));configs[_this2.state.selectedConfigIndex]=config;_this2.updateTag("configuration_blocks",configs)}else{_this2.updateTag("configuration_blocks",[].concat(_toConsumableArray(tag.configuration_blocks||[]),[config]))}}}))}}]);return TagEdit}(react_2.default.PureComponent);exports.TagEdit=TagEdit},function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(2473)},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var config_schemas_translations_map_1=__webpack_require__(531);var config_form_1=__webpack_require__(3863);var ConfigViewUi=function(_react_2$default$Comp){_inherits(ConfigViewUi,_react_2$default$Comp);function ConfigViewUi(props){_classCallCheck(this,ConfigViewUi);var _this=_possibleConstructorReturn(this,(ConfigViewUi.__proto__||Object.getPrototypeOf(ConfigViewUi)).call(this,props));_this.form=react_2.default.createRef();_this.supportedConfigs=config_schemas_translations_map_1.getSupportedConfig();_this.onValueChange=function(field){return function(e){var value=e.currentTarget?e.currentTarget.value:e;_this.setState(function(state){return{configBlock:_extends({},state.configBlock,_defineProperty({},field,value))}})}};_this.editMode=props.configBlock!==undefined;_this.state={valid:false,configBlock:props.configBlock||{type:_this.supportedConfigs[0].value}};return _this}_createClass(ConfigViewUi,[{key:"render",value:function render(){var _this2=this;var intl=this.props.intl;return react_2.default.createElement(eui_1.EuiFlyout,{onClose:this.props.onClose},react_2.default.createElement(eui_1.EuiFlyoutHeader,null,react_2.default.createElement(eui_1.EuiTitle,{size:"m"},react_2.default.createElement("h2",null,this.editMode?this.props.onSave?react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tagConfig.editConfigurationTitle",defaultMessage:"Edit configuration block"}):react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tagConfig.viewConfigurationTitle",defaultMessage:"View configuration block"}):react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tagConfig.addConfigurationTitle",defaultMessage:"Add configuration block"})))),react_2.default.createElement(eui_1.EuiFlyoutBody,null,react_2.default.createElement(eui_1.EuiFormRow,{label:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tagConfig.typeLabel",defaultMessage:"Type"})},react_2.default.createElement(eui_1.EuiSelect,{options:this.supportedConfigs,value:this.state.configBlock.type,disabled:this.editMode,onChange:this.onValueChange("type")})),react_2.default.createElement(eui_1.EuiFormRow,{label:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tagConfig.descriptionLabel",defaultMessage:"Description"})},react_2.default.createElement(eui_1.EuiFieldText,{value:this.state.configBlock.description,disabled:!this.props.onSave,onChange:this.onValueChange("description"),placeholder:intl.formatMessage({id:"xpack.beatsManagement.tagConfig.descriptionPlaceholder",defaultMessage:"Description (optional)"})})),react_2.default.createElement("h3",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tagConfig.configurationTypeText",defaultMessage:"{configType} configuration",values:{configType:this.supportedConfigs.find(function(config){return _this2.state.configBlock.type===config.value}).text}})),react_2.default.createElement(eui_1.EuiHorizontalRule,null),react_2.default.createElement(config_form_1.ConfigForm,{onSubmit:this.props.onSave?function(data){if(_this2.props.onSave){_this2.props.onSave(_extends({},_this2.state.configBlock,{configs:[data]}))}_this2.props.onClose()}:undefined,canSubmit:function canSubmit(canIt){return _this2.setState({valid:canIt})},ref:this.form,values:this.state.configBlock,id:this.supportedConfigs.find(function(config){return _this2.state.configBlock.type===config.value}).value,schema:this.supportedConfigs.find(function(config){return _this2.state.configBlock.type===config.value}).config})),react_2.default.createElement(eui_1.EuiFlyoutFooter,null,react_2.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"spaceBetween"},react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiButtonEmpty,{iconType:"cross",onClick:this.props.onClose},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tagConfig.closeButtonLabel",defaultMessage:"Close"}))),this.props.onSave&&react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiButton,{disabled:!this.state.valid,fill:true,onClick:function onClick(){if(_this2.form.current&&_this2.form.current.getWrappedInstance()){_this2.form.current.getWrappedInstance().submit()}}},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tagConfig.saveButtonLabel",defaultMessage:"Save"}))))))}}]);return ConfigViewUi}(react_2.default.Component);exports.ConfigView=react_1.injectI18n(ConfigViewUi)},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var WithKueryAutocompletion=function(_react_1$default$Comp){_inherits(WithKueryAutocompletion,_react_1$default$Comp);function WithKueryAutocompletion(){var _this2=this;_classCallCheck(this,WithKueryAutocompletion);var _this=_possibleConstructorReturn(this,(WithKueryAutocompletion.__proto__||Object.getPrototypeOf(WithKueryAutocompletion)).apply(this,arguments));_this.state={currentRequest:null,suggestions:[]};_this.loadSuggestions=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(expression,cursorPosition,maxSuggestions){var suggestions;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({currentRequest:{expression:expression,cursorPosition:cursorPosition},suggestions:[]});suggestions=[];_context.prev=2;_context.next=5;return _this.props.libs.elasticsearch.getSuggestions(expression,cursorPosition,_this.props.fieldPrefix);case 5:suggestions=_context.sent;_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);suggestions=[];case 11:_this.setState(function(state){return state.currentRequest&&state.currentRequest.expression!==expression&&state.currentRequest.cursorPosition!==cursorPosition?state:_extends({},state,{currentRequest:null,suggestions:maxSuggestions?suggestions.slice(0,maxSuggestions):suggestions})});case 12:case"end":return _context.stop()}}},_callee,_this2,[[2,8]])}));return function(_x,_x2,_x3){return _ref.apply(this,arguments)}}();return _this}_createClass(WithKueryAutocompletion,[{key:"render",value:function render(){var _state=this.state,currentRequest=_state.currentRequest,suggestions=_state.suggestions;return this.props.children({isLoadingSuggestions:currentRequest!==null,loadSuggestions:this.loadSuggestions,suggestions:suggestions})}}]);return WithKueryAutocompletion}(react_1.default.Component);exports.WithKueryAutocompletion=WithKueryAutocompletion},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var lodash_1=__webpack_require__(1);var react_2=tslib_1.__importDefault(__webpack_require__(0));var EnrollBeat=function(_react_2$default$Comp){_inherits(EnrollBeat,_react_2$default$Comp);function EnrollBeat(props){var _this2=this;_classCallCheck(this,EnrollBeat);var _this=_possibleConstructorReturn(this,(EnrollBeat.__proto__||Object.getPrototypeOf(EnrollBeat)).call(this,props));_this.pinging=false;_this.pingForBeatWithToken=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(token){var beats,timeout;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this.props.getBeatWithToken(token);case 3:beats=_context.sent;if(beats){_context.next=6;break}throw new Error("no beats");case 6:return _context.abrupt("return",beats);case 9:_context.prev=9;_context.t0=_context["catch"](0);if(!_this.pinging){_context.next=18;break}timeout=function timeout(ms){return new Promise(function(res){return setTimeout(res,ms)})};_context.next=15;return timeout(5e3);case 15:_context.next=17;return _this.pingForBeatWithToken(token);case 17:return _context.abrupt("return",_context.sent);case 18:case"end":return _context.stop()}}},_callee,_this2,[[0,9]])}));return function(_x){return _ref.apply(this,arguments)}}();_this.waitForTokenToEnrollBeat=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var enrolledBeat;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(_this.pinging||!_this.props.enrollmentToken)){_context2.next=2;break}return _context2.abrupt("return");case 2:_this.pinging=true;_context2.next=5;return _this.pingForBeatWithToken(_this.props.enrollmentToken);case 5:enrolledBeat=_context2.sent;_this.setState({enrolledBeat:enrolledBeat});_this.props.onBeatEnrolled(enrolledBeat);_this.pinging=false;case 9:case"end":return _context2.stop()}}},_callee2,_this2)}));_this.state={enrolledBeat:null,hasPolledForBeat:false,command:"sudo {{beatType}}",beatType:"filebeat"};return _this}_createClass(EnrollBeat,[{key:"componentDidMount",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(this.props.enrollmentToken){_context3.next=3;break}_context3.next=3;return this.props.createEnrollmentToken();case 3:case"end":return _context3.stop()}}},_callee3,this)}));function componentDidMount(){return _ref3.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){var _this3=this;if(!this.props.enrollmentToken&&!this.state.enrolledBeat){return null}if(this.props.enrollmentToken&&!this.state.enrolledBeat){this.waitForTokenToEnrollBeat()}return react_2.default.createElement(react_2.default.Fragment,null,!this.state.enrolledBeat&&react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h3",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.enrollBeat.beatTypeTitle",defaultMessage:"Beat type:"}))))),react_2.default.createElement(eui_1.EuiSelect,{value:this.state.beatType,options:[{value:"filebeat",text:"Filebeat"},{value:"metricbeat",text:"Metricbeat"}],onChange:function onChange(e){return _this3.setState({beatType:e.target.value})},fullWidth:true}))),react_2.default.createElement("br",null),react_2.default.createElement("br",null),react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h3",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.enrollBeat.platformTitle",defaultMessage:"Platform:"}))))),react_2.default.createElement(eui_1.EuiSelect,{value:this.state.command,options:[{value:"sudo {{beatType}}",text:"DEB / RPM"},{value:"PS C:\\Program Files\\{{beatTypeInCaps}}> {{beatType}}.exe",text:"Windows"},{value:"./{{beatType}}",text:"MacOS"}],onChange:function onChange(e){return _this3.setState({command:e.target.value})},fullWidth:true}))),react_2.default.createElement("br",null),react_2.default.createElement("br",null),this.state.command&&react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h3",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.enrollBeat.yourBeatTypeHostTitle",defaultMessage:"On the host where your {beatType} is installed, run:",values:{beatType:lodash_1.capitalize(this.state.beatType)}}))))),react_2.default.createElement("div",{className:"euiFormControlLayout euiFormControlLayout--fullWidth"},react_2.default.createElement("div",{className:"euiFieldText euiFieldText--fullWidth",style:{textAlign:"left"}},"$ "+this.state.command.replace("{{beatType}}",this.state.beatType).replace("{{beatTypeInCaps}}",lodash_1.capitalize(this.state.beatType))+" enroll "+window.location.protocol+"//"+window.location.host+this.props.frameworkBasePath+" "+this.props.enrollmentToken)),react_2.default.createElement("br",null),react_2.default.createElement("br",null),react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h3",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.enrollBeat.waitingBeatTypeToEnrollTitle",defaultMessage:"Waiting for {beatType} to enroll…",values:{beatType:lodash_1.capitalize(this.state.beatType)}}))))))),react_2.default.createElement("br",null),react_2.default.createElement(eui_1.EuiLoadingSpinner,{size:"l"})))),this.state.enrolledBeat&&react_2.default.createElement(eui_1.EuiModalBody,null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.enrollBeat.beatEnrolledTitle",defaultMessage:"The Beat is now enrolled in central management:"}),react_2.default.createElement("br",null),react_2.default.createElement("br",null),react_2.default.createElement("br",null),react_2.default.createElement(eui_1.EuiBasicTable,{items:[this.state.enrolledBeat],columns:[{field:"type",name:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.enrollBeat.beatTypeColumnName",defaultMessage:"Beat Type"}),sortable:false},{field:"version",name:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.enrollBeat.versionColumnName",defaultMessage:"Version"}),sortable:false},{field:"host_name",name:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.enrollBeat.hostnameColumnName",defaultMessage:"Hostname"}),sortable:false}]}),react_2.default.createElement("br",null),react_2.default.createElement("br",null)))}}]);return EnrollBeat}(react_2.default.Component);exports.EnrollBeat=EnrollBeat},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var BASE_PATH=exports.BASE_PATH="/management/elasticsearch/cross_cluster_replication";var BASE_PATH_REMOTE_CLUSTERS=exports.BASE_PATH_REMOTE_CLUSTERS="/management/elasticsearch/remote_clusters";var API_BASE_PATH=exports.API_BASE_PATH="/api/cross_cluster_replication";var API_REMOTE_CLUSTERS_BASE_PATH=exports.API_REMOTE_CLUSTERS_BASE_PATH="/api/remote_clusters"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var objectToArray=exports.objectToArray=function objectToArray(obj){return Object.keys(obj).map(function(k){return _extends({},obj[k],{__id__:k})})};var arrayToObject=exports.arrayToObject=function arrayToObject(array){var keyProp=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"id";return array.reduce(function(acc,item){acc[item[keyProp]]=item;return acc},{})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var arrify=exports.arrify=function arrify(val){return Array.isArray(val)?val:[val]};var wait=exports.wait=function wait(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1e3;return function(data){return new Promise(function(resolve){setTimeout(function(){return resolve(data)},time)})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractQueryParams=extractQueryParams;var _querystring=__webpack_require__(240);function extractQueryParams(queryString){var hrefSplit=queryString.split("?");if(!hrefSplit.length){return{}}return(0,_querystring.parse)(hrefSplit[1])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INDEX_ILLEGAL_CHARACTERS_VISIBLE=undefined;var _index_patterns=__webpack_require__(217);var INDEX_ILLEGAL_CHARACTERS_VISIBLE=exports.INDEX_ILLEGAL_CHARACTERS_VISIBLE=_index_patterns.INDEX_PATTERN_ILLEGAL_CHARACTERS_VISIBLE.concat(",")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPrefixSuffixFromFollowPattern=exports.getPreviewIndicesFromAutoFollowPattern=undefined;var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getFollowPattern=function getFollowPattern(){var prefix=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var suffix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var template=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"{{leader_index}}";return{followPattern:{prefix:prefix,suffix:suffix,template:template},toString:prefix+template+suffix}};var getPreviewIndicesFromAutoFollowPattern=exports.getPreviewIndicesFromAutoFollowPattern=function getPreviewIndicesFromAutoFollowPattern(_ref){var prefix=_ref.prefix,suffix=_ref.suffix,leaderIndexPatterns=_ref.leaderIndexPatterns,_ref$limit=_ref.limit,limit=_ref$limit===undefined?5:_ref$limit,_ref$wildcardPlaceHol=_ref.wildcardPlaceHolders,wildcardPlaceHolders=_ref$wildcardPlaceHol===undefined?[(0,_moment2.default)().format("YYYY-MM-DD"),(0,_moment2.default)().add(1,"days").format("YYYY-MM-DD"),(0,_moment2.default)().add(2,"days").format("YYYY-MM-DD")]:_ref$wildcardPlaceHol;var indicesPreview=[];var indexPreview=void 0;var leaderIndexTemplate=void 0;leaderIndexPatterns.forEach(function(leaderIndexPattern){wildcardPlaceHolders.forEach(function(placeHolder){leaderIndexTemplate=leaderIndexPattern.replace(/\*/g,placeHolder);indexPreview=getFollowPattern(prefix,suffix,leaderIndexTemplate);if(!indicesPreview.some(function(_indexPreview){return indexPreview.toString===_indexPreview.toString})){indicesPreview.push(indexPreview)}})});return{indicesPreview:indicesPreview.slice(0,limit),hasMore:indicesPreview.length>limit}};var getPrefixSuffixFromFollowPattern=exports.getPrefixSuffixFromFollowPattern=function getPrefixSuffixFromFollowPattern(followPattern){var followIndexPatternPrefix=void 0;var followIndexPatternSuffix=void 0;var template="{{leader_index}}";var index=followPattern.indexOf(template);if(index>=0){followIndexPatternPrefix=followPattern.slice(0,index);followIndexPatternSuffix=followPattern.slice(index+template.length)}return{followIndexPatternPrefix:followIndexPatternPrefix,followIndexPatternSuffix:followIndexPatternSuffix}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var BASE_PATH=exports.BASE_PATH="/management/elasticsearch/index_management/"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _delete_phase=__webpack_require__(3955);Object.defineProperty(exports,"defaultDeletePhase",{enumerable:true,get:function get(){return _delete_phase.defaultDeletePhase}});var _cold_phase=__webpack_require__(3956);Object.defineProperty(exports,"defaultColdPhase",{enumerable:true,get:function get(){return _cold_phase.defaultColdPhase}});var _hot_phase=__webpack_require__(3957);Object.defineProperty(exports,"defaultHotPhase",{enumerable:true,get:function get(){return _hot_phase.defaultHotPhase}});var _warm_phase=__webpack_require__(3958);Object.defineProperty(exports,"defaultWarmPhase",{enumerable:true,get:function get(){return _warm_phase.defaultWarmPhase}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchNodeDetails=exports.fetchedNodeDetails=exports.fetchNodes=exports.fetchedNodes=exports.setSelectedReplicaCount=exports.setSelectedPrimaryShardCount=exports.setSelectedNodeAttrs=undefined;var _i18n=__webpack_require__(9);var _reduxActions=__webpack_require__(25);var _api_errors=__webpack_require__(317);var _api=__webpack_require__(267);var _constants=__webpack_require__(55);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var setSelectedNodeAttrs=exports.setSelectedNodeAttrs=(0,_reduxActions.createAction)(_constants.SET_SELECTED_NODE_ATTRS);var setSelectedPrimaryShardCount=exports.setSelectedPrimaryShardCount=(0,_reduxActions.createAction)("SET_SELECTED_PRIMARY_SHARED_COUNT");var setSelectedReplicaCount=exports.setSelectedReplicaCount=(0,_reduxActions.createAction)("SET_SELECTED_REPLICA_COUNT");var fetchedNodes=exports.fetchedNodes=(0,_reduxActions.createAction)("FETCHED_NODES");var fetchingNodes=false;var fetchNodes=exports.fetchNodes=function fetchNodes(){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var nodes,title;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(fetchingNodes){_context.next=7;break}fetchingNodes=true;_context.next=5;return(0,_api.loadNodes)();case 5:nodes=_context.sent;dispatch(fetchedNodes(nodes));case 7:_context.next=13;break;case 9:_context.prev=9;_context.t0=_context["catch"](0);title=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.nodeInfoErrorMessage",{defaultMessage:"Error loading node attribute information"});(0,_api_errors.showApiError)(_context.t0,title);case 13:_context.prev=13;fetchingNodes=false;return _context.finish(13);case 16:case"end":return _context.stop()}}},_callee,undefined,[[0,9,13,16]])}));return function(_x){return _ref.apply(this,arguments)}}()};var fetchedNodeDetails=exports.fetchedNodeDetails=(0,_reduxActions.createAction)("FETCHED_NODE_DETAILS",function(selectedNodeAttrs,details){return{selectedNodeAttrs:selectedNodeAttrs,details:details}});var fetchNodeDetails=exports.fetchNodeDetails=function fetchNodeDetails(selectedNodeAttrs){return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(dispatch){var details,title;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:details=void 0;_context2.prev=1;_context2.next=4;return(0,_api.loadNodeDetails)(selectedNodeAttrs);case 4:details=_context2.sent;_context2.next=12;break;case 7:_context2.prev=7;_context2.t0=_context2["catch"](1);title=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.nodeDetailErrorMessage",{defaultMessage:"Error loading node attribute details"});(0,_api_errors.showApiError)(_context2.t0,title);return _context2.abrupt("return",false);case 12:dispatch(fetchedNodeDetails(selectedNodeAttrs,details));case 13:case"end":return _context2.stop()}}},_callee2,undefined,[[1,7]])}));return function(_x2){return _ref2.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setAliasName=exports.setIndexName=exports.setBootstrapEnabled=undefined;var _reduxActions=__webpack_require__(25);var setBootstrapEnabled=exports.setBootstrapEnabled=(0,_reduxActions.createAction)("SET_BOOTSTRAP_ENABLED");var setIndexName=exports.setIndexName=(0,_reduxActions.createAction)("SET_INDEX_NAME");var setAliasName=exports.setAliasName=(0,_reduxActions.createAction)("SET_ALIAS_NAME")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _node_allocation=__webpack_require__(3969);Object.defineProperty(exports,"NodeAllocation",{enumerable:true,get:function get(){return _node_allocation.NodeAllocation}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var findFirstError=exports.findFirstError=function findFirstError(object){var topLevel=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var firstError=void 0;var keys=topLevel?["policyName","hot","warm","cold","delete"]:Object.keys(object);var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=keys[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var key=_step.value;var value=object[key];if(Array.isArray(value)&&value.length>0){firstError=key;break}else if(value){firstError=findFirstError(value,false);if(firstError){firstError=key+"."+firstError;break}}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return firstError}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_list=__webpack_require__(4008);Object.defineProperty(exports,"IndexList",{enumerable:true,get:function get(){return _index_list.IndexList}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.deleteIndices=exports.deleteIndicesSuccess=undefined;var _reduxActions=__webpack_require__(25);var _i18n=__webpack_require__(9);var _services=__webpack_require__(184);var _notify=__webpack_require__(10);var _actions=__webpack_require__(73);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var deleteIndicesSuccess=exports.deleteIndicesSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_DELETE_INDICES_SUCCESS");var deleteIndices=exports.deleteIndices=function deleteIndices(_ref){var indexNames=_ref.indexNames;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_services.deleteIndices)(indexNames);case 3:_context.next=9;break;case 5:_context.prev=5;_context.t0=_context["catch"](0);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 9:_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.deleteIndicesAction.successfullyDeletedIndicesMessage",{defaultMessage:"Successfully deleted: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));dispatch(deleteIndicesSuccess({indexNames:indexNames}));case 11:case"end":return _context.stop()}}},_callee,undefined,[[0,5]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadIndices=exports.loadIndicesSuccess=exports.loadIndicesStart=undefined;var _reduxActions=__webpack_require__(25);var _services=__webpack_require__(184);var _notify=__webpack_require__(10);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var loadIndicesStart=exports.loadIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_START");var loadIndicesSuccess=exports.loadIndicesSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_SUCCESS");var loadIndices=exports.loadIndices=function loadIndices(){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var indices;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(loadIndicesStart());indices=void 0;_context.prev=2;_context.next=5;return(0,_services.loadIndices)();case 5:indices=_context.sent;_context.next=12;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);dispatch(loadIndicesSuccess({indices:[]}));return _context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 12:dispatch(loadIndicesSuccess({indices:indices}));case 13:case"end":return _context.stop()}}},_callee,undefined,[[2,8]])}));return function(_x){return _ref.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.reloadIndices=exports.reloadIndicesSuccess=undefined;var _reduxActions=__webpack_require__(25);var _i18n=__webpack_require__(9);var _selectors=__webpack_require__(318);var _services=__webpack_require__(184);var _load_indices=__webpack_require__(1286);var _notify=__webpack_require__(10);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var reloadIndicesSuccess=exports.reloadIndicesSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_RELOAD_INDICES_SUCCESS");var reloadIndices=exports.reloadIndices=function reloadIndices(indexNames){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch,getState){var indices;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:indices=void 0;indexNames=indexNames||(0,_selectors.getIndexNamesForCurrentPage)(getState());_context.prev=2;_context.next=5;return(0,_services.reloadIndices)(indexNames);case 5:indices=_context.sent;_context.next=13;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);if(!(_context.t0.status===404)){_context.next=12;break}return _context.abrupt("return",dispatch((0,_load_indices.loadIndices)()));case 12:return _context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 13:if(!(indices&&indices.length>0)){_context.next=17;break}return _context.abrupt("return",dispatch(reloadIndicesSuccess({indices:indices})));case 17:return _context.abrupt("return",_notify.toastNotifications.addWarning(_i18n.i18n.translate("xpack.idxMgmt.reloadIndicesAction.indicesPageRefreshFailureMessage",{defaultMessage:"Failed to refresh current page of indices."})));case 18:case"end":return _context.stop()}}},_callee,undefined,[[2,8]])}));return function(_x,_x2){return _ref.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateIndexSettings=exports.updateIndexSettingsError=exports.updateIndexSettingsSuccess=undefined;var _reduxActions=__webpack_require__(25);var _i18n=__webpack_require__(9);var _services=__webpack_require__(184);var _reload_indices=__webpack_require__(1287);var _notify=__webpack_require__(10);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var updateIndexSettingsSuccess=exports.updateIndexSettingsSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_SUCCESS");var updateIndexSettingsError=exports.updateIndexSettingsError=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_ERROR");var updateIndexSettings=exports.updateIndexSettings=function updateIndexSettings(_ref){var indexName=_ref.indexName,settings=_ref.settings;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var _ref3,error,message;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(Object.keys(settings).length!==0)){_context.next=14;break}_context.prev=1;_context.next=4;return(0,_services.updateIndexSettings)(indexName,settings);case 4:_ref3=_context.sent;error=_ref3.error;message=_ref3.message;if(!error){_context.next=9;break}return _context.abrupt("return",dispatch(updateIndexSettingsError({error:message})));case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context["catch"](1);return _context.abrupt("return",dispatch(updateIndexSettingsError({error:_context.t0.data.message})));case 14:dispatch(updateIndexSettingsSuccess());dispatch((0,_reload_indices.reloadIndices)([indexName]));_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.updateIndexSettingsAction.settingsSuccessUpdateMessage",{defaultMessage:"Successfully updated settings for index {indexName}",values:{indexName:indexName}}));case 17:case"end":return _context.stop()}}},_callee,undefined,[[1,11]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.closeDetailPanel=exports.openDetailPanel=undefined;var _reduxActions=__webpack_require__(25);var openDetailPanel=exports.openDetailPanel=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_OPEN_DETAIL_PANEL");var closeDetailPanel=exports.closeDetailPanel=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLOSE_DETAIL_PANEL")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(2292)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addLicense=undefined;var _reduxActions=__webpack_require__(25);var addLicense=exports.addLicense=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_ADD_LICENSE")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uploadLicense=exports.uploadLicenseStatus=undefined;var _reduxActions=__webpack_require__(25);var _add_license=__webpack_require__(1291);var _base_path=__webpack_require__(574);var _es=__webpack_require__(784);var _add_error_message=__webpack_require__(785);var _i18n=__webpack_require__(9);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var uploadLicenseStatus=exports.uploadLicenseStatus=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_UPLOAD_LICENSE_STATUS");var genericUploadError=_i18n.i18n.translate("xpack.licenseMgmt.uploadLicense.genericUploadErrorMessage",{defaultMessage:"Error encountered uploading license:"});var dispatchFromResponse=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(response,dispatch,currentLicenseType,newLicenseType,_ref){var xPackInfo=_ref.xPackInfo,kbnUrl=_ref.kbnUrl;var error,acknowledged,licenseStatus,acknowledge,messages,first;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:error=response.error,acknowledged=response.acknowledged,licenseStatus=response.license_status,acknowledge=response.acknowledge;if(!error){_context.next=6;break}dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)(genericUploadError+" "+error.reason));_context.next=28;break;case 6:if(!acknowledged){_context.next=25;break}if(!(licenseStatus==="invalid")){_context.next=12;break}dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)(_i18n.i18n.translate("xpack.licenseMgmt.uploadLicense.invalidLicenseErrorMessage",{defaultMessage:"The supplied license is not valid for this product."})));_context.next=23;break;case 12:if(!(licenseStatus==="expired")){_context.next=17;break}dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)(_i18n.i18n.translate("xpack.licenseMgmt.uploadLicense.expiredLicenseErrorMessage",{defaultMessage:"The supplied license has expired."})));_context.next=23;break;case 17:_context.next=19;return xPackInfo.refresh();case 19:dispatch((0,_add_license.addLicense)(xPackInfo.get("license")));dispatch(uploadLicenseStatus({}));kbnUrl.change(_base_path.BASE_PATH);window.location.reload();case 23:_context.next=28;break;case 25:messages=Object.values(acknowledge).slice(1);first=_i18n.i18n.translate("xpack.licenseMgmt.uploadLicense.problemWithUploadedLicenseDescription",{defaultMessage:"Some functionality will be lost if you replace your {currentLicenseType} license with a {newLicenseType} license. Review the list of features below.",values:{currentLicenseType:currentLicenseType.toUpperCase(),newLicenseType:newLicenseType.toUpperCase()}});dispatch(uploadLicenseStatus({acknowledge:true,messages:[first].concat(_toConsumableArray(messages))}));case 28:case"end":return _context.stop()}}},_callee,undefined)}));return function dispatchFromResponse(_x,_x2,_x3,_x4,_x5){return _ref2.apply(this,arguments)}}();var uploadLicense=exports.uploadLicense=function uploadLicense(licenseString,currentLicenseType,acknowledge){return function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(dispatch,getState,services){var newLicenseType,response,message;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(uploadLicenseStatus({applying:true}));newLicenseType=null;_context2.prev=2;newLicenseType=JSON.parse(licenseString).license.type;_context2.next=10;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](2);dispatch(uploadLicenseStatus({}));return _context2.abrupt("return",dispatch((0,_add_error_message.addUploadErrorMessage)(_i18n.i18n.translate("xpack.licenseMgmt.uploadLicense.checkLicenseFileErrorMessage",{defaultMessage:"{genericUploadError} Check your license file.",values:{genericUploadError:genericUploadError}}))));case 10:_context2.prev=10;_context2.next=13;return(0,_es.putLicense)(licenseString,acknowledge);case 13:response=_context2.sent;_context2.next=16;return dispatchFromResponse(response,dispatch,currentLicenseType,newLicenseType,services);case 16:_context2.next=23;break;case 18:_context2.prev=18;_context2.t1=_context2["catch"](10);message=_context2.t1.responseJSON&&_context2.t1.responseJSON.error.reason?_context2.t1.responseJSON.error.reason:_i18n.i18n.translate("xpack.licenseMgmt.uploadLicense.unknownErrorErrorMessage",{defaultMessage:"Unknown error."});dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)(genericUploadError+" "+message));case 23:case"end":return _context2.stop()}}},_callee2,undefined,[[2,6],[10,18]])}));return function(_x6,_x7,_x8){return _ref3.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startBasicLicense=exports.cancelStartBasicLicense=exports.startBasicLicenseStatus=undefined;var _reduxActions=__webpack_require__(25);var _es=__webpack_require__(784);var _notify=__webpack_require__(10);var _i18n=__webpack_require__(9);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var startBasicLicenseStatus=exports.startBasicLicenseStatus=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_START_BASIC_LICENSE_STATUS");var cancelStartBasicLicense=exports.cancelStartBasicLicense=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_CANCEL_START_BASIC_LICENSE");var startBasicLicense=exports.startBasicLicense=function startBasicLicense(currentLicenseType,ack){return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch,getState,_ref){var xPackInfo=_ref.xPackInfo;var _ref3,acknowledged,basic_was_started,error_message,acknowledge,messages,first;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_es.startBasic)(ack);case 2:_ref3=_context.sent;acknowledged=_ref3.acknowledged;basic_was_started=_ref3.basic_was_started;error_message=_ref3.error_message;acknowledge=_ref3.acknowledge;if(!acknowledged){_context.next=17;break}if(!basic_was_started){_context.next=14;break}_context.next=11;return xPackInfo.refresh();case 11:window.location.reload();_context.next=15;break;case 14:return _context.abrupt("return",_notify.toastNotifications.addDanger(error_message));case 15:_context.next=20;break;case 17:messages=Object.values(acknowledge).slice(1).map(function(item){return item[0]});first=_i18n.i18n.translate("xpack.licenseMgmt.replacingCurrentLicenseWithBasicLicenseWarningMessage",{defaultMessage:"Some functionality will be lost if you replace your {currentLicenseType} license with a BASIC license. Review the list of features below.",values:{currentLicenseType:currentLicenseType.toUpperCase()}});dispatch(startBasicLicenseStatus({acknowledge:true,messages:[first].concat(_toConsumableArray(messages))}));case 20:case"end":return _context.stop()}}},_callee,undefined)}));return function(_x,_x2,_x3){return _ref2.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startLicenseTrial=exports.loadTrialStatus=exports.trialStatusLoaded=undefined;var _reduxActions=__webpack_require__(25);var _es=__webpack_require__(784);var _notify=__webpack_require__(10);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var trialStatusLoaded=exports.trialStatusLoaded=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_TRIAL_STATUS_LOADED");var loadTrialStatus=exports.loadTrialStatus=function loadTrialStatus(){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var trialOK;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_es.canStartTrial)();case 2:trialOK=_context.sent;dispatch(trialStatusLoaded(trialOK));case 4:case"end":return _context.stop()}}},_callee,undefined)}));return function(_x){return _ref.apply(this,arguments)}}()};var startLicenseTrial=exports.startLicenseTrial=function startLicenseTrial(){return function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(dispatch,getState,_ref2){var xPackInfo=_ref2.xPackInfo;var _ref4,trial_was_started,error_message;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_es.startTrial)();case 2:_ref4=_context2.sent;trial_was_started=_ref4.trial_was_started;error_message=_ref4.error_message;if(!trial_was_started){_context2.next=11;break}_context2.next=8;return xPackInfo.refresh();case 8:window.location.reload();_context2.next=12;break;case 11:return _context2.abrupt("return",_notify.toastNotifications.addDanger(error_message));case 12:case"end":return _context2.stop()}}},_callee2,undefined)}));return function(_x2,_x3,_x4){return _ref3.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _telemetry_opt_in=__webpack_require__(4082);Object.defineProperty(exports,"TelemetryOptIn",{enumerable:true,get:function get(){return _telemetry_opt_in.TelemetryOptIn}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TOOLTIPS=undefined;var _i18n=__webpack_require__(9);var TOOLTIPS=exports.TOOLTIPS={settings:{"pipeline.workers":_i18n.i18n.translate("xpack.logstash.workersTooltip",{defaultMessage:"The number of workers that will, in parallel, execute the filter and "+"output stages of the pipeline. If you find that events are backing up, "+"or that the CPU is not saturated, consider increasing this number to "+"better utilize machine processing power.\n\n"+"Default value: Number of the host’s CPU cores"}),"pipeline.batch.size":_i18n.i18n.translate("xpack.logstash.pipelineBatchSizeTooltip",{defaultMessage:"The maximum number of events an individual worker thread will collect "+"from inputs before attempting to execute its filters and outputs. Larger "+"batch sizes are generally more efficient, but come at the cost of increased "+"memory overhead. You may have to increase the JVM heap size by setting the "+"LS_HEAP_SIZE variable to effectively use the option.\n\n"+"Default value: 125"}),"pipeline.batch.delay":_i18n.i18n.translate("xpack.logstash.pipelineBatchDelayTooltip",{defaultMessage:"When creating pipeline event batches, how long in milliseconds to wait "+"for each event before dispatching an undersized batch to pipeline workers.\n\n"+"Default value: 50ms"}),"queue.type":_i18n.i18n.translate("xpack.logstash.queueTypeTooltip",{defaultMessage:"The internal queuing model to use for event buffering. Specify memory for "+"legacy in-memory based queuing, or persisted for disk-based ACKed queueing\n\n"+"Default value: memory"}),"queue.max_bytes":_i18n.i18n.translate("xpack.logstash.queueMaxBytesTooltip",{defaultMessage:"The total capacity of the queue in number of bytes. Make sure the "+"capacity of your disk drive is greater than the value you specify here.\n\n"+"Default value: 1024mb (1g)"}),"queue.checkpoint.writes":_i18n.i18n.translate("xpack.logstash.queueCheckpointWritesTooltip",{defaultMessage:"The maximum number of written events before forcing a checkpoint when "+"persistent queues are enabled. Specify 0 to set this value to unlimited.\n\n"+"Default value: 1024"})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pipeline=__webpack_require__(4108);Object.defineProperty(exports,"Pipeline",{enumerable:true,get:function get(){return _pipeline.Pipeline}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PIPELINE_EDITOR=undefined;var _i18n=__webpack_require__(9);var PIPELINE_EDITOR=exports.PIPELINE_EDITOR={DELETE_PIPELINE_MODAL_MESSAGE:_i18n.i18n.translate("xpack.logstash.deletePipelineModalMessage",{defaultMessage:"You cannot recover a deleted pipeline."}),ID_REQUIRED_ERR_MSG:_i18n.i18n.translate("xpack.logstash.pipelineIdRequiredMessage",{defaultMessage:"Pipeline ID is required"}),ID_FORMAT_ERR_MSG:_i18n.i18n.translate("xpack.logstash.idFormatErrorMessage",{defaultMessage:"Pipeline ID must begin with a letter or underscore and contain only letters, underscores, dashes, and numbers"}),QUEUE_TYPES:[{"data-test-subj":"selectQueueType-memory",text:_i18n.i18n.translate("xpack.logstash.queueTypes.memoryLabel",{defaultMessage:"memory"}),value:"memory"},{"data-test-subj":"selectQueueType-persisted",text:_i18n.i18n.translate("xpack.logstash.queueTypes.persistedLabel",{defaultMessage:"persisted"}),value:"persisted"}],UNITS:[{"data-test-subj":"selectQueueMaxBytesUnits-b",text:_i18n.i18n.translate("xpack.logstash.units.bytesLabel",{defaultMessage:"bytes"}),value:"b"},{"data-test-subj":"selectQueueMaxBytesUnits-kb",text:_i18n.i18n.translate("xpack.logstash.units.kilobytesLabel",{defaultMessage:"kilobytes"}),value:"kb"},{"data-test-subj":"selectQueueMaxBytesUnits-mb",text:_i18n.i18n.translate("xpack.logstash.units.megabytesLabel",{defaultMessage:"megabytes"}),value:"mb"},{"data-test-subj":"selectQueueMaxBytesUnits-gb",text:_i18n.i18n.translate("xpack.logstash.units.gigabytesLabel",{defaultMessage:"gigabytes"}),value:"gb"},{"data-test-subj":"selectQueueMaxBytesUnits-tb",text:_i18n.i18n.translate("xpack.logstash.units.terabytesLabel",{defaultMessage:"terabytes"}),value:"tb"},{"data-test-subj":"selectQueueMaxBytesUnits-pb",text:_i18n.i18n.translate("xpack.logstash.units.petabytesLabel",{defaultMessage:"petabytes"}),value:"pb"}]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FormLabelWithIconTip=FormLabelWithIconTip;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FormLabelWithIconTip(_ref){var formRowLabelText=_ref.formRowLabelText,formRowTooltipText=_ref.formRowTooltipText;return _react2.default.createElement("div",null,_react2.default.createElement("span",null,formRowLabelText)," ",_react2.default.createElement(_eui.EuiIconTip,{content:formRowTooltipText,size:"s",type:"questionInCircle"}))}FormLabelWithIconTip.propTypes={formRowLabelText:_propTypes2.default.string.isRequired,formRowTooltipText:_propTypes2.default.string.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PIPELINE_LIST=undefined;var _i18n=__webpack_require__(9);var PIPELINE_LIST=exports.PIPELINE_LIST={INITIAL_PAGE_SIZE:20,PAGE_SIZE_OPTIONS:[5,8,20,50],PIPELINE_NOT_CENTRALLY_MANAGED_TOOLTIP_TEXT:_i18n.i18n.translate("xpack.logstash.pipelineNotCentrallyManagedTooltip",{defaultMessage:"This pipeline wasn't created using Centralized Configuration Management. It can't be managed or edited here."}),INFO_ALERTS:{CALL_OUT_TITLE:_i18n.i18n.translate("xpack.logstash.kibanaManagementPipelinesTitle",{defaultMessage:"Only pipelines created in Kibana Management appear here"})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pipeline_list_item=__webpack_require__(4150);Object.defineProperty(exports,"PipelineListItem",{enumerable:true,get:function get(){return _pipeline_list_item.PipelineListItem}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4154)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4156)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.closeDetailPanel=exports.openDetailPanel=undefined;var _services=__webpack_require__(202);var _action_types=__webpack_require__(214);var openDetailPanel=exports.openDetailPanel=function openDetailPanel(_ref){var name=_ref.name;return function(dispatch){var _getRouter=(0,_services.getRouter)(),history=_getRouter.history;var search=history.location.search;var _extractQueryParams=(0,_services.extractQueryParams)(search),clusterName=_extractQueryParams.cluster;if(clusterName!==name){history.replace({search:"?cluster="+name})}dispatch({type:_action_types.OPEN_DETAIL_PANEL,payload:{clusterName:name}})}};var closeDetailPanel=exports.closeDetailPanel=function closeDetailPanel(){return function(dispatch){dispatch({type:_action_types.CLOSE_DETAIL_PANEL})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.refreshClusters=undefined;var _i18n=__webpack_require__(9);var _services=__webpack_require__(202);var _action_types=__webpack_require__(214);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var refreshClusters=exports.refreshClusters=function refreshClusters(){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var clusters;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:clusters=void 0;_context.prev=1;_context.next=4;return(0,_services.loadClusters)();case 4:clusters=_context.sent;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);return _context.abrupt("return",(0,_services.showApiWarning)(_context.t0,_i18n.i18n.translate("xpack.remoteClusters.refreshAction.errorTitle",{defaultMessage:"Error refreshing remote clusters"})));case 10:dispatch({type:_action_types.REFRESH_CLUSTERS_SUCCESS,payload:{clusters:clusters}});case 11:case"end":return _context.stop()}}},_callee,undefined,[[1,7]])}));return function(_x){return _ref.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadClusters=undefined;var _i18n=__webpack_require__(9);var _services=__webpack_require__(202);var _action_types=__webpack_require__(214);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var loadClusters=exports.loadClusters=function loadClusters(){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var clusters;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:_action_types.LOAD_CLUSTERS_START});clusters=void 0;_context.prev=2;_context.next=5;return(0,_services.loadClusters)();case 5:clusters=_context.sent;_context.next=12;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);dispatch({type:_action_types.LOAD_CLUSTERS_FAILURE,payload:{error:_context.t0}});return _context.abrupt("return",(0,_services.showApiError)(_context.t0,_i18n.i18n.translate("xpack.remoteClusters.loadAction.errorTitle",{defaultMessage:"Error loading remote clusters"})));case 12:dispatch({type:_action_types.LOAD_CLUSTERS_SUCCESS,payload:{clusters:clusters}});case 13:case"end":return _context.stop()}}},_callee,undefined,[[2,8]])}));return function(_x){return _ref.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _connection_status=__webpack_require__(4180);Object.defineProperty(exports,"ConnectionStatus",{enumerable:true,get:function get(){return _connection_status.ConnectionStatus}});var _remove_cluster_button_provider=__webpack_require__(4182);Object.defineProperty(exports,"RemoveClusterButtonProvider",{enumerable:true,get:function get(){return _remove_cluster_button_provider.RemoveClusterButtonProvider}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.remoteClustersUrl=exports.skippingDisconnectedClustersUrl=undefined;var _documentation_links=__webpack_require__(65);var esBase=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/elasticsearch/reference/"+_documentation_links.DOC_LINK_VERSION;var skippingDisconnectedClustersUrl=exports.skippingDisconnectedClustersUrl=esBase+"/modules-cross-cluster-search.html#_skipping_disconnected_clusters";var remoteClustersUrl=exports.remoteClustersUrl=esBase+"/modules-remote-clusters.html"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setHttp=setHttp;exports.getHttp=getHttp;var _http=void 0;function setHttp(http){_http=http}function getHttp(){return _http}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.closeDetailPanel=exports.openDetailPanel=undefined;var _services=__webpack_require__(52);var _action_types=__webpack_require__(203);var openDetailPanel=exports.openDetailPanel=function openDetailPanel(_ref){var panelType=_ref.panelType,jobId=_ref.jobId;return function(dispatch){var _getRouter=(0,_services.getRouter)(),history=_getRouter.history;var search=history.location.search;var _extractQueryParams=(0,_services.extractQueryParams)(search),deepLinkedJobId=_extractQueryParams.job;if(deepLinkedJobId!==jobId){history.replace({search:"?job="+jobId})}dispatch({type:_action_types.OPEN_DETAIL_PANEL,payload:{panelType:panelType,jobId:jobId}})}};var closeDetailPanel=exports.closeDetailPanel=function closeDetailPanel(){return function(dispatch){dispatch({type:_action_types.CLOSE_DETAIL_PANEL})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _job_status=__webpack_require__(4256);Object.defineProperty(exports,"JobStatus",{enumerable:true,get:function get(){return _job_status.JobStatus}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(2281)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _users=__webpack_require__(4316);Object.defineProperty(exports,"Users",{enumerable:true,get:function get(){return _users.Users}});var _edit_user=__webpack_require__(4317);Object.defineProperty(exports,"EditUser",{enumerable:true,get:function get(){return _edit_user.EditUser}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConfirmDelete=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _notify=__webpack_require__(10);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ConfirmDeleteUI=function(_Component){_inherits(ConfirmDeleteUI,_Component);function ConfirmDeleteUI(){var _ref,_this2=this;var _temp,_this,_ret;_classCallCheck(this,ConfirmDeleteUI);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ConfirmDeleteUI.__proto__||Object.getPrototypeOf(ConfirmDeleteUI)).call.apply(_ref,[this].concat(args))),_this),_this.deleteUsers=function(){var _this$props=_this.props,usersToDelete=_this$props.usersToDelete,apiClient=_this$props.apiClient,callback=_this$props.callback;var errors=[];usersToDelete.forEach(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(username){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return apiClient.deleteUser(username);case 3:_notify.toastNotifications.addSuccess(_this.props.intl.formatMessage({id:"xpack.security.management.users.confirmDelete.userSuccessfullyDeletedNotificationMessage",defaultMessage:"Deleted user {username}"},{username:username}));_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](0);errors.push(username);_notify.toastNotifications.addDanger(_this.props.intl.formatMessage({id:"xpack.security.management.users.confirmDelete.userDeletingErrorNotificationMessage",defaultMessage:"Error deleting user {username}"},{username:username}));case 10:if(callback){callback(usersToDelete,errors)}case 11:case"end":return _context.stop()}}},_callee,_this2,[[0,6]])}));return function(_x){return _ref2.apply(this,arguments)}}())},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(ConfirmDeleteUI,[{key:"render",value:function render(){var _props=this.props,usersToDelete=_props.usersToDelete,onCancel=_props.onCancel,intl=_props.intl;var moreThanOne=usersToDelete.length>1;var title=moreThanOne?intl.formatMessage({id:"xpack.security.management.users.confirmDelete.deleteMultipleUsersTitle",defaultMessage:"Delete {userLength} users"},{userLength:usersToDelete.length}):intl.formatMessage({id:"xpack.security.management.users.confirmDelete.deleteOneUserTitle",defaultMessage:"Delete user {userLength}"},{userLength:usersToDelete[0]});return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:title,onCancel:onCancel,onConfirm:this.deleteUsers,cancelButtonText:intl.formatMessage({id:"xpack.security.management.users.confirmDelete.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:intl.formatMessage({id:"xpack.security.management.users.confirmDelete.confirmButtonLabel",defaultMessage:"Delete"}),buttonColor:"danger"},_react2.default.createElement("div",null,moreThanOne?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.confirmDelete.removingUsersDescription",defaultMessage:"You are about to delete these users:"})),_react2.default.createElement("ul",null,usersToDelete.map(function(username){return _react2.default.createElement("li",{key:username},username)}))):null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.confirmDelete.removingUsersWarningMessage",defaultMessage:"This operation cannot be undone."})))))}}]);return ConfirmDeleteUI}(_react.Component);var ConfirmDelete=exports.ConfirmDelete=(0,_react3.injectI18n)(ConfirmDeleteUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createApiClient=undefined;var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var usersUrl=_chrome2.default.addBasePath("/api/security/v1/users");var rolesUrl=_chrome2.default.addBasePath("/api/security/role");var createApiClient=exports.createApiClient=function createApiClient(httpClient){return{getCurrentUser:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var url,_ref2,data;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=_chrome2.default.addBasePath("/api/security/v1/me");_context.next=3;return httpClient.get(url);case 3:_ref2=_context.sent;data=_ref2.data;return _context.abrupt("return",data);case 6:case"end":return _context.stop()}}},_callee,this)}));function getCurrentUser(){return _ref.apply(this,arguments)}return getCurrentUser}(),getUsers:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _ref4,data;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return httpClient.get(usersUrl);case 2:_ref4=_context2.sent;data=_ref4.data;return _context2.abrupt("return",data);case 5:case"end":return _context2.stop()}}},_callee2,this)}));function getUsers(){return _ref3.apply(this,arguments)}return getUsers}(),getUser:function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(username){var url,_ref6,data;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:url=usersUrl+"/"+username;_context3.next=3;return httpClient.get(url);case 3:_ref6=_context3.sent;data=_ref6.data;return _context3.abrupt("return",data);case 6:case"end":return _context3.stop()}}},_callee3,this)}));function getUser(_x){return _ref5.apply(this,arguments)}return getUser}(),deleteUser:function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(username){var url;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:url=usersUrl+"/"+username;_context4.next=3;return httpClient.delete(url);case 3:case"end":return _context4.stop()}}},_callee4,this)}));function deleteUser(_x2){return _ref7.apply(this,arguments)}return deleteUser}(),saveUser:function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(user){var url;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:url=usersUrl+"/"+user.username;_context5.next=3;return httpClient.post(url,user);case 3:case"end":return _context5.stop()}}},_callee5,this)}));function saveUser(_x3){return _ref8.apply(this,arguments)}return saveUser}(),getRoles:function(){var _ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var _ref10,data;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return httpClient.get(rolesUrl);case 2:_ref10=_context6.sent;data=_ref10.data;return _context6.abrupt("return",data);case 5:case"end":return _context6.stop()}}},_callee6,this)}));function getRoles(){return _ref9.apply(this,arguments)}return getRoles}(),getRole:function(){var _ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(name){var url,_ref12,data;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:url=rolesUrl+"/"+name;_context7.next=3;return httpClient.get(url);case 3:_ref12=_context7.sent;data=_ref12.data;return _context7.abrupt("return",data);case 6:case"end":return _context7.stop()}}},_callee7,this)}));function getRole(_x4){return _ref11.apply(this,arguments)}return getRole}(),changePassword:function(){var _ref13=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(username,password,currentPassword){var data;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:data={newPassword:password};if(currentPassword){data.password=currentPassword}_context8.next=4;return httpClient.post(usersUrl+"/"+username+"/password",data);case 4:case"end":return _context8.stop()}}},_callee8,this)}));function changePassword(_x5,_x6,_x7){return _ref13.apply(this,arguments)}return changePassword}()}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checkLicenseError=checkLicenseError;var _xpack_info=__webpack_require__(46);var _notify=__webpack_require__(10);function checkLicenseError(kbnUrl,Promise,Private){var xpackInfo=Private(_xpack_info.XPackInfoProvider);var genericNotifier=new _notify.Notifier({location:"Security"});return function(err){if(!xpackInfo.get("features.security.showLinks")){genericNotifier.error(xpackInfo.get("features.security.linksMessage"));kbnUrl.redirect("/management");return Promise.halt()}return Promise.reject(err)}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(17);__webpack_require__(21);__webpack_require__(444);__webpack_require__(5044);__webpack_require__(4324);var uiModules=__webpack_require__(4).uiModules;uiModules.get("kibana",["ui.select","ngSanitize"])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var roles_1=__webpack_require__(4333);exports.saveRole=roles_1.saveRole;exports.deleteRole=roles_1.deleteRole;var get_fields_1=__webpack_require__(4334);exports.getFields=get_fields_1.getFields},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var CollapsiblePanel=function(_react_2$Component){_inherits(CollapsiblePanel,_react_2$Component);function CollapsiblePanel(){_classCallCheck(this,CollapsiblePanel);var _this=_possibleConstructorReturn(this,(CollapsiblePanel.__proto__||Object.getPrototypeOf(CollapsiblePanel)).apply(this,arguments));_this.state={collapsed:false};_this.getTitle=function(){return react_2.default.createElement(eui_1.EuiFlexGroup,{alignItems:"baseline",gutterSize:"s",responsive:false},react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiTitle,null,react_2.default.createElement("h2",null,react_2.default.createElement(eui_1.EuiIcon,{type:_this.props.iconType,size:"xl",className:"collapsiblePanel__logo"})," ",_this.props.title))),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiLink,{onClick:_this.toggleCollapsed},_this.state.collapsed?react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRole.collapsiblePanel.showLinkText",defaultMessage:"show"}):react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRole.collapsiblePanel.hideLinkText",defaultMessage:"hide"}))))};_this.getForm=function(){if(_this.state.collapsed){return null}return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiSpacer,null),_this.props.children)};_this.toggleCollapsed=function(){_this.setState({collapsed:!_this.state.collapsed})};return _this}_createClass(CollapsiblePanel,[{key:"render",value:function render(){return react_2.default.createElement(eui_1.EuiPanel,null,this.getTitle(),this.getForm())}}]);return CollapsiblePanel}(react_2.Component);exports.CollapsiblePanel=CollapsiblePanel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getClusterPrivileges=getClusterPrivileges;exports.getIndexPrivileges=getIndexPrivileges;var clusterPrivileges=["all","monitor","manage","manage_security","manage_index_templates","manage_pipeline","manage_ingest_pipelines","transport_client","manage_ml","monitor_ml","manage_watcher","monitor_watcher","read_ccr","manage_ccr","manage_ilm","read_ilm","monitor_rollup","manage_rollup","manage_token","manage_saml"];var indexPrivileges=["all","manage","monitor","read","index","create","delete","write","delete_index","create_index","view_index_metadata","read_cross_cluster","manage_follow_index"];function getClusterPrivileges(){return[].concat(clusterPrivileges)}function getIndexPrivileges(){return[].concat(indexPrivileges)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var lodash_1=__webpack_require__(1);function copyRole(role){return lodash_1.cloneDeep(role)}exports.copyRole=copyRole},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var components_1=__webpack_require__(254);var role_1=__webpack_require__(286);var privilege_selector_1=__webpack_require__(544);var PrivilegeSpaceTableUI=function(_react_2$Component){_inherits(PrivilegeSpaceTableUI,_react_2$Component);function PrivilegeSpaceTableUI(){_classCallCheck(this,PrivilegeSpaceTableUI);var _this=_possibleConstructorReturn(this,(PrivilegeSpaceTableUI.__proto__||Object.getPrototypeOf(PrivilegeSpaceTableUI)).apply(this,arguments));_this.state={searchTerm:""};_this.getTableColumns=function(role){var availablePrivileges=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var intl=_this.props.intl;var columns=[{field:"space",name:"",width:"50px",sortable:true,render:function render(space){if("deleted"in space){return null}return react_2.default.createElement(components_1.SpaceAvatar,{space:space,size:"s"})}},{field:"space",name:intl.formatMessage({id:"xpack.security.management.editRoles.privilegeSpaceTable.spaceName",defaultMessage:"Space"}),width:_this.props.readonly?"75%":"50%",render:function render(space){if("deleted"in space){return react_2.default.createElement(eui_1.EuiText,{color:"subdued"},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeSpaceTable.deletedSpaceDescription",defaultMessage:"{value} (deleted)",values:{value:space.id}}))}else{return react_2.default.createElement(eui_1.EuiText,null,space.name)}}},{field:"privilege",name:intl.formatMessage({id:"xpack.security.management.editRoles.privilegeSpaceTable.privilegeName",defaultMessage:"Privilege"}),width:_this.props.readonly?"25%":undefined,render:function render(privilege,record){if(_this.props.readonly||record.space.deleted){return privilege}return react_2.default.createElement(privilege_selector_1.PrivilegeSelector,{"data-test-subj":"privilege-space-table-priv",availablePrivileges:availablePrivileges,value:privilege,disabled:role_1.isReservedRole(role)||_this.props.readonly,onChange:_this.onSpacePermissionChange(record),compressed:true})}}];if(!_this.props.readonly){columns.push({name:intl.formatMessage({id:"xpack.security.management.editRoles.privilegeSpaceTable.actionsName",defaultMessage:"Actions"}),actions:[{render:function render(record){return react_2.default.createElement(eui_1.EuiButtonIcon,{"aria-label":"Remove custom privileges for this space",color:"danger",onClick:function onClick(){return _this.onDeleteSpacePermissionsClick(record)},iconType:"trash"})}}]})}return columns};_this.onSpacePermissionChange=function(record){return function(selectedPrivilege){var spaceId=record.space.id;var updatedPrivileges=_extends({},_this.props.spacePrivileges);updatedPrivileges[spaceId]=[selectedPrivilege];if(_this.props.onChange){_this.props.onChange(updatedPrivileges)}}};_this.onDeleteSpacePermissionsClick=function(record){var spaceId=record.space.id;var updatedPrivileges=_extends({},_this.props.spacePrivileges);delete updatedPrivileges[spaceId];if(_this.props.onChange){_this.props.onChange(updatedPrivileges)}};return _this}_createClass(PrivilegeSpaceTableUI,[{key:"render",value:function render(){var _this2=this;var _props=this.props,role=_props.role,spaces=_props.spaces,availablePrivileges=_props.availablePrivileges,spacePrivileges=_props.spacePrivileges,intl=_props.intl;var searchTerm=this.state.searchTerm;var allTableItems=Object.keys(spacePrivileges).map(function(spaceId){return{space:spaces.find(function(s){return s.id===spaceId})||{id:spaceId,name:"",deleted:true},privilege:spacePrivileges[spaceId][0]}}).sort(function(item1){var isDeleted="deleted"in item1.space;return isDeleted?1:-1});var visibleTableItems=allTableItems.filter(function(item){var isDeleted="deleted"in item.space;var searchField=isDeleted?item.space.id:item.space.name;return searchField.toLowerCase().indexOf(searchTerm)>=0});if(allTableItems.length===0){return null}return react_2.default.createElement(eui_1.EuiInMemoryTable,{hasActions:true,columns:this.getTableColumns(role,availablePrivileges),search:{box:{incremental:true,placeholder:intl.formatMessage({id:"xpack.security.management.editRoles.privilegeSpaceTable.filterPlaceholder",defaultMessage:"Filter"})},onChange:function onChange(search){_this2.setState({searchTerm:search.queryText.toLowerCase()})}},items:visibleTableItems})}}]);return PrivilegeSpaceTableUI}(react_2.Component);exports.PrivilegeSpaceTable=react_1.injectI18n(PrivilegeSpaceTableUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var secure_space_message_1=__webpack_require__(4358);exports.SecureSpaceMessage=secure_space_message_1.SecureSpaceMessage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));exports.UnauthorizedPrompt=function(){return react_2.default.createElement(eui_1.EuiEmptyPrompt,{iconType:"spacesApp",iconColor:"danger",title:react_2.default.createElement("h2",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.unauthorizedPrompt.permissionDeniedTitle",defaultMessage:"Permission denied"})),body:react_2.default.createElement("p",{"data-test-subj":"permissionDeniedMessage"},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.unauthorizedPrompt.permissionDeniedDescription",defaultMessage:"You do not have permission to manage spaces."}))})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function toSpaceIdentifier(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return value.toLowerCase().replace(/[^a-z0-9_]/g,"-")}exports.toSpaceIdentifier=toSpaceIdentifier;function isValidSpaceIdentifier(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return value===toSpaceIdentifier(value)}exports.isValidSpaceIdentifier=isValidSpaceIdentifier},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var i18n_1=__webpack_require__(9);var is_reserved_space_1=__webpack_require__(851);var space_identifier_utils_1=__webpack_require__(1325);var SpaceValidator=function(){function SpaceValidator(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,SpaceValidator);this.shouldValidate=options.shouldValidate||false}_createClass(SpaceValidator,[{key:"enableValidation",value:function enableValidation(){this.shouldValidate=true}},{key:"disableValidation",value:function disableValidation(){this.shouldValidate=false}},{key:"validateSpaceName",value:function validateSpaceName(space){if(!this.shouldValidate){return valid()}if(!space.name||!space.name.trim()){return invalid(i18n_1.i18n.translate("xpack.spaces.management.validateSpace.requiredNameErrorMessage",{defaultMessage:"Name is required."}))}if(space.name.length>1024){return invalid(i18n_1.i18n.translate("xpack.spaces.management.validateSpace.nameMaxLengthErrorMessage",{defaultMessage:"Name must not exceed 1024 characters."}))}return valid()}},{key:"validateSpaceDescription",value:function validateSpaceDescription(space){if(!this.shouldValidate){return valid()}if(space.description&&space.description.length>2e3){return invalid(i18n_1.i18n.translate("xpack.spaces.management.validateSpace.describeMaxLengthErrorMessage",{defaultMessage:"Description must not exceed 2000 characters."}))}return valid()}},{key:"validateURLIdentifier",value:function validateURLIdentifier(space){if(!this.shouldValidate){return valid()}if(is_reserved_space_1.isReservedSpace(space)){return valid()}if(!space.id){return invalid(i18n_1.i18n.translate("xpack.spaces.management.validateSpace.urlIdentifierRequiredErrorMessage",{defaultMessage:"URL identifier is required."}))}if(!space_identifier_utils_1.isValidSpaceIdentifier(space.id)){return invalid(i18n_1.i18n.translate("xpack.spaces.management.validateSpace.urlIdentifierAllowedCharactersErrorMessage",{defaultMessage:'URL identifier can only contain a-z, 0-9, and the characters "_" and "-".'}))}return valid()}},{key:"validateForSave",value:function validateForSave(space){var _validateSpaceName=this.validateSpaceName(space),isNameInvalid=_validateSpaceName.isInvalid;var _validateSpaceDescrip=this.validateSpaceDescription(space),isDescriptionInvalid=_validateSpaceDescrip.isInvalid;var _validateURLIdentifie=this.validateURLIdentifier(space),isIdentifierInvalid=_validateURLIdentifie.isInvalid;if(isNameInvalid||isDescriptionInvalid||isIdentifierInvalid){return invalid()}return valid()}}]);return SpaceValidator}();exports.SpaceValidator=SpaceValidator;function invalid(){var error=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return{isInvalid:true,error:error}}function valid(){return{isInvalid:false}}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var ConfirmDeleteModalUI=function(_react_2$Component){_inherits(ConfirmDeleteModalUI,_react_2$Component);function ConfirmDeleteModalUI(){var _this2=this;_classCallCheck(this,ConfirmDeleteModalUI);var _this=_possibleConstructorReturn(this,(ConfirmDeleteModalUI.__proto__||Object.getPrototypeOf(ConfirmDeleteModalUI)).apply(this,arguments));_this.state={confirmSpaceName:"",error:null,deleteInProgress:false};_this.onSpaceNameChange=function(e){if(typeof _this.state.error==="boolean"){_this.setState({confirmSpaceName:e.target.value,error:e.target.value!==_this.props.space.name})}else{_this.setState({confirmSpaceName:e.target.value})}};_this.onConfirm=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var needsRedirect,spacesManager;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(_this.state.confirmSpaceName===_this.props.space.name)){_context.next=10;break}needsRedirect=isDeletingCurrentSpace(_this.props.space,_this.props.spacesNavState);spacesManager=_this.props.spacesManager;_this.setState({deleteInProgress:true});_context.next=6;return _this.props.onConfirm();case 6:_this.setState({deleteInProgress:false});if(needsRedirect){spacesManager.redirectToSpaceSelector()}_context.next=11;break;case 10:_this.setState({error:true});case 11:case"end":return _context.stop()}}},_callee,_this2)}));return _this}_createClass(ConfirmDeleteModalUI,[{key:"render",value:function render(){var _props=this.props,space=_props.space,spacesNavState=_props.spacesNavState,onCancel=_props.onCancel,intl=_props.intl;var warning=null;if(isDeletingCurrentSpace(space,spacesNavState)){var name=react_2.default.createElement("span",null,"(",react_2.default.createElement("strong",null,space.name),")");warning=react_2.default.createElement(eui_1.EuiCallOut,{color:"warning"},react_2.default.createElement(eui_1.EuiText,null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.confirmDeleteModal.redirectAfterDeletingCurrentSpaceWarningMessage",defaultMessage:"You are about to delete your current space {name}. You will be redirected to choose a different space if you continue.",values:{name:name}})))}return react_2.default.createElement(eui_1.EuiOverlayMask,null,react_2.default.createElement(eui_1.EuiModal,{onClose:onCancel,className:"spcConfirmDeleteModal"},react_2.default.createElement(eui_1.EuiModalHeader,null,react_2.default.createElement(eui_1.EuiModalHeaderTitle,{"data-test-subj":"confirmModalTitleText"},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.confirmDeleteModal.confirmDeleteSpaceButtonLabel",defaultMessage:"Delete space {spaceName}",values:{spaceName:"'"+space.name+"'"}}))),react_2.default.createElement(eui_1.EuiModalBody,null,react_2.default.createElement(eui_1.EuiText,{"data-test-subj":"confirmModalBodyText"},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.confirmDeleteModal.deletingSpaceWarningMessage",defaultMessage:"Deleting a space permanently removes the space and {allContents}. You can't undo this action.",values:{allContents:react_2.default.createElement("strong",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.confirmDeleteModal.allContentsText",defaultMessage:"all of its contents"}))}})),react_2.default.createElement(eui_1.EuiFormRow,{label:intl.formatMessage({id:"xpack.spaces.management.confirmDeleteModal.confirmSpaceNameFormRowLabel",defaultMessage:"Confirm space name"}),isInvalid:!!this.state.error,error:intl.formatMessage({id:"xpack.spaces.management.confirmDeleteModal.spaceNamesDoNoMatchErrorMessage",defaultMessage:"Space names do not match."})},react_2.default.createElement(eui_1.EuiFieldText,{value:this.state.confirmSpaceName,onChange:this.onSpaceNameChange,disabled:this.state.deleteInProgress})),warning)),react_2.default.createElement(eui_1.EuiModalFooter,null,react_2.default.createElement(eui_1.EuiButtonEmpty,{"data-test-subj":"confirmModalCancelButton",onClick:onCancel,isDisabled:this.state.deleteInProgress},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.confirmDeleteModal.cancelButtonLabel",defaultMessage:"Cancel"})),react_2.default.createElement(eui_1.EuiButton,{"data-test-subj":"confirmModalConfirmButton",onClick:this.onConfirm,fill:true,color:"danger",isLoading:this.state.deleteInProgress},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.confirmDeleteModal.deleteSpaceAndAllContentsButtonLabel",defaultMessage:" Delete space and all contents"})))))}}]);return ConfirmDeleteModalUI}(react_2.Component);function isDeletingCurrentSpace(space,spacesNavState){return space.id===spacesNavState.getActiveSpace().id}exports.ConfirmDeleteModal=react_1.injectI18n(ConfirmDeleteModalUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var lodash_1=__webpack_require__(1);exports.LEVEL_MAP={warning:0,critical:1};exports.REVERSE_LEVEL_MAP=lodash_1.invert(exports.LEVEL_MAP);exports.COLOR_MAP={warning:"default",critical:"danger"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var TIME_UNITS=exports.TIME_UNITS={SECOND:"s",MINUTE:"m",HOUR:"h",DAY:"d"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _execute_details=__webpack_require__(4419);Object.defineProperty(exports,"ExecuteDetails",{enumerable:true,get:function get(){return _execute_details.ExecuteDetails}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _watch=__webpack_require__(4420);Object.defineProperty(exports,"Watch",{enumerable:true,get:function get(){return _watch.Watch}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _action=__webpack_require__(4424);Object.defineProperty(exports,"Action",{enumerable:true,get:function get(){return _action.Action}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_time_units_label=__webpack_require__(4442);Object.defineProperty(exports,"getTimeUnitsLabel",{enumerable:true,get:function get(){return _get_time_units_label.getTimeUnitsLabel}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _watch_history_item=__webpack_require__(4445);Object.defineProperty(exports,"WatchHistoryItem",{enumerable:true,get:function get(){return _watch_history_item.WatchHistoryItem}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4450)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4479)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4489)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4523)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4540)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternCreationConfig=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _i18n=__webpack_require__(9);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var indexPatternTypeName=_i18n.i18n.translate("common.ui.management.editIndexPattern.createIndex.defaultTypeName",{defaultMessage:"index pattern"});var indexPatternButtonText=_i18n.i18n.translate("common.ui.management.editIndexPattern.createIndex.defaultButtonText",{defaultMessage:"Standard index pattern"});var indexPatternButtonDescription=_i18n.i18n.translate("common.ui.management.editIndexPattern.createIndex.defaultButtonDescription",{defaultMessage:"Perform full aggregations against any data"});var IndexPatternCreationConfig=exports.IndexPatternCreationConfig=function(){function IndexPatternCreationConfig(_ref){var _this=this;var _ref$type=_ref.type,type=_ref$type===undefined?undefined:_ref$type,_ref$name=_ref.name,name=_ref$name===undefined?indexPatternTypeName:_ref$name,_ref$showSystemIndice=_ref.showSystemIndices,showSystemIndices=_ref$showSystemIndice===undefined?true:_ref$showSystemIndice,_ref$httpClient=_ref.httpClient,httpClient=_ref$httpClient===undefined?null:_ref$httpClient,_ref$isBeta=_ref.isBeta,isBeta=_ref$isBeta===undefined?false:_ref$isBeta;_classCallCheck(this,IndexPatternCreationConfig);this.getIndexPatternType=function(){return _this.type};this.getIndexPatternName=function(){return _this.name};this.getIsBeta=function(){return _this.isBeta};this.getShowSystemIndices=function(){return _this.showSystemIndices};this.checkIndicesForErrors=function(){return undefined};this.getIndexPatternMappings=function(){return{}};this.renderPrompt=function(){return null};this.getFetchForWildcardOptions=function(){return{}};this.type=type;this.name=name;this.showSystemIndices=showSystemIndices;this.httpClient=httpClient;this.isBeta=isBeta}_createClass(IndexPatternCreationConfig,[{key:"getIndexPatternCreationOption",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(urlHandler){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",{text:indexPatternButtonText,description:indexPatternButtonDescription,testSubj:"createStandardIndexPatternButton",onClick:function onClick(){urlHandler("/management/kibana/index")}});case 1:case"end":return _context.stop()}}},_callee,this)}));function getIndexPatternCreationOption(_x){return _ref2.apply(this,arguments)}return getIndexPatternCreationOption}()},{key:"getIndexTags",value:function getIndexTags(){return[]}}]);return IndexPatternCreationConfig}();IndexPatternCreationConfig.key="default"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var IndexPatternListConfig=exports.IndexPatternListConfig=function IndexPatternListConfig(){_classCallCheck(this,IndexPatternListConfig);this.getIndexPatternTags=function(){return[]};this.getFieldInfo=function(){return[]};this.areScriptedFieldsEnabled=function(){return true}};IndexPatternListConfig.key="default"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initializeInput=initializeInput;exports.default=getInput;var _autocomplete=__webpack_require__(1343);var _autocomplete2=_interopRequireDefault(_autocomplete);var _modules=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var $=__webpack_require__(17);__webpack_require__(235);__webpack_require__(1126);var SenseEditor=__webpack_require__(801);var settings=__webpack_require__(437);var utils=__webpack_require__(800);var es=__webpack_require__(799);var history=__webpack_require__(802);var input=void 0;function initializeInput($el,$actionsEl,$copyAsCurlEl,output){var openDocumentation=arguments.length>4&&arguments[4]!==undefined?arguments[4]:function(){};input=new SenseEditor($el);if(_modules.uiModules){var appSense=_modules.uiModules.get("app/sense");if(appSense&&appSense.setupResizeCheckerForRootEditors){appSense.setupResizeCheckerForRootEditors($el,input,output)}}input.autocomplete=new _autocomplete2.default(input);input.$actions=$actionsEl;input.commands.addCommand({name:"auto indent request",bindKey:{win:"Ctrl-I",mac:"Command-I"},exec:function exec(){input.autoIndent()}});input.commands.addCommand({name:"move to previous request start or end",bindKey:{win:"Ctrl-Up",mac:"Command-Up"},exec:function exec(){input.moveToPreviousRequestEdge()}});input.commands.addCommand({name:"move to next request start or end",bindKey:{win:"Ctrl-Down",mac:"Command-Down"},exec:function exec(){input.moveToNextRequestEdge()}});(function setupClipboard(){function copyText(text){var node=$('<textarea style="height:1px"></textarea').val(text).appendTo(document.body).select();document.execCommand("copy");node.remove()}if(!document.queryCommandSupported("copy")){$copyAsCurlEl.hide();return}$copyAsCurlEl.click(function(){copyText($copyAsCurlEl.attr("data-clipboard-text"))});input.$actions.on("mouseenter",function(){if($(this).hasClass("open"))return;input.getRequestsAsCURL(function(text){$copyAsCurlEl.attr("data-clipboard-text",text)})})})();var CURRENT_REQ_ID=0;function sendCurrentRequestToES(){var reqId=++CURRENT_REQ_ID;input.getRequestsInRange(function(requests){if(reqId!==CURRENT_REQ_ID){return}output.update("");if(requests.length===0){return}var isMultiRequest=requests.length>1;var finishChain=function finishChain(){};var isFirstRequest=true;var sendNextRequest=function sendNextRequest(){if(reqId!==CURRENT_REQ_ID){return}if(requests.length===0){finishChain();return}var req=requests.shift();var esPath=req.url;var esMethod=req.method;var esData=utils.collapseLiteralStrings(req.data.join("\n"));if(esData){esData+="\n"}es.send(esMethod,esPath,esData).always(function(dataOrjqXHR,textStatus,jqXhrORerrorThrown){if(reqId!==CURRENT_REQ_ID){return}var xhr=void 0;if(dataOrjqXHR.promise){xhr=dataOrjqXHR}else{xhr=jqXhrORerrorThrown}function modeForContentType(contentType){if(contentType.indexOf("text/plain")>=0){return"ace/mode/text"}else if(contentType.indexOf("application/yaml")>=0){return"ace/mode/yaml"}return null}if(typeof xhr.status==="number"&&(xhr.status>=200&&xhr.status<300||xhr.status===404)){history.addToHistory(esPath,esMethod,esData);var value=xhr.responseText;var mode=modeForContentType(xhr.getAllResponseHeaders("Content-Type")||"");if(mode===null||mode==="application/json"){try{value=utils.expandLiteralStrings(value)}catch(e){}}var warnings=xhr.getResponseHeader("warning");if(warnings){var deprecationMessages=utils.extractDeprecationMessages(warnings);value=deprecationMessages.join("\n")+"\n"+value}if(isMultiRequest){value="# "+req.method+" "+req.url+"\n"+value}if(isFirstRequest){output.update(value,mode)}else{output.append("\n"+value)}isFirstRequest=false;sendNextRequest()}else{var _value=void 0;var _mode=void 0;if(xhr.responseText){_value=xhr.responseText;_mode=modeForContentType(xhr.getAllResponseHeaders("Content-Type")||"");if(_value[0]==="{"){try{_value=JSON.stringify(JSON.parse(_value),null,2)}catch(e){}}}else{_value="Request failed to get to the server (status code: "+xhr.status+")";_mode="ace/mode/text"}if(isMultiRequest){_value="# "+req.method+" "+req.url+"\n"+_value}if(isFirstRequest){output.update(_value,_mode)}else{output.append("\n"+_value)}finishChain()}})};sendNextRequest()})}input.commands.addCommand({name:"send to elasticsearch",bindKey:{win:"Ctrl-Enter",mac:"Command-Enter"},exec:sendCurrentRequestToES});input.commands.addCommand({name:"open documentation",bindKey:{win:"Ctrl-/",mac:"Command-/"},exec:function exec(){openDocumentation()}});if(settings){settings.applyCurrentSettings(input)}input.focus();input.highlightCurrentRequestsAndUpdateActionBar();input.sendCurrentRequestToES=sendCurrentRequestToES;__webpack_require__(4715)(input,output);return input}function getInput(){return input}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.getEndpointFromPosition=getEndpointFromPosition;exports.default=function(editor){function isUrlPathToken(token){switch((token||{}).type){case"url.slash":case"url.comma":case"url.part":return true;default:return false}}function addMetaToTermsList(list,meta,template){return _lodash2.default.map(list,function(t){if((typeof t==="undefined"?"undefined":_typeof(t))!=="object"){t={name:t}}return _lodash2.default.defaults(t,{meta:meta,template:template})})}function applyTerm(term){var session=editor.getSession();var context=term.context;addReplacementInfoToContext(context,editor.getCursorPosition(),term.insertValue);var termAsString=void 0;if(context.autoCompleteType==="body"){termAsString=typeof term.insertValue==="string"?'"'+term.insertValue+'"':term.insertValue+"";if(term.insertValue==="["||term.insertValue==="{"){termAsString=""}}else{termAsString=term.insertValue+""}var valueToInsert=termAsString;var templateInserted=false;if(context.addTemplate&&!_lodash2.default.isUndefined(term.template)&&!_lodash2.default.isNull(term.template)){var indentedTemplateLines=_utils2.default.jsonToString(term.template,true).split("\n");var currentIndentation=session.getLine(context.rangeToReplace.start.row);currentIndentation=currentIndentation.match(/^\s*/)[0];for(var i=1;i<indentedTemplateLines.length;i++){indentedTemplateLines[i]=currentIndentation+indentedTemplateLines[i]}valueToInsert+=": "+indentedTemplateLines.join("\n");templateInserted=true}else{templateInserted=true;if(term.value==="["){valueToInsert+="[]"}else if(term.value==="{"){valueToInsert+="{}"}else{templateInserted=false}}valueToInsert=context.prefixToAdd+valueToInsert+context.suffixToAdd;removeChangeListener();if(context.rangeToReplace.start.column!==context.rangeToReplace.end.column){session.replace(context.rangeToReplace,valueToInsert)}else{editor.insert(valueToInsert)}editor.clearSelection();var newPos={row:context.rangeToReplace.start.row,column:context.rangeToReplace.start.column+termAsString.length+context.prefixToAdd.length+(templateInserted?0:context.suffixToAdd.length)};var tokenIter=editor.iterForPosition(newPos.row,newPos.column);if(context.autoCompleteType==="body"){var nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"paren.rparen":newPos={row:tokenIter.getCurrentTokenRow(),column:tokenIter.getCurrentTokenColumn()};break;case"punctuation.colon":nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);if((nonEmptyToken||{}).type==="paren.lparen"){nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);newPos={row:tokenIter.getCurrentTokenRow(),column:tokenIter.getCurrentTokenColumn()};if(nonEmptyToken&&nonEmptyToken.value.indexOf('"')===0){newPos.column++}}break;case"paren.lparen":case"punctuation.comma":tokenIter.stepForward();newPos={row:tokenIter.getCurrentTokenRow(),column:tokenIter.getCurrentTokenColumn()};break}editor.moveCursorToPosition(newPos)}addChangeListener()}function getAutoCompleteContext(editor,session,pos){var context={autoCompleteSet:null,endpoint:null,urlPath:null,method:null,activeScheme:null,editor:editor};context.autoCompleteType=getAutoCompleteType(pos);switch(context.autoCompleteType){case"path":addPathAutoCompleteSetToContext(context,pos);break;case"url_params":addUrlParamsAutoCompleteSetToContext(context,pos);break;case"method":addMethodAutoCompleteSetToContext(context,pos);break;case"body":addBodyAutoCompleteSetToContext(context,pos);break;default:return null}if(!context.autoCompleteSet){return null}addReplacementInfoToContext(context,pos);context.createdWithToken=_lodash2.default.clone(context.updatedForToken);return context}function getAutoCompleteType(pos){var rowMode=editor.parser.getRowParseMode();if(rowMode&editor.parser.MODE.IN_REQUEST){return"body"}if(rowMode&editor.parser.MODE.REQUEST_START){var tokenIter=editor.iterForPosition(pos.row,pos.column);var t=tokenIter.getCurrentToken();while(t.type==="url.comma"){t=tokenIter.stepBackward()}switch(t.type){case"method":return"method";case"whitespace":t=editor.parser.prevNonEmptyToken(tokenIter);switch((t||{}).type){case"method":return"path";break;default:if(isUrlPathToken(t)){return"path"}if(isUrlParamsToken(t)){return"url_params"}return null}break;default:if(isUrlPathToken(t)){return"path"}if(isUrlParamsToken(t)){return"url_params"}return null}}if(rowMode&editor.parser.MODE.REQUEST_END){return"body"}if((editor.getSession().getLine(pos.row)||"").trim()===""){rowMode=editor.parser.getRowParseMode(pos.row-1);if(rowMode&editor.parser.MODE.REQUEST_START&&rowMode&editor.parser.MODE.REQUEST_END){return"body"}return"method"}return null}function addReplacementInfoToContext(context,pos,replacingTerm){var session=editor.getSession();context.updatedForToken=_lodash2.default.clone(session.getTokenAt(pos.row,pos.column));if(!context.updatedForToken){context.updatedForToken={value:"",start:pos.column}}var anchorToken=context.createdWithToken;if(!anchorToken){anchorToken=context.updatedForToken}switch(context.updatedForToken.type){case"variable":case"string":case"text":case"constant.numeric":case"constant.language.boolean":case"method":case"url.index":case"url.type":case"url.id":case"url.method":case"url.endpoint":case"url.part":case"url.param":case"url.value":context.rangeToReplace=new AceRange(pos.row,anchorToken.start,pos.row,context.updatedForToken.start+context.updatedForToken.value.length);context.replacingToken=true;break;default:if(replacingTerm&&context.updatedForToken.value===replacingTerm){context.rangeToReplace=new AceRange(pos.row,anchorToken.start,pos.row,context.updatedForToken.start+context.updatedForToken.value.length);context.replacingToken=true}else{context.rangeToReplace=new AceRange(pos.row,pos.column,pos.row,pos.column);context.replacingToken=false}break}context.textBoxPosition={row:context.rangeToReplace.start.row,column:context.rangeToReplace.start.column};switch(context.autoCompleteType){case"path":addPathPrefixSuffixToContext(context);break;case"url_params":addUrlParamsPrefixSuffixToContext(context);break;case"method":addMethodPrefixSuffixToContext(context);break;case"body":addBodyPrefixSuffixToContext(context);break}}function addBodyPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd="";var tokenIter=editor.iterForCurrentLoc();var nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.lparen":case"paren.rparen":case"punctuation.comma":context.addTemplate=true;break;case"punctuation.colon":context.addTemplate=false;nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);if(!(nonEmptyToken&&nonEmptyToken.value==="{")){break}nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);if(!(nonEmptyToken&&nonEmptyToken.value==="}")){break}context.addTemplate=true;context.rangeToReplace.end.row=tokenIter.getCurrentTokenRow();context.rangeToReplace.end.column=tokenIter.getCurrentTokenColumn()+nonEmptyToken.value.length;nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.rparen":case"punctuation.comma":case"punctuation.colon":break;default:context.suffixToAdd=", "}break;default:context.addTemplate=true;context.suffixToAdd=", ";break}tokenIter=editor.iterForCurrentLoc();nonEmptyToken=tokenIter.getCurrentToken();var insertingRelativeToToken=void 0;if(context.replacingToken){insertingRelativeToToken=0}else{var pos=editor.getCursorPosition();if(pos.column===context.updatedForToken.start){insertingRelativeToToken=-1}else if(pos.column<context.updatedForToken.start+context.updatedForToken.value.length){insertingRelativeToToken=0}else{insertingRelativeToToken=1}}if(editor.parser.isEmptyToken(nonEmptyToken)||insertingRelativeToToken<=0){nonEmptyToken=editor.parser.prevNonEmptyToken(tokenIter)}switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.lparen":case"punctuation.comma":case"punctuation.colon":case"method":break;default:if(nonEmptyToken&&nonEmptyToken.type.indexOf("url")<0){context.prefixToAdd=", "}}return context}function addUrlParamsPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd=""}function addMethodPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd="";var tokenIter=editor.iterForCurrentLoc();var row=tokenIter.getCurrentTokenRow();var t=editor.parser.nextNonEmptyToken(tokenIter);if(tokenIter.getCurrentTokenRow()!==row||!t){context.suffixToAdd=" "}}function addPathPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd=""}function addMethodAutoCompleteSetToContext(context){context.autoCompleteSet=["GET","PUT","POST","DELETE","HEAD"].map(function(m,i){return{name:m,score:-i,meta:_i18n.i18n.translate("console.autocomplete.addMethodMetaText",{defaultMessage:"method"})}})}function addPathAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(editor,pos);context.method=ret.method;context.token=ret.token;context.otherTokenValues=ret.otherTokenValues;context.urlTokenPath=ret.urlTokenPath;var components=(0,_kb.getTopLevelUrlCompleteComponents)(context.method);(0,_engine.populateContext)(ret.urlTokenPath,context,editor,true,components);context.autoCompleteSet=addMetaToTermsList(context.autoCompleteSet,"endpoint")}function addUrlParamsAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(editor,pos);context.method=ret.method;context.otherTokenValues=ret.otherTokenValues;context.urlTokenPath=ret.urlTokenPath;if(!ret.urlTokenPath){console.log("Can't extract a valid url token path.");return context}(0,_engine.populateContext)(ret.urlTokenPath,context,editor,false,(0,_kb.getTopLevelUrlCompleteComponents)(context.method));if(!context.endpoint){console.log("couldn't resolve an endpoint.");return context}if(!ret.urlParamsTokenPath){console.log("Can't extract a valid urlParams token path.");return context}var tokenPath=[];var currentParam=ret.urlParamsTokenPath.pop();if(currentParam){tokenPath=Object.keys(currentParam);context.otherTokenValues=currentParam[tokenPath[0]]}(0,_engine.populateContext)(tokenPath,context,editor,true,context.endpoint.paramsAutocomplete.getTopLevelComponents(context.method));return context}function addBodyAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(editor,pos);context.method=ret.method;context.otherTokenValues=ret.otherTokenValues;context.urlTokenPath=ret.urlTokenPath;context.requestStartRow=ret.requestStartRow;if(!ret.urlTokenPath){console.log("Can't extract a valid url token path.");return context}(0,_engine.populateContext)(ret.urlTokenPath,context,editor,false,(0,_kb.getTopLevelUrlCompleteComponents)(context.method));context.bodyTokenPath=ret.bodyTokenPath;if(!ret.bodyTokenPath){console.log("Can't extract a valid body token path.");return context}context.endpointComponentResolver=_kb.getEndpointBodyCompleteComponents;context.globalComponentResolver=_kb.getGlobalAutocompleteComponents;var components=void 0;if(context.endpoint){components=context.endpoint.bodyAutocompleteRootComponents}else{components=(0,_kb.getUnmatchedEndpointComponents)()}(0,_engine.populateContext)(ret.bodyTokenPath,context,editor,true,components);return context}var evaluateCurrentTokenAfterAChange=_lodash2.default.debounce(function evaluateCurrentTokenAfterAChange(pos){var session=editor.getSession();var currentToken=session.getTokenAt(pos.row,pos.column);if(!currentToken){if(pos.row===0){LAST_EVALUATED_TOKEN=null;return}currentToken={start:0,value:""}}currentToken.row=pos.row;if(editor.parser.isEmptyToken(currentToken)){var nextToken=session.getTokenAt(pos.row,pos.column+1);if(editor.parser.isEmptyToken(nextToken)){currentToken.start=pos.column;LAST_EVALUATED_TOKEN=currentToken}else{nextToken.row=pos.row;LAST_EVALUATED_TOKEN=nextToken}return}if(!LAST_EVALUATED_TOKEN){LAST_EVALUATED_TOKEN=currentToken;return}if(LAST_EVALUATED_TOKEN.start!==currentToken.start||LAST_EVALUATED_TOKEN.row!==currentToken.row||LAST_EVALUATED_TOKEN.value===currentToken.value){LAST_EVALUATED_TOKEN=currentToken;return}switch(currentToken.type||"UNKNOWN"){case"paren.lparen":case"paren.rparen":case"punctuation.colon":case"punctuation.comma":case"UNKNOWN":return}LAST_EVALUATED_TOKEN=currentToken;editor.execCommand("startAutocomplete")},100);function editorChangeListener(){var cursor=editor.selection.lead;if(editor.__ace.completer&&editor.__ace.completer.activated){return}evaluateCurrentTokenAfterAChange(cursor)}function addChangeListener(){editor.on("changeSelection",editorChangeListener)}function removeChangeListener(){editor.off("changeSelection",editorChangeListener)}function getCompletions(aceEditor,session,pos,prefix,callback){try{var context=getAutoCompleteContext(editor,session,pos);if(!context){callback(null,[])}else{var terms=_lodash2.default.map(context.autoCompleteSet,function(term){if((typeof term==="undefined"?"undefined":_typeof(term))!=="object"){term={name:term}}else{term=_lodash2.default.clone(term)}var defaults={value:term.name,meta:"API",score:0,context:context};if(context.autoCompleteType==="body"){defaults.completer={insertMatch:function insertMatch(){return applyTerm(term)}}}return _lodash2.default.defaults(term,defaults)});terms.sort(function(t1,t2){if(t1.score>t2.score){return-1}if(t1.score<t2.score){return 1}if(t1.name<t2.name){return-1}if(t1.name===t2.name){return 0}return 1});callback(null,_lodash2.default.map(terms,function(t,i){t.insertValue=t.insertValue||t.value;t.value=""+t.value;t.score=-i;return t}))}}catch(e){console.log("error while getting completion terms",e);callback(e,null)}}addChangeListener();_brace2.default.define("ace/autocomplete/text_completer",["require","exports","module"],function(require,exports){exports.getCompletions=function(editor,session,pos,prefix,callback){callback(null,[])}});var langTools=_brace2.default.acequire("ace/ext/language_tools");langTools.setCompleters([{identifierRegexps:[/[a-zA-Z_0-9\.\$\-\u00A2-\uFFFF]/],getCompletions:getCompletions}]);editor.setOptions({enableBasicAutocompletion:true});editor.$blockScrolling=Infinity;return{_test:{getCompletions:getCompletions,addReplacementInfoToContext:addReplacementInfoToContext,addChangeListener:addChangeListener,removeChangeListener:removeChangeListener}}};var _kb=__webpack_require__(4689);var _utils=__webpack_require__(800);var _utils2=_interopRequireDefault(_utils);var _engine=__webpack_require__(1350);var _components=__webpack_require__(321);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _brace=__webpack_require__(235);var _brace2=_interopRequireDefault(_brace);__webpack_require__(1312);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AceRange=_brace2.default.acequire("ace/range").Range;var LAST_EVALUATED_TOKEN=null;function isUrlParamsToken(token){switch((token||{}).type){case"url.param":case"url.equal":case"url.value":case"url.questionmark":case"url.amp":return true;default:return false}}function getCurrentMethodAndTokenPaths(editor,pos,forceEndOfUrl){var tokenIter=editor.iterForPosition(pos.row,pos.column);var startPos=pos;var bodyTokenPath=[];var ret={};var STATES={looking_for_key:0,looking_for_scope_start:1,start:3};var state=STATES.start;var t=tokenIter.getCurrentToken();if(t){if(startPos.column===0){t=tokenIter.stepBackward();state=STATES.looking_for_scope_start}}else{if(startPos.column===0){t=tokenIter.stepBackward();state=STATES.start}}var walkedSomeBody=false;for(;t&&t.type.indexOf("url")===-1&&t.type!=="method";t=tokenIter.stepBackward()){if(t.type!=="whitespace"){walkedSomeBody=true}switch(t.type){case"variable":if(state===STATES.looking_for_key){bodyTokenPath.unshift(t.value.trim().replace(/"/g,""))}state=STATES.looking_for_scope_start;break;case"paren.lparen":bodyTokenPath.unshift(t.value);if(state===STATES.looking_for_scope_start){state=STATES.looking_for_key}break;case"paren.rparen":state=STATES.looking_for_scope_start;var parenCount=1;t=tokenIter.stepBackward();while(t&&parenCount>0){switch(t.type){case"paren.lparen":parenCount--;break;case"paren.rparen":parenCount++;break}if(parenCount>0){t=tokenIter.stepBackward()}}if(!t){return{}}continue;case"punctuation.end_triple_quote":state=STATES.looking_for_scope_start;for(t=tokenIter.stepBackward();t;t=tokenIter.stepBackward()){if(t.type==="punctuation.start_triple_quote"){t=tokenIter.stepBackward();break}}if(!t){return{}}continue;case"punctuation.start_triple_quote":if(state===STATES.start){state=STATES.looking_for_key}else if(state===STATES.looking_for_key){state=STATES.looking_for_scope_start}bodyTokenPath.unshift('"""');continue;case"string":case"constant.numeric":case"constant.language.boolean":case"text":if(state===STATES.start){state=STATES.looking_for_key}else if(state===STATES.looking_for_key){state=STATES.looking_for_scope_start}break;case"punctuation.comma":if(state===STATES.start){state=STATES.looking_for_scope_start}break;case"punctuation.colon":case"whitespace":if(state===STATES.start){state=STATES.looking_for_key}break}}if(walkedSomeBody&&(!bodyTokenPath||bodyTokenPath.length===0)){return{}}ret.urlTokenPath=[];if(tokenIter.getCurrentTokenRow()===startPos.row){if(t&&(t.type==="url.part"||t.type==="url.param"||t.type==="url.value")){if(forceEndOfUrl&&t.type==="url.part"){ret.urlTokenPath.push(t.value);ret.urlTokenPath.push(_components.URL_PATH_END_MARKER)}t=tokenIter.stepBackward();while(t.type==="whitespace"){t=tokenIter.stepBackward()}}bodyTokenPath=null}ret.bodyTokenPath=bodyTokenPath;ret.urlParamsTokenPath=null;ret.requestStartRow=tokenIter.getCurrentTokenRow();var curUrlPart=void 0;while(t&&isUrlParamsToken(t)){switch(t.type){case"url.value":if(Array.isArray(curUrlPart)){curUrlPart.unshift(t.value)}else if(curUrlPart){curUrlPart=[t.value,curUrlPart]}else{curUrlPart=t.value}break;case"url.comma":if(!curUrlPart){curUrlPart=[]}else if(!Array.isArray(curUrlPart)){curUrlPart=[curUrlPart]}break;case"url.param":var v=curUrlPart;curUrlPart={};curUrlPart[t.value]=v;break;case"url.amp":case"url.questionmark":if(!ret.urlParamsTokenPath){ret.urlParamsTokenPath=[]}ret.urlParamsTokenPath.unshift(curUrlPart||{});curUrlPart=null;break}t=tokenIter.stepBackward()}curUrlPart=null;while(t&&t.type.indexOf("url")!==-1){switch(t.type){case"url.part":if(Array.isArray(curUrlPart)){curUrlPart.unshift(t.value)}else if(curUrlPart){curUrlPart=[t.value,curUrlPart]}else{curUrlPart=t.value}break;case"url.comma":if(!curUrlPart){curUrlPart=[]}else if(!Array.isArray(curUrlPart)){curUrlPart=[curUrlPart]}break;case"url.slash":if(curUrlPart){ret.urlTokenPath.unshift(curUrlPart);curUrlPart=null}break}t=editor.parser.prevNonEmptyToken(tokenIter)}if(curUrlPart){ret.urlTokenPath.unshift(curUrlPart)}if(!ret.bodyTokenPath&&!ret.urlParamsTokenPath){if(ret.urlTokenPath.length>0){ret.otherTokenValues=ret.urlTokenPath[0]}}else{ret.urlTokenPath.push(_components.URL_PATH_END_MARKER)}if(t&&t.type==="method"){ret.method=t.value}return ret}function getEndpointFromPosition(editor,pos){var context=_extends({},getCurrentMethodAndTokenPaths(editor,pos,true));var components=(0,_kb.getTopLevelUrlCompleteComponents)(context.method);(0,_engine.populateContext)(context.urlTokenPath,context,editor,true,components);return context.endpoint}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var AutocompleteComponent=exports.AutocompleteComponent=function(){function AutocompleteComponent(name){_classCallCheck(this,AutocompleteComponent);this.name=name}_createClass(AutocompleteComponent,[{key:"getTerms",value:function getTerms(){return[]}},{key:"match",value:function match(){return{next:this.next}}}]);return AutocompleteComponent}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initializeOutput=initializeOutput;exports.default=getOutput;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ace=__webpack_require__(235);var settings=__webpack_require__(437);var OutputMode=__webpack_require__(4698);var smartResize=__webpack_require__(1349);var output=void 0;function initializeOutput($el){output=ace.acequire("ace/ace").edit($el[0]);var outputMode=new OutputMode.Mode;output.$blockScrolling=Infinity;output.resize=smartResize(output);output.update=function(val,mode,cb){if(typeof mode==="function"){cb=mode;mode=void 0}var session=output.getSession();session.setMode(val?mode||outputMode:"ace/mode/text");session.setValue(val);if(typeof cb==="function"){setTimeout(cb)}};output.append=function(val,foldPrevious,cb){if(typeof foldPrevious==="function"){cb=foldPrevious;foldPrevious=true}if(_lodash2.default.isUndefined(foldPrevious)){foldPrevious=true}var session=output.getSession();var lastLine=session.getLength();if(foldPrevious){output.moveCursorTo(Math.max(0,lastLine-1),0)}session.insert({row:lastLine,column:0},"\n"+val);output.moveCursorTo(lastLine+1,0);if(typeof cb==="function"){setTimeout(cb)}};output.$el=$el;(function(session){session.setMode("ace/mode/text");session.setFoldStyle("markbeginend");session.setTabSize(2);session.setUseWrapMode(true)})(output.getSession());output.setShowPrintMargin(false);output.setReadOnly(true);if(settings){settings.applyCurrentSettings(output)}return output}function getOutput(){return output}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OutputJsonHighlightRules=OutputJsonHighlightRules;__webpack_require__(5049);var _x_json_highlight_rules=__webpack_require__(1347);var ace=__webpack_require__(235);var oop=ace.acequire("ace/lib/oop");var JsonHighlightRules=ace.acequire("ace/mode/json_highlight_rules").JsonHighlightRules;function OutputJsonHighlightRules(){this.$rules={};(0,_x_json_highlight_rules.addToRules)(this,"start");this.$rules.start.unshift({token:"warning",regex:"#!.*$"},{token:"comment",regex:"#.*$"});if(this.constructor===OutputJsonHighlightRules){this.normalizeRules()}}oop.inherits(OutputJsonHighlightRules,JsonHighlightRules)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addToRules=addToRules;var _=__webpack_require__(1);var ScriptHighlightRules=__webpack_require__(1348).ScriptHighlightRules;var jsonRules=function jsonRules(root){root=root?root:"json";var rules={};rules[root]=[{token:["variable","whitespace","ace.punctuation.colon","whitespace","punctuation.start_triple_quote"],regex:'("(?:[^"]*_)?script"|"inline"|"source")(\\s*?)(:)(\\s*?)(""")',next:"script-start",merge:false,push:true},{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"punctuation.start_triple_quote",regex:'"""',next:"string_literal",merge:false,push:true},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",merge:false,regex:"{",next:root,push:true},{token:"paren.lparen",merge:false,regex:"[[(]"},{token:"paren.rparen",merge:false,regex:"[\\])]"},{token:"paren.rparen",regex:"}",merge:false,next:"pop"},{token:"punctuation.comma",regex:","},{token:"punctuation.colon",regex:":"},{token:"whitespace",regex:"\\s+"},{token:"text",regex:".+?"}];rules.string_literal=[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"},{token:"multi_string",regex:"."}];return rules};function addToRules(otherRules,embedUnder){otherRules.$rules=_.defaultsDeep(otherRules.$rules,jsonRules(embedUnder));otherRules.embedRules(ScriptHighlightRules,"script-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptHighlightRules=ScriptHighlightRules;var ace=__webpack_require__(235);var oop=ace.acequire("ace/lib/oop");var _ace$acequire=ace.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_ace$acequire.TextHighlightRules;var painlessKeywords="def|int|long|byte|String|float|double|char|null|if|else|while|do|for|continue|break|new|try|catch|throw|this|instanceof|return|ctx";function ScriptHighlightRules(){this.name="ScriptHighlightRules";this.$rules={start:[{token:"script.comment",regex:"\\/\\/.*$"},{token:"script.string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"script.string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"script.constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"script.constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"script.constant.language.boolean",regex:"(?:true|false)\\b"},{token:"script.keyword",regex:painlessKeywords},{token:"script.text",regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"script.keyword.operator",regex:"\\?\\.|\\*\\.|=~|==~|!|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|->|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|typeof|void)"},{token:"script.lparen",regex:"[[({]"},{token:"script.rparen",regex:"[\\])}]"},{token:"script.text",regex:"\\s+"}]}}oop.inherits(ScriptHighlightRules,TextHighlightRules)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(editor){var resize=editor.resize;var throttledResize=(0,_lodash.throttle)(function(){resize.call(editor);var userRow=(0,_lodash.get)(throttledResize,"topRow",0);if(userRow!==0){editor.renderer.scrollToLine(userRow,false,false,function(){})}},35);return throttledResize};var _lodash=__webpack_require__(1);module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.wrapComponentWithDefaults=wrapComponentWithDefaults;exports.WalkingState=WalkingState;exports.walkTokenPath=walkTokenPath;exports.populateContext=populateContext;var _=__webpack_require__(1);function wrapComponentWithDefaults(component,defaults){var originalGetTerms=component.getTerms;component.getTerms=function(context,editor){var result=originalGetTerms.call(component,context,editor);if(!result){return result}result=_.map(result,function(term){if(!_.isObject(term)){term={name:term}}return _.defaults(term,defaults)},this);return result};return component}var tracer=function tracer(){if(window.engine_trace){console.log.call(console,arguments)}};function passThroughContext(context,extensionList){function PTC(){}PTC.prototype=context;var result=new PTC;if(extensionList){extensionList.unshift(result);_.assign.apply(_,extensionList);extensionList.shift()}return result}function WalkingState(parentName,components,contextExtensionList,depth,priority){this.parentName=parentName;this.components=components;this.contextExtensionList=contextExtensionList;this.depth=depth||0;this.priority=priority}function walkTokenPath(tokenPath,walkingStates,context,editor){if(!tokenPath||tokenPath.length===0){return walkingStates}var token=tokenPath[0];var nextWalkingStates=[];tracer("starting token evaluation ["+token+"]");_.each(walkingStates,function(ws){var contextForState=passThroughContext(context,ws.contextExtensionList);_.each(ws.components,function(component){tracer("evaluating ["+token+"] with ["+component.name+"]",component);var result=component.match(token,contextForState,editor);if(result&&!_.isEmpty(result)){tracer("matched ["+token+"] with:",result);var next=void 0;var extensionList=void 0;if(result.next&&!Array.isArray(result.next)){next=[result.next]}else{next=result.next}if(result.context_values){extensionList=[];[].push.apply(extensionList,ws.contextExtensionList);extensionList.push(result.context_values)}else{extensionList=ws.contextExtensionList}var priority=ws.priority;if(_.isNumber(result.priority)){if(_.isNumber(priority)){priority=Math.min(priority,result.priority)}else{priority=result.priority}}nextWalkingStates.push(new WalkingState(component.name,next,extensionList,ws.depth+1,priority))}})});if(nextWalkingStates.length===0){return _.map(walkingStates,function(ws){return new WalkingState(ws.name,[],ws.contextExtensionList)})}return walkTokenPath(tokenPath.slice(1),nextWalkingStates,context,editor)}function populateContext(tokenPath,context,editor,includeAutoComplete,components){var walkStates=walkTokenPath(tokenPath,[new WalkingState("ROOT",components,[])],context,editor);if(includeAutoComplete){var autoCompleteSet=[];_.each(walkStates,function(ws){var contextForState=passThroughContext(context,ws.contextExtensionList);_.each(ws.components,function(component){_.each(component.getTerms(contextForState,editor),function(term){if(!_.isObject(term)){term={name:term}}autoCompleteSet.push(term)})})});autoCompleteSet=_.uniq(autoCompleteSet,false);context.autoCompleteSet=autoCompleteSet}if(walkStates.length!==0){var wsToUse=void 0;walkStates=_.sortBy(walkStates,function(ws){return _.isNumber(ws.priority)?ws.priority:Number.MAX_VALUE});wsToUse=_.find(walkStates,function(ws){return _.isEmpty(ws.components)});if(!wsToUse&&walkStates.length>1&&!includeAutoComplete){console.info("more then one context active for current path, but autocomplete isn't requested",walkStates)}if(!wsToUse){wsToUse=walkStates[0]}_.each(wsToUse.contextExtensionList,function(extension){_.assign(context,extension)})}}},function(module,exports,__webpack_require__){"use strict";var _sense_editor_resize=__webpack_require__(798);var SenseEditor=__webpack_require__(801);var exampleText=__webpack_require__(4724).trim();__webpack_require__(4).get("app/sense").directive("senseHelpExample",function(){return{restrict:"E",link:function link($scope,$el){$el.text(exampleText);$scope.editor=new SenseEditor($el);(0,_sense_editor_resize.useResizeChecker)($scope,$el,$scope.editor);$scope.editor.setReadOnly(true);$scope.editor.$blockScrolling=Infinity;$scope.$on("$destroy",function(){if($scope.editor)$scope.editor.destroy()})}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.msToPretty=msToPretty;function msToPretty(ms,precision){if(!precision){precision=1}ms=Number(ms);if(ms<1e3){return ms.toFixed(precision)+"ms"}ms/=1e3;if(ms<60){return ms.toFixed(precision)+"s"}ms/=60;if(ms<60){return ms.toFixed(precision)+"min"}ms/=60;if(ms<24){return ms.toFixed(precision)+"hr"}ms/=24;return ms.toFixed(precision)+"d"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.recentlyAccessedShape=exports.RecentlyAccessed=exports.NUM_LONG_LINKS=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var NUM_LONG_LINKS=exports.NUM_LONG_LINKS=5;var RecentlyAccessed=exports.RecentlyAccessed=function(_Component){_inherits(RecentlyAccessed,_Component);function RecentlyAccessed(props){_classCallCheck(this,RecentlyAccessed);var _this=_possibleConstructorReturn(this,(RecentlyAccessed.__proto__||Object.getPrototypeOf(RecentlyAccessed)).call(this,props));_this.onButtonClick=function(){_this.setState({isPopoverOpen:!_this.state.isPopoverOpen})};_this.closePopover=function(){_this.setState({isPopoverOpen:false})};_this.renderDropdown=function(){if(_this.props.recentlyAccessed.length<=NUM_LONG_LINKS){return}var dropdownLinks=[];for(var i=NUM_LONG_LINKS;i<_this.props.recentlyAccessed.length;i++){dropdownLinks.push(_react2.default.createElement("li",{style:{marginBottom:8},key:_this.props.recentlyAccessed[i].id,"data-test-subj":"moreRecentlyAccessedItem"+_this.props.recentlyAccessed[i].id},_react2.default.createElement(_eui.EuiLink,{className:"homRecentlyAccessed__dropdownLink",href:_this.props.recentlyAccessed[i].link},_this.props.recentlyAccessed[i].label)))}var openPopoverComponent=_react2.default.createElement(_eui.EuiLink,{onClick:_this.onButtonClick,"data-test-subj":"openMoreRecentlyAccessedPopover"},_react2.default.createElement(_eui.EuiTextColor,{className:"homRecentlyAccessed__dropdownLabel",color:"subdued"},dropdownLinks.length+" more"),_react2.default.createElement(_eui.EuiIcon,{type:"arrowDown",color:"subdued"}));var anchorPosition="downRight";if(window.innerWidth<=768){anchorPosition="downLeft"}return _react2.default.createElement(_eui.EuiPopover,{id:"popover",ownFocus:true,button:openPopoverComponent,isOpen:_this.state.isPopoverOpen,closePopover:_this.closePopover,anchorPosition:anchorPosition},_react2.default.createElement("ul",null,dropdownLinks))};_this.renderLongLink=function(recentlyAccessedItem){var includeSeparator=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var separator=void 0;if(includeSeparator){separator=_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"homRecentlyAccessed__separator"},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiIcon,{type:"dot",color:"subdued"})))}var EM_RATIO=.65;var minWidth=(recentlyAccessedItem.label.length<8?recentlyAccessedItem.label.length:8)*EM_RATIO;var style={minWidth:minWidth+"em"};return _react2.default.createElement(_react2.default.Fragment,{key:recentlyAccessedItem.id},separator,_react2.default.createElement(_eui.EuiFlexItem,{className:"homRecentlyAccessed__item",style:style,grow:false},_react2.default.createElement(_eui.EuiToolTip,{anchorClassName:"homRecentlyAccessed__anchor",position:"bottom",content:recentlyAccessedItem.label},_react2.default.createElement(_eui.EuiLink,{className:"homRecentlyAccessed__longLink",href:recentlyAccessedItem.link},recentlyAccessedItem.label))))};_this.renderRecentlyAccessed=function(){if(_this.props.recentlyAccessed.length<=NUM_LONG_LINKS){return _this.props.recentlyAccessed.map(function(item,index){var includeSeparator=true;if(index===0){includeSeparator=false}return _this.renderLongLink(item,includeSeparator)})}var links=[];for(var i=0;i<NUM_LONG_LINKS;i++){var includeSeparator=true;if(i===0){includeSeparator=false}links.push(_this.renderLongLink(_this.props.recentlyAccessed[i],includeSeparator))}return links};_this.state={isPopoverOpen:false};return _this}_createClass(RecentlyAccessed,[{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.recentlyAccessed.recentlyViewedTitle",defaultMessage:"Recently viewed"})))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd",wrap:true},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"homRecentlyAccessed__flexItem"},_react2.default.createElement(_eui.EuiFlexGroup,null,this.renderRecentlyAccessed())),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},this.renderDropdown())))}}]);return RecentlyAccessed}(_react.Component);var recentlyAccessedShape=exports.recentlyAccessedShape=_propTypes2.default.shape({label:_propTypes2.default.string.isRequired,link:_propTypes2.default.string.isRequired,id:_propTypes2.default.string.isRequired});RecentlyAccessed.propTypes={recentlyAccessed:_propTypes2.default.arrayOf(recentlyAccessedShape).isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTutorial=exports.getTutorials=undefined;var loadTutorials=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(baseUrl,{method:"get",credentials:"include",headers:headers});case 3:response=_context.sent;if(!(response.status>=300)){_context.next=6;break}throw new Error(_i18n.i18n.translate("kbn.home.loadTutorials.requestFailedErrorMessage",{defaultMessage:"Request failed with status code: {status}",values:{status:response.status}}));case 6:_context.next=8;return response.json();case 8:tutorials=_context.sent;tutorialsLoaded=true;_context.next=15;break;case 12:_context.prev=12;_context.t0=_context["catch"](0);_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.home.loadTutorials.unableToLoadErrorMessage",{defaultMessage:"Unable to load tutorials"}),text:_context.t0.message});case 15:case"end":return _context.stop()}}},_callee,this,[[0,12]])}));return function loadTutorials(){return _ref.apply(this,arguments)}}();var getTutorials=exports.getTutorials=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(tutorialsLoaded){_context2.next=3;break}_context2.next=3;return loadTutorials();case 3:return _context2.abrupt("return",_lodash2.default.cloneDeep(tutorials));case 4:case"end":return _context2.stop()}}},_callee2,this)}));return function getTutorials(){return _ref2.apply(this,arguments)}}();var getTutorial=exports.getTutorial=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(id){var tutorial;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(tutorialsLoaded){_context3.next=3;break}_context3.next=3;return loadTutorials();case 3:tutorial=tutorials.find(function(tutorial){return tutorial.id===id});if(!tutorial){_context3.next=6;break}return _context3.abrupt("return",_lodash2.default.cloneDeep(tutorial));case 6:case"end":return _context3.stop()}}},_callee3,this)}));return function getTutorial(_x){return _ref3.apply(this,arguments)}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _i18n=__webpack_require__(9);var _notify=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var baseUrl=_chrome2.default.addBasePath("/api/kibana/home/tutorials");var headers=new Headers;headers.append("Accept","application/json");headers.append("Content-Type","application/json");headers.append("kbn-xsrf","kibana");var tutorials=[];var tutorialsLoaded=false},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var HAS_DATA=exports.HAS_DATA="has_data";var FETCHING=exports.FETCHING="FETCHING";var NO_DATA=exports.NO_DATA="NO_DATA";var NOT_CHECKED=exports.NOT_CHECKED="NOT_CHECKED";var ERROR=exports.ERROR="ERROR"},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4799)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _loader=__webpack_require__(676);Object.keys(_loader).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _loader[key]}})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIndexBreadcrumbs=getIndexBreadcrumbs;exports.getViewBreadcrumbs=getViewBreadcrumbs;var _management=__webpack_require__(24);var _i18n=__webpack_require__(9);var _saved_object_registry=__webpack_require__(292);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function getIndexBreadcrumbs(){return[_management.MANAGEMENT_BREADCRUMB,{text:_i18n.i18n.translate("kbn.management.savedObjects.indexBreadcrumb",{defaultMessage:"Saved objects"}),href:"#/management/kibana/objects"}]}function getViewBreadcrumbs($routeParams,$injector){var serviceObj=_saved_object_registry.savedObjectManagementRegistry.get($routeParams.service);var service=$injector.get(serviceObj.service);return[].concat(_toConsumableArray(getIndexBreadcrumbs()),[{text:_i18n.i18n.translate("kbn.management.savedObjects.editBreadcrumb",{defaultMessage:"Edit {savedObjectType}",values:{savedObjectType:service.type}})}])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ObjectsTable=exports.INCLUDED_TYPES=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _header=__webpack_require__(4849);var _flyout=__webpack_require__(4851);var _relationships=__webpack_require__(4853);var _table=__webpack_require__(4863);var _notify=__webpack_require__(10);var _eui=__webpack_require__(2);var _lib=__webpack_require__(549);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var INCLUDED_TYPES=exports.INCLUDED_TYPES=["index-pattern","visualization","dashboard","search"];var ObjectsTableUI=function(_Component){_inherits(ObjectsTableUI,_Component);function ObjectsTableUI(props){var _this2=this;_classCallCheck(this,ObjectsTableUI);var _this=_possibleConstructorReturn(this,(ObjectsTableUI.__proto__||Object.getPrototypeOf(ObjectsTableUI)).call(this,props));_this.fetchCounts=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _parseQuery,queryText,visibleTypes,filteredTypes,filteredSavedObjectCounts,exportAllOptions,exportAllSelectedOptions,savedObjectCounts;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_parseQuery=(0,_lib.parseQuery)(_this.state.activeQuery),queryText=_parseQuery.queryText,visibleTypes=_parseQuery.visibleTypes;filteredTypes=INCLUDED_TYPES.filter(function(type){return!visibleTypes||visibleTypes.includes(type)});_context.next=4;return(0,_lib.getSavedObjectCounts)(_this.props.$http,filteredTypes,queryText);case 4:filteredSavedObjectCounts=_context.sent;exportAllOptions=[];exportAllSelectedOptions={};Object.keys(filteredSavedObjectCounts).forEach(function(id){exportAllOptions.push({id:id,label:id+" ("+(filteredSavedObjectCounts[id]||0)+")"});exportAllSelectedOptions[id]=true});_context.next=10;return(0,_lib.getSavedObjectCounts)(_this.props.$http,INCLUDED_TYPES,queryText);case 10:savedObjectCounts=_context.sent;_this.setState(function(state){return _extends({},state,{savedObjectCounts:savedObjectCounts,exportAllOptions:exportAllOptions,exportAllSelectedOptions:exportAllSelectedOptions})});case 12:case"end":return _context.stop()}}},_callee,_this2)}));_this.fetchSavedObjects=function(){_this.setState({isSearching:true},_this.debouncedFetch)};_this.debouncedFetch=(0,_lodash.debounce)(_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _this$props,intl,savedObjectsClient,_this$state,query,page,perPage,_parseQuery2,queryText,visibleTypes,findOptions,resp;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$props=_this.props,intl=_this$props.intl,savedObjectsClient=_this$props.savedObjectsClient;_this$state=_this.state,query=_this$state.activeQuery,page=_this$state.page,perPage=_this$state.perPage;_parseQuery2=(0,_lib.parseQuery)(query),queryText=_parseQuery2.queryText,visibleTypes=_parseQuery2.visibleTypes;findOptions={search:queryText?queryText+"*":undefined,perPage:perPage,page:page+1,fields:["title","id"],searchFields:["title"],type:INCLUDED_TYPES.filter(function(type){return!visibleTypes||visibleTypes.includes(type)})};if(findOptions.type.length>1){findOptions.sortField="type"}resp=void 0;_context2.prev=6;_context2.next=9;return savedObjectsClient.find(findOptions);case 9:resp=_context2.sent;_context2.next=17;break;case 12:_context2.prev=12;_context2.t0=_context2["catch"](6);if(_this._isMounted){_this.setState({isSearching:false})}_notify.toastNotifications.addDanger({title:intl.formatMessage({id:"kbn.management.objects.objectsTable.unableFindSavedObjectsNotificationMessage",defaultMessage:"Unable find saved objects"}),text:""+_context2.t0});return _context2.abrupt("return");case 17:if(_this._isMounted){_context2.next=19;break}return _context2.abrupt("return");case 19:_this.setState(function(_ref3){var activeQuery=_ref3.activeQuery;if(activeQuery.text!==query.text){return{}}return{savedObjects:resp.savedObjects.map(function(savedObject){return{title:savedObject.attributes.title,type:savedObject.type,id:savedObject.id,icon:(0,_lib.getSavedObjectIcon)(savedObject.type)}}),filteredItemCount:resp.total,isSearching:false}});case 20:case"end":return _context2.stop()}}},_callee2,_this2,[[6,12]])})),300);_this.refreshData=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return Promise.all([_this.fetchSavedObjects(),_this.fetchCounts()]);case 2:case"end":return _context3.stop()}}},_callee3,_this2)}));_this.onSelectionChanged=function(selection){var selectedSavedObjects=selection.map(function(item){return{id:item.id,type:item.type}});_this.setState({selectedSavedObjects:selectedSavedObjects})};_this.onQueryChange=function(_ref5){var query=_ref5.query;_this.setState({activeQuery:query,page:0,selectedSavedObjects:[]},function(){_this.fetchSavedObjects();_this.fetchCounts()})};_this.onTableChange=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(table){var _ref7,page,perPage;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_ref7=table.page||{},page=_ref7.index,perPage=_ref7.size;_this.setState({page:page,perPage:perPage,selectedSavedObjects:[]},_this.fetchSavedObjects);case 2:case"end":return _context4.stop()}}},_callee4,_this2)}));return function(_x){return _ref6.apply(this,arguments)}}();_this.onShowRelationships=function(id,type,title){_this.setState({isShowingRelationships:true,relationshipId:id,relationshipType:type,relationshipTitle:title})};_this.onHideRelationships=function(){_this.setState({isShowingRelationships:false,relationshipId:undefined,relationshipType:undefined,relationshipTitle:undefined})};_this.onExport=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var savedObjectsClient,selectedSavedObjects,objects;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:savedObjectsClient=_this.props.savedObjectsClient;selectedSavedObjects=_this.state.selectedSavedObjects;_context5.next=4;return savedObjectsClient.bulkGet(selectedSavedObjects);case 4:objects=_context5.sent;_context5.next=7;return(0,_lib.retrieveAndExportDocs)(objects.savedObjects,savedObjectsClient);case 7:case"end":return _context5.stop()}}},_callee5,_this2)}));_this.onExportAll=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var $http,exportAllSelectedOptions,exportTypes,results;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:$http=_this.props.$http;exportAllSelectedOptions=_this.state.exportAllSelectedOptions;exportTypes=Object.entries(exportAllSelectedOptions).reduce(function(accum,_ref10){var _ref11=_slicedToArray(_ref10,2),id=_ref11[0],selected=_ref11[1];if(selected){accum.push(id)}return accum},[]);_context6.next=5;return(0,_lib.scanAllTypes)($http,exportTypes);case 5:results=_context6.sent;(0,_lib.saveToFile)(JSON.stringify((0,_lodash.flattenDeep)(results),null,2));case 7:case"end":return _context6.stop()}}},_callee6,_this2)}));_this.finishImport=function(){_this.hideImportFlyout();_this.fetchSavedObjects();_this.fetchCounts()};_this.showImportFlyout=function(){_this.setState({isShowingImportFlyout:true})};_this.hideImportFlyout=function(){_this.setState({isShowingImportFlyout:false})};_this.onDelete=function(){_this.setState({isShowingDeleteConfirmModal:true})};_this.delete=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var savedObjectsClient,_this$state2,selectedSavedObjects,isDeleting,indexPatterns,objects,deletes;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:savedObjectsClient=_this.props.savedObjectsClient;_this$state2=_this.state,selectedSavedObjects=_this$state2.selectedSavedObjects,isDeleting=_this$state2.isDeleting;if(!isDeleting){_context7.next=4;break}return _context7.abrupt("return");case 4:_this.setState({isDeleting:true});indexPatterns=selectedSavedObjects.filter(function(object){return object.type==="index-pattern"});if(!indexPatterns.length){_context7.next=9;break}_context7.next=9;return _this.props.indexPatterns.cache.clearAll();case 9:_context7.next=11;return savedObjectsClient.bulkGet(selectedSavedObjects);case 11:objects=_context7.sent;deletes=objects.savedObjects.map(function(object){return savedObjectsClient.delete(object.type,object.id)});_context7.next=15;return Promise.all(deletes);case 15:_this.setState({selectedSavedObjects:[]});_context7.next=18;return _this.fetchSavedObjects();case 18:_context7.next=20;return _this.fetchCounts();case 20:_this.setState({isShowingDeleteConfirmModal:false,isDeleting:false});case 21:case"end":return _context7.stop()}}},_callee7,_this2)}));_this.getRelationships=function(){var _ref13=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(type,id){return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return(0,_lib.getRelationships)(type,id,_this.props.$http,_this.props.basePath);case 2:return _context8.abrupt("return",_context8.sent);case 3:case"end":return _context8.stop()}}},_callee8,_this2)}));return function(_x2,_x3){return _ref13.apply(this,arguments)}}();_this.state={totalCount:0,page:0,perPage:props.perPageConfig||50,savedObjects:[],savedObjectCounts:INCLUDED_TYPES.reduce(function(typeToCountMap,type){typeToCountMap[type]=0;return typeToCountMap},{}),activeQuery:_eui.Query.parse(""),selectedSavedObjects:[],isShowingImportFlyout:false,isSearching:false,filteredItemCount:0,isShowingRelationships:false,relationshipId:undefined,relationshipType:undefined,relationshipTitle:undefined,isShowingDeleteConfirmModal:false,isShowingExportAllOptionsModal:false,isDeleting:false,exportAllOptions:[],exportAllSelectedOptions:{}};return _this}_createClass(ObjectsTableUI,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this.fetchSavedObjects();this.fetchCounts()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;this.debouncedFetch.cancel()}},{key:"renderFlyout",value:function renderFlyout(){if(!this.state.isShowingImportFlyout){return null}return _react2.default.createElement(_flyout.Flyout,{close:this.hideImportFlyout,done:this.finishImport,services:this.props.services,indexPatterns:this.props.indexPatterns,newIndexPatternUrl:this.props.newIndexPatternUrl})}},{key:"renderRelationships",value:function renderRelationships(){if(!this.state.isShowingRelationships){return null}return _react2.default.createElement(_relationships.Relationships,{id:this.state.relationshipId,type:this.state.relationshipType,title:this.state.relationshipTitle,getRelationships:this.getRelationships,close:this.onHideRelationships,getDashboardUrl:this.props.getDashboardUrl,getEditUrl:this.props.getEditUrl,goInApp:this.props.goInApp})}},{key:"renderDeleteConfirmModal",value:function renderDeleteConfirmModal(){var _this3=this;var _state=this.state,isShowingDeleteConfirmModal=_state.isShowingDeleteConfirmModal,isDeleting=_state.isDeleting,selectedSavedObjects=_state.selectedSavedObjects;var intl=this.props.intl;if(!isShowingDeleteConfirmModal){return null}var modal=void 0;if(isDeleting){modal=_react2.default.createElement(_eui.EuiLoadingKibana,{size:"xl"})}else{var onCancel=function onCancel(){_this3.setState({isShowingDeleteConfirmModal:false})};var onConfirm=function onConfirm(){_this3.delete()};modal=_react2.default.createElement(_eui.EuiConfirmModal,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModalTitle",defaultMessage:"Delete saved objects"}),onCancel:onCancel,onConfirm:onConfirm,cancelButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:isDeleting?_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.deleteProcessButtonLabel",defaultMessage:"Deleting…"}):_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.deleteButtonLabel",defaultMessage:"Delete"}),defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.deleteSavedObjectsConfirmModalDescription",defaultMessage:"This action will delete the following saved objects:"})),_react2.default.createElement(_eui.EuiInMemoryTable,{items:selectedSavedObjects,columns:[{field:"type",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.typeColumnName",defaultMessage:"Type"}),width:"50px",render:function render(type){return _react2.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(type)},_react2.default.createElement(_eui.EuiIcon,{type:(0,_lib.getSavedObjectIcon)(type)}))}},{field:"id",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.idColumnName",defaultMessage:"Id/Name"})}],pagination:true,sorting:false}))}return _react2.default.createElement(_eui.EuiOverlayMask,null,modal)}},{key:"renderExportAllOptionsModal",value:function renderExportAllOptionsModal(){var _this4=this;var _state2=this.state,isShowingExportAllOptionsModal=_state2.isShowingExportAllOptionsModal,filteredItemCount=_state2.filteredItemCount,exportAllOptions=_state2.exportAllOptions,exportAllSelectedOptions=_state2.exportAllSelectedOptions;if(!isShowingExportAllOptionsModal){return null}return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.exportObjectsConfirmModalTitle",defaultMessage:"Export {filteredItemCount, plural, one{# object} other {# objects}}",values:{filteredItemCount:filteredItemCount}}),onCancel:function onCancel(){return _this4.setState({isShowingExportAllOptionsModal:false})},onConfirm:this.onExportAll,cancelButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.exportObjectsConfirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.exportObjectsConfirmModal.exportAllButtonLabel",defaultMessage:"Export All"}),defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.exportObjectsConfirmModalDescription",defaultMessage:"Select which types to export. The number in parentheses indicates how many of this type are available to export."})),_react2.default.createElement(_eui.EuiCheckboxGroup,{options:exportAllOptions,idToSelectedMap:exportAllSelectedOptions,onChange:function onChange(optionId){var newExportAllSelectedOptions=_extends({},exportAllSelectedOptions,_defineProperty({},optionId,!exportAllSelectedOptions[optionId]));_this4.setState({exportAllSelectedOptions:newExportAllSelectedOptions})}})))}},{key:"render",value:function render(){var _this5=this;var _state3=this.state,selectedSavedObjects=_state3.selectedSavedObjects,page=_state3.page,perPage=_state3.perPage,savedObjects=_state3.savedObjects,filteredItemCount=_state3.filteredItemCount,isSearching=_state3.isSearching,savedObjectCounts=_state3.savedObjectCounts;var selectionConfig={onSelectionChange:this.onSelectionChanged};var filterOptions=INCLUDED_TYPES.map(function(type){return{value:type,name:type,view:type+" ("+(savedObjectCounts[type]||0)+")"}});return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",style:{maxWidth:1e3,marginTop:16,marginBottom:16}},this.renderFlyout(),this.renderRelationships(),this.renderDeleteConfirmModal(),this.renderExportAllOptionsModal(),_react2.default.createElement(_header.Header,{onExportAll:function onExportAll(){return _this5.setState({isShowingExportAllOptionsModal:true})},onImport:this.showImportFlyout,onRefresh:this.refreshData,filteredCount:filteredItemCount}),_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react2.default.createElement(_table.Table,{itemId:"id",selectionConfig:selectionConfig,selectedSavedObjects:selectedSavedObjects,onQueryChange:this.onQueryChange,onTableChange:this.onTableChange,filterOptions:filterOptions,onExport:this.onExport,onDelete:this.onDelete,getEditUrl:this.props.getEditUrl,goInApp:this.props.goInApp,pageIndex:page,pageSize:perPage,items:savedObjects,totalItemCount:filteredItemCount,isSearching:isSearching,onShowRelationships:this.onShowRelationships}))))}}]);return ObjectsTableUI}(_react.Component);ObjectsTableUI.propTypes={savedObjectsClient:_propTypes2.default.object.isRequired,indexPatterns:_propTypes2.default.object.isRequired,$http:_propTypes2.default.func.isRequired,basePath:_propTypes2.default.string.isRequired,perPageConfig:_propTypes2.default.number,newIndexPatternUrl:_propTypes2.default.string.isRequired,services:_propTypes2.default.array.isRequired,getEditUrl:_propTypes2.default.func.isRequired,goInApp:_propTypes2.default.func.isRequired};var ObjectsTable=exports.ObjectsTable=(0,_react3.injectI18n)(ObjectsTableUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var importFile=exports.importFile=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(file){var FileReader=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.FileReader;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",new Promise(function(resolve,reject){var fr=new FileReader;fr.onload=function(_ref2){var result=_ref2.target.result;try{resolve(JSON.parse(result))}catch(e){reject(e)}};fr.readAsText(file)}));case 1:case"end":return _context.stop()}}},_callee,this)}));return function importFile(_x2){return _ref.apply(this,arguments)}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.resolveSavedObjects=exports.resolveSavedSearches=exports.saveObject=exports.saveObjects=exports.resolveIndexPatternConflicts=undefined;var getSavedObject=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(doc,services){var service,obj;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:service=services.find(function(service){return service.type===doc._type});if(service){_context.next=3;break}return _context.abrupt("return");case 3:_context.next=5;return service.get();case 5:obj=_context.sent;obj.id=doc._id;obj.migrationVersion=doc._migrationVersion;return _context.abrupt("return",obj);case 9:case"end":return _context.stop()}}},_callee,this)}));return function getSavedObject(_x,_x2){return _ref.apply(this,arguments)}}();var importIndexPattern=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(doc,indexPatterns,overwriteAll){var emptyPattern,_doc$_source,title,timeFieldName,fields,fieldFormatMap,sourceFilters,type,typeMeta,importedIndexPattern,newId;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return indexPatterns.get();case 2:emptyPattern=_context2.sent;_doc$_source=doc._source,title=_doc$_source.title,timeFieldName=_doc$_source.timeFieldName,fields=_doc$_source.fields,fieldFormatMap=_doc$_source.fieldFormatMap,sourceFilters=_doc$_source.sourceFilters,type=_doc$_source.type,typeMeta=_doc$_source.typeMeta;importedIndexPattern={id:doc._id,title:title,timeFieldName:timeFieldName};if(type){importedIndexPattern.type=type}addJsonFieldToIndexPattern(importedIndexPattern,fields,"fields",title);addJsonFieldToIndexPattern(importedIndexPattern,fieldFormatMap,"fieldFormatMap",title);addJsonFieldToIndexPattern(importedIndexPattern,sourceFilters,"sourceFilters",title);addJsonFieldToIndexPattern(importedIndexPattern,typeMeta,"typeMeta",title);Object.assign(emptyPattern,importedIndexPattern);_context2.next=13;return emptyPattern.create(true,!overwriteAll);case 13:newId=_context2.sent;indexPatterns.cache.clear(newId);return _context2.abrupt("return",newId);case 16:case"end":return _context2.stop()}}},_callee2,this)}));return function importIndexPattern(_x3,_x4,_x5){return _ref2.apply(this,arguments)}}();var importDocument=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(obj,doc,overwriteAll){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return obj.applyESResp(doc);case 2:_context3.next=4;return obj.save({confirmOverwrite:!overwriteAll});case 4:return _context3.abrupt("return",_context3.sent);case 5:case"end":return _context3.stop()}}},_callee3,this)}));return function importDocument(_x6,_x7,_x8){return _ref3.apply(this,arguments)}}();var awaitEachItemInParallel=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(list,op){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return Promise.all(list.map(function(item){return op(item)}));case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}}},_callee4,this)}));return function awaitEachItemInParallel(_x9,_x10){return _ref4.apply(this,arguments)}}();var resolveIndexPatternConflicts=exports.resolveIndexPatternConflicts=function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(resolutions,conflictedIndexPatterns,overwriteAll){var _this=this;var importCount;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:importCount=0;_context6.next=3;return awaitEachItemInParallel(conflictedIndexPatterns,function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(_ref6){var obj=_ref6.obj;var oldIndexId,resolution,newIndexId;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:oldIndexId=obj.searchSource.getOwnField("index");if(typeof oldIndexId!=="string"){oldIndexId=oldIndexId.id}resolution=resolutions.find(function(_ref8){var oldId=_ref8.oldId;return oldId===oldIndexId});if(resolution){_context5.next=5;break}return _context5.abrupt("return");case 5:newIndexId=resolution.newId;_context5.next=8;return obj.hydrateIndexPattern(newIndexId);case 8:_context5.next=10;return saveObject(obj,overwriteAll);case 10:if(!_context5.sent){_context5.next=12;break}importCount++;case 12:case"end":return _context5.stop()}}},_callee5,_this)}));return function(_x14){return _ref7.apply(this,arguments)}}());case 3:return _context6.abrupt("return",importCount);case 4:case"end":return _context6.stop()}}},_callee6,this)}));return function resolveIndexPatternConflicts(_x11,_x12,_x13){return _ref5.apply(this,arguments)}}();var saveObjects=exports.saveObjects=function(){var _ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(objs,overwriteAll){var _this2=this;var importCount;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:importCount=0;_context8.next=3;return awaitEachItemInParallel(objs,function(){var _ref10=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(obj){return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return saveObject(obj,overwriteAll);case 2:if(!_context7.sent){_context7.next=4;break}importCount++;case 4:case"end":return _context7.stop()}}},_callee7,_this2)}));return function(_x17){return _ref10.apply(this,arguments)}}());case 3:return _context8.abrupt("return",importCount);case 4:case"end":return _context8.stop()}}},_callee8,this)}));return function saveObjects(_x15,_x16){return _ref9.apply(this,arguments)}}();var saveObject=exports.saveObject=function(){var _ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(obj,overwriteAll){return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return obj.save({confirmOverwrite:!overwriteAll});case 2:return _context9.abrupt("return",_context9.sent);case 3:case"end":return _context9.stop()}}},_callee9,this)}));return function saveObject(_x18,_x19){return _ref11.apply(this,arguments)}}();var resolveSavedSearches=exports.resolveSavedSearches=function(){var _ref12=_asyncToGenerator(regeneratorRuntime.mark(function _callee11(savedSearches,services,indexPatterns,overwriteAll){var _this3=this;var importCount;return regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:importCount=0;_context11.next=3;return awaitEachItemInParallel(savedSearches,function(){var _ref13=_asyncToGenerator(regeneratorRuntime.mark(function _callee10(searchDoc){var obj;return regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return getSavedObject(searchDoc,services);case 2:obj=_context10.sent;if(obj){_context10.next=5;break}return _context10.abrupt("return");case 5:_context10.next=7;return importDocument(obj,searchDoc,overwriteAll);case 7:if(!_context10.sent){_context10.next=9;break}importCount++;case 9:case"end":return _context10.stop()}}},_callee10,_this3)}));return function(_x24){return _ref13.apply(this,arguments)}}());case 3:return _context11.abrupt("return",importCount);case 4:case"end":return _context11.stop()}}},_callee11,this)}));return function resolveSavedSearches(_x20,_x21,_x22,_x23){return _ref12.apply(this,arguments)}}();var resolveSavedObjects=exports.resolveSavedObjects=function(){var _ref14=_asyncToGenerator(regeneratorRuntime.mark(function _callee15(savedObjects,overwriteAll,services,indexPatterns){var _this4=this;var docTypes,importedObjectCount,failedImports,conflictedSearchDocs,conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches;return regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:docTypes=groupByType(savedObjects);importedObjectCount=0;failedImports=[];_context15.next=5;return awaitEachItemInParallel(docTypes.indexPatterns,function(){var _ref15=_asyncToGenerator(regeneratorRuntime.mark(function _callee12(indexPatternDoc){var importedIndexPatternId;return regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.prev=0;_context12.next=3;return importIndexPattern(indexPatternDoc,indexPatterns,overwriteAll);case 3:importedIndexPatternId=_context12.sent;if(importedIndexPatternId){importedObjectCount++}_context12.next=10;break;case 7:_context12.prev=7;_context12.t0=_context12["catch"](0);failedImports.push({indexPatternDoc:indexPatternDoc,error:_context12.t0});case 10:case"end":return _context12.stop()}}},_callee12,_this4,[[0,7]])}));return function(_x29){return _ref15.apply(this,arguments)}}());case 5:conflictedSearchDocs=[];conflictedIndexPatterns=[];conflictedSavedObjectsLinkedToSavedSearches=[];_context15.next=10;return awaitEachItemInParallel(docTypes.searches,function(){var _ref16=_asyncToGenerator(regeneratorRuntime.mark(function _callee13(searchDoc){var obj;return regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return getSavedObject(searchDoc,services);case 2:obj=_context13.sent;_context13.prev=3;_context13.next=6;return importDocument(obj,searchDoc,overwriteAll);case 6:if(!_context13.sent){_context13.next=8;break}importedObjectCount++;case 8:_context13.next=13;break;case 10:_context13.prev=10;_context13.t0=_context13["catch"](3);if(_context13.t0 instanceof _errors.SavedObjectNotFound){if(_context13.t0.savedObjectType==="index-pattern"){conflictedIndexPatterns.push({obj:obj,doc:searchDoc})}else{conflictedSearchDocs.push(searchDoc)}}else{failedImports.push({obj:obj,error:_context13.t0})}case 13:case"end":return _context13.stop()}}},_callee13,_this4,[[3,10]])}));return function(_x30){return _ref16.apply(this,arguments)}}());case 10:_context15.next=12;return awaitEachItemInParallel(docTypes.other,function(){var _ref17=_asyncToGenerator(regeneratorRuntime.mark(function _callee14(otherDoc){var obj;return regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return getSavedObject(otherDoc,services);case 2:obj=_context14.sent;_context14.prev=3;_context14.next=6;return importDocument(obj,otherDoc,overwriteAll);case 6:if(!_context14.sent){_context14.next=8;break}importedObjectCount++;case 8:_context14.next=13;break;case 10:_context14.prev=10;_context14.t0=_context14["catch"](3);if(_context14.t0 instanceof _errors.SavedObjectNotFound){if(_context14.t0.savedObjectType==="search"){failedImports.push({obj:obj,error:_context14.t0})}if(_context14.t0.savedObjectType==="index-pattern"){if(obj.savedSearchId){conflictedSavedObjectsLinkedToSavedSearches.push(obj)}else{conflictedIndexPatterns.push({obj:obj,doc:otherDoc})}}}else{failedImports.push({obj:obj,error:_context14.t0})}case 13:case"end":return _context14.stop()}}},_callee14,_this4,[[3,10]])}));return function(_x31){return _ref17.apply(this,arguments)}}());case 12:return _context15.abrupt("return",{conflictedIndexPatterns:conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,importedObjectCount:importedObjectCount,failedImports:failedImports});case 13:case"end":return _context15.stop()}}},_callee15,this)}));return function resolveSavedObjects(_x25,_x26,_x27,_x28){return _ref14.apply(this,arguments)}}();var _errors=__webpack_require__(45);var _i18n=__webpack_require__(9);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function addJsonFieldToIndexPattern(target,sourceString,fieldName,indexName){if(sourceString){try{target[fieldName]=JSON.parse(sourceString)}catch(error){throw new Error(_i18n.i18n.translate("kbn.management.objects.parsingFieldErrorMessage",{defaultMessage:"Error encountered parsing {fieldName} for index pattern {indexName}: {errorMessage}",values:{fieldName:fieldName,indexName:indexName,errorMessage:error.message}}))}}}function groupByType(docs){var defaultDocTypes={searches:[],indexPatterns:[],other:[]};return docs.reduce(function(types,doc){switch(doc._type){case"search":types.searches.push(doc);break;case"index-pattern":types.indexPatterns.push(doc);break;default:types.other.push(doc)}return types},defaultDocTypes)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getInAppUrl=getInAppUrl;function getInAppUrl(id,type){switch(type){case"search":case"searches":return"/discover/"+id;case"visualization":case"visualizations":return"/visualize/edit/"+id;case"index-pattern":case"index-patterns":case"indexPatterns":return"/management/kibana/indices/"+id;case"dashboard":case"dashboards":return"/dashboard/"+id;default:return"/"+type.toLowerCase()+"/"+id}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field_editor=__webpack_require__(4911);Object.defineProperty(exports,"FieldEditor",{enumerable:true,get:function get(){return _field_editor.FieldEditor}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSupportedScriptingLanguages=getSupportedScriptingLanguages;exports.getDeprecatedScriptingLanguages=getDeprecatedScriptingLanguages;exports.GetEnabledScriptingLanguagesProvider=GetEnabledScriptingLanguagesProvider;var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _notify=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getSupportedScriptingLanguages(){return["painless"]}function getDeprecatedScriptingLanguages(){return["expression"]}function GetEnabledScriptingLanguagesProvider($http){return function(){return $http.get(_chrome2.default.addBasePath("/api/kibana/scripts/languages")).then(function(res){return res.data}).catch(function(){_notify.toastNotifications.addDanger("Error getting available scripting languages from Elasticsearch");return[]})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var META_FIELD_NAMES=["_seq_no","_doc","_uid"];function getFirstSortableField(indexPattern,fieldNames){var sortableFields=fieldNames.filter(function(fieldName){return META_FIELD_NAMES.includes(fieldName)||(indexPattern.fields.byName[fieldName]||{sortable:false}).sortable});return sortableFields[0]}function reverseSortDirection(sortDirection){return sortDirection==="asc"?"desc":"asc"}exports.getFirstSortableField=getFirstSortableField;exports.reverseSortDirection=reverseSortDirection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _actions=__webpack_require__(4978);Object.defineProperty(exports,"QueryParameterActionsProvider",{enumerable:true,get:function get(){return _actions.QueryParameterActionsProvider}});var _constants=__webpack_require__(1367);Object.defineProperty(exports,"MAX_CONTEXT_SIZE",{enumerable:true,get:function get(){return _constants.MAX_CONTEXT_SIZE}});Object.defineProperty(exports,"MIN_CONTEXT_SIZE",{enumerable:true,get:function get(){return _constants.MIN_CONTEXT_SIZE}});Object.defineProperty(exports,"QUERY_PARAMETER_KEYS",{enumerable:true,get:function get(){return _constants.QUERY_PARAMETER_KEYS}});var _state=__webpack_require__(1368);Object.defineProperty(exports,"createInitialQueryParametersState",{enumerable:true,get:function get(){return _state.createInitialQueryParametersState}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.QUERY_PARAMETER_KEYS=exports.MIN_CONTEXT_SIZE=exports.MAX_CONTEXT_SIZE=undefined;var _state=__webpack_require__(1368);var MAX_CONTEXT_SIZE=exports.MAX_CONTEXT_SIZE=1e4;var MIN_CONTEXT_SIZE=exports.MIN_CONTEXT_SIZE=0;var QUERY_PARAMETER_KEYS=exports.QUERY_PARAMETER_KEYS=Object.keys((0,_state.createInitialQueryParametersState)())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createInitialQueryParametersState=createInitialQueryParametersState;function createInitialQueryParametersState(defaultStepSize,tieBreakerField){return{anchorType:null,anchorId:null,columns:[],defaultStepSize:defaultStepSize,filters:[],indexPatternId:null,predecessorCount:0,successorCount:0,sort:[],tieBreakerField:tieBreakerField}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(2563)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(75);__webpack_require__(76);__webpack_require__(77);__webpack_require__(78);__webpack_require__(79);__webpack_require__(80);__webpack_require__(81);__webpack_require__(82);__webpack_require__(83);__webpack_require__(84);__webpack_require__(85);__webpack_require__(86);__webpack_require__(87);__webpack_require__(88);__webpack_require__(89);__webpack_require__(90);__webpack_require__(91);__webpack_require__(92);__webpack_require__(93);__webpack_require__(94);__webpack_require__(95);__webpack_require__(96);__webpack_require__(97);__webpack_require__(98);__webpack_require__(99);__webpack_require__(100);__webpack_require__(101);__webpack_require__(102);__webpack_require__(103);__webpack_require__(104);__webpack_require__(105);__webpack_require__(106);__webpack_require__(107);__webpack_require__(108);__webpack_require__(109);__webpack_require__(110);__webpack_require__(111);__webpack_require__(112);__webpack_require__(113);__webpack_require__(114);__webpack_require__(115);__webpack_require__(116);__webpack_require__(117);__webpack_require__(118);__webpack_require__(119);__webpack_require__(120);__webpack_require__(121);__webpack_require__(122);__webpack_require__(123);__webpack_require__(124);__webpack_require__(125);__webpack_require__(126);__webpack_require__(127);__webpack_require__(128);__webpack_require__(129);__webpack_require__(130);__webpack_require__(131);__webpack_require__(132);__webpack_require__(133);__webpack_require__(134);__webpack_require__(135);__webpack_require__(136);__webpack_require__(137);__webpack_require__(138);__webpack_require__(139);__webpack_require__(140);__webpack_require__(141);__webpack_require__(142);__webpack_require__(143);__webpack_require__(144);__webpack_require__(145);__webpack_require__(146);__webpack_require__(147);__webpack_require__(148);__webpack_require__(149);__webpack_require__(150);__webpack_require__(151);__webpack_require__(152);__webpack_require__(153);__webpack_require__(154);__webpack_require__(155);__webpack_require__(156);__webpack_require__(157);__webpack_require__(158);__webpack_require__(159);__webpack_require__(160);__webpack_require__(161);__webpack_require__(162);__webpack_require__(163);__webpack_require__(164);__webpack_require__(165);__webpack_require__(166);__webpack_require__(167);__webpack_require__(168);__webpack_require__(169);__webpack_require__(170);__webpack_require__(171);__webpack_require__(172);__webpack_require__(173);__webpack_require__(185);var _i18n=__webpack_require__(9);var _kibanaCore__=__webpack_require__(174);var injectedMetadata=JSON.parse(document.querySelector("kbn-injected-metadata").getAttribute("data"));_i18n.i18n.init(injectedMetadata.legacyMetadata.translations);new _kibanaCore__.CoreSystem({injectedMetadata:injectedMetadata,rootDomElement:document.body,requireLegacyFiles:function requireLegacyFiles(){__webpack_require__(3774)}}).start()},function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(4);__webpack_require__(3775);__webpack_require__(647);__webpack_require__(670);__webpack_require__(671);__webpack_require__(673);__webpack_require__(3791);__webpack_require__(328);__webpack_require__(327);__webpack_require__(3796);__webpack_require__(1095);__webpack_require__(1024);__webpack_require__(3829);__webpack_require__(4670);__webpack_require__(4684);__webpack_require__(1096);__webpack_require__(1089);__webpack_require__(1088);__webpack_require__(1097);__webpack_require__(490);__webpack_require__(1099);__webpack_require__(207);__webpack_require__(4770);__webpack_require__(4794);__webpack_require__(4816);__webpack_require__(1101);__webpack_require__(4830);__webpack_require__(4964);__webpack_require__(4967);__webpack_require__(4970);__webpack_require__(476);__webpack_require__(1113);__webpack_require__(293);__webpack_require__(604);var _notify=__webpack_require__(10);__webpack_require__(244);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.enable();_routes2.default.otherwise({redirectTo:"/"+_chrome2.default.getInjected("kbnDefaultAppId","discover")});_modules.uiModules.get("kibana").run(_notify.showAppRedirectNotification)},function(module,exports,__webpack_require__){__webpack_require__(3776);__webpack_require__(3777);__webpack_require__(3778);__webpack_require__(3779);__webpack_require__(3780);__webpack_require__(3781);__webpack_require__(3783);__webpack_require__(3784);__webpack_require__(3785);__webpack_require__(3786);__webpack_require__(3787);__webpack_require__(3788);__webpack_require__(3789);__webpack_require__(3790)},function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _feature_catalogue=__webpack_require__(39);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}if(_chrome2.default.getInjected("apmUiEnabled")){_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(i18n){return{id:"apm",title:"APM",description:i18n("xpack.apm.apmDescription",{defaultMessage:"Automatically collect in-depth performance metrics and "+"errors from inside your applications."}),icon:"apmApp",path:"/app/apm",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})}},function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(39);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"canvas",title:"Canvas",description:"Showcase your data in a pixel-perfect way.",icon:"canvasApp",path:"/app/canvas",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(39);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(i18n){return{id:"graph",title:"Graph",description:i18n("xpack.graph.pluginDescription",{defaultMessage:"Surface and analyze relevant relationships in your Elasticsearch data."}),icon:"graphApp",path:"/app/graph",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(39);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(i18n){return{id:"grokdebugger",title:i18n("xpack.grokDebugger.registryProviderTitle",{defaultMessage:"{grokLogParsingTool} Debugger",values:{grokLogParsingTool:"Grok"}}),description:i18n("xpack.grokDebugger.registryProviderDescription",{defaultMessage:"Simulate and debug {grokLogParsingTool} patterns for data transformation on ingestion.",values:{grokLogParsingTool:"grok"}}),icon:"grokApp",path:"/app/kibana#/dev_tools/grokdebugger",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var feature_catalogue_1=__webpack_require__(39);var APP_ID="infra";feature_catalogue_1.FeatureCatalogueRegistryProvider.register(function(i18n){return{id:"infraops",title:i18n("xpack.infra.registerFeatures.infraOpsTitle",{defaultMessage:"Infrastructure"}),description:i18n("xpack.infra.registerFeatures.infraOpsDescription",{defaultMessage:"Explore infrastructure metrics and logs for common servers, containers, and services."}),icon:"infraApp",path:"/app/"+APP_ID+"#home",showOnHomePage:true,category:feature_catalogue_1.FeatureCatalogueCategory.DATA}});feature_catalogue_1.FeatureCatalogueRegistryProvider.register(function(i18n){return{id:"infralogging",title:i18n("xpack.infra.registerFeatures.logsTitle",{defaultMessage:"Logs"}),description:i18n("xpack.infra.registerFeatures.logsDescription",{defaultMessage:"Stream logs in real time or scroll through historical views in a console-like experience."}),icon:"loggingApp",path:"/app/"+APP_ID+"#logs",showOnHomePage:true,category:feature_catalogue_1.FeatureCatalogueCategory.DATA}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(3782)},function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(39);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function($injector,i18n){var licenseService=$injector.get("logstashLicenseService");if(!licenseService.enableLinks){return}return{id:"management_logstash",title:i18n("xpack.logstash.homeFeature.logstashPipelinesTitle",{defaultMessage:"Logstash Pipelines"}),description:i18n("xpack.logstash.homeFeature.logstashPipelinesDescription",{defaultMessage:"Create, delete, update, and clone data ingestion pipelines."}),icon:"pipelineApp",path:"/app/kibana#/management/logstash/pipelines",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(39);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"ml",title:"Machine Learning",description:"Automatically model the normal behavior of your time series data to detect anomalies.",icon:"machineLearningApp",path:"/app/ml",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _feature_catalogue=__webpack_require__(39);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}if(_chrome2.default.getInjected("monitoringUiEnabled")){_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(i18n){return{id:"monitoring",title:i18n("xpack.monitoring.monitoringTitle",{defaultMessage:"Monitoring"}),description:i18n("xpack.monitoring.monitoringDescription",{defaultMessage:"Track the real-time health and performance of your Elastic Stack."}),icon:"monitoringApp",path:"/app/monitoring",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})}},function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(39);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(i18n){return{id:"reporting",title:i18n("xpack.reporting.registerFeature.reportingTitle",{defaultMessage:"Reporting"}),description:i18n("xpack.reporting.registerFeature.reportingDescription",{defaultMessage:"Manage your reports generated from Discover, Visualize, and Dashboard."}),icon:"reportingApp",path:"/app/kibana#/management/kibana/reporting",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(39);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(i18n){return{id:"searchprofiler",title:i18n("xpack.searchProfiler.registryProviderTitle",{defaultMessage:"Search Profiler"}),description:i18n("xpack.searchProfiler.registryProviderDescription",{defaultMessage:"Quickly check the performance of any Elasticsearch query."}),icon:"searchProfilerApp",path:"/app/kibana#/dev_tools/searchprofiler",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(39);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(i18n){return{id:"security",title:i18n("xpack.security.registerFeature.securitySettingsTitle",{defaultMessage:"Security Settings"}),description:i18n("xpack.security.registerFeature.securitySettingsDescription",{defaultMessage:"Protect your data and easily manage who has access to what with users and roles."}),icon:"securityApp",path:"/app/kibana#/management/security",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var i18n_1=__webpack_require__(9);var feature_catalogue_1=__webpack_require__(39);var constants_1=__webpack_require__(567);feature_catalogue_1.FeatureCatalogueRegistryProvider.register(function(){return{id:"spaces",title:i18n_1.i18n.translate("xpack.spaces.spacesTitle",{defaultMessage:"Spaces"}),description:constants_1.getSpacesFeatureDescription(),icon:"spacesApp",path:"/app/kibana#/management/spaces/list",showOnHomePage:true,category:feature_catalogue_1.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(39);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(i18n){return{id:"timelion",title:"Timelion",description:i18n("timelion.registerFeatureDescription",{defaultMessage:"Use an expression language to analyze time series data and visualize the results."}),icon:"timelionApp",path:"/app/timelion",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(39);var _i18n=__webpack_require__(9);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"watcher",title:"Watcher",description:_i18n.i18n.translate("xpack.watcher.watcherDescription",{defaultMessage:"Detect changes in your data by creating, managing, and monitoring alerts."}),icon:"watchesApp",path:"/app/kibana#/management/elasticsearch/watcher/watches",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){__webpack_require__(3792)},function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _agg_type_filter=__webpack_require__(3793);var _agg_type_field_filter=__webpack_require__(3794);var _editor_config=__webpack_require__(3795);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiSettings=_chrome2.default.getUiSettingsClient();var isRollupIndexPatternsEnabled=uiSettings.get("rollups:enableIndexPatterns");if(isRollupIndexPatternsEnabled){(0,_agg_type_filter.initAggTypeFilter)();(0,_agg_type_field_filter.initAggTypeFieldFilter)();(0,_editor_config.initEditorConfig)()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initAggTypeFilter=initAggTypeFilter;var _filter=__webpack_require__(674);function initAggTypeFilter(){_filter.aggTypeFilters.addFilter(function(aggType,indexPattern){if(indexPattern.type!=="rollup"){return true}var aggName=aggType.name;var aggs=indexPattern.typeMeta&&indexPattern.typeMeta.aggs;return aggName==="count"||Object.keys(aggs).includes(aggName)})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initAggTypeFieldFilter=initAggTypeFieldFilter;var _filter=__webpack_require__(591);function initAggTypeFieldFilter(){_filter.aggTypeFieldFilters.addFilter(function(field,fieldParamType,aggConfig){var indexPattern=aggConfig.getIndexPattern();if(!indexPattern||indexPattern.type!=="rollup"){return true}var aggName=aggConfig.type&&aggConfig.type.name;var aggFields=indexPattern.typeMeta&&indexPattern.typeMeta.aggs&&indexPattern.typeMeta.aggs[aggName];return aggFields&&aggFields[field.name]})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initEditorConfig=initEditorConfig;var _editor_config_providers=__webpack_require__(1084);function initEditorConfig(){_editor_config_providers.editorConfigProviders.register(function(aggType,indexPattern,aggConfig){if(indexPattern.type!=="rollup"){return{}}var aggTypeName=aggConfig.type&&aggConfig.type.name;if(aggTypeName==="terms"){return{otherBucket:{hidden:true},missingBucket:{hidden:true}}}var rollupAggs=indexPattern.typeMeta&&indexPattern.typeMeta.aggs;var field=aggConfig.params&&aggConfig.params.field&&aggConfig.params.field.name;var fieldAgg=rollupAggs&&field&&rollupAggs[aggTypeName]&&rollupAggs[aggTypeName][field];if(!rollupAggs||!field||!fieldAgg){return{}}if(aggTypeName==="histogram"){var interval=fieldAgg.interval;return interval?{intervalBase:{fixedValue:interval},interval:{base:interval,help:"Must be a multiple of rollup configuration interval: "+interval}}:{}}if(aggTypeName==="date_histogram"){var timezone=fieldAgg.time_zone||"UTC";var _interval=fieldAgg.interval;return{time_zone:{fixedValue:timezone},interval:{fixedValue:"custom"},useNormalizedEsInterval:{fixedValue:false},customInterval:{default:_interval,timeBase:_interval,help:"Must be a multiple of rollup configuration interval: "+_interval}}}return{}})}},function(module,exports,__webpack_require__){__webpack_require__(3797)},function(module,exports,__webpack_require__){"use strict";var _field_format_editors=__webpack_require__(1257);var _bytes=__webpack_require__(3798);var _color=__webpack_require__(3803);var _date=__webpack_require__(3805);var _duration=__webpack_require__(3807);var _number=__webpack_require__(772);var _percent=__webpack_require__(3809);var _static_lookup=__webpack_require__(3811);var _string=__webpack_require__(3813);var _truncate=__webpack_require__(3815);var _url=__webpack_require__(3818);_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _bytes.BytesFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _color.ColorFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _date.DateFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _duration.DurationFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _number.NumberFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _percent.PercentFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _static_lookup.StaticLookupFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _string.StringFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _truncate.TruncateFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _url.UrlFormatEditor})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _bytes=__webpack_require__(3799);Object.defineProperty(exports,"BytesFormatEditor",{enumerable:true,get:function get(){return _bytes.BytesFormatEditor}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BytesFormatEditor=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _number=__webpack_require__(772);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var BytesFormatEditor=exports.BytesFormatEditor=function(_NumberFormatEditor){_inherits(BytesFormatEditor,_NumberFormatEditor);function BytesFormatEditor(props){_classCallCheck(this,BytesFormatEditor);var _this=_possibleConstructorReturn(this,(BytesFormatEditor.__proto__||Object.getPrototypeOf(BytesFormatEditor)).call(this,props));_this.state=_extends({},_this.state,{sampleInputs:[256,1024,515e4,199e7]});return _this}return BytesFormatEditor}(_number.NumberFormatEditor);BytesFormatEditor.formatId="bytes"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NumberFormatEditor=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _default=__webpack_require__(282);var _samples=__webpack_require__(362);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var NumberFormatEditor=exports.NumberFormatEditor=function(_DefaultFormatEditor){_inherits(NumberFormatEditor,_DefaultFormatEditor);function NumberFormatEditor(props){_classCallCheck(this,NumberFormatEditor);var _this=_possibleConstructorReturn(this,(NumberFormatEditor.__proto__||Object.getPrototypeOf(NumberFormatEditor)).call(this,props));_this.state.sampleInputs=[1e4,12.345678,-1,-999,.52];return _this}_createClass(NumberFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,format=_props.format,formatParams=_props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples;var defaultPattern=format.getParamDefaults().pattern;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.number.numeralLabel",defaultMessage:"Numeral.js format pattern (Default: {defaultPattern})",values:{defaultPattern:_react2.default.createElement(_eui.EuiCode,null,defaultPattern)}}),helpText:_react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiLink,{target:"_window",href:"https://adamwdraper.github.io/Numeral-js/"},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.number.documentationLabel",defaultMessage:"Documentation"})," ",_react2.default.createElement(_eui.EuiIcon,{type:"link"}))),isInvalid:!!error,error:error},_react2.default.createElement(_eui.EuiFieldText,{value:formatParams.pattern,placeholder:defaultPattern,onChange:function onChange(e){_this2.onChange({pattern:e.target.value})},isInvalid:!!error})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return NumberFormatEditor}(_default.DefaultFormatEditor);NumberFormatEditor.formatId="number"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DefaultFormatEditor=exports.convertSampleInput=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var convertSampleInput=exports.convertSampleInput=function convertSampleInput(converter,inputs){var error=null;var samples=[];try{samples=inputs.map(function(input){return{input:input,output:converter(input)}})}catch(e){error=_i18n.i18n.translate("common.ui.fieldEditor.defaultErrorMessage",{defaultMessage:"An error occurred while trying to use this format configuration: {message}",values:{message:e.message}})}return{error:error,samples:samples}};var DefaultFormatEditor=exports.DefaultFormatEditor=function(_PureComponent){_inherits(DefaultFormatEditor,_PureComponent);function DefaultFormatEditor(props){_classCallCheck(this,DefaultFormatEditor);var _this=_possibleConstructorReturn(this,(DefaultFormatEditor.__proto__||Object.getPrototypeOf(DefaultFormatEditor)).call(this,props));_this.onChange=function(){var newParams=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _this$props=_this.props,onChange=_this$props.onChange,formatParams=_this$props.formatParams;onChange(_extends({},formatParams,newParams))};_this.state={sampleInputs:[],sampleConverterType:"text",error:null,samples:[]};return _this}_createClass(DefaultFormatEditor,[{key:"render",value:function render(){return null}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,state){var format=nextProps.format,formatParams=nextProps.formatParams,onError=nextProps.onError;var sampleInputsByType=state.sampleInputsByType,sampleInputs=state.sampleInputs,sampleConverterType=state.sampleConverterType;var converter=format.getConverterFor(sampleConverterType);var type=(typeof sampleInputsByType==="undefined"?"undefined":_typeof(sampleInputsByType))==="object"&&formatParams.type;var inputs=type?sampleInputsByType[formatParams.type]||[]:sampleInputs;var output=convertSampleInput(converter,inputs);onError(output.error);return output}}]);return DefaultFormatEditor}(_react.PureComponent);DefaultFormatEditor.propTypes={fieldType:_propTypes2.default.string.isRequired,format:_propTypes2.default.object.isRequired,formatParams:_propTypes2.default.object.isRequired,onChange:_propTypes2.default.func.isRequired,onError:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FormatEditorSamples=exports.FormatEditorSamplesComponent=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FormatEditorSamplesComponent=exports.FormatEditorSamplesComponent=function(_PureComponent){_inherits(FormatEditorSamplesComponent,_PureComponent);function FormatEditorSamplesComponent(){_classCallCheck(this,FormatEditorSamplesComponent);return _possibleConstructorReturn(this,(FormatEditorSamplesComponent.__proto__||Object.getPrototypeOf(FormatEditorSamplesComponent)).apply(this,arguments))}_createClass(FormatEditorSamplesComponent,[{key:"render",value:function render(){var _props=this.props,samples=_props.samples,intl=_props.intl;var columns=[{field:"input",name:intl.formatMessage({id:"common.ui.fieldEditor.samples.inputHeader",defaultMessage:"Input"}),render:function render(input){return(typeof input==="undefined"?"undefined":_typeof(input))==="object"?JSON.stringify(input):input}},{field:"output",name:intl.formatMessage({id:"common.ui.fieldEditor.samples.outputHeader",defaultMessage:"Output"}),render:function render(output){return _react2.default.createElement("div",{dangerouslySetInnerHTML:{__html:output}})}}];return samples.length?_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.samplesHeader",defaultMessage:"Samples"})},_react2.default.createElement(_eui.EuiBasicTable,{className:"kbnFieldFormatEditor__samples",compressed:true,items:samples,columns:columns})):null}}]);return FormatEditorSamplesComponent}(_react.PureComponent);FormatEditorSamplesComponent.propTypes={samples:_propTypes2.default.arrayOf(_propTypes2.default.shape({input:_propTypes2.default.any.isRequired,output:_propTypes2.default.any.isRequired})).isRequired};var FormatEditorSamples=exports.FormatEditorSamples=(0,_react3.injectI18n)(FormatEditorSamplesComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _color=__webpack_require__(3804);Object.defineProperty(exports,"ColorFormatEditor",{enumerable:true,get:function get(){return _color.ColorFormatEditor}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColorFormatEditor=exports.ColorFormatEditorComponent=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _default=__webpack_require__(282);var _color_default=__webpack_require__(877);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ColorFormatEditorComponent=exports.ColorFormatEditorComponent=function(_DefaultFormatEditor){_inherits(ColorFormatEditorComponent,_DefaultFormatEditor);function ColorFormatEditorComponent(props){_classCallCheck(this,ColorFormatEditorComponent);var _this=_possibleConstructorReturn(this,(ColorFormatEditorComponent.__proto__||Object.getPrototypeOf(ColorFormatEditorComponent)).call(this,props));_this.onColorChange=function(newColorParams,index){var colors=[].concat(_toConsumableArray(_this.props.formatParams.colors));colors[index]=_extends({},colors[index],newColorParams);_this.onChange({colors:colors})};_this.addColor=function(){var colors=[].concat(_toConsumableArray(_this.props.formatParams.colors));_this.onChange({colors:[].concat(_toConsumableArray(colors),[_extends({},_color_default.DEFAULT_COLOR)])})};_this.removeColor=function(index){var colors=[].concat(_toConsumableArray(_this.props.formatParams.colors));colors.splice(index,1);_this.onChange({colors:colors})};_this.onChange({fieldType:props.fieldType});return _this}_createClass(ColorFormatEditorComponent,[{key:"render",value:function render(){var _this2=this;var _props=this.props,formatParams=_props.formatParams,fieldType=_props.fieldType,intl=_props.intl;var items=formatParams.colors&&formatParams.colors.length&&formatParams.colors.map(function(color,index){return _extends({},color,{index:index})})||[];var columns=[fieldType==="string"?{field:"regex",name:intl.formatMessage({id:"common.ui.fieldEditor.color.patternLabel",defaultMessage:"Pattern (regular expression)"}),render:function render(value,item){return _react2.default.createElement(_eui.EuiFieldText,{value:value,onChange:function onChange(e){_this2.onColorChange({regex:e.target.value},item.index)}})}}:{field:"range",name:intl.formatMessage({id:"common.ui.fieldEditor.color.rangeLabel",defaultMessage:"Range (min:max)"}),render:function render(value,item){return _react2.default.createElement(_eui.EuiFieldText,{value:value,onChange:function onChange(e){_this2.onColorChange({range:e.target.value},item.index)}})}},{field:"text",name:intl.formatMessage({id:"common.ui.fieldEditor.color.textColorLabel",defaultMessage:"Text color"}),render:function render(color,item){return _react2.default.createElement(_eui.EuiColorPicker,{color:color,onChange:function onChange(newColor){_this2.onColorChange({text:newColor},item.index)}})}},{field:"background",name:intl.formatMessage({id:"common.ui.fieldEditor.color.backgroundLabel",defaultMessage:"Background color"}),render:function render(color,item){return _react2.default.createElement(_eui.EuiColorPicker,{color:color,onChange:function onChange(newColor){_this2.onColorChange({background:newColor},item.index)}})}},{name:intl.formatMessage({id:"common.ui.fieldEditor.color.exampleLabel",defaultMessage:"Example"}),render:function render(item){return _react2.default.createElement("div",{style:{background:item.background,color:item.text}},"123456")}},{actions:[{name:intl.formatMessage({id:"common.ui.fieldEditor.color.deleteAria",defaultMessage:"Delete"}),description:intl.formatMessage({id:"common.ui.fieldEditor.color.deleteTitle",defaultMessage:"Delete color format"}),onClick:function onClick(item){_this2.removeColor(item.index)},type:"icon",icon:"trash",color:"danger",available:function available(){return items.length>1}}]}];return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiBasicTable,{items:items,columns:columns}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiButton,{iconType:"plusInCircle",size:"s",onClick:this.addColor},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.color.addColorButton",defaultMessage:"Add color"})),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}))}}]);return ColorFormatEditorComponent}(_default.DefaultFormatEditor);var ColorFormatEditor=exports.ColorFormatEditor=(0,_react3.injectI18n)(ColorFormatEditorComponent);ColorFormatEditor.formatId="color"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _date=__webpack_require__(3806);Object.defineProperty(exports,"DateFormatEditor",{enumerable:true,get:function get(){return _date.DateFormatEditor}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DateFormatEditor=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _eui=__webpack_require__(2);var _default=__webpack_require__(282);var _samples=__webpack_require__(362);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DateFormatEditor=exports.DateFormatEditor=function(_DefaultFormatEditor){_inherits(DateFormatEditor,_DefaultFormatEditor);function DateFormatEditor(props){_classCallCheck(this,DateFormatEditor);var _this=_possibleConstructorReturn(this,(DateFormatEditor.__proto__||Object.getPrototypeOf(DateFormatEditor)).call(this,props));_this.state.sampleInputs=[Date.now(),(0,_moment2.default)().startOf("year").valueOf(),(0,_moment2.default)().endOf("year").valueOf()];return _this}_createClass(DateFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,format=_props.format,formatParams=_props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples;var defaultPattern=format.getParamDefaults().pattern;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.date.momentLabel",defaultMessage:"Moment.js format pattern (Default: {defaultPattern})",values:{defaultPattern:_react2.default.createElement(_eui.EuiCode,null,defaultPattern)}}),isInvalid:!!error,error:error,helpText:_react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiLink,{target:"_window",href:"http://momentjs.com/"},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.date.documentationLabel",defaultMessage:"Documentation"})," ",_react2.default.createElement(_eui.EuiIcon,{type:"link"})))},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"dateEditorPattern",value:formatParams.pattern,placeholder:defaultPattern,onChange:function onChange(e){_this2.onChange({pattern:e.target.value})},isInvalid:!!error})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return DateFormatEditor}(_default.DefaultFormatEditor);DateFormatEditor.formatId="date"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _duration=__webpack_require__(3808);Object.defineProperty(exports,"DurationFormatEditor",{enumerable:true,get:function get(){return _duration.DurationFormatEditor}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DurationFormatEditor=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _default=__webpack_require__(282);var _samples=__webpack_require__(362);var _react3=__webpack_require__(3);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DurationFormatEditor=exports.DurationFormatEditor=function(_DefaultFormatEditor){_inherits(DurationFormatEditor,_DefaultFormatEditor);function DurationFormatEditor(props){_classCallCheck(this,DurationFormatEditor);var _this=_possibleConstructorReturn(this,(DurationFormatEditor.__proto__||Object.getPrototypeOf(DurationFormatEditor)).call(this,props));_this.state.sampleInputs=[-123,1,12,123,658,1988,3857,123292,923528271];_this.state.hasDecimalError=false;return _this}_createClass(DurationFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,format=_props.format,formatParams=_props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples,hasDecimalError=_state.hasDecimalError;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.duration.inputFormatLabel",defaultMessage:"Input format"}),isInvalid:!!error,error:hasDecimalError?null:error},_react2.default.createElement(_eui.EuiSelect,{value:formatParams.inputFormat,options:format.type.inputFormats.map(function(format){return{value:format.kind,text:format.text}}),onChange:function onChange(e){_this2.onChange({inputFormat:e.target.value})},isInvalid:!!error})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.duration.outputFormatLabel",defaultMessage:"Output format"}),isInvalid:!!error},_react2.default.createElement(_eui.EuiSelect,{value:formatParams.outputFormat,options:format.type.outputFormats.map(function(format){return{value:format.method,text:format.text}}),onChange:function onChange(e){_this2.onChange({outputFormat:e.target.value})},isInvalid:!!error})),!format.isHuman()?_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.duration.decimalPlacesLabel",defaultMessage:"Decimal places"}),isInvalid:!!error,error:hasDecimalError?error:null},_react2.default.createElement(_eui.EuiFieldNumber,{value:formatParams.outputPrecision,min:0,max:20,onChange:function onChange(e){_this2.onChange({outputPrecision:e.target.value?Number(e.target.value):null})},isInvalid:!!error})):null,_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,state){var output=_get(DurationFormatEditor.__proto__||Object.getPrototypeOf(DurationFormatEditor),"getDerivedStateFromProps",this).call(this,nextProps,state);var error=null;if(!nextProps.format.isHuman()&&nextProps.formatParams.outputPrecision>20){error=_i18n.i18n.translate("common.ui.fieldEditor.durationErrorMessage",{defaultMessage:"Decimal places must be between 0 and 20"});nextProps.onError(error);return _extends({},output,{error:error,hasDecimalError:true})}return _extends({},output,{hasDecimalError:false})}}]);return DurationFormatEditor}(_default.DefaultFormatEditor);DurationFormatEditor.formatId="duration"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _percent=__webpack_require__(3810);Object.defineProperty(exports,"PercentFormatEditor",{enumerable:true,get:function get(){return _percent.PercentFormatEditor}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PercentFormatEditor=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _number=__webpack_require__(772);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PercentFormatEditor=exports.PercentFormatEditor=function(_NumberFormatEditor){_inherits(PercentFormatEditor,_NumberFormatEditor);function PercentFormatEditor(props){_classCallCheck(this,PercentFormatEditor);var _this=_possibleConstructorReturn(this,(PercentFormatEditor.__proto__||Object.getPrototypeOf(PercentFormatEditor)).call(this,props));_this.state=_extends({},_this.state,{sampleInputs:[.1,.99999,1,100,1e3]});return _this}return PercentFormatEditor}(_number.NumberFormatEditor);PercentFormatEditor.formatId="percent"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _static_lookup=__webpack_require__(3812);Object.defineProperty(exports,"StaticLookupFormatEditor",{enumerable:true,get:function get(){return _static_lookup.StaticLookupFormatEditor}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StaticLookupFormatEditor=exports.StaticLookupFormatEditorComponent=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _default=__webpack_require__(282);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var StaticLookupFormatEditorComponent=exports.StaticLookupFormatEditorComponent=function(_DefaultFormatEditor){_inherits(StaticLookupFormatEditorComponent,_DefaultFormatEditor);function StaticLookupFormatEditorComponent(){var _ref;var _temp,_this,_ret;_classCallCheck(this,StaticLookupFormatEditorComponent);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=StaticLookupFormatEditorComponent.__proto__||Object.getPrototypeOf(StaticLookupFormatEditorComponent)).call.apply(_ref,[this].concat(args))),_this),_this.onLookupChange=function(newLookupParams,index){var lookupEntries=[].concat(_toConsumableArray(_this.props.formatParams.lookupEntries));lookupEntries[index]=_extends({},lookupEntries[index],newLookupParams);_this.onChange({lookupEntries:lookupEntries})},_this.addLookup=function(){var lookupEntries=[].concat(_toConsumableArray(_this.props.formatParams.lookupEntries));_this.onChange({lookupEntries:[].concat(_toConsumableArray(lookupEntries),[{}])})},_this.removeLookup=function(index){var lookupEntries=[].concat(_toConsumableArray(_this.props.formatParams.lookupEntries));lookupEntries.splice(index,1);_this.onChange({lookupEntries:lookupEntries})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(StaticLookupFormatEditorComponent,[{key:"render",value:function render(){var _this2=this;var _props=this.props,formatParams=_props.formatParams,intl=_props.intl;var items=formatParams.lookupEntries&&formatParams.lookupEntries.length&&formatParams.lookupEntries.map(function(lookup,index){return _extends({},lookup,{index:index})})||[];var columns=[{field:"key",name:intl.formatMessage({id:"common.ui.fieldEditor.staticLookup.keyLabel",defaultMessage:"Key"}),render:function render(value,item){return _react2.default.createElement(_eui.EuiFieldText,{value:value||"",onChange:function onChange(e){_this2.onLookupChange({key:e.target.value},item.index)}})}},{field:"value",name:intl.formatMessage({id:"common.ui.fieldEditor.staticLookup.valueLabel",defaultMessage:"Value"}),render:function render(value,item){return _react2.default.createElement(_eui.EuiFieldText,{value:value||"",onChange:function onChange(e){_this2.onLookupChange({value:e.target.value},item.index)}})}},{actions:[{name:intl.formatMessage({id:"common.ui.fieldEditor.staticLookup.deleteAria",defaultMessage:"Delete"}),description:intl.formatMessage({id:"common.ui.fieldEditor.staticLookup.deleteTitle",defaultMessage:"Delete entry"}),onClick:function onClick(item){_this2.removeLookup(item.index)},type:"icon",icon:"trash",color:"danger",available:function available(){return items.length>1}}],width:"30px"}];return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiBasicTable,{items:items,columns:columns,style:{maxWidth:"400px"}}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiButton,{iconType:"plusInCircle",size:"s",onClick:this.addLookup},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.staticLookup.addEntryButton",defaultMessage:"Add entry"})),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.staticLookup.unknownKeyLabel",defaultMessage:"Value for unknown key"})},_react2.default.createElement(_eui.EuiFieldText,{value:formatParams.unknownKeyValue||"",placeholder:intl.formatMessage({id:"common.ui.fieldEditor.staticLookup.leaveBlankPlaceholder",defaultMessage:"Leave blank to keep value as-is"}),onChange:function onChange(e){_this2.onChange({unknownKeyValue:e.target.value})}})),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))}}]);return StaticLookupFormatEditorComponent}(_default.DefaultFormatEditor);var StaticLookupFormatEditor=exports.StaticLookupFormatEditor=(0,_react3.injectI18n)(StaticLookupFormatEditorComponent);StaticLookupFormatEditor.formatId="static_lookup"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _string=__webpack_require__(3814);Object.defineProperty(exports,"StringFormatEditor",{enumerable:true,get:function get(){return _string.StringFormatEditor}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StringFormatEditor=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _default=__webpack_require__(282);var _samples=__webpack_require__(362);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var StringFormatEditor=exports.StringFormatEditor=function(_DefaultFormatEditor){_inherits(StringFormatEditor,_DefaultFormatEditor);function StringFormatEditor(props){_classCallCheck(this,StringFormatEditor);var _this=_possibleConstructorReturn(this,(StringFormatEditor.__proto__||Object.getPrototypeOf(StringFormatEditor)).call(this,props));_this.state.sampleInputs=["A Quick Brown Fox.","STAY CALM!","com.organizations.project.ClassName","hostname.net","SGVsbG8gd29ybGQ="];return _this}_createClass(StringFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,format=_props.format,formatParams=_props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.string.transformLabel",defaultMessage:"Transform"}),isInvalid:!!error,error:error},_react2.default.createElement(_eui.EuiSelect,{"data-test-subj":"stringEditorTransform",defaultValue:formatParams.transform,options:format.type.transformOptions.map(function(option){return{value:option.kind,text:option.text}}),onChange:function onChange(e){_this2.onChange({transform:e.target.value})},isInvalid:!!error})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return StringFormatEditor}(_default.DefaultFormatEditor);StringFormatEditor.formatId="string"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _truncate=__webpack_require__(3816);Object.defineProperty(exports,"TruncateFormatEditor",{enumerable:true,get:function get(){return _truncate.TruncateFormatEditor}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TruncateFormatEditor=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _default=__webpack_require__(282);var _samples=__webpack_require__(362);var _sample=__webpack_require__(3817);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TruncateFormatEditor=exports.TruncateFormatEditor=function(_DefaultFormatEditor){_inherits(TruncateFormatEditor,_DefaultFormatEditor);function TruncateFormatEditor(props){_classCallCheck(this,TruncateFormatEditor);var _this=_possibleConstructorReturn(this,(TruncateFormatEditor.__proto__||Object.getPrototypeOf(TruncateFormatEditor)).call(this,props));_this.state.sampleInputs=[_sample.sample];return _this}_createClass(TruncateFormatEditor,[{key:"render",value:function render(){var _this2=this;var formatParams=this.props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.truncate.lengthLabel",defaultMessage:"Field length"}),isInvalid:!!error,error:error},_react2.default.createElement(_eui.EuiFieldNumber,{defaultValue:formatParams.fieldLength,onChange:function onChange(e){_this2.onChange({fieldLength:e.target.value?Number(e.target.value):null})},isInvalid:!!error})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return TruncateFormatEditor}(_default.DefaultFormatEditor);TruncateFormatEditor.formatId="truncate"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var sample=exports.sample="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris vitae sem consequat, sollicitudin enim a, feugiat mi. Curabitur congue laoreet elit, eu dictum nisi commodo ut. Nullam congue sem a blandit commodo. Suspendisse eleifend sodales leo ac hendrerit. Nam fringilla tempor fermentum. Ut tristique pharetra sapien sit amet pharetra. Ut turpis massa, viverra id erat quis, fringilla vehicula risus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Phasellus tincidunt gravida gravida. Praesent et ligula viverra, semper lacus in, tristique elit. Cras ac eleifend diam. Nulla facilisi. Morbi id sagittis magna. Sed fringilla, magna in suscipit aliquet."},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlFormatEditor=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _default=__webpack_require__(282);var _samples=__webpack_require__(362);var _label_template_flyout=__webpack_require__(3819);var _url_template_flyout=__webpack_require__(3820);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);__webpack_require__(3821);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var UrlFormatEditor=exports.UrlFormatEditor=function(_DefaultFormatEditor){_inherits(UrlFormatEditor,_DefaultFormatEditor);function UrlFormatEditor(props){_classCallCheck(this,UrlFormatEditor);var _this=_possibleConstructorReturn(this,(UrlFormatEditor.__proto__||Object.getPrototypeOf(UrlFormatEditor)).call(this,props));_this.onTypeChange=function(newType){var urlTemplate=_this.props.formatParams.urlTemplate;if(newType==="img"&&!urlTemplate){_this.onChange({type:newType,urlTemplate:_this.iconPattern})}else if(newType!=="img"&&urlTemplate===_this.iconPattern){_this.onChange({type:newType,urlTemplate:null})}else{_this.onChange({type:newType})}};_this.showUrlTemplateHelp=function(){_this.setState({showLabelTemplateHelp:false,showUrlTemplateHelp:true})};_this.hideUrlTemplateHelp=function(){_this.setState({showUrlTemplateHelp:false})};_this.showLabelTemplateHelp=function(){_this.setState({showLabelTemplateHelp:true,showUrlTemplateHelp:false})};_this.hideLabelTemplateHelp=function(){_this.setState({showLabelTemplateHelp:false})};var bp=_chrome2.default.getBasePath();_this.iconPattern=bp+"/bundles/src/ui/public/field_editor/components/field_format_editor/editors/url/icons/{{value}}.png";_this.state=_extends({},_this.state,{sampleInputsByType:{a:["john","/some/pathname/asset.png",1234],img:["go","stop",["de","ne","us","ni"],"cv"],audio:["hello.mp3"]},sampleConverterType:"html",showUrlTemplateHelp:false,showLabelTemplateHelp:false});return _this}_createClass(UrlFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,format=_props.format,formatParams=_props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_label_template_flyout.LabelTemplateFlyout,{isVisible:this.state.showLabelTemplateHelp,onClose:this.hideLabelTemplateHelp}),_react2.default.createElement(_url_template_flyout.UrlTemplateFlyout,{isVisible:this.state.showUrlTemplateHelp,onClose:this.hideUrlTemplateHelp}),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.typeLabel",defaultMessage:"Type"})},_react2.default.createElement(_eui.EuiSelect,{"data-test-subj":"urlEditorType",value:formatParams.type,options:format.type.urlTypes.map(function(type){return{value:type.kind,text:type.text}}),onChange:function onChange(e){_this2.onTypeChange(e.target.value)}})),formatParams.type==="a"?_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.openTabLabel",defaultMessage:"Open in a new tab"})},_react2.default.createElement(_eui.EuiSwitch,{label:formatParams.openLinkInCurrentTab?_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.offLabel",defaultMessage:"Off"}):_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.onLabel",defaultMessage:"On"}),checked:!formatParams.openLinkInCurrentTab,onChange:function onChange(e){_this2.onChange({openLinkInCurrentTab:!e.target.checked})}})):null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.urlTemplateLabel",defaultMessage:"URL template"}),helpText:_react2.default.createElement(_eui.EuiLink,{onClick:this.showUrlTemplateHelp},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.template.helpLinkText",defaultMessage:"URL template help"})),isInvalid:!!error,error:error},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"urlEditorUrlTemplate",value:formatParams.urlTemplate||"",onChange:function onChange(e){_this2.onChange({urlTemplate:e.target.value})}})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.labelTemplateLabel",defaultMessage:"Label template"}),helpText:_react2.default.createElement(_eui.EuiLink,{onClick:this.showLabelTemplateHelp},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.url.labelTemplateHelpText",defaultMessage:"Label template help"})),isInvalid:!!error,error:error},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"urlEditorLabelTemplate",value:formatParams.labelTemplate||"",onChange:function onChange(e){_this2.onChange({labelTemplate:e.target.value})}})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return UrlFormatEditor}(_default.DefaultFormatEditor);UrlFormatEditor.formatId="url"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LabelTemplateFlyout=exports.LabelTemplateFlyoutComponent=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LabelTemplateFlyoutComponent=exports.LabelTemplateFlyoutComponent=function LabelTemplateFlyoutComponent(_ref){var _ref$isVisible=_ref.isVisible,isVisible=_ref$isVisible===undefined?false:_ref$isVisible,_ref$onClose=_ref.onClose,onClose=_ref$onClose===undefined?function(){}:_ref$onClose,intl=_ref.intl;return isVisible?_react2.default.createElement(_eui.EuiFlyout,{onClose:onClose},_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.labelTemplateHeader",defaultMessage:"Label Template"})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.labelTemplateLabel",defaultMessage:"If the URL in this field is large, it might be useful to provide an alternate template for the text version of the URL. This will be displayed instead of the url, but will still link to the URL. The format is a string which uses double curly brace notation {doubleCurlyBraces} to inject values. The following values can be accessed:",values:{doubleCurlyBraces:_react2.default.createElement(_eui.EuiCode,null,"{{ }}")}})),_react2.default.createElement("ul",null,_react2.default.createElement("li",null,_react2.default.createElement(_eui.EuiCode,null,"value")," — ",_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.labelTemplate.valueLabel",defaultMessage:"The fields value"})),_react2.default.createElement("li",null,_react2.default.createElement(_eui.EuiCode,null,"url")," — ",_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.labelTemplate.urlLabel",defaultMessage:"The formatted URL"}))),_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.labelTemplate.examplesHeader",defaultMessage:"Examples"})),_react2.default.createElement(_eui.EuiBasicTable,{items:[{input:1234,urlTemplate:"http://company.net/profiles?user_id={{value}}",labelTemplate:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.example.idLabel",defaultMessage:"User #{value}"},{value:"{{value}}"}),output:'<a href="http://company.net/profiles?user_id=1234">'+intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.example.output.idLabel",defaultMessage:"User"})+" #1234</a>"},{input:"/assets/main.css",urlTemplate:"http://site.com{{rawValue}}",labelTemplate:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.example.pathLabel",defaultMessage:"View Asset"}),output:'<a href="http://site.com/assets/main.css">'+intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.example.output.pathLabel",defaultMessage:"View Asset"})+"</a>"}],columns:[{field:"input",name:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.inputHeader",defaultMessage:"Input"}),width:"160px"},{field:"urlTemplate",name:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.urlHeader",defaultMessage:"URL Template"})},{field:"labelTemplate",name:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.labelHeader",defaultMessage:"Label Template"})},{field:"output",name:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.outputHeader",defaultMessage:"Output"}),render:function render(value){return _react2.default.createElement("span",{dangerouslySetInnerHTML:{__html:value}})}}]})))):null};LabelTemplateFlyoutComponent.displayName="LabelTemplateFlyout";var LabelTemplateFlyout=exports.LabelTemplateFlyout=(0,_react3.injectI18n)(LabelTemplateFlyoutComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlTemplateFlyout=exports.UrlTemplateFlyoutComponent=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UrlTemplateFlyoutComponent=exports.UrlTemplateFlyoutComponent=function UrlTemplateFlyoutComponent(_ref){var _ref$isVisible=_ref.isVisible,isVisible=_ref$isVisible===undefined?false:_ref$isVisible,_ref$onClose=_ref.onClose,onClose=_ref$onClose===undefined?function(){}:_ref$onClose,intl=_ref.intl;return isVisible?_react2.default.createElement(_eui.EuiFlyout,{onClose:onClose},_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplateHeader",defaultMessage:"Url Template"})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplateLabel.fieldDetail",defaultMessage:"If a field only contains part of a URL then a {strongUrlTemplate} can be used to format the value as a complete URL. The format is a string which uses double curly brace notation {doubleCurlyBraces} to inject values. The following values can be accessed:",values:{doubleCurlyBraces:_react2.default.createElement(_eui.EuiCode,null,"{{ }}"),strongUrlTemplate:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplateLabel.strongUrlTemplateLabel",defaultMessage:"Url Template"}))}})),_react2.default.createElement("ul",null,_react2.default.createElement("li",null,_react2.default.createElement(_eui.EuiCode,null,"value")," — ",_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplate.valueLabel",defaultMessage:"The URI-escaped value"})),_react2.default.createElement("li",null,_react2.default.createElement(_eui.EuiCode,null,"rawValue")," — ",_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplate.rawValueLabel",defaultMessage:"The unescaped value"}))),_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplate.examplesHeader",defaultMessage:"Examples"})),_react2.default.createElement(_eui.EuiBasicTable,{items:[{input:1234,template:"http://company.net/profiles?user_id={{value}}",output:"http://company.net/profiles?user_id=1234"},{input:"users/admin",template:"http://company.net/groups?id={{value}}",output:"http://company.net/groups?id=users%2Fadmin"},{input:"/images/favicon.ico",template:"http://www.site.com{{rawValue}}",output:"http://www.site.com/images/favicon.ico"}],columns:[{field:"input",name:intl.formatMessage({id:"common.ui.fieldEditor.urlTemplate.inputHeader",defaultMessage:"Input"}),width:"160px"},{field:"template",name:intl.formatMessage({id:"common.ui.fieldEditor.urlTemplate.templateHeader",defaultMessage:"Template"})},{field:"output",name:intl.formatMessage({id:"common.ui.fieldEditor.urlTemplate.outputHeader",defaultMessage:"Output"})}]})))):null};UrlTemplateFlyoutComponent.displayName="UrlTemplateFlyout";var UrlTemplateFlyout=exports.UrlTemplateFlyout=(0,_react3.injectI18n)(UrlTemplateFlyoutComponent)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(3822);__webpack_require__(3823);__webpack_require__(3824);__webpack_require__(3825);__webpack_require__(3826);__webpack_require__(3827);__webpack_require__(3828)},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/go.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/stop.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/de.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/ne.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/us.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/ni.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/cv.png"},function(module,exports,__webpack_require__){__webpack_require__(3830);__webpack_require__(3884);__webpack_require__(3940);__webpack_require__(4003);__webpack_require__(4062);__webpack_require__(4094);__webpack_require__(4133);__webpack_require__(4160);__webpack_require__(4211);__webpack_require__(4218);__webpack_require__(4310);__webpack_require__(4353);__webpack_require__(4370);__webpack_require__(4389);__webpack_require__(4396);__webpack_require__(4474);__webpack_require__(4631);__webpack_require__(4646);__webpack_require__(4668)},function(module,exports,__webpack_require__){"use strict";var startApp=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(libs){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:libs.framework.renderUIAtPath(constants_1.BASE_PATH,react_2.default.createElement(styled_components_1.ThemeProvider,{theme:{eui:euiVars}},react_2.default.createElement(react_1.I18nProvider,null,react_2.default.createElement(react_router_dom_1.HashRouter,{basename:"/management/beats_management"},react_2.default.createElement(unstated_1.Provider,{inject:[new beats_1.BeatsContainer(libs),new tags_1.TagsContainer(libs)]},react_2.default.createElement(breadcrumb_1.BreadcrumbProvider,null,react_2.default.createElement(unstated_1.Subscribe,{to:[beats_1.BeatsContainer,tags_1.TagsContainer]},function(beats,tags){return react_2.default.createElement(background_1.Background,null,react_2.default.createElement(router_1.AppRouter,{libs:libs,beatsContainer:beats,tagsContainer:tags}))})))))),libs.framework.getUISetting("k7design")?"management":"self");_context.next=3;return libs.framework.waitUntilFrameworkReady();case 3:if(libs.framework.licenseIsAtLeast("standard")){libs.framework.registerManagementSection({id:"beats",name:i18n_1.i18n.translate("xpack.beatsManagement.centralManagementSectionLabel",{defaultMessage:"Beats"}),iconName:"logoBeats"});libs.framework.registerManagementUI({sectionId:"beats",name:i18n_1.i18n.translate("xpack.beatsManagement.centralManagementLinkLabel",{defaultMessage:"Central Management (Beta)"}),basePath:constants_1.BASE_PATH})}case 4:case"end":return _context.stop()}}},_callee,this)}));return function startApp(_x){return _ref.apply(this,arguments)}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var euiVars=tslib_1.__importStar(__webpack_require__(507));var i18n_1=__webpack_require__(9);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(37);var styled_components_1=__webpack_require__(18);var unstated_1=__webpack_require__(592);var constants_1=__webpack_require__(283);var background_1=__webpack_require__(3832);var breadcrumb_1=__webpack_require__(312);var beats_1=__webpack_require__(1263);var tags_1=__webpack_require__(1264);var kibana_1=__webpack_require__(3835);var router_1=__webpack_require__(3850);startApp(kibana_1.compose())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ConfigurationBlockTypes;(function(ConfigurationBlockTypes){ConfigurationBlockTypes["FilebeatInputs"]="filebeat.inputs";ConfigurationBlockTypes["FilebeatModules"]="filebeat.modules";ConfigurationBlockTypes["MetricbeatModules"]="metricbeat.modules";ConfigurationBlockTypes["Output"]="output";ConfigurationBlockTypes["Processors"]="processors"})(ConfigurationBlockTypes=exports.ConfigurationBlockTypes||(exports.ConfigurationBlockTypes={}));exports.UNIQUENESS_ENFORCING_TYPES=[ConfigurationBlockTypes.Output]},function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  flex-grow: 1;\n  height: 100vh;\n  background: #f5f7fa;\n"],["\n  flex-grow: 1;\n  height: 100vh;\n  background: #f5f7fa;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var styled_components_1=tslib_1.__importDefault(__webpack_require__(18));exports.Background=styled_components_1.default.div(_templateObject)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importStar(__webpack_require__(0));var context_1=__webpack_require__(1261);var BreadcrumbProvider=function(_react_1$Component){_inherits(BreadcrumbProvider,_react_1$Component);function BreadcrumbProvider(){_classCallCheck(this,BreadcrumbProvider);var _this=_possibleConstructorReturn(this,(BreadcrumbProvider.__proto__||Object.getPrototypeOf(BreadcrumbProvider)).apply(this,arguments));_this.state={breadcrumbs:[]};_this.addCrumb=function(breadcrumb,parents){_this.setState(function(_ref){var prevCrumbs=_ref.breadcrumbs;return{breadcrumbs:[].concat(_toConsumableArray(prevCrumbs),[{href:breadcrumb.href,breadcrumb:breadcrumb,parents:parents}])}})};_this.removeCrumb=function(crumbToRemove){_this.setState(function(_ref2){var prevCrumbs=_ref2.breadcrumbs;var breadcrumbs=prevCrumbs.filter(function(prevCrumb){var href=prevCrumb.href;return!(crumbToRemove.href===href)});return{breadcrumbs:breadcrumbs}})};return _this}_createClass(BreadcrumbProvider,[{key:"render",value:function render(){var breadcrumbs=this.state.breadcrumbs;var context={breadcrumbs:breadcrumbs.reduce(function(crumbs,crumbStorageItem){if(crumbStorageItem.parents){crumbs=crumbs.concat(crumbStorageItem.parents)}crumbs.push(crumbStorageItem.breadcrumb);return crumbs},[]),addCrumb:this.addCrumb,removeCrumb:this.removeCrumb};return react_1.default.createElement(context_1.Provider,{value:context},this.props.children)}}]);return BreadcrumbProvider}(react_1.Component);exports.BreadcrumbProvider=BreadcrumbProvider},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importStar(__webpack_require__(0));var constants_1=__webpack_require__(283);var consumer_1=__webpack_require__(1262);var BreadcrumbManager=function(_react_1$Component){_inherits(BreadcrumbManager,_react_1$Component);function BreadcrumbManager(){_classCallCheck(this,BreadcrumbManager);return _possibleConstructorReturn(this,(BreadcrumbManager.__proto__||Object.getPrototypeOf(BreadcrumbManager)).apply(this,arguments))}_createClass(BreadcrumbManager,[{key:"componentWillUnmount",value:function componentWillUnmount(){var _props=this.props,text=_props.text,href=_props.href,context=_props.context;context.removeCrumb({text:text,href:href})}},{key:"componentDidMount",value:function componentDidMount(){var _props2=this.props,text=_props2.text,href=_props2.href,parents=_props2.parents,context=_props2.context;context.addCrumb({text:text,href:href},parents)}},{key:"render",value:function render(){return react_1.default.createElement("span",null)}}]);return BreadcrumbManager}(react_1.Component);exports.Breadcrumb=function(_ref){var title=_ref.title,path=_ref.path,parentBreadcrumbs=_ref.parentBreadcrumbs;return react_1.default.createElement(consumer_1.BreadcrumbConsumer,null,function(context){return react_1.default.createElement(BreadcrumbManager,{text:title,href:"#"+constants_1.BASE_PATH+path,parents:parentBreadcrumbs,context:context})})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var xpack_info_1=__webpack_require__(46);__webpack_require__(207);var chrome_1=tslib_1.__importDefault(__webpack_require__(8));var management_1=__webpack_require__(24);var routes_1=tslib_1.__importDefault(__webpack_require__(12));var index_names_1=__webpack_require__(1259);var config_schemas_translations_map_1=__webpack_require__(531);var rest_beats_adapter_1=__webpack_require__(3837);var rest_1=__webpack_require__(3838);var kibana_framework_adapter_1=__webpack_require__(3839);var axios_rest_api_adapter_1=__webpack_require__(3843);var rest_tags_adapter_1=__webpack_require__(3844);var rest_tokens_adapter_1=__webpack_require__(3845);var beats_1=__webpack_require__(3846);var elasticsearch_1=__webpack_require__(3847);var tags_1=__webpack_require__(3848);var plugin_1=__webpack_require__(1258);var framework_1=__webpack_require__(3849);var onKibanaReady=chrome_1.default.dangerouslyGetActiveInjector;function compose(){var api=new axios_rest_api_adapter_1.AxiosRestAPIAdapter(chrome_1.default.getXsrfToken(),chrome_1.default.getBasePath());var esAdapter=new rest_1.RestElasticsearchAdapter(api,index_names_1.INDEX_NAMES.BEATS);var tags=new tags_1.TagsLib(new rest_tags_adapter_1.RestTagsAdapter(api),config_schemas_translations_map_1.getSupportedConfig());var tokens=new rest_tokens_adapter_1.RestTokensAdapter(api);var beats=new beats_1.BeatsLib(new rest_beats_adapter_1.RestBeatsAdapter(api),{tags:tags});var framework=new framework_1.FrameworkLib(new kibana_framework_adapter_1.KibanaFrameworkAdapter(plugin_1.PLUGIN.ID,management_1.management,routes_1.default,chrome_1.default.getBasePath,onKibanaReady,xpack_info_1.XPackInfoProvider,chrome_1.default.getUiSettingsClient()));var libs={framework:framework,elasticsearch:new elasticsearch_1.ElasticsearchLib(esAdapter),tags:tags,tokens:tokens,beats:beats};return libs}exports.compose=compose},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var filebeatInputConfig=[{id:"paths",ui:{label:"filebeatInputConfig.paths.ui.label",type:"multi-input",helpText:"filebeatInputConfig.paths.ui.helpText",placeholder:"first/path/to/file.json                   second/path/to/otherfile.json"},validations:"isPaths",error:"filebeatInputConfig.paths.error",required:true},{id:"other",ui:{label:"filebeatInputConfig.other.ui.label",type:"code",helpText:"filebeatInputConfig.other.ui.helpText"},validations:"isYaml",error:"filebeatInputConfig.other.error"}];var filebeatModuleConfig=[{id:"module",ui:{label:"filebeatModuleConfig.module.ui.label",type:"select"},options:[{value:"apache2",text:"apache2"},{value:"auditd",text:"auditd"},{value:"elasticsearch",text:"elasticsearch"},{value:"haproxy",text:"haproxy"},{value:"icinga",text:"icinga"},{value:"iis",text:"iis"},{value:"kafka",text:"kafka"},{value:"kibana",text:"kibana"},{value:"logstash",text:"logstash"},{value:"mongodb",text:"mongodb"},{value:"mysql",text:"mysql"},{value:"nginx",text:"nginx"},{value:"osquery",text:"osquery"},{value:"postgresql",text:"postgresql"},{value:"redis",text:"redis"},{value:"system",text:"system"},{value:"traefik",text:"traefik"}],error:"filebeatModuleConfig.module.error",required:true},{id:"other",ui:{label:"filebeatModuleConfig.other.ui.label",type:"code",helpText:"filebeatModuleConfig.other.ui.helpText"},validations:"isYaml",error:"filebeatModuleConfig.other.error"}];var metricbeatModuleConfig=[{id:"module",ui:{label:"metricbeatModuleConfig.module.ui.label",type:"select"},options:[{value:"aerospike",text:"aerospike"},{value:"apache",text:"apache"},{value:"ceph",text:"ceph"},{value:"couchbase",text:"couchbase"},{value:"docker",text:"docker"},{value:"dropwizard",text:"dropwizard"},{value:"elasticsearch",text:"elasticsearch"},{value:"envoyproxy",text:"envoyproxy"},{value:"etcd",text:"etcd"},{value:"golang",text:"golang"},{value:"graphite",text:"graphite"},{value:"haproxy",text:"haproxy"},{value:"http",text:"http"},{value:"jolokia",text:"jolokia"},{value:"kafka",text:"kafka"},{value:"kibana",text:"kibana"},{value:"kubernetes",text:"kubernetes"},{value:"kvm",text:"kvm"},{value:"logstash",text:"logstash"},{value:"memcached",text:"memcached"},{value:"mongodb",text:"mongodb"},{value:"munin",text:"munin"},{value:"mysql",text:"mysql"},{value:"nginx",text:"nginx"},{value:"php_fpm",text:"php_fpm"},{value:"postgresql",text:"postgresql"},{value:"prometheus",text:"prometheus"},{value:"rabbitmq",text:"rabbitmq"},{value:"redis",text:"redis"},{value:"system",text:"system"},{value:"traefik",text:"traefik"},{value:"uwsgi",text:"uwsgi"},{value:"vsphere",text:"vsphere"},{value:"windows",text:"windows"},{value:"zookeeper",text:"zookeeper"}],error:"metricbeatModuleConfig.module.error",required:true},{id:"hosts",ui:{label:"metricbeatModuleConfig.hosts.ui.label",type:"multi-input",helpText:"metricbeatModuleConfig.hosts.ui.helpText",placeholder:"somehost.local                                                             otherhost.local"},validations:"isHosts",error:"metricbeatModuleConfig.hosts.error",required:false},{id:"period",ui:{label:"metricbeatModuleConfig.period.ui.label",type:"input"},defaultValue:"10s",validations:"isPeriod",error:"metricbeatModuleConfig.period.error",required:true},{id:"other",ui:{label:"metricbeatModuleConfig.other.ui.label",type:"code",helpText:"metricbeatModuleConfig.other.ui.helpText"},validations:"isYaml",error:"metricbeatModuleConfig.other.error"}];var outputConfig=[{id:"output",ui:{label:"outputConfig.output.ui.label",type:"select"},options:[{value:"elasticsearch",text:"Elasticsearch"},{value:"logstash",text:"Logstash"},{value:"kafka",text:"Kafka"},{value:"redis",text:"Redis"}],error:"outputConfig.output.error",required:true},{id:"{{output}}.hosts",ui:{label:"outputConfig.hosts.ui.label",type:"multi-input"},validations:"isHosts",error:"outputConfig.hosts.error",parseValidResult:function parseValidResult(v){return v.split("\n")}},{id:"{{output}}.username",ui:{label:"outputConfig.username.ui.label",type:"input"},validations:"isString",error:"outputConfig.username.error"},{id:"{{output}}.password",ui:{label:"outputConfig.password.ui.label",type:"password"},validations:"isString",error:"outputConfig.password.error"}];exports.supportedConfigs=[{text:"supportedConfigs.filebeatInput.text",value:"filebeat.inputs",config:filebeatInputConfig},{text:"supportedConfigs.filebeatModule.text",value:"filebeat.modules",config:filebeatModuleConfig},{text:"supportedConfigs.metricbeatModule.text",value:"metricbeat.modules",config:metricbeatModuleConfig},{text:"supportedConfigs.output.text",value:"output",config:outputConfig}]},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var RestBeatsAdapter=function(){function RestBeatsAdapter(REST){_classCallCheck(this,RestBeatsAdapter);this.REST=REST}_createClass(RestBeatsAdapter,[{key:"get",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(id){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return this.REST.get("/api/beats/agent/"+id);case 3:return _context.abrupt("return",_context.sent);case 6:_context.prev=6;_context.t0=_context["catch"](0);return _context.abrupt("return",null);case 9:case"end":return _context.stop()}}},_callee,this,[[0,6]])}));function get(_x){return _ref.apply(this,arguments)}return get}()},{key:"getBeatWithToken",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(enrollmentToken){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return this.REST.get("/api/beats/agent/unknown/"+enrollmentToken);case 3:return _context2.abrupt("return",_context2.sent);case 6:_context2.prev=6;_context2.t0=_context2["catch"](0);return _context2.abrupt("return",null);case 9:case"end":return _context2.stop()}}},_callee2,this,[[0,6]])}));function getBeatWithToken(_x2){return _ref2.apply(this,arguments)}return getBeatWithToken}()},{key:"getAll",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(ESQuery){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return this.REST.get("/api/beats/agents/all",{ESQuery:ESQuery});case 3:return _context3.abrupt("return",_context3.sent.beats);case 6:_context3.prev=6;_context3.t0=_context3["catch"](0);return _context3.abrupt("return",[]);case 9:case"end":return _context3.stop()}}},_callee3,this,[[0,6]])}));function getAll(_x3){return _ref3.apply(this,arguments)}return getAll}()},{key:"getBeatsWithTag",value:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(tagId){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return this.REST.get("/api/beats/agents/tag/"+tagId);case 3:return _context4.abrupt("return",_context4.sent.beats);case 6:_context4.prev=6;_context4.t0=_context4["catch"](0);return _context4.abrupt("return",[]);case 9:case"end":return _context4.stop()}}},_callee4,this,[[0,6]])}));function getBeatsWithTag(_x4){return _ref4.apply(this,arguments)}return getBeatsWithTag}()},{key:"update",value:function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(id,beatData){return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.REST.put("/api/beats/agent/"+id,beatData);case 2:return _context5.abrupt("return",true);case 3:case"end":return _context5.stop()}}},_callee5,this)}));function update(_x5,_x6){return _ref5.apply(this,arguments)}return update}()},{key:"removeTagsFromBeats",value:function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(removals){return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this.REST.post("/api/beats/agents_tags/removals",{removals:removals});case 2:return _context6.abrupt("return",_context6.sent.removals);case 3:case"end":return _context6.stop()}}},_callee6,this)}));function removeTagsFromBeats(_x7){return _ref6.apply(this,arguments)}return removeTagsFromBeats}()},{key:"assignTagsToBeats",value:function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(assignments){return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return this.REST.post("/api/beats/agents_tags/assignments",{assignments:assignments});case 2:return _context7.abrupt("return",_context7.sent.assignments);case 3:case"end":return _context7.stop()}}},_callee7,this)}));function assignTagsToBeats(_x8){return _ref7.apply(this,arguments)}return assignTagsToBeats}()}]);return RestBeatsAdapter}();exports.RestBeatsAdapter=RestBeatsAdapter},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var es_query_1=__webpack_require__(40);var lodash_1=__webpack_require__(1);var autocomplete_providers_1=__webpack_require__(393);var RestElasticsearchAdapter=function(){function RestElasticsearchAdapter(api,indexPatternName){_classCallCheck(this,RestElasticsearchAdapter);this.api=api;this.indexPatternName=indexPatternName;this.cachedIndexPattern=null}_createClass(RestElasticsearchAdapter,[{key:"isKueryValid",value:function isKueryValid(kuery){try{es_query_1.fromKueryExpression(kuery)}catch(err){return false}return true}},{key:"convertKueryToEsQuery",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(kuery){var ast,indexPattern;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(this.isKueryValid(kuery)){_context.next=2;break}return _context.abrupt("return","");case 2:ast=es_query_1.fromKueryExpression(kuery);_context.next=5;return this.getIndexPattern();case 5:indexPattern=_context.sent;return _context.abrupt("return",JSON.stringify(es_query_1.toElasticsearchQuery(ast,indexPattern)));case 7:case"end":return _context.stop()}}},_callee,this)}));function convertKueryToEsQuery(_x){return _ref.apply(this,arguments)}return convertKueryToEsQuery}()},{key:"getSuggestions",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(kuery,selectionStart){var autocompleteProvider,config,indexPattern,getAutocompleteSuggestions,results;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:autocompleteProvider=autocomplete_providers_1.getAutocompleteProvider("kuery");if(autocompleteProvider){_context2.next=3;break}return _context2.abrupt("return",[]);case 3:config={get:function get(){return true}};_context2.next=6;return this.getIndexPattern();case 6:indexPattern=_context2.sent;getAutocompleteSuggestions=autocompleteProvider({config:config,indexPatterns:[indexPattern],boolFilter:null});results=getAutocompleteSuggestions({query:kuery||"",selectionStart:selectionStart,selectionEnd:selectionStart});return _context2.abrupt("return",results);case 10:case"end":return _context2.stop()}}},_callee2,this)}));function getSuggestions(_x2,_x3){return _ref2.apply(this,arguments)}return getSuggestions}()},{key:"getIndexPattern",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var res;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!this.cachedIndexPattern){_context3.next=2;break}return _context3.abrupt("return",this.cachedIndexPattern);case 2:_context3.next=4;return this.api.get("/api/index_patterns/_fields_for_wildcard?pattern="+this.indexPatternName);case 4:res=_context3.sent;if(!lodash_1.isEmpty(res.fields)){_context3.next=7;break}return _context3.abrupt("return");case 7:this.cachedIndexPattern={fields:res.fields,title:""+this.indexPatternName};return _context3.abrupt("return",this.cachedIndexPattern);case 9:case"end":return _context3.stop()}}},_callee3,this)}));function getIndexPattern(){return _ref3.apply(this,arguments)}return getIndexPattern}()}]);return RestElasticsearchAdapter}();exports.RestElasticsearchAdapter=RestElasticsearchAdapter},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var PathReporter_1=__webpack_require__(5037);var ReactDOM=tslib_1.__importStar(__webpack_require__(15));var adapter_types_1=__webpack_require__(3841);var KibanaFrameworkAdapter=function(){function KibanaFrameworkAdapter(PLUGIN_ID,management,routes,getBasePath,onKibanaReady,XPackInfoProvider,uiSettings){var _this=this;_classCallCheck(this,KibanaFrameworkAdapter);this.PLUGIN_ID=PLUGIN_ID;this.management=management;this.routes=routes;this.getBasePath=getBasePath;this.onKibanaReady=onKibanaReady;this.XPackInfoProvider=XPackInfoProvider;this.uiSettings=uiSettings;this.xpackInfo=null;this.shieldUser=null;this.setUISettings=function(key,value){_this.adapterService.callOrBuffer(function(_ref){var config=_ref.config;config.set(key,value)})};this.adapterService=new KibanaAdapterServiceProvider;this.settingSubscription=uiSettings.getUpdate$().subscribe({next:function next(_ref2){var key=_ref2.key,newValue=_ref2.newValue;if(key==="k7design"&&_this.xpackInfo){_this.xpackInfo.k7Design=newValue}}})}_createClass(KibanaFrameworkAdapter,[{key:"getUISetting",value:function getUISetting(key){return this.uiSettings.get(key)}},{key:"waitUntilFrameworkReady",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var $injector,Private,xpackInfo,xpackInfoUnpacked,assertData,assertUser;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.onKibanaReady();case 2:$injector=_context.sent;Private=$injector.get("Private");xpackInfo=void 0;try{xpackInfo=Private(this.XPackInfoProvider)}catch(e){xpackInfo=false}xpackInfoUnpacked=void 0;_context.prev=7;xpackInfoUnpacked={basePath:this.getBasePath(),k7Design:this.uiSettings.get("k7design"),license:{type:xpackInfo?xpackInfo.getLicense().type:"oss",expired:xpackInfo?!xpackInfo.getLicense().isActive:false,expiry_date_in_millis:xpackInfo.getLicense().expiryDateInMillis!==undefined?xpackInfo.getLicense().expiryDateInMillis:-1},security:{enabled:xpackInfo?xpackInfo.get("features."+this.PLUGIN_ID+".security.enabled",false):false,available:xpackInfo?xpackInfo.get("features."+this.PLUGIN_ID+".security.available",false):false},settings:xpackInfo?xpackInfo.get("features."+this.PLUGIN_ID+".settings"):{}};_context.next=14;break;case 11:_context.prev=11;_context.t0=_context["catch"](7);throw new Error("Unexpected data structure from XPackInfoProvider, "+JSON.stringify(_context.t0));case 14:assertData=adapter_types_1.RuntimeFrameworkInfo.decode(xpackInfoUnpacked);if(!assertData.isLeft()){_context.next=17;break}throw new Error("Error parsing xpack info in "+this.PLUGIN_ID+",   "+PathReporter_1.PathReporter.report(assertData)[0]);case 17:this.xpackInfo=xpackInfoUnpacked;_context.prev=18;_context.next=21;return $injector.get("ShieldUser").getCurrent().$promise;case 21:this.shieldUser=_context.sent;assertUser=adapter_types_1.RuntimeFrameworkUser.decode(this.shieldUser);if(!assertUser.isLeft()){_context.next=25;break}throw new Error("Error parsing user info in "+this.PLUGIN_ID+",   "+PathReporter_1.PathReporter.report(assertUser)[0]);case 25:_context.next=30;break;case 27:_context.prev=27;_context.t1=_context["catch"](18);this.shieldUser=null;case 30:case"end":return _context.stop()}}},_callee,this,[[7,11],[18,27]])}));function waitUntilFrameworkReady(){return _ref3.apply(this,arguments)}return waitUntilFrameworkReady}()},{key:"renderUIAtPath",value:function renderUIAtPath(path,component){var toController=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"self";var DOM_ELEMENT_NAME=this.PLUGIN_ID.replace("_","-");var adapter=this;this.routes.when(""+path+[].concat(_toConsumableArray(Array(6))).map(function(e,n){return"/:arg"+n+"?"}).join(""),{template:toController==="self"?"<"+DOM_ELEMENT_NAME+'><div id="'+DOM_ELEMENT_NAME+'ReactRoot"></div></'+DOM_ELEMENT_NAME+">":'<kbn-management-app section="'+this.PLUGIN_ID.replace("_","-")+'">\n                <div id="'+DOM_ELEMENT_NAME+'ReactRoot" />\n               </kbn-management-app>',controller:function controller($scope,$route){try{$scope.$$postDigest(function(){var elem=document.getElementById(DOM_ELEMENT_NAME+"ReactRoot");ReactDOM.render(component,elem);adapter.manageAngularLifecycle($scope,$route,elem)});$scope.$onInit=function(){$scope.topNavMenu=[]}}catch(e){throw new Error("Error rendering Beats CM to the dom, "+e.message)}}})}},{key:"registerManagementSection",value:function registerManagementSection(settings){var sectionId=settings.id||this.PLUGIN_ID;if(!this.management.hasItem(sectionId)){this.management.register(sectionId,{display:settings.name,icon:settings.iconName,order:settings.order||30})}}},{key:"registerManagementUI",value:function registerManagementUI(settings){var sectionId=settings.sectionId||this.PLUGIN_ID;if(!this.management.hasItem(sectionId)){throw new Error("registerManagementUI was called with a sectionId of "+sectionId+", and that is is not yet regestered as a section")}var section=this.management.getSection(sectionId);section.register(sectionId,{visible:settings.visable||true,display:settings.name,order:settings.order||30,url:"#"+settings.basePath})}},{key:"manageAngularLifecycle",value:function manageAngularLifecycle($scope,$route,elem){var _this2=this;var lastRoute=$route.current;var deregister=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;if(lastRoute.$$route.template===currentRoute.$$route.template){$route.current=lastRoute}else{if(elem){ReactDOM.unmountComponentAtNode(elem);elem.remove();_this2.settingSubscription.unsubscribe()}}});$scope.$on("$destroy",function(){if(deregister){deregister()}if(elem){ReactDOM.unmountComponentAtNode(elem);elem.remove();_this2.settingSubscription.unsubscribe()}})}},{key:"info",get:function get(){if(this.xpackInfo){return this.xpackInfo}else{throw new Error("framework adapter must have init called before anything else")}}},{key:"currentUser",get:function get(){return this.shieldUser}}]);return KibanaFrameworkAdapter}();exports.KibanaFrameworkAdapter=KibanaFrameworkAdapter;var KibanaAdapterServiceProvider=function(){function KibanaAdapterServiceProvider(){_classCallCheck(this,KibanaAdapterServiceProvider);this.serviceRefs=null;this.bufferedCalls=[]}_createClass(KibanaAdapterServiceProvider,[{key:"$get",value:function $get($rootScope,config){this.serviceRefs={config:config,rootScope:$rootScope};this.applyBufferedCalls(this.bufferedCalls);return this}},{key:"callOrBuffer",value:function callOrBuffer(serviceCall){if(this.serviceRefs!==null){this.applyBufferedCalls([serviceCall])}else{this.bufferedCalls.push(serviceCall)}}},{key:"applyBufferedCalls",value:function applyBufferedCalls(bufferedCalls){var _this3=this;if(!this.serviceRefs){return}this.serviceRefs.rootScope.$apply(function(){bufferedCalls.forEach(function(serviceCall){if(!_this3.serviceRefs){return}return serviceCall(_this3.serviceRefs)})})}}]);return KibanaAdapterServiceProvider}()},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var t=tslib_1.__importStar(__webpack_require__(5038));var security_1=__webpack_require__(773);exports.RuntimeFrameworkInfo=t.type({basePath:t.string,k7Design:t.boolean,license:t.type({type:t.union(security_1.LICENSES.map(function(s){return t.literal(s)})),expired:t.boolean,expiry_date_in_millis:t.number}),security:t.type({enabled:t.boolean,available:t.boolean}),settings:t.type({encryptionKey:t.string,enrollmentTokensTtlInSeconds:t.number,defaultUserRoles:t.array(t.string)})});exports.RuntimeFrameworkUser=t.interface({username:t.string,roles:t.array(t.string),full_name:t.union([t.null,t.string]),email:t.union([t.null,t.string]),enabled:t.boolean},"FrameworkUser")},,function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var axios_1=tslib_1.__importDefault(__webpack_require__(506));var globalAPI=void 0;var AxiosRestAPIAdapter=function(){function AxiosRestAPIAdapter(xsrfToken,basePath){_classCallCheck(this,AxiosRestAPIAdapter);this.xsrfToken=xsrfToken;this.basePath=basePath}_createClass(AxiosRestAPIAdapter,[{key:"get",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(url,query){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.REST.get(url,query?{params:query}:{}).then(function(resp){return resp.data});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}},_callee,this)}));function get(_x,_x2){return _ref.apply(this,arguments)}return get}()},{key:"post",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(url,body){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.REST.post(url,body).then(function(resp){return resp.data});case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}},_callee2,this)}));function post(_x3,_x4){return _ref2.apply(this,arguments)}return post}()},{key:"delete",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(url){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.REST.delete(url).then(function(resp){return resp.data});case 2:return _context3.abrupt("return",_context3.sent);case 3:case"end":return _context3.stop()}}},_callee3,this)}));function _delete(_x5){return _ref3.apply(this,arguments)}return _delete}()},{key:"put",value:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(url,body){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.REST.put(url,body).then(function(resp){return resp.data});case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}}},_callee4,this)}));function put(_x6,_x7){return _ref4.apply(this,arguments)}return put}()},{key:"REST",get:function get(){if(globalAPI){return globalAPI}globalAPI=axios_1.default.create({baseURL:this.basePath,withCredentials:true,responseType:"json",timeout:3e4,headers:{Accept:"application/json",credentials:"same-origin","Content-Type":"application/json","kbn-version":this.xsrfToken,"kbn-xsrf":this.xsrfToken}});globalAPI.interceptors.request.use(function(config){return config},function(error){return Promise.reject(error)});globalAPI.interceptors.response.use(function(response){return response},function(error){return Promise.reject(error)});return globalAPI}}]);return AxiosRestAPIAdapter}();exports.AxiosRestAPIAdapter=AxiosRestAPIAdapter},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var RestTagsAdapter=function(){function RestTagsAdapter(REST){_classCallCheck(this,RestTagsAdapter);this.REST=REST}_createClass(RestTagsAdapter,[{key:"getTagsWithIds",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(tagIds){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return this.REST.get("/api/beats/tags/"+tagIds.join(","));case 3:return _context.abrupt("return",_context.sent);case 6:_context.prev=6;_context.t0=_context["catch"](0);return _context.abrupt("return",[]);case 9:case"end":return _context.stop()}}},_callee,this,[[0,6]])}));function getTagsWithIds(_x){return _ref.apply(this,arguments)}return getTagsWithIds}()},{key:"getAll",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(ESQuery){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return this.REST.get("/api/beats/tags",{ESQuery:ESQuery});case 3:return _context2.abrupt("return",_context2.sent);case 6:_context2.prev=6;_context2.t0=_context2["catch"](0);return _context2.abrupt("return",[]);case 9:case"end":return _context2.stop()}}},_callee2,this,[[0,6]])}));function getAll(_x2){return _ref2.apply(this,arguments)}return getAll}()},{key:"delete",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(tagIds){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.REST.delete("/api/beats/tags/"+tagIds.join(","));case 2:return _context3.abrupt("return",_context3.sent.success);case 3:case"end":return _context3.stop()}}},_callee3,this)}));function _delete(_x3){return _ref3.apply(this,arguments)}return _delete}()},{key:"upsertTag",value:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(tag){var response;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.REST.put("/api/beats/tag/"+tag.id,{color:tag.color,configuration_blocks:tag.configuration_blocks});case 2:response=_context4.sent;return _context4.abrupt("return",response.success?tag:null);case 4:case"end":return _context4.stop()}}},_callee4,this)}));function upsertTag(_x4){return _ref4.apply(this,arguments)}return upsertTag}()}]);return RestTagsAdapter}();exports.RestTagsAdapter=RestTagsAdapter},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var RestTokensAdapter=function(){function RestTokensAdapter(REST){_classCallCheck(this,RestTokensAdapter);this.REST=REST}_createClass(RestTokensAdapter,[{key:"createEnrollmentToken",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var tokens;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.REST.post("/api/beats/enrollment_tokens");case 2:tokens=_context.sent.tokens;return _context.abrupt("return",tokens[0]);case 4:case"end":return _context.stop()}}},_callee,this)}));function createEnrollmentToken(){return _ref.apply(this,arguments)}return createEnrollmentToken}()}]);return RestTokensAdapter}();exports.RestTokensAdapter=RestTokensAdapter},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var lodash_1=__webpack_require__(1);var BeatsLib=function(){function BeatsLib(adapter,libs){var _this=this;_classCallCheck(this,BeatsLib);this.adapter=adapter;this.libs=libs;this.getBeatWithToken=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(enrollmentToken){var beat;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.adapter.getBeatWithToken(enrollmentToken);case 2:beat=_context.sent;return _context.abrupt("return",beat);case 4:case"end":return _context.stop()}}},_callee,_this)}));return function(_x){return _ref.apply(this,arguments)}}();this.getBeatsWithTag=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(tagId){var beats;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.adapter.getBeatsWithTag(tagId);case 2:beats=_context2.sent;_context2.next=5;return _this.mergeInTags(beats);case 5:return _context2.abrupt("return",_context2.sent);case 6:case"end":return _context2.stop()}}},_callee2,_this)}));return function(_x2){return _ref2.apply(this,arguments)}}();this.getAll=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(ESQuery){var beats;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.adapter.getAll(ESQuery);case 2:beats=_context3.sent;_context3.next=5;return _this.mergeInTags(beats);case 5:return _context3.abrupt("return",_context3.sent);case 6:case"end":return _context3.stop()}}},_callee3,_this)}));return function(_x3){return _ref3.apply(this,arguments)}}();this.update=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(id,beatData){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _this.adapter.update(id,beatData);case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}}},_callee4,_this)}));return function(_x4,_x5){return _ref4.apply(this,arguments)}}();this.removeTagsFromBeats=function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(removals){return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _this.adapter.removeTagsFromBeats(removals);case 2:return _context5.abrupt("return",_context5.sent);case 3:case"end":return _context5.stop()}}},_callee5,_this)}));return function(_x6){return _ref5.apply(this,arguments)}}();this.assignTagsToBeats=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(assignments){return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _this.adapter.assignTagsToBeats(assignments);case 2:return _context6.abrupt("return",_context6.sent);case 3:case"end":return _context6.stop()}}},_callee6,_this)}));return function(_x7){return _ref6.apply(this,arguments)}}();this.mergeInTags=function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(beats){var tagIds,tags,mergedBeats;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:tagIds=lodash_1.flatten(beats.map(function(b){return b.tags||[]}));_context7.next=3;return _this.libs.tags.getTagsWithIds(tagIds);case 3:tags=_context7.sent;mergedBeats=beats.map(function(b){return _extends({},b,{full_tags:(b.tags||[]).map(function(tagId){return tags.find(function(t){return t.id===tagId})}).filter(function(t){return t})})});return _context7.abrupt("return",mergedBeats);case 6:case"end":return _context7.stop()}}},_callee7,_this)}));return function(_x8){return _ref7.apply(this,arguments)}}()}_createClass(BeatsLib,[{key:"get",value:function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(id){var beat;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return this.adapter.get(id);case 2:beat=_context8.sent;if(!beat){_context8.next=9;break}_context8.next=6;return this.mergeInTags([beat]);case 6:_context8.t0=_context8.sent[0];_context8.next=10;break;case 9:_context8.t0=null;case 10:return _context8.abrupt("return",_context8.t0);case 11:case"end":return _context8.stop()}}},_callee8,this)}));function get(_x9){return _ref8.apply(this,arguments)}return get}()}]);return BeatsLib}();exports.BeatsLib=BeatsLib},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var ElasticsearchLib=function(){function ElasticsearchLib(adapter){_classCallCheck(this,ElasticsearchLib);this.adapter=adapter;this.hiddenFields=[{op:"startsWith",value:"enrollment_token"},{op:"is",value:"beat.active"},{op:"is",value:"beat.enrollment_token"},{op:"is",value:"beat.access_token"},{op:"is",value:"beat.ephemeral_id"},{op:"is",value:"beat.verified_on"}]}_createClass(ElasticsearchLib,[{key:"isKueryValid",value:function isKueryValid(kuery){return this.adapter.isKueryValid(kuery)}},{key:"convertKueryToEsQuery",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(kuery){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.adapter.convertKueryToEsQuery(kuery);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}},_callee,this)}));function convertKueryToEsQuery(_x){return _ref.apply(this,arguments)}return convertKueryToEsQuery}()},{key:"getSuggestions",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(kuery,selectionStart,fieldPrefix){var _this=this;var suggestions,filteredSuggestions;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.adapter.getSuggestions(kuery,selectionStart);case 2:suggestions=_context2.sent;filteredSuggestions=suggestions.filter(function(suggestion){var hiddenFieldsCheck=_this.hiddenFields;if(fieldPrefix){hiddenFieldsCheck.push({op:"withoutPrefix",value:fieldPrefix+"."})}return hiddenFieldsCheck.reduce(function(isvalid,field){if(!isvalid){return false}switch(field.op){case"startsWith":return!suggestion.text.startsWith(field.value);case"is":return suggestion.text.trim()!==field.value;case"withoutPrefix":return suggestion.text.startsWith(field.value)}},true)});return _context2.abrupt("return",filteredSuggestions);case 5:case"end":return _context2.stop()}}},_callee2,this)}));function getSuggestions(_x2,_x3,_x4){return _ref2.apply(this,arguments)}return getSuggestions}()}]);return ElasticsearchLib}();exports.ElasticsearchLib=ElasticsearchLib},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var js_yaml_1=tslib_1.__importDefault(__webpack_require__(1268));var lodash_1=__webpack_require__(1);var lodash_2=__webpack_require__(1);var lodash_3=tslib_1.__importDefault(__webpack_require__(1));var TagsLib=function(){function TagsLib(adapter,tagConfigs){_classCallCheck(this,TagsLib);this.adapter=adapter;this.tagConfigs=tagConfigs}_createClass(TagsLib,[{key:"getTagsWithIds",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(tagIds){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=this;_context.next=3;return this.adapter.getTagsWithIds(tagIds);case 3:_context.t1=_context.sent;return _context.abrupt("return",_context.t0.jsonConfigToUserYaml.call(_context.t0,_context.t1));case 5:case"end":return _context.stop()}}},_callee,this)}));function getTagsWithIds(_x){return _ref.apply(this,arguments)}return getTagsWithIds}()},{key:"delete",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(tagIds){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.adapter.delete(tagIds);case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}},_callee2,this)}));function _delete(_x2){return _ref2.apply(this,arguments)}return _delete}()},{key:"getAll",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(ESQuery){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.t0=this;_context3.next=3;return this.adapter.getAll(ESQuery);case 3:_context3.t1=_context3.sent;return _context3.abrupt("return",_context3.t0.jsonConfigToUserYaml.call(_context3.t0,_context3.t1));case 5:case"end":return _context3.stop()}}},_callee3,this)}));function getAll(_x3){return _ref3.apply(this,arguments)}return getAll}()},{key:"upsertTag",value:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(tag){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:tag.id=tag.id.replace(" ","-");_context4.next=3;return this.adapter.upsertTag(this.userConfigsToJson([tag])[0]);case 3:return _context4.abrupt("return",_context4.sent);case 4:case"end":return _context4.stop()}}},_callee4,this)}));function upsertTag(_x4){return _ref4.apply(this,arguments)}return upsertTag}()},{key:"jsonConfigToUserYaml",value:function jsonConfigToUserYaml(tags){var _this=this;return tags.map(function(tag){var transformedTag=tag;transformedTag.configuration_blocks=(tag.configuration_blocks||[]).map(function(block){var type=block.type,description=block.description,configs=block.configs;var activeConfig=configs[0];var thisConfig=_this.tagConfigs.find(function(conf){return conf.value===type}).config;var knownConfigIds=thisConfig.map(function(config){return config.id});var hydratedIds=_this.hydrateTokenArray(knownConfigIds,activeConfig);var convertedConfig=knownConfigIds.reduce(function(blockObj,id,index){var unhydratedKey=hydratedIds[index];lodash_2.set(blockObj,id,id==="other"?js_yaml_1.default.dump(lodash_2.omit(activeConfig,knownConfigIds)):lodash_1.get(activeConfig,unhydratedKey));return blockObj},{});if(convertedConfig.other&&convertedConfig.other==="{}\n"){convertedConfig.other=""}return{type:type,description:description,configs:[convertedConfig]}});return transformedTag})}},{key:"userConfigsToJson",value:function userConfigsToJson(tags){var _this2=this;return tags.map(function(tag){var transformedTag=tag;transformedTag.configuration_blocks=(tag.configuration_blocks||[]).map(function(block){var type=block.type,description=block.description,configs=block.configs;var activeConfig=configs[0];var thisConfig=_this2.tagConfigs.find(function(conf){return conf.value===type}).config;var knownConfigIds=thisConfig.map(function(config){return config.id}).filter(function(id){return id!=="other"});var picked=_this2.pickDeep(activeConfig,knownConfigIds);var convertedConfig=_extends({},js_yaml_1.default.safeLoad(activeConfig.other||"{}"),picked);return{type:type,description:description,configs:[_this2.hydrateTokenizedObject(convertedConfig)]}});return transformedTag})}},{key:"hydrateTokenizedObject",value:function hydrateTokenizedObject(model){return JSON.parse(JSON.stringify(model),function(key,value){return lodash_3.default.isObject(value)&&!lodash_3.default.isArray(value)?lodash_3.default.mapKeys(value,function(v,k){return k.replace(/{{[^{}]+}}/g,function(token){return model[token.replace(/[{}]+/g,"")]})}):value})}},{key:"hydrateTokenArray",value:function hydrateTokenArray(keys,data){return keys.map(function(key){return key.replace(/{{[^{}]+}}/g,function(token){return data[token.replace(/[{}]+/g,"")]})})}},{key:"pickDeep",value:function pickDeep(obj,keys){var copy={};lodash_3.default.forEach(keys,function(key){if(lodash_3.default.has(obj,key)){var val=lodash_3.default.get(obj,key);lodash_3.default.set(copy,key,val)}});return copy}}]);return TagsLib}();exports.TagsLib=TagsLib},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var lodash_1=__webpack_require__(1);var security_1=__webpack_require__(773);var FrameworkLib=function(){function FrameworkLib(adapter){_classCallCheck(this,FrameworkLib);this.adapter=adapter;this.waitUntilFrameworkReady=this.adapter.waitUntilFrameworkReady.bind(this.adapter);this.renderUIAtPath=this.adapter.renderUIAtPath.bind(this.adapter);this.registerManagementSection=this.adapter.registerManagementSection.bind(this.adapter);this.registerManagementUI=this.adapter.registerManagementUI.bind(this.adapter);this.setUISettings=this.adapter.setUISettings.bind(this.adapter);this.getUISetting=this.adapter.getUISetting.bind(this.adapter)}_createClass(FrameworkLib,[{key:"licenseIsAtLeast",value:function licenseIsAtLeast(type){return security_1.LICENSES.indexOf(lodash_1.get(this.adapter.info,"license.type","oss"))>=security_1.LICENSES.indexOf(type)}},{key:"currentUserHasOneOfRoles",value:function currentUserHasOneOfRoles(roles){return lodash_1.difference(roles,lodash_1.get(this.currentUser,"roles",[])).length<roles.length}},{key:"currentUser",get:function get(){return this.adapter.currentUser}},{key:"info",get:function get(){return this.adapter.info}}]);return FrameworkLib}();exports.FrameworkLib=FrameworkLib},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importStar(__webpack_require__(0));var react_router_dom_1=__webpack_require__(37);var loading_1=__webpack_require__(3851);var child_routes_1=__webpack_require__(532);var with_url_state_1=__webpack_require__(1266);var index_1=__webpack_require__(3852);var AppRouter=function(_react_1$Component){_inherits(AppRouter,_react_1$Component);function AppRouter(props){_classCallCheck(this,AppRouter);var _this=_possibleConstructorReturn(this,(AppRouter.__proto__||Object.getPrototypeOf(AppRouter)).call(this,props));_this.state={loading:true};return _this}_createClass(AppRouter,[{key:"componentWillMount",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(this.state.loading===true)){_context.next=11;break}_context.prev=1;_context.next=4;return this.props.beatsContainer.reload();case 4:_context.next=6;return this.props.tagsContainer.reload();case 6:_context.next=10;break;case 8:_context.prev=8;_context.t0=_context["catch"](1);case 10:this.setState({loading:false});case 11:case"end":return _context.stop()}}},_callee,this,[[1,8]])}));function componentWillMount(){return _ref.apply(this,arguments)}return componentWillMount}()},{key:"render",value:function render(){var _this2=this;if(this.state.loading===true){return react_1.default.createElement(loading_1.Loading,null)}var countOfEverything=this.props.beatsContainer.state.list.length+this.props.tagsContainer.state.list.length;return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(react_router_dom_1.Switch,null,lodash_1.get(this.props.libs.framework.info,"license.expired",true)&&react_1.default.createElement(react_router_dom_1.Route,{render:function render(props){return!props.location.pathname.includes("/error")?react_1.default.createElement(react_router_dom_1.Redirect,{to:"/error/invalid_license"}):null}}),!lodash_1.get(this.props.libs.framework.info,"security.enabled",true)&&react_1.default.createElement(react_router_dom_1.Route,{render:function render(props){return!props.location.pathname.includes("/error")?react_1.default.createElement(react_router_dom_1.Redirect,{to:"/error/enforce_security"}):null}}),!this.props.libs.framework.currentUserHasOneOfRoles(["beats_admin"].concat(this.props.libs.framework.info.settings.defaultUserRoles))&&react_1.default.createElement(react_router_dom_1.Route,{render:function render(props){return!props.location.pathname.includes("/error")?react_1.default.createElement(react_router_dom_1.Redirect,{to:"/error/no_access"}):null}}),countOfEverything===0&&react_1.default.createElement(react_router_dom_1.Route,{render:function render(props){return!props.location.pathname.includes("/walkthrough")?react_1.default.createElement(react_router_dom_1.Redirect,{to:"/walkthrough/initial"}):null}}),react_1.default.createElement(react_router_dom_1.Route,{path:"/",exact:true,render:function render(){return react_1.default.createElement(react_router_dom_1.Redirect,{to:"/overview/enrolled_beats"})}})),react_1.default.createElement(with_url_state_1.WithURLState,null,function(URLProps){return react_1.default.createElement(child_routes_1.ChildRoutes,Object.assign({routes:index_1.routeMap},URLProps,{libs:_this2.props.libs,containers:{beats:_this2.props.beatsContainer,tags:_this2.props.tagsContainer}}))}))}}]);return AppRouter}(react_1.Component);exports.AppRouter=AppRouter},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var React=tslib_1.__importStar(__webpack_require__(0));exports.Loading=function(){return React.createElement(eui_1.EuiFlexGroup,{justifyContent:"spaceAround"},React.createElement(eui_1.EuiFlexItem,{grow:false},React.createElement(eui_1.EuiLoadingSpinner,{size:"xl"})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var details_1=__webpack_require__(3853);var index_1=__webpack_require__(3870);var tags_1=__webpack_require__(3871);var enforce_security_1=__webpack_require__(3872);var invalid_license_1=__webpack_require__(3873);var no_access_1=__webpack_require__(3874);var configuration_tags_1=__webpack_require__(3875);var enrolled_beats_1=__webpack_require__(3876);var index_2=__webpack_require__(3877);var tag_1=__webpack_require__(3878);var beat_1=__webpack_require__(3879);var finish_1=__webpack_require__(3880);var index_3=__webpack_require__(3881);var tag_2=__webpack_require__(3883);exports.routeMap=[{path:"/tag/:action/:tagid?",component:tag_1.TagPage},{path:"/beat/:beatId",component:index_1.BeatDetailsPage,routes:[{path:"/beat/:beatId/details",component:details_1.BeatDetailPage},{path:"/beat/:beatId/tags",component:tags_1.BeatTagsPage}]},{path:"/error/enforce_security",component:enforce_security_1.EnforceSecurityPage},{path:"/error/invalid_license",component:invalid_license_1.InvalidLicensePage},{path:"/error/no_access",component:no_access_1.NoAccessPage},{path:"/overview",component:index_2.MainPage,routes:[{path:"/overview/configuration_tags",component:configuration_tags_1.TagsPage},{path:"/overview/enrolled_beats",component:enrolled_beats_1.BeatsPage}]},{path:"/walkthrough/initial",component:index_3.InitialWalkthroughPage,routes:[{path:"/walkthrough/initial/beat",component:beat_1.BeatsInitialEnrollmentPage},{path:"/walkthrough/initial/finish",component:finish_1.FinishWalkthroughPage},{path:"/walkthrough/initial/tag",component:tag_2.InitialTagPage}]}]},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var i18n_1=__webpack_require__(9);var react_1=__webpack_require__(3);var lodash_1=__webpack_require__(1);var react_2=tslib_1.__importDefault(__webpack_require__(0));var constants_1=__webpack_require__(283);var breadcrumb_1=__webpack_require__(312);var connected_link_1=__webpack_require__(774);var tag_1=__webpack_require__(775);var index_1=__webpack_require__(1269);var config_schemas_translations_map_1=__webpack_require__(531);var BeatDetailPageUi=function(_react_2$default$Pure){_inherits(BeatDetailPageUi,_react_2$default$Pure);function BeatDetailPageUi(props){_classCallCheck(this,BeatDetailPageUi);var _this=_possibleConstructorReturn(this,(BeatDetailPageUi.__proto__||Object.getPrototypeOf(BeatDetailPageUi)).call(this,props));_this.state={selectedConfig:null};return _this}_createClass(BeatDetailPageUi,[{key:"render",value:function render(){var _this2=this;var props=this.props;var beat=props.beat,intl=props.intl;if(!beat){return react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.beat.beatNotFoundErrorTitle",defaultMessage:"Beat not found"})}var configurationBlocks=lodash_1.flatten(beat.full_tags.map(function(tag){return tag.configuration_blocks.map(function(configuration){return _extends({module:configuration.configs[0].module||null,tagId:tag.id,tagColor:tag.color},beat,configuration,{displayValue:lodash_1.get(config_schemas_translations_map_1.getSupportedConfig().find(function(config){return config.value===configuration.type}),"text",null)})})}));var columns=[{field:"displayValue",name:intl.formatMessage({id:"xpack.beatsManagement.beatConfigurations.typeColumnName",defaultMessage:"Type"}),sortable:true,render:function render(value,configuration){return react_2.default.createElement(eui_1.EuiLink,{onClick:function onClick(){_this2.setState({selectedConfig:configuration})}},value||configuration.type)}},{field:"module",name:intl.formatMessage({id:"xpack.beatsManagement.beatConfigurations.moduleColumnName",defaultMessage:"Module"}),sortable:true},{field:"description",name:intl.formatMessage({id:"xpack.beatsManagement.beatConfigurations.descriptionColumnName",defaultMessage:"Description"}),sortable:true},{field:"tagId",name:intl.formatMessage({id:"xpack.beatsManagement.beatConfigurations.tagColumnName",defaultMessage:"Tag"}),render:function render(id,block){return react_2.default.createElement(connected_link_1.ConnectedLink,{path:"/tag/edit/"+id},react_2.default.createElement(tag_1.TagBadge,{maxIdRenderSize:constants_1.TABLE_CONFIG.TRUNCATE_TAG_LENGTH_SMALL,tag:{color:block.tagColor,id:id}}))},sortable:true}];return react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(breadcrumb_1.Breadcrumb,{title:i18n_1.i18n.translate("xpack.beatsManagement.breadcrumb.beatDetails",{defaultMessage:"Beat details for: {beatId}",values:{beatId:beat.id}}),path:"/beat/"+beat.id+"/details"}),react_2.default.createElement(eui_1.EuiSpacer,null),react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h4",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.beat.detailsConfigurationTitle",defaultMessage:"Configurations"}))),react_2.default.createElement(eui_1.EuiText,{size:"s"},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.beat.detailsConfigurationDescription",defaultMessage:"You can have multiple configurations applied to an individual tag. These configurations can repeat\n                    or mix types as necessary. For example, you may utilize three metricbeat configurations alongside one input and\n                    filebeat configuration."})))),react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiInMemoryTable,{columns:columns,items:configurationBlocks}))),this.state.selectedConfig&&react_2.default.createElement(index_1.ConfigView,{configBlock:this.state.selectedConfig,onClose:function onClose(){return _this2.setState({selectedConfig:null})}}))}}]);return BeatDetailPageUi}(react_2.default.PureComponent);exports.BeatDetailPage=react_1.injectI18n(BeatDetailPageUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var constants_1=__webpack_require__(283);exports.DisabledTagBadge=function(props){var id=props.id,maxIdRenderSize=props.maxIdRenderSize;var idRenderSize=maxIdRenderSize||constants_1.TABLE_CONFIG.TRUNCATE_TAG_LENGTH;var idToRender=id.length>idRenderSize?id.substring(0,idRenderSize)+"...":id;return react_1.default.createElement(eui_1.EuiBadge,{color:"default",iconType:"cross"},idToRender)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var config_schemas_translations_map_1=__webpack_require__(531);var ConfigListUi=function ConfigListUi(props){return react_2.default.createElement(eui_1.EuiBasicTable,{items:props.configs||[],columns:[{field:"type",name:props.intl.formatMessage({id:"xpack.beatsManagement.tagTable.typeColumnName",defaultMessage:"Type"}),truncateText:false,render:function render(value,config){var type=config_schemas_translations_map_1.getSupportedConfig().find(function(sc){return sc.value===config.type});return react_2.default.createElement(eui_1.EuiLink,{onClick:function onClick(){return props.onConfigClick("edit",config)}},type?type.text:config.type)}},{field:"module",name:props.intl.formatMessage({id:"xpack.beatsManagement.tagTable.moduleColumnName",defaultMessage:"Module"}),truncateText:false,render:function render(value){return value||props.intl.formatMessage({id:"xpack.beatsManagement.tagTable.moduleColumn.notAvailibaleLabel",defaultMessage:"N/A"})}},{field:"description",name:props.intl.formatMessage({id:"xpack.beatsManagement.tagTable.descriptionColumnName",defaultMessage:"Description"})},{name:props.intl.formatMessage({id:"xpack.beatsManagement.tagTable.actionsColumnName",defaultMessage:"Actions"}),actions:[{name:props.intl.formatMessage({id:"xpack.beatsManagement.tagTable.actions.removeButtonAriaLabel",defaultMessage:"Remove"}),description:props.intl.formatMessage({id:"xpack.beatsManagement.tagTable.actions.removeTooltip",defaultMessage:"Remove this config from tag"}),type:"icon",icon:"trash",onClick:function onClick(item){return props.onConfigClick("delete",item)}}]}]})};exports.ConfigList=react_1.injectI18n(ConfigListUi)},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  position: relative;\n"],["\n  position: relative;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  position: absolute;\n  width: 100%;\n  margin-top: 2px;\n  overflow: hidden;\n  z-index: 1000;\n"],["\n  position: absolute;\n  width: 100%;\n  margin-top: 2px;\n  overflow: hidden;\n  z-index: 1000;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(18));var typed_react_1=__webpack_require__(3857);var suggestion_item_1=__webpack_require__(3858);var AutocompleteField=function(_react_1$default$Comp){_inherits(AutocompleteField,_react_1$default$Comp);function AutocompleteField(){_classCallCheck(this,AutocompleteField);var _this=_possibleConstructorReturn(this,(AutocompleteField.__proto__||Object.getPrototypeOf(AutocompleteField)).apply(this,arguments));_this.state={areSuggestionsVisible:false,selectedIndex:null};_this.inputElement=null;_this.handleChangeInputRef=function(element){_this.inputElement=element};_this.handleChange=function(evt){_this.changeValue(evt.currentTarget.value)};_this.handleKeyDown=function(evt){var suggestions=_this.props.suggestions;switch(evt.key){case"ArrowUp":evt.preventDefault();if(suggestions.length>0){_this.setState(typed_react_1.composeStateUpdaters(withSuggestionsVisible,withPreviousSuggestionSelected))}break;case"ArrowDown":evt.preventDefault();if(suggestions.length>0){_this.setState(typed_react_1.composeStateUpdaters(withSuggestionsVisible,withNextSuggestionSelected))}else{_this.updateSuggestions()}break;case"Enter":evt.preventDefault();if(_this.state.selectedIndex!==null){_this.applySelectedSuggestion()}else{_this.submit()}break;case"Escape":evt.preventDefault();_this.setState(withSuggestionsHidden);break}};_this.handleKeyUp=function(evt){switch(evt.key){case"ArrowLeft":case"ArrowRight":case"Home":case"End":_this.updateSuggestions();break}};_this.selectSuggestionAt=function(index){return function(){_this.setState(withSuggestionAtIndexSelected(index))}};_this.applySelectedSuggestion=function(){if(_this.state.selectedIndex!==null){_this.applySuggestionAt(_this.state.selectedIndex)()}};_this.applySuggestionAt=function(index){return function(){var _this$props=_this.props,value=_this$props.value,suggestions=_this$props.suggestions;var selectedSuggestion=suggestions[index];if(!selectedSuggestion){return}var newValue=value.substr(0,selectedSuggestion.start)+selectedSuggestion.text+value.substr(selectedSuggestion.end);_this.setState(withSuggestionsHidden);_this.changeValue(newValue);_this.focusInputElement()}};_this.changeValue=function(value){var onChange=_this.props.onChange;if(onChange){onChange(value)}};_this.focusInputElement=function(){if(_this.inputElement){_this.inputElement.focus()}};_this.showSuggestions=function(){_this.setState(withSuggestionsVisible)};_this.hideSuggestions=function(){_this.setState(withSuggestionsHidden)};_this.submit=function(){var _this$props2=_this.props,isValid=_this$props2.isValid,onSubmit=_this$props2.onSubmit,value=_this$props2.value;if(isValid&&onSubmit){onSubmit(value)}_this.setState(withSuggestionsHidden)};_this.updateSuggestions=function(value){var inputCursorPosition=_this.inputElement?_this.inputElement.selectionStart||0:0;_this.props.loadSuggestions(value||_this.props.value,inputCursorPosition,10)};return _this}_createClass(AutocompleteField,[{key:"render",value:function render(){var _this2=this;var _props=this.props,suggestions=_props.suggestions,isLoadingSuggestions=_props.isLoadingSuggestions,isValid=_props.isValid,placeholder=_props.placeholder,value=_props.value;var _state=this.state,areSuggestionsVisible=_state.areSuggestionsVisible,selectedIndex=_state.selectedIndex;return react_1.default.createElement(eui_1.EuiOutsideClickDetector,{onOutsideClick:this.hideSuggestions},react_1.default.createElement(AutocompleteContainer,null,react_1.default.createElement(FixedEuiFieldSearch,{fullWidth:true,inputRef:this.handleChangeInputRef,isLoading:isLoadingSuggestions,isInvalid:!isValid,onChange:this.handleChange,onFocus:this.showSuggestions,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onSearch:this.submit,placeholder:placeholder,value:value}),areSuggestionsVisible&&!isLoadingSuggestions&&suggestions.length>0?react_1.default.createElement(SuggestionsPanel,null,suggestions.map(function(suggestion,suggestionIndex){return react_1.default.createElement(suggestion_item_1.SuggestionItem,{key:suggestion.text,suggestion:suggestion,isSelected:suggestionIndex===selectedIndex,onMouseEnter:_this2.selectSuggestionAt(suggestionIndex),onClick:_this2.applySuggestionAt(suggestionIndex)})})):null))}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){var hasNewSuggestions=prevProps.suggestions!==this.props.suggestions;var hasNewValue=prevProps.value!==this.props.value;if(hasNewValue){this.updateSuggestions()}if(hasNewSuggestions){this.showSuggestions()}}}]);return AutocompleteField}(react_1.default.Component);exports.AutocompleteField=AutocompleteField;var withPreviousSuggestionSelected=function withPreviousSuggestionSelected(state,props){return _extends({},state,{selectedIndex:props.suggestions.length===0?null:state.selectedIndex!==null?(state.selectedIndex+props.suggestions.length-1)%props.suggestions.length:Math.max(props.suggestions.length-1,0)})};var withNextSuggestionSelected=function withNextSuggestionSelected(state,props){return _extends({},state,{selectedIndex:props.suggestions.length===0?null:state.selectedIndex!==null?(state.selectedIndex+1)%props.suggestions.length:0})};var withSuggestionAtIndexSelected=function withSuggestionAtIndexSelected(suggestionIndex){return function(state,props){return _extends({},state,{selectedIndex:props.suggestions.length===0?null:suggestionIndex>=0&&suggestionIndex<props.suggestions.length?suggestionIndex:0})}};var withSuggestionsVisible=function withSuggestionsVisible(state){return _extends({},state,{areSuggestionsVisible:true})};var withSuggestionsHidden=function withSuggestionsHidden(state){return _extends({},state,{areSuggestionsVisible:false,selectedIndex:null})};var FixedEuiFieldSearch=eui_1.EuiFieldSearch;var AutocompleteContainer=styled_components_1.default.div(_templateObject);var SuggestionsPanel=styled_components_1.default(eui_1.EuiPanel).attrs({paddingSize:"none",hasShadow:true})(_templateObject2)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));exports.asChildFunctionRenderer=function(hoc){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},onInitialize=_ref.onInitialize,onCleanup=_ref.onCleanup;return hoc(function(_react_1$default$Comp){_inherits(ChildFunctionRenderer,_react_1$default$Comp);function ChildFunctionRenderer(){_classCallCheck(this,ChildFunctionRenderer);var _this=_possibleConstructorReturn(this,(ChildFunctionRenderer.__proto__||Object.getPrototypeOf(ChildFunctionRenderer)).apply(this,arguments));_this.displayName="ChildFunctionRenderer";_this.getRendererArgs=function(){return lodash_1.omit(["children","initializeOnMount","resetOnUnmount"],_this.props)};return _this}_createClass(ChildFunctionRenderer,[{key:"componentDidMount",value:function componentDidMount(){if(this.props.initializeOnMount&&onInitialize){onInitialize(this.getRendererArgs())}}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.props.resetOnUnmount&&onCleanup){onCleanup(this.getRendererArgs())}}},{key:"render",value:function render(){return this.props.children(this.getRendererArgs())}}]);return ChildFunctionRenderer}(react_1.default.Component))};function composeStateUpdaters(){for(var _len=arguments.length,updaters=Array(_len),_key=0;_key<_len;_key++){updaters[_key]=arguments[_key]}return function(state,props){return updaters.reduce(function(currentState,updater){return updater(currentState,props)||currentState},state)}}exports.composeStateUpdaters=composeStateUpdaters},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: row;\n  font-size: ",";\n  height: ",";\n  white-space: nowrap;\n  background-color: ",";\n"],["\n  display: flex;\n  flex-direction: row;\n  font-size: ",";\n  height: ",";\n  white-space: nowrap;\n  background-color: ",";\n"]),_templateObject2=_taggedTemplateLiteral(["\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  height: ",";\n  padding: ",";\n"],["\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  height: ",";\n  padding: ",";\n"]),_templateObject3=_taggedTemplateLiteral(["\n  background-color: ",";\n  color: ",";\n  flex: 0 0 auto;\n  justify-content: center;\n  width: ",";\n"],["\n  background-color: ",";\n  color: ",";\n  flex: 0 0 auto;\n  justify-content: center;\n  width: ",";\n"]),_templateObject4=_taggedTemplateLiteral(["\n  flex: 2 0 0;\n  font-family: ",";\n"],["\n  flex: 2 0 0;\n  font-family: ",";\n"]),_templateObject5=_taggedTemplateLiteral(["\n  flex: 3 0 0;\n  p {\n    display: inline;\n    span {\n      font-family: ",";\n    }\n  }\n"],["\n  flex: 3 0 0;\n  p {\n    display: inline;\n    span {\n      font-family: ",";\n    }\n  }\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var polished_1=__webpack_require__(234);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(18));var SuggestionItem=function(_react_1$default$Comp){_inherits(SuggestionItem,_react_1$default$Comp);function SuggestionItem(){_classCallCheck(this,SuggestionItem);return _possibleConstructorReturn(this,(SuggestionItem.__proto__||Object.getPrototypeOf(SuggestionItem)).apply(this,arguments))}_createClass(SuggestionItem,[{key:"render",value:function render(){var _props=this.props,isSelected=_props.isSelected,onClick=_props.onClick,onMouseEnter=_props.onMouseEnter,suggestion=_props.suggestion;return react_1.default.createElement(SuggestionItemContainer,{isSelected:isSelected,onClick:onClick,onMouseEnter:onMouseEnter},react_1.default.createElement(SuggestionItemIconField,{suggestionType:suggestion.type},react_1.default.createElement(eui_1.EuiIcon,{type:getEuiIconType(suggestion.type)})),react_1.default.createElement(SuggestionItemTextField,null,suggestion.text),react_1.default.createElement(SuggestionItemDescriptionField,{dangerouslySetInnerHTML:{__html:suggestion.description}}))}}]);return SuggestionItem}(react_1.default.Component);SuggestionItem.defaultProps={isSelected:false};exports.SuggestionItem=SuggestionItem;var SuggestionItemContainer=styled_components_1.default.div(_templateObject,function(props){return props.theme.eui.default.euiFontSizeS},function(props){return props.theme.eui.default.euiSizeXl},function(props){return props.isSelected?props.theme.eui.default.euiColorLightestShade:"transparent"});var SuggestionItemField=styled_components_1.default.div(_templateObject2,function(props){return props.theme.eui.default.euiSizeXl},function(props){return props.theme.eui.default.euiSizeXs});var SuggestionItemIconField=SuggestionItemField.extend(_templateObject3,function(props){return polished_1.tint(.1,getEuiIconColor(props.theme,props.suggestionType))},function(props){return getEuiIconColor(props.theme,props.suggestionType)},function(props){return props.theme.eui.default.euiSizeXl});var SuggestionItemTextField=SuggestionItemField.extend(_templateObject4,function(props){return props.theme.eui.default.euiCodeFontFamily});var SuggestionItemDescriptionField=SuggestionItemField.extend(_templateObject5,function(props){return props.theme.eui.default.euiCodeFontFamily});var getEuiIconType=function getEuiIconType(suggestionType){switch(suggestionType){case"field":return"kqlField";case"value":return"kqlValue";case"recentSearch":return"search";case"conjunction":return"kqlSelector";case"operator":return"kqlOperand";default:return"empty"}};var getEuiIconColor=function getEuiIconColor(theme,suggestionType){switch(suggestionType){case"field":return theme.eui.default.euiColorVis7;case"value":return theme.eui.default.euiColorVis0;case"operator":return theme.eui.default.euiColorVis1;case"conjunction":return theme.eui.default.euiColorVis2;case"recentSearch":default:return theme.eui.default.euiColorMediumShade}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var action_schema_1=__webpack_require__(533);var action_control_1=__webpack_require__(3860);var tag_badge_list_1=__webpack_require__(3861);exports.OptionControl=function(props){switch(props.type){case action_schema_1.ActionComponentType.Action:if(!props.action){throw Error("Action cannot be undefined")}return react_1.default.createElement(action_control_1.ActionControl,{actionHandler:props.actionHandler,action:props.action,danger:props.danger,name:props.name,showWarning:props.showWarning,warningHeading:props.warningHeading,warningMessage:props.warningMessage,disabled:props.disabled});case action_schema_1.ActionComponentType.TagBadgeList:if(!props.actionDataKey){throw Error("actionDataKey cannot be undefined")}if(!props.actionData){throw Error("actionData cannot be undefined")}return react_1.default.createElement(tag_badge_list_1.TagBadgeList,{actionHandler:props.actionHandler,action:props.action,name:props.name,items:props.actionData[props.actionDataKey],disabled:props.disabled})}return react_1.default.createElement("div",null,"Invalid config")}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var ActionControl=function(_react_2$default$Pure){_inherits(ActionControl,_react_2$default$Pure);function ActionControl(props){_classCallCheck(this,ActionControl);var _this=_possibleConstructorReturn(this,(ActionControl.__proto__||Object.getPrototypeOf(ActionControl)).call(this,props));_this.state={showModal:false};return _this}_createClass(ActionControl,[{key:"render",value:function render(){var _this2=this;var _props=this.props,action=_props.action,actionHandler=_props.actionHandler,danger=_props.danger,name=_props.name,showWarning=_props.showWarning,warningHeading=_props.warningHeading,warningMessage=_props.warningMessage;return react_2.default.createElement("div",null,react_2.default.createElement(eui_1.EuiButton,{size:"s",color:danger?"danger":"primary",disabled:this.props.disabled,onClick:showWarning?function(){return _this2.setState({showModal:true})}:function(){return actionHandler(action)}},name),this.state.showModal&&react_2.default.createElement(eui_1.EuiOverlayMask,null,react_2.default.createElement(eui_1.EuiConfirmModal,{buttonColor:danger?"danger":"primary",cancelButtonText:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.confirmModal.confirmButtonLabel",defaultMessage:"Confirm"}),onConfirm:function onConfirm(){actionHandler(action);_this2.setState({showModal:false})},onCancel:function onCancel(){return _this2.setState({showModal:false})},title:warningHeading?warningHeading:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.confirmModal.confirmWarningTitle",defaultMessage:"Confirm"})},warningMessage)))}}]);return ActionControl}(react_2.default.PureComponent);exports.ActionControl=ActionControl},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var table_1=__webpack_require__(1260);var tag_badge_1=__webpack_require__(776);var index_1=__webpack_require__(427);var TagBadgeList=function(_react_1$default$Comp){_inherits(TagBadgeList,_react_1$default$Comp);function TagBadgeList(props){_classCallCheck(this,TagBadgeList);var _this=_possibleConstructorReturn(this,(TagBadgeList.__proto__||Object.getPrototypeOf(TagBadgeList)).call(this,props));_this.onButtonClick=function(){_this.setState(function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}})};_this.closePopover=function(){_this.setState({isPopoverOpen:false})};_this.state={isPopoverOpen:false};return _this}_createClass(TagBadgeList,[{key:"render",value:function render(){var _this2=this;var button=react_1.default.createElement(eui_1.EuiButton,{size:"s",iconType:"arrowDown",iconSide:"right",onClick:this.onButtonClick,disabled:this.props.disabled},this.props.name);return react_1.default.createElement(eui_1.EuiPopover,{id:"contentPanel",button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:"downLeft"},react_1.default.createElement(eui_1.EuiContextMenuPanel,null,react_1.default.createElement(eui_1.EuiFlexGroup,{direction:"column",gutterSize:"xs",style:{margin:10}},this.props.items.map(function(tag){return react_1.default.createElement(eui_1.EuiFlexItem,{key:""+tag.id},react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"xs"},react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(tag_badge_1.TagBadge,{maxIdRenderSize:table_1.TABLE_CONFIG.TRUNCATE_TAG_LENGTH_SMALL,onClick:function onClick(){return _this2.props.actionHandler(index_1.AssignmentActionType.Assign,tag.id)},onClickAriaLabel:tag.id,tag:tag}))))}))))}}]);return TagBadgeList}(react_1.default.Component);exports.TagBadgeList=TagBadgeList},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var i18n_1=__webpack_require__(9);var lodash_1=__webpack_require__(1);var moment_1=tslib_1.__importDefault(__webpack_require__(13));var react_1=tslib_1.__importDefault(__webpack_require__(0));var connected_link_1=__webpack_require__(774);var tag_1=__webpack_require__(775);exports.BeatsTableType={itemType:"Beats",columnDefinitions:[{field:"name",name:i18n_1.i18n.translate("xpack.beatsManagement.beatsTable.beatNameTitle",{defaultMessage:"Beat name"}),render:function render(name,beat){return react_1.default.createElement(connected_link_1.ConnectedLink,{path:"/beat/"+beat.id+"/details"},name)},sortable:true},{field:"type",name:i18n_1.i18n.translate("xpack.beatsManagement.beatsTable.typeTitle",{defaultMessage:"Type"}),sortable:true},{field:"full_tags",name:i18n_1.i18n.translate("xpack.beatsManagement.beatsTable.tagsTitle",{defaultMessage:"Tags"}),render:function render(value,beat){return react_1.default.createElement(eui_1.EuiFlexGroup,{wrap:true,responsive:true,gutterSize:"xs"},(lodash_1.sortBy(beat.full_tags,"id")||[]).map(function(tag){return react_1.default.createElement(eui_1.EuiFlexItem,{key:tag.id,grow:false},react_1.default.createElement(connected_link_1.ConnectedLink,{path:"/tag/edit/"+tag.id},react_1.default.createElement(tag_1.TagBadge,{tag:tag})))}))},sortable:false},{field:"config_status",name:i18n_1.i18n.translate("xpack.beatsManagement.beatsTable.configStatusTitle",{defaultMessage:"Config Status"}),render:function render(value,beat){var color="success";var statusText=i18n_1.i18n.translate("xpack.beatsManagement.beatsTable.configStatus.okLabel",{defaultMessage:"OK"});var tooltipText=i18n_1.i18n.translate("xpack.beatsManagement.beatsTable.configStatus.okTooltip",{defaultMessage:"Beat successfully applied latest config"});switch(beat.config_status){case"UNKNOWN":color="subdued";statusText=i18n_1.i18n.translate("xpack.beatsManagement.beatsTable.configStatus.offlineLabel",{defaultMessage:"Offline"});if(moment_1.default().diff(beat.last_checkin,"minutes")>=10){tooltipText=i18n_1.i18n.translate("xpack.beatsManagement.beatsTable.configStatus.noConnectionTooltip",{defaultMessage:"This Beat has not connected to kibana in over 10min"})}else{tooltipText=i18n_1.i18n.translate("xpack.beatsManagement.beatsTable.configStatus.notStartedTooltip",{defaultMessage:"This Beat has not yet been started."})}break;case"ERROR":color="danger";statusText=i18n_1.i18n.translate("xpack.beatsManagement.beatsTable.configStatus.errorLabel",{defaultMessage:"Error"});tooltipText=i18n_1.i18n.translate("xpack.beatsManagement.beatsTable.configStatus.errorTooltip",{defaultMessage:"Please check the logs of this Beat for error details"});break}return react_1.default.createElement(eui_1.EuiFlexGroup,{wrap:true,responsive:true,gutterSize:"xs"},react_1.default.createElement(eui_1.EuiToolTip,{content:tooltipText},react_1.default.createElement(eui_1.EuiHealth,{color:color},statusText)))},sortable:false},{field:"full_tags",name:i18n_1.i18n.translate("xpack.beatsManagement.beatsTable.lastConfigUpdateTitle",{defaultMessage:"Last config update"}),render:function render(tags){return tags&&tags.length?react_1.default.createElement("span",null,moment_1.default(lodash_1.first(lodash_1.sortByOrder(tags,["last_updated"],["desc"])).last_updated).fromNow()):null},sortable:true}],controlDefinitions:function controlDefinitions(data){return{actions:[{name:i18n_1.i18n.translate("xpack.beatsManagement.beatsTable.disenrollSelectedLabel",{defaultMessage:"Unenroll Selected"}),action:"delete",danger:true}],filters:[{type:"field_value_selection",field:"type",name:i18n_1.i18n.translate("xpack.beatsManagement.beatsTable.typeLabel",{defaultMessage:"Type"}),options:lodash_1.uniq(data.map(function(_ref){var type=_ref.type;return{value:type}}),"value")}]}}};exports.TagsTableType={itemType:"Tags",columnDefinitions:[{field:"id",name:i18n_1.i18n.translate("xpack.beatsManagement.tagsTable.tagNameTitle",{defaultMessage:"Tag name"}),render:function render(id,tag){return react_1.default.createElement(connected_link_1.ConnectedLink,{path:"/tag/edit/"+tag.id},react_1.default.createElement(tag_1.TagBadge,{tag:tag}))},sortable:true,width:"45%"},{align:"right",field:"configuration_blocks",name:i18n_1.i18n.translate("xpack.beatsManagement.tagsTable.configurationsTitle",{defaultMessage:"Configurations"}),render:function render(configurationBlocks){return react_1.default.createElement("div",null,configurationBlocks.length)},sortable:false},{align:"right",field:"last_updated",name:i18n_1.i18n.translate("xpack.beatsManagement.tagsTable.lastUpdateTitle",{defaultMessage:"Last update"}),render:function render(lastUpdate){return react_1.default.createElement("div",null,moment_1.default(lastUpdate).fromNow())},sortable:true}],controlDefinitions:function controlDefinitions(data){return{actions:[{name:i18n_1.i18n.translate("xpack.beatsManagement.tagsTable.removeSelectedLabel",{defaultMessage:"Remove Selected"}),action:"delete",danger:true}],filters:[]}}};exports.BeatDetailTagsTable={itemType:"Tags",columnDefinitions:[{field:"id",name:i18n_1.i18n.translate("xpack.beatsManagement.beatTagsTable.tagNameTitle",{defaultMessage:"Tag name"}),render:function render(id,tag){return react_1.default.createElement(connected_link_1.ConnectedLink,{path:"/tag/edit/"+tag.id},react_1.default.createElement(tag_1.TagBadge,{tag:tag}))},sortable:true,width:"55%"},{align:"right",field:"configuration_blocks",name:i18n_1.i18n.translate("xpack.beatsManagement.beatTagsTable.configurationsTitle",{defaultMessage:"Configurations"}),render:function render(configurations){return react_1.default.createElement("span",null,configurations.length)},sortable:true},{align:"right",field:"last_updated",name:i18n_1.i18n.translate("xpack.beatsManagement.beatTagsTable.lastUpdateTitle",{defaultMessage:"Last update"}),render:function render(lastUpdate){return react_1.default.createElement("span",null,moment_1.default(lastUpdate).fromNow())},sortable:true}],controlDefinitions:function controlDefinitions(data){return{actions:[],filters:[],primaryActions:[{name:i18n_1.i18n.translate("xpack.beatsManagement.beatTagsTable.addTagLabel",{defaultMessage:"Add Tag"}),action:"add",danger:false},{name:i18n_1.i18n.translate("xpack.beatsManagement.beatTagsTable.removeSelectedLabel",{defaultMessage:"Remove Selected"}),action:"remove",danger:true}]}}}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(3);var formsy_react_1=tslib_1.__importStar(__webpack_require__(378));var js_yaml_1=tslib_1.__importDefault(__webpack_require__(1268));var lodash_1=__webpack_require__(1);var react_2=tslib_1.__importDefault(__webpack_require__(0));var inputs_1=__webpack_require__(3864);formsy_react_1.addValidationRule("isHosts",function(form,values){return true});formsy_react_1.addValidationRule("isString",function(values,value){return true});formsy_react_1.addValidationRule("isPeriod",function(values,value){return true});formsy_react_1.addValidationRule("isPath",function(values,value){return value&&value.length>0});formsy_react_1.addValidationRule("isPaths",function(values,value){return true});formsy_react_1.addValidationRule("isYaml",function(values,value){try{var stuff=js_yaml_1.default.safeLoad(value||"");if(typeof stuff==="string"){return false}return true}catch(e){return false}});var ConfigFormUi=function(_react_2$default$Comp){_inherits(ConfigFormUi,_react_2$default$Comp);function ConfigFormUi(props){_classCallCheck(this,ConfigFormUi);var _this=_possibleConstructorReturn(this,(ConfigFormUi.__proto__||Object.getPrototypeOf(ConfigFormUi)).call(this,props));_this.form=react_2.default.createRef();_this.enableButton=function(){_this.setState({canSubmit:true});_this.props.canSubmit(true)};_this.disableButton=function(){_this.setState({canSubmit:false});_this.props.canSubmit(false)};_this.submit=function(){if(_this.form.current&&_this.props.onSubmit){_this.form.current.click()}};_this.onValidSubmit=function(model){if(!_this.props.onSubmit){return}_this.props.onSubmit(model)};_this.state={canSubmit:false};return _this}_createClass(ConfigFormUi,[{key:"render",value:function render(){var _this2=this;var intl=this.props.intl;return react_2.default.createElement("div",null,react_2.default.createElement("br",null),react_2.default.createElement(formsy_react_1.default,{onValidSubmit:this.onValidSubmit,onValid:this.enableButton,onInvalid:this.disableButton},this.props.schema.map(function(schema){switch(schema.ui.type){case"input":return react_2.default.createElement(inputs_1.FormsyEuiFieldText,{key:schema.id,id:schema.id,defaultValue:lodash_1.get(_this2.props,"values.configs[0]."+schema.id,schema.defaultValue),name:schema.id,disabled:!_this2.props.onSubmit,helpText:schema.ui.helpText,placeholder:schema.ui.placeholder,label:schema.ui.label,validations:schema.validations,validationError:schema.error,required:schema.required||false});case"password":return react_2.default.createElement(inputs_1.FormsyEuiPasswordText,{key:schema.id,id:schema.id,disabled:!_this2.props.onSubmit,defaultValue:lodash_1.get(_this2.props,"values.configs[0]."+schema.id,schema.defaultValue),name:schema.id,placeholder:schema.ui.placeholder,helpText:schema.ui.helpText,label:schema.ui.label,validations:schema.validations,validationError:schema.error,required:schema.required||false});case"multi-input":return react_2.default.createElement(inputs_1.FormsyEuiMultiFieldText,{key:schema.id,id:schema.id,disabled:!_this2.props.onSubmit,defaultValue:lodash_1.get(_this2.props,"values.configs[0]."+schema.id,schema.defaultValue),name:schema.id,placeholder:schema.ui.placeholder,helpText:schema.ui.helpText,label:schema.ui.label,validations:schema.validations,validationError:schema.error,required:schema.required});case"select":return react_2.default.createElement(inputs_1.FormsyEuiSelect,{key:schema.id,id:schema.id,name:schema.id,disabled:!_this2.props.onSubmit,defaultValue:lodash_1.get(_this2.props,"values.configs[0]."+schema.id,schema.defaultValue),helpText:schema.ui.helpText,label:schema.ui.label,options:[{value:"",text:intl.formatMessage({id:"xpack.beatsManagement.tagConfig.selectOptionLabel",defaultMessage:"Please Select An Option"})}].concat(schema.options||[]),validations:schema.validations,validationError:schema.error,required:schema.required});case"code":return react_2.default.createElement(inputs_1.FormsyEuiCodeEditor,{key:schema.id+"-"+_this2.props.id,mode:"yaml",disabled:!_this2.props.onSubmit,id:schema.id,defaultValue:lodash_1.get(_this2.props,"values.configs[0]."+schema.id,schema.defaultValue),name:schema.id,helpText:schema.ui.helpText,label:schema.ui.label,options:schema.options?schema.options:[],validations:schema.validations,validationError:schema.error,required:schema.required})}}),this.props.onSubmit&&react_2.default.createElement("button",{type:"submit",style:{display:"none"},disabled:!this.state.canSubmit,ref:this.form})))}}]);return ConfigFormUi}(react_2.default.Component);exports.ConfigForm=react_1.injectI18n(ConfigFormUi,{withRef:true})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var code_editor_1=__webpack_require__(3865);exports.FormsyEuiCodeEditor=code_editor_1.FormsyEuiCodeEditor;var input_1=__webpack_require__(3866);exports.FormsyEuiFieldText=input_1.FormsyEuiFieldText;var password_input_1=__webpack_require__(3867);exports.FormsyEuiPasswordText=password_input_1.FormsyEuiPasswordText;var multi_input_1=__webpack_require__(3868);exports.FormsyEuiMultiFieldText=multi_input_1.FormsyEuiMultiFieldText;var select_1=__webpack_require__(3869);exports.FormsyEuiSelect=select_1.FormsyEuiSelect},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var formsy_react_1=__webpack_require__(378);var react_1=tslib_1.__importStar(__webpack_require__(0));var CodeEditor=function(_react_1$Component){_inherits(CodeEditor,_react_1$Component);function CodeEditor(){_classCallCheck(this,CodeEditor);var _this=_possibleConstructorReturn(this,(CodeEditor.__proto__||Object.getPrototypeOf(CodeEditor)).apply(this,arguments));_this.state={allowError:false};_this.handleChange=function(value){_this.props.setValue(value);if(_this.props.onChange){_this.props.onChange(value)}if(_this.props.instantValidation){_this.showError()}};_this.handleBlur=function(){_this.showError();if(_this.props.onBlur){_this.props.onBlur()}};_this.showError=function(){return _this.setState({allowError:true})};return _this}_createClass(CodeEditor,[{key:"componentDidMount",value:function componentDidMount(){var _props=this.props,defaultValue=_props.defaultValue,setValue=_props.setValue;setValue(defaultValue||"")}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(nextProps.isFormSubmitted()){this.showError()}}},{key:"render",value:function render(){var _props2=this.props,id=_props2.id,label=_props2.label,isReadOnly=_props2.isReadOnly,isValid=_props2.isValid,getValue=_props2.getValue,isPristine=_props2.isPristine,getErrorMessage=_props2.getErrorMessage,mode=_props2.mode,fullWidth=_props2.fullWidth,className=_props2.className,helpText=_props2.helpText;var allowError=this.state.allowError;var error=!isPristine()&&!isValid()&&allowError;return react_1.default.createElement(eui_1.EuiFormRow,{id:id,label:label,helpText:helpText,isInvalid:error,error:error?getErrorMessage():[]},react_1.default.createElement(eui_1.EuiCodeEditor,{id:id,name:name,mode:mode,theme:"github",value:getValue()||"",isReadOnly:isReadOnly||false,isInvalid:error,onChange:this.handleChange,onBlur:this.handleBlur,width:fullWidth?"100%":undefined,className:className}))}}]);return CodeEditor}(react_1.Component);CodeEditor.defaultProps={passRequiredToField:true};exports.FormsyEuiCodeEditor=formsy_react_1.withFormsy(CodeEditor)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var formsy_react_1=__webpack_require__(378);var react_1=tslib_1.__importStar(__webpack_require__(0));var FieldText=function(_react_1$Component){_inherits(FieldText,_react_1$Component);function FieldText(){_classCallCheck(this,FieldText);var _this=_possibleConstructorReturn(this,(FieldText.__proto__||Object.getPrototypeOf(FieldText)).apply(this,arguments));_this.state={allowError:false};_this.handleChange=function(e){var value=e.currentTarget.value;_this.props.setValue(value);if(_this.props.onChange){_this.props.onChange(e,e.currentTarget.value)}if(_this.props.instantValidation){_this.showError()}};_this.handleBlur=function(e){_this.showError();if(_this.props.onBlur){_this.props.onBlur(e,e.currentTarget.value)}};_this.showError=function(){return _this.setState({allowError:true})};return _this}_createClass(FieldText,[{key:"componentDidMount",value:function componentDidMount(){var _props=this.props,defaultValue=_props.defaultValue,setValue=_props.setValue;if(defaultValue){setValue(defaultValue)}}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(nextProps.isFormSubmitted()){this.showError()}}},{key:"render",value:function render(){var _props2=this.props,id=_props2.id,required=_props2.required,label=_props2.label,getValue=_props2.getValue,isValid=_props2.isValid,isPristine=_props2.isPristine,getErrorMessage=_props2.getErrorMessage,fullWidth=_props2.fullWidth,className=_props2.className,disabled=_props2.disabled,helpText=_props2.helpText,placeholder=_props2.placeholder;var allowError=this.state.allowError;var error=!isPristine()&&!isValid()&&allowError;return react_1.default.createElement(eui_1.EuiFormRow,{id:id,label:label,helpText:helpText,isInvalid:!disabled&&error,error:!disabled&&error?getErrorMessage():[]},react_1.default.createElement(eui_1.EuiFieldText,{id:id,name:name,placeholder:placeholder,value:getValue()||"",isInvalid:!disabled&&error,onChange:this.handleChange,onBlur:this.handleBlur,fullWidth:fullWidth,disabled:disabled,required:required,className:className}))}}]);return FieldText}(react_1.Component);FieldText.defaultProps={passRequiredToField:true};exports.FormsyEuiFieldText=formsy_react_1.withFormsy(FieldText)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var formsy_react_1=__webpack_require__(378);var react_1=tslib_1.__importStar(__webpack_require__(0));var FieldPassword=function(_react_1$Component){_inherits(FieldPassword,_react_1$Component);function FieldPassword(props){_classCallCheck(this,FieldPassword);var _this=_possibleConstructorReturn(this,(FieldPassword.__proto__||Object.getPrototypeOf(FieldPassword)).call(this,props));_this.handleChange=function(e){var value=e.currentTarget.value;_this.props.setValue(value);if(_this.props.onChange){_this.props.onChange(e,value)}if(_this.props.instantValidation){_this.showError()}};_this.handleBlur=function(e){_this.showError();if(_this.props.onBlur){_this.props.onBlur(e,e.currentTarget.value)}};_this.showError=function(){return _this.setState({allowError:true})};_this.state={allowError:false};return _this}_createClass(FieldPassword,[{key:"componentDidMount",value:function componentDidMount(){var _props=this.props,defaultValue=_props.defaultValue,setValue=_props.setValue;if(defaultValue){setValue(defaultValue)}}},{key:"render",value:function render(){var _props2=this.props,id=_props2.id,required=_props2.required,label=_props2.label,getValue=_props2.getValue,isValid=_props2.isValid,isPristine=_props2.isPristine,getErrorMessage=_props2.getErrorMessage,fullWidth=_props2.fullWidth,className=_props2.className,disabled=_props2.disabled,helpText=_props2.helpText,onBlur=_props2.onBlur;var allowError=this.state.allowError;var error=!isPristine()&&!isValid()&&allowError;return react_1.default.createElement(eui_1.EuiFormRow,{id:id,label:label,helpText:helpText,isInvalid:!disabled&&error,error:!disabled&&error?getErrorMessage():[]},react_1.default.createElement(eui_1.EuiFieldPassword,{id:id,name:name,value:getValue()||"",isInvalid:!disabled&&error,onChange:this.handleChange,onBlur:onBlur,fullWidth:fullWidth,disabled:disabled,required:required,className:className}))}}]);return FieldPassword}(react_1.Component);exports.FormsyEuiPasswordText=formsy_react_1.withFormsy(FieldPassword)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var formsy_react_1=__webpack_require__(378);var react_1=tslib_1.__importStar(__webpack_require__(0));var MultiFieldText=function(_react_1$Component){_inherits(MultiFieldText,_react_1$Component);function MultiFieldText(){_classCallCheck(this,MultiFieldText);var _this=_possibleConstructorReturn(this,(MultiFieldText.__proto__||Object.getPrototypeOf(MultiFieldText)).apply(this,arguments));_this.state={allowError:false};_this.handleChange=function(e){var value=e.currentTarget.value.split("\n");_this.props.setValue(value);if(_this.props.onChange){_this.props.onChange(e,value)}if(_this.props.instantValidation){_this.showError()}};_this.handleBlur=function(e){_this.showError();if(_this.props.onBlur){_this.props.onBlur(e,e.currentTarget.value)}};_this.showError=function(){return _this.setState({allowError:true})};return _this}_createClass(MultiFieldText,[{key:"componentDidMount",value:function componentDidMount(){var _props=this.props,defaultValue=_props.defaultValue,setValue=_props.setValue;if(defaultValue){setValue(defaultValue)}}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(nextProps.isFormSubmitted()){this.showError()}}},{key:"render",value:function render(){var _props2=this.props,id=_props2.id,required=_props2.required,label=_props2.label,getValue=_props2.getValue,isValid=_props2.isValid,isPristine=_props2.isPristine,getErrorMessage=_props2.getErrorMessage,fullWidth=_props2.fullWidth,className=_props2.className,disabled=_props2.disabled,helpText=_props2.helpText,placeholder=_props2.placeholder;var allowError=this.state.allowError;var error=!isPristine()&&!isValid()&&allowError;return react_1.default.createElement(eui_1.EuiFormRow,{id:id,label:label,helpText:helpText,isInvalid:!disabled&&error,error:!disabled&&error?getErrorMessage():[]},react_1.default.createElement(eui_1.EuiTextArea,{id:id,name:name,value:getValue()?getValue().join("\n"):"",isInvalid:!disabled&&error,placeholder:placeholder,onChange:this.handleChange,onBlur:this.handleBlur,fullWidth:fullWidth,disabled:disabled,required:required,className:className}))}}]);return MultiFieldText}(react_1.Component);MultiFieldText.defaultProps={passRequiredToField:true};exports.FormsyEuiMultiFieldText=formsy_react_1.withFormsy(MultiFieldText)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var formsy_react_1=__webpack_require__(378);var react_1=tslib_1.__importStar(__webpack_require__(0));var FixedSelect=eui_1.EuiSelect;var FieldSelect=function(_react_1$Component){_inherits(FieldSelect,_react_1$Component);function FieldSelect(){_classCallCheck(this,FieldSelect);var _this=_possibleConstructorReturn(this,(FieldSelect.__proto__||Object.getPrototypeOf(FieldSelect)).apply(this,arguments));_this.state={allowError:false};_this.handleChange=function(e){var value=e.currentTarget.value;_this.props.setValue(value);if(_this.props.onChange){_this.props.onChange(e,e.currentTarget.value)}if(_this.props.instantValidation){_this.showError()}};_this.handleBlur=function(e){_this.showError();if(_this.props.onBlur){_this.props.onBlur(e,e.currentTarget.value)}};_this.showError=function(){return _this.setState({allowError:true})};return _this}_createClass(FieldSelect,[{key:"componentDidMount",value:function componentDidMount(){var _props=this.props,defaultValue=_props.defaultValue,setValue=_props.setValue;if(defaultValue){setValue(defaultValue)}}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(nextProps.isFormSubmitted()){this.showError()}}},{key:"render",value:function render(){var _props2=this.props,id=_props2.id,required=_props2.required,label=_props2.label,options=_props2.options,getValue=_props2.getValue,isValid=_props2.isValid,isPristine=_props2.isPristine,getErrorMessage=_props2.getErrorMessage,fullWidth=_props2.fullWidth,className=_props2.className,disabled=_props2.disabled,helpText=_props2.helpText;var allowError=this.state.allowError;var error=!isPristine()&&!isValid()&&allowError;return react_1.default.createElement(eui_1.EuiFormRow,{id:id,label:label,helpText:helpText,isInvalid:!disabled&&error,error:!disabled&&error?getErrorMessage():[]},react_1.default.createElement(FixedSelect,{id:id,name:name,value:getValue()||"",options:options,isInvalid:!disabled&&error,onChange:this.handleChange,onBlur:this.handleBlur,fullWidth:fullWidth,disabled:disabled,required:required,className:className}))}}]);return FieldSelect}(react_1.Component);FieldSelect.defaultProps={passRequiredToField:true};exports.FormsyEuiSelect=formsy_react_1.withFormsy(FieldSelect)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var lodash_1=__webpack_require__(1);var moment_1=tslib_1.__importDefault(__webpack_require__(13));var react_2=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(37);var primary_1=__webpack_require__(778);var breadcrumb_1=__webpack_require__(312);var child_routes_1=__webpack_require__(532);var BeatDetailsPageComponent=function(_react_2$default$Pure){_inherits(BeatDetailsPageComponent,_react_2$default$Pure);function BeatDetailsPageComponent(props){_classCallCheck(this,BeatDetailsPageComponent);var _this=_possibleConstructorReturn(this,(BeatDetailsPageComponent.__proto__||Object.getPrototypeOf(BeatDetailsPageComponent)).call(this,props));_this.onSelectedTabChanged=function(id){_this.props.history.push({pathname:id,search:_this.props.location.search})};_this.onTabClicked=function(path){return function(){_this.props.goTo(path)}};_this.state={beat:undefined,beatId:props.match.params.beatId,isLoading:true};_this.loadBeat();return _this}_createClass(BeatDetailsPageComponent,[{key:"renderActionSection",value:function renderActionSection(beat){return beat?react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiText,{size:"xs"},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.beat.actionSectionTypeLabel",defaultMessage:"Type: {beatType}.",values:{beatType:react_2.default.createElement("strong",null,beat.type)}}))),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiText,{size:"xs"},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.beat.actionSectionVersionLabel",defaultMessage:"Version: {beatVersion}.",values:{beatVersion:react_2.default.createElement("strong",null,beat.version)}}))),beat.full_tags&&beat.full_tags.length>0&&react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiText,{size:"xs"},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.beat.lastConfigUpdateMessage",defaultMessage:"Last Config Update: {lastUpdateTime}.",values:{lastUpdateTime:react_2.default.createElement("strong",null,moment_1.default(lodash_1.first(lodash_1.sortByOrder(beat.full_tags,"last_updated")).last_updated).fromNow())}})))):react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.beat.beatNotFoundMessage",defaultMessage:"Beat not found"})}},{key:"render",value:function render(){var intl=this.props.intl;var beat=this.state.beat;var id=void 0;var name=void 0;if(beat){id=beat.id;name=beat.name}var title=this.state.isLoading?intl.formatMessage({id:"xpack.beatsManagement.beat.loadingTitle",defaultMessage:"Loading"}):intl.formatMessage({id:"xpack.beatsManagement.beat.beatNameAndIdTitle",defaultMessage:"Beat: {nameOrNoName} (id: {id})"},{nameOrNoName:name||intl.formatHTMLMessage({id:"xpack.beatsManagement.beat.noNameReceivedFromBeatTitle",defaultMessage:"No name received from beat"}),id:id});return react_2.default.createElement(primary_1.PrimaryLayout,{title:title,actionSection:this.renderActionSection(beat),hideBreadcrumbs:this.props.libs.framework.info.k7Design},react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(breadcrumb_1.Breadcrumb,{title:"Enrolled Beats",path:"/overview/enrolled_beats"}),react_2.default.createElement(eui_1.EuiTabs,null,react_2.default.createElement(eui_1.EuiTab,{isSelected:"/beat/"+id+"/details"===this.props.history.location.pathname,onClick:this.onTabClicked("/beat/"+id+"/details")},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.beat.configTabLabel",defaultMessage:"Config"})),react_2.default.createElement(eui_1.EuiTab,{isSelected:"/beat/"+id+"/tags"===this.props.history.location.pathname,onClick:this.onTabClicked("/beat/"+id+"/tags")},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.beat.configurationTagsTabLabel",defaultMessage:"Configuration tags"}))),!this.state.beat&&react_2.default.createElement("div",null,"Beat not found"),this.state.beat&&react_2.default.createElement(react_router_dom_1.Switch,null,react_2.default.createElement(child_routes_1.ChildRoutes,Object.assign({routes:this.props.routes},this.props,{beat:this.state.beat,useSwitch:false})),id&&react_2.default.createElement(react_router_dom_1.Route,{render:function render(){return react_2.default.createElement(react_router_dom_1.Redirect,{to:"/beat/"+id+"/details"})}}))))}},{key:"loadBeat",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var intl,beatId,beat;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:intl=this.props.intl;beatId=this.props.match.params.beatId;beat=void 0;_context.prev=3;_context.next=6;return this.props.libs.beats.get(beatId);case 6:beat=_context.sent;if(beat){_context.next=9;break}throw new Error(intl.formatMessage({id:"xpack.beatsManagement.beat.beatNotFoundErrorMessage",defaultMessage:"beat not found"}));case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context["catch"](3);throw new Error(_context.t0);case 14:this.setState({beat:beat,isLoading:false});case 15:case"end":return _context.stop()}}},_callee,this,[[3,11]])}));function loadBeat(){return _ref.apply(this,arguments)}return loadBeat}()}]);return BeatDetailsPageComponent}(react_2.default.PureComponent);exports.BeatDetailsPage=react_1.injectI18n(BeatDetailsPageComponent)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var i18n_1=__webpack_require__(9);var react_1=tslib_1.__importDefault(__webpack_require__(0));var breadcrumb_1=__webpack_require__(312);var table_1=__webpack_require__(427);var BeatTagsPage=function(_react_1$default$Pure){_inherits(BeatTagsPage,_react_1$default$Pure);function BeatTagsPage(props){_classCallCheck(this,BeatTagsPage);var _this=_possibleConstructorReturn(this,(BeatTagsPage.__proto__||Object.getPrototypeOf(BeatTagsPage)).call(this,props));_this.tableRef=react_1.default.createRef();_this.state={notifications:[]};return _this}_createClass(BeatTagsPage,[{key:"render",value:function render(){var _this2=this;var beat=this.props.beat;return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(breadcrumb_1.Breadcrumb,{title:i18n_1.i18n.translate("xpack.beatsManagement.breadcrumb.beatTags",{defaultMessage:"Beat tags for: {beatId}",values:{beatId:beat.id}}),path:"/beat/"+beat.id+"/tags"}),react_1.default.createElement(table_1.Table,{hideTableControls:true,items:beat?beat.full_tags:[],ref:this.tableRef,type:table_1.BeatDetailTagsTable}),react_1.default.createElement(eui_1.EuiGlobalToastList,{toasts:this.state.notifications,dismissToast:function dismissToast(){return _this2.setState({notifications:[]})},toastLifeTimeMs:5e3}))}}]);return BeatTagsPage}(react_1.default.PureComponent);exports.BeatTagsPage=BeatTagsPage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(3);var React=tslib_1.__importStar(__webpack_require__(0));var no_data_1=__webpack_require__(534);exports.EnforceSecurityPage=react_1.injectI18n(function(_ref){var intl=_ref.intl;return React.createElement(no_data_1.NoDataLayout,{title:intl.formatMessage({id:"xpack.beatsManagement.disabledSecurityTitle",defaultMessage:"Security is not enabled"}),actionSection:[]},React.createElement("p",null,React.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.disabledSecurityDescription",defaultMessage:"You must enable security in Kibana and Elasticsearch to use Beats central management."})))})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(3);var React=tslib_1.__importStar(__webpack_require__(0));var no_data_1=__webpack_require__(534);exports.InvalidLicensePage=react_1.injectI18n(function(_ref){var intl=_ref.intl;return React.createElement(no_data_1.NoDataLayout,{title:intl.formatMessage({id:"xpack.beatsManagement.invalidLicenseTitle",defaultMessage:"Expired license"}),actionSection:[]},React.createElement("p",null,React.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.invalidLicenseDescription",defaultMessage:"Your current license is expired. Enrolled Beats will continue to work, but you need a valid\n          license to access the Beats Management UI."})))})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(3);var React=tslib_1.__importStar(__webpack_require__(0));var no_data_1=__webpack_require__(534);exports.NoAccessPage=react_1.injectI18n(function(_ref){var intl=_ref.intl;return React.createElement(no_data_1.NoDataLayout,{title:intl.formatMessage({id:"xpack.beatsManagement.noAccess.accessDeniedTitle",defaultMessage:"Access denied"}),actionSection:[]},React.createElement("p",null,React.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.noAccess.accessDeniedDescription",defaultMessage:"You are not authorized to access Beats central management. To use Beats central management,\n          you need the privileges granted by the {beatsAdminRole} role.",values:{beatsAdminRole:"`beats_admin`"}})))})},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var i18n_1=__webpack_require__(9);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var breadcrumb_1=__webpack_require__(312);var table_1=__webpack_require__(427);var action_schema_1=__webpack_require__(533);var with_kuery_autocompletion_1=__webpack_require__(1270);var TagsPageComponent=function(_react_2$default$Pure){_inherits(TagsPageComponent,_react_2$default$Pure);function TagsPageComponent(props){var _this2=this;_classCallCheck(this,TagsPageComponent);var _this=_possibleConstructorReturn(this,(TagsPageComponent.__proto__||Object.getPrototypeOf(TagsPageComponent)).call(this,props));_this.renderActionArea=function(){return react_2.default.createElement(eui_1.EuiButton,{size:"s",color:"primary",onClick:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.props.goTo("/tag/create");case 1:case"end":return _context.stop()}}},_callee,_this2)}));function onClick(){return _ref.apply(this,arguments)}return onClick}()},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tags.addTagButtonLabel",defaultMessage:"Add Tag"}))};_this.handleTagsAction=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(action){var intl,tags,success;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:intl=_this.props.intl;_context2.t0=action;_context2.next=_context2.t0===table_1.AssignmentActionType.Delete?4:10;break;case 4:tags=_this.getSelectedTags().map(function(tag){return tag.id});_context2.next=7;return _this.props.containers.tags.delete(tags);case 7:success=_context2.sent;if(!success){alert(intl.formatMessage({id:"xpack.beatsManagement.tags.someTagsMightBeAssignedToBeatsTitle",defaultMessage:"Some of these tags might be assigned to beats. Please ensure tags being removed are not activly assigned"}))}else{if(_this.state.tableRef&&_this.state.tableRef.current){_this.state.tableRef.current.resetSelection()}}return _context2.abrupt("break",10);case 10:case"end":return _context2.stop()}}},_callee2,_this2)}));return function(_x){return _ref2.apply(this,arguments)}}();_this.getSelectedTags=function(){return _this.state.tableRef.current?_this.state.tableRef.current.state.selection:[]};_this.state={tableRef:react_2.default.createRef()};if(props.urlState.tagsKBar){props.containers.tags.reload(props.urlState.tagsKBar)}props.renderAction(_this.renderActionArea);return _this}_createClass(TagsPageComponent,[{key:"render",value:function render(){var _this3=this;return react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(breadcrumb_1.Breadcrumb,{title:i18n_1.i18n.translate("xpack.beatsManagement.breadcrumb.configurationTags",{defaultMessage:"Configuration tags"}),path:"/overview/configuration_tags"}),react_2.default.createElement(with_kuery_autocompletion_1.WithKueryAutocompletion,{libs:this.props.libs,fieldPrefix:"tag"},function(autocompleteProps){return react_2.default.createElement(table_1.Table,{kueryBarProps:_extends({},autocompleteProps,{filterQueryDraft:"false",isValid:_this3.props.libs.elasticsearch.isKueryValid(_this3.props.urlState.tagsKBar||""),onChange:function onChange(value){_this3.props.setUrlState({tagsKBar:value});_this3.props.containers.tags.reload(_this3.props.urlState.tagsKBar)},onSubmit:function onSubmit(){return null},value:_this3.props.urlState.tagsKBar||""}),actions:action_schema_1.tagListActions,actionHandler:_this3.handleTagsAction,ref:_this3.state.tableRef,items:_this3.props.containers.tags.state.list,type:table_1.TagsTableType})}))}}]);return TagsPageComponent}(react_2.default.PureComponent);exports.TagsPage=react_1.injectI18n(TagsPageComponent)},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var i18n_1=__webpack_require__(9);var react_1=__webpack_require__(3);var lodash_1=__webpack_require__(1);var moment_1=tslib_1.__importDefault(__webpack_require__(13));var react_2=tslib_1.__importDefault(__webpack_require__(0));var constants_1=__webpack_require__(283);var enroll_beats_1=__webpack_require__(1271);var breadcrumb_1=__webpack_require__(312);var table_1=__webpack_require__(427);var action_schema_1=__webpack_require__(533);var table_2=__webpack_require__(777);var with_kuery_autocompletion_1=__webpack_require__(1270);var BeatsPageComponent=function(_react_2$default$Pure){_inherits(BeatsPageComponent,_react_2$default$Pure);function BeatsPageComponent(props){var _this2=this;_classCallCheck(this,BeatsPageComponent);var _this=_possibleConstructorReturn(this,(BeatsPageComponent.__proto__||Object.getPrototypeOf(BeatsPageComponent)).call(this,props));_this.tableRef=react_2.default.createRef();_this.renderActionArea=function(){return react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(eui_1.EuiButtonEmpty,{onClick:function onClick(){window.open("https://www.elastic.co/guide/en/beats/libbeat/current/getting-started.html","_newtab35628937456")}},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.beats.installBeatsLearningButtonLabel",defaultMessage:"Learn how to install beats"})),react_2.default.createElement(eui_1.EuiButton,{size:"s",color:"primary",onClick:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.props.goTo("/overview/enrolled_beats/enroll");case 1:case"end":return _context.stop()}}},_callee,_this2)}));function onClick(){return _ref.apply(this,arguments)}return onClick}()},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.beats.enrollBeatsButtonLabel",defaultMessage:"Enroll Beats"})),_this.props.location.pathname==="/overview/enrolled_beats/enroll"&&react_2.default.createElement(eui_1.EuiOverlayMask,null,react_2.default.createElement(eui_1.EuiModal,{onClose:function onClose(){_this.props.setUrlState({enrollmentToken:""});_this.props.goTo("/overview/enrolled_beats")},style:{width:"640px"}},react_2.default.createElement(eui_1.EuiModalHeader,null,react_2.default.createElement(eui_1.EuiModalHeaderTitle,null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.beats.enrollNewBeatsTitle",defaultMessage:"Enroll a new Beat"}))),react_2.default.createElement(eui_1.EuiModalBody,null,react_2.default.createElement(enroll_beats_1.EnrollBeat,{frameworkBasePath:_this.props.libs.framework.info.basePath,enrollmentToken:_this.props.urlState.enrollmentToken,getBeatWithToken:_this.props.containers.beats.getBeatWithToken,createEnrollmentToken:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var enrollmentToken;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.props.libs.tokens.createEnrollmentToken();case 2:enrollmentToken=_context2.sent;_this.props.setUrlState({enrollmentToken:enrollmentToken});case 4:case"end":return _context2.stop()}}},_callee2,_this2)}));function createEnrollmentToken(){return _ref2.apply(this,arguments)}return createEnrollmentToken}(),onBeatEnrolled:function onBeatEnrolled(){_this.props.setUrlState({enrollmentToken:""})}}),!_this.props.urlState.enrollmentToken&&react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(eui_1.EuiButton,{size:"s",color:"primary",style:{marginLeft:10},onClick:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this.props.goTo("/overview/enrolled_beats");case 1:case"end":return _context3.stop()}}},_callee3,_this2)}));function onClick(){return _ref3.apply(this,arguments)}return onClick}()},"Done"))))))};_this.notifyBeatDisenrolled=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(beats){var intl,title,text;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:intl=_this.props.intl;title=void 0;text=void 0;if(beats.length===1){title=intl.formatMessage({id:"xpack.beatsManagement.beats.beatDisenrolledNotificationTitle",defaultMessage:"{firstBeatNameOrId} disenrolled"},{firstBeatNameOrId:'"'+(beats[0].name||beats[0].id)+'"'});text=intl.formatMessage({id:"xpack.beatsManagement.beats.beatDisenrolledNotificationDescription",defaultMessage:"Beat with ID {firstBeatId} was disenrolled."},{firstBeatId:'"'+beats[0].id+'"'})}else{title=intl.formatMessage({id:"xpack.beatsManagement.beats.disenrolledBeatsNotificationTitle",defaultMessage:"{beatsLength} beats disenrolled"},{beatsLength:beats.length})}_this.setState({notifications:_this.state.notifications.concat({color:"warning",id:"disenroll_"+new Date,title:title,text:text})});case 5:case"end":return _context4.stop()}}},_callee4,_this2)}));return function(_x){return _ref4.apply(this,arguments)}}();_this.notifyUpdatedTagAssociation=function(action,beats,tag){var intl=_this.props.intl;var notificationMessage=action==="removed"?intl.formatMessage({id:"xpack.beatsManagement.beats.removedNotificationDescription",defaultMessage:"Removed tag {tag} from {assignmentsLength, plural, one {beat {beatName}} other {# beats}}."},{tag:'"'+tag+'"',assignmentsLength:beats.length,beatName:'"'+(beats[0].name||beats[0].id)+'"'}):intl.formatMessage({id:"xpack.beatsManagement.beats.addedNotificationDescription",defaultMessage:"Added tag {tag} to {assignmentsLength, plural, one {beat {beatName}} other {# beats}}."},{tag:'"'+tag+'"',assignmentsLength:beats.length,beatName:'"'+(beats[0].name||beats[0].id)+'"'});var notificationTitle=action==="removed"?intl.formatMessage({id:"xpack.beatsManagement.beats.removedNotificationTitle",defaultMessage:"{assignmentsLength, plural, one {Tag} other {Tags}} removed"},{assignmentsLength:beats.length}):intl.formatMessage({id:"xpack.beatsManagement.beats.addedNotificationTitle",defaultMessage:"{assignmentsLength, plural, one {Tag} other {Tags}} added"},{assignmentsLength:beats.length});_this.setState({notifications:_this.state.notifications.concat({color:"success",id:"tag-"+moment_1.default.now(),text:react_2.default.createElement("p",null,notificationMessage),title:notificationTitle})})};_this.getSelectedBeats=function(){if(!_this.tableRef.current){return[]}var selectedIds=_this.tableRef.current.state.selection.map(function(beat){return beat.id});var beats=[];selectedIds.forEach(function(id){var beat=_this.props.containers.beats.state.list.find(function(b){return b.id===id});if(beat){beats.push(beat)}});return beats};_this.filterTags=function(tags){return _this.selectedBeatConfigsRequireUniqueness()?tags.map(_this.disableTagForUniquenessEnforcement):tags};_this.configBlocksRequireUniqueness=function(configurationBlocks){return lodash_1.intersection(constants_1.UNIQUENESS_ENFORCING_TYPES,configurationBlocks.map(function(block){return block.type})).length!==0};_this.disableTagForUniquenessEnforcement=function(tag){return _this.configBlocksRequireUniqueness(tag.configuration_blocks)&&!_this.getSelectedBeats().some(function(beat){return beat.full_tags.some(function(_ref5){var id=_ref5.id;return id===tag.id})})?_extends({},tag,{disabled:true}):tag};_this.selectedBeatConfigsRequireUniqueness=function(){return lodash_1.flatten(_this.getSelectedBeats().map(function(_ref6){var full_tags=_ref6.full_tags;return full_tags})).map(function(tag){return _this.configBlocksRequireUniqueness(tag?tag.configuration_blocks:[])}).reduce(function(acc,cur){return acc||cur},false)};_this.state={notifications:[],tags:null};if(props.urlState.beatsKBar){props.containers.beats.reload(props.urlState.beatsKBar)}props.renderAction(_this.renderActionArea);return _this}_createClass(BeatsPageComponent,[{key:"render",value:function render(){var _this3=this;return react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(breadcrumb_1.Breadcrumb,{title:i18n_1.i18n.translate("xpack.beatsManagement.breadcrumb.enrolledBeats",{defaultMessage:"Enrolled Beats"}),path:"/overview/enrolled_beats"}),react_2.default.createElement(with_kuery_autocompletion_1.WithKueryAutocompletion,{libs:this.props.libs,fieldPrefix:"beat"},function(autocompleteProps){return react_2.default.createElement(table_1.Table,{kueryBarProps:_extends({},autocompleteProps,{filterQueryDraft:"false",isValid:_this3.props.libs.elasticsearch.isKueryValid(_this3.props.urlState.beatsKBar||""),onChange:function onChange(value){_this3.props.setUrlState({beatsKBar:value});_this3.props.containers.beats.reload(_this3.props.urlState.beatsKBar)},onSubmit:function onSubmit(){return null},value:_this3.props.urlState.beatsKBar||""}),actions:action_schema_1.beatsListActions,actionData:{tags:_this3.filterTags(_this3.props.containers.tags.state.list)},actionHandler:function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(action,payload){var status;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.t0=action;_context5.next=_context5.t0===table_2.AssignmentActionType.Assign?3:_context5.t0===table_2.AssignmentActionType.Delete?8:_context5.t0===table_2.AssignmentActionType.Reload?11:13;break;case 3:_context5.next=5;return _this3.props.containers.beats.toggleTagAssignment(payload,_this3.getSelectedBeats());case 5:status=_context5.sent;_this3.notifyUpdatedTagAssociation(status,_this3.getSelectedBeats(),payload);return _context5.abrupt("break",13);case 8:_this3.props.containers.beats.deactivate(_this3.getSelectedBeats());_this3.notifyBeatDisenrolled(_this3.getSelectedBeats());return _context5.abrupt("break",13);case 11:_this3.props.containers.tags.reload();return _context5.abrupt("break",13);case 13:case"end":return _context5.stop()}}},_callee5,_this3)}));function actionHandler(_x2,_x3){return _ref7.apply(this,arguments)}return actionHandler}(),items:lodash_1.sortBy(_this3.props.containers.beats.state.list,"id")||[],ref:_this3.tableRef,type:table_1.BeatsTableType})}),react_2.default.createElement(eui_1.EuiGlobalToastList,{toasts:this.state.notifications,dismissToast:function dismissToast(){return _this3.setState({notifications:[]})},toastLifeTimeMs:5e3}))}}]);return BeatsPageComponent}(react_2.default.PureComponent);exports.BeatsPage=react_1.injectI18n(BeatsPageComponent)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var unstated_1=__webpack_require__(592);var primary_1=__webpack_require__(778);var child_routes_1=__webpack_require__(532);var beats_1=__webpack_require__(1263);var tags_1=__webpack_require__(1264);var with_url_state_1=__webpack_require__(1266);var MainPageComponent=function(_react_2$default$Pure){_inherits(MainPageComponent,_react_2$default$Pure);function MainPageComponent(props){_classCallCheck(this,MainPageComponent);var _this=_possibleConstructorReturn(this,(MainPageComponent.__proto__||Object.getPrototypeOf(MainPageComponent)).call(this,props));_this.onTabClicked=function(path){return function(){_this.props.goTo(path)}};_this.state={loadedBeatsAtLeastOnce:false,beats:[]};return _this}_createClass(MainPageComponent,[{key:"render",value:function render(){var _this2=this;return react_2.default.createElement(primary_1.PrimaryLayout,{title:"Beats",hideBreadcrumbs:this.props.libs.framework.info.k7Design},function(renderAction){return react_2.default.createElement(unstated_1.Subscribe,{to:[beats_1.BeatsContainer,tags_1.TagsContainer]},function(beats,tags){return react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(eui_1.EuiTabs,null,react_2.default.createElement(eui_1.EuiTab,{isSelected:"/overview/enrolled_beats"===_this2.props.history.location.pathname,onClick:_this2.onTabClicked("/overview/enrolled_beats")},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.beats.enrolledBeatsTabTitle",defaultMessage:"Enrolled Beats"})),react_2.default.createElement(eui_1.EuiTab,{isSelected:"/overview/configuration_tags"===_this2.props.history.location.pathname,onClick:_this2.onTabClicked("/overview/configuration_tags")},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.beats.configurationTagsTabTitle",defaultMessage:"Configuration tags"}))),react_2.default.createElement(child_routes_1.ChildRoutes,Object.assign({routes:_this2.props.routes,renderAction:renderAction},_this2.props,{beatsContainer:beats,tagsContainer:tags})))})})}}]);return MainPageComponent}(react_2.default.PureComponent);exports.MainPage=with_url_state_1.withUrlState(MainPageComponent)},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var eui_theme_k6_light_json_1=tslib_1.__importDefault(__webpack_require__(507));var react_1=__webpack_require__(3);__webpack_require__(1290);__webpack_require__(488);var lodash_1=__webpack_require__(1);var react_2=tslib_1.__importDefault(__webpack_require__(0));var constants_1=__webpack_require__(283);var primary_1=__webpack_require__(778);var tag_1=__webpack_require__(775);var TagPageComponent=function(_react_2$default$Pure){_inherits(TagPageComponent,_react_2$default$Pure);function TagPageComponent(props){var _this2=this;_classCallCheck(this,TagPageComponent);var _this=_possibleConstructorReturn(this,(TagPageComponent.__proto__||Object.getPrototypeOf(TagPageComponent)).call(this,props));_this.mode="create";_this.loadTag=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var tags;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.libs.tags.getTagsWithIds([_this.props.match.params.tagid]);case 2:tags=_context.sent;if(tags.length===0){}_this.setState({tag:tags[0]});case 5:case"end":return _context.stop()}}},_callee,_this2)}));_this.loadAttachedBeats=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var beats;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.props.libs.beats.getBeatsWithTag(_this.props.match.params.tagid);case 2:beats=_context2.sent;_this.setState({attachedBeats:beats});case 4:case"end":return _context2.stop()}}},_callee2,_this2)}));_this.saveTag=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.props.containers.tags.upsertTag(_this.state.tag);case 2:_this.props.goTo("/overview/configuration_tags");case 3:case"end":return _context3.stop()}}},_callee3,_this2)}));_this.getNumExclusiveConfigurationBlocks=function(){return _this.state.tag.configuration_blocks.map(function(_ref4){var type=_ref4.type;return constants_1.UNIQUENESS_ENFORCING_TYPES.some(function(uniqueType){return uniqueType===type})}).reduce(function(acc,cur){return cur?acc+1:acc},0)};var randomColor=lodash_1.sample(Object.keys(eui_theme_k6_light_json_1.default).filter(function(key){return key.startsWith("euiColorVis")}).map(function(key){return eui_theme_k6_light_json_1.default[key]}));_this.state={showFlyout:false,attachedBeats:null,tag:{id:props.match.params.action==="create"?"":props.match.params.tagid,color:_this.rgb2hex(randomColor),configuration_blocks:[],last_updated:new Date}};if(props.match.params.action!=="create"){_this.mode="edit";_this.loadTag();_this.loadAttachedBeats()}return _this}_createClass(TagPageComponent,[{key:"render",value:function render(){var _this3=this;var intl=this.props.intl;return react_2.default.createElement(primary_1.PrimaryLayout,{title:this.mode==="create"?intl.formatMessage({id:"xpack.beatsManagement.tag.createTagTitle",defaultMessage:"Create Tag"}):intl.formatMessage({id:"xpack.beatsManagement.tag.updateTagTitle",defaultMessage:"Update Tag: {tagId}"},{tagId:this.state.tag.id})},react_2.default.createElement("div",null,react_2.default.createElement(tag_1.TagEdit,{tag:this.state.tag,onDetachBeat:this.mode==="edit"?function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(beatIds){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _this3.props.containers.beats.removeTagsFromBeats(beatIds,_this3.state.tag.id);case 2:_context4.next=4;return _this3.loadAttachedBeats();case 4:case"end":return _context4.stop()}}},_callee4,_this3)}));return function(_x){return _ref5.apply(this,arguments)}}():undefined,onTagChange:function onTagChange(field,value){return _this3.setState(function(oldState){return{tag:_extends({},oldState.tag,_defineProperty({},field,value))}})},attachedBeats:this.state.attachedBeats}),react_2.default.createElement(eui_1.EuiSpacer,{size:"m"}),react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiButton,{fill:true,disabled:this.state.tag.id.search(/^[a-zA-Z0-9-]+$/)===-1||this.state.tag.id===""||this.getNumExclusiveConfigurationBlocks()>1,onClick:this.saveTag},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tag.saveButtonLabel",defaultMessage:"Save"}))),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiButtonEmpty,{onClick:function onClick(){return _this3.props.goTo("/overview/configuration_tags")}},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.tag.cancelButtonLabel",defaultMessage:"Cancel"}))))))}},{key:"rgb2hex",value:function rgb2hex(rgb){var matchedrgb=rgb.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return matchedrgb&&matchedrgb.length===4?"#"+("0"+parseInt(matchedrgb[1],10).toString(16)).slice(-2)+("0"+parseInt(matchedrgb[2],10).toString(16)).slice(-2)+("0"+parseInt(matchedrgb[3],10).toString(16)).slice(-2):""}}]);return TagPageComponent}(react_2.default.PureComponent);exports.TagPage=react_1.injectI18n(TagPageComponent)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var enroll_beats_1=__webpack_require__(1271);var BeatsInitialEnrollmentPage=function(_react_1$Component){_inherits(BeatsInitialEnrollmentPage,_react_1$Component);function BeatsInitialEnrollmentPage(props){var _this2=this;_classCallCheck(this,BeatsInitialEnrollmentPage);var _this=_possibleConstructorReturn(this,(BeatsInitialEnrollmentPage.__proto__||Object.getPrototypeOf(BeatsInitialEnrollmentPage)).call(this,props));_this.onBeatEnrolled=function(){_this.setState({readyToContinue:true})};_this.createEnrollmentToken=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var enrollmentToken;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.libs.tokens.createEnrollmentToken();case 2:enrollmentToken=_context.sent;_this.props.setUrlState({enrollmentToken:enrollmentToken});case 4:case"end":return _context.stop()}}},_callee,_this2)}));_this.state={readyToContinue:false};return _this}_createClass(BeatsInitialEnrollmentPage,[{key:"render",value:function render(){var _this3=this;return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(enroll_beats_1.EnrollBeat,{frameworkBasePath:this.props.libs.framework.info.basePath,enrollmentToken:this.props.urlState.enrollmentToken||"",getBeatWithToken:this.props.libs.beats.getBeatWithToken,createEnrollmentToken:this.createEnrollmentToken,onBeatEnrolled:this.onBeatEnrolled}),this.state.readyToContinue&&react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(eui_1.EuiButton,{size:"s",color:"primary",style:{marginLeft:10},onClick:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this3.props.goTo("/walkthrough/initial/tag");case 1:case"end":return _context2.stop()}}},_callee2,_this3)}));function onClick(){return _ref2.apply(this,arguments)}return onClick}()},"Continue")))}}]);return BeatsInitialEnrollmentPage}(react_1.Component);exports.BeatsInitialEnrollmentPage=BeatsInitialEnrollmentPage},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var FinishWalkthrough=function(_react_2$default$Comp){_inherits(FinishWalkthrough,_react_2$default$Comp);function FinishWalkthrough(props){var _this2=this;_classCallCheck(this,FinishWalkthrough);var _this=_possibleConstructorReturn(this,(FinishWalkthrough.__proto__||Object.getPrototypeOf(FinishWalkthrough)).call(this,props));_this.assignTagToBeat=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var intl,beat;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:intl=_this.props.intl;if(_this.props.urlState.enrollmentToken){_context.next=3;break}return _context.abrupt("return",alert(intl.formatMessage({id:"xpack.beatsManagement.enrollBeat.assignTagToBeatInvalidURLNoTokenFountTitle",defaultMessage:"Invalid URL, no enrollmentToken found"})));case 3:if(_this.props.urlState.createdTag){_context.next=5;break}return _context.abrupt("return",alert(intl.formatMessage({id:"xpack.beatsManagement.enrollBeat.assignTagToBeatInvalidURLNoTagFoundTitle",defaultMessage:"Invalid URL, no createdTag found"})));case 5:_context.next=7;return _this.props.libs.beats.getBeatWithToken(_this.props.urlState.enrollmentToken);case 7:beat=_context.sent;if(beat){_context.next=10;break}return _context.abrupt("return",alert(intl.formatMessage({id:"xpack.beatsManagement.enrollBeat.assignTagToBeatNotEnrolledProperlyTitle",defaultMessage:"Error: Beat not enrolled properly"})));case 10:_context.next=12;return _this.props.containers.beats.assignTagsToBeats([beat],_this.props.urlState.createdTag);case 12:_this.props.setUrlState({createdTag:"",enrollmentToken:""});return _context.abrupt("return",true);case 14:case"end":return _context.stop()}}},_callee,_this2)}));_this.state={assigned:false};return _this}_createClass(FinishWalkthrough,[{key:"componentDidMount",value:function componentDidMount(){var _this3=this;setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var done;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this3.assignTagToBeat();case 2:done=_context2.sent;if(done){_this3.setState({assigned:true})}case 4:case"end":return _context2.stop()}}},_callee2,_this3)})),300)}},{key:"render",value:function render(){var _this4=this;var goTo=this.props.goTo;return react_2.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"spaceAround",style:{marginTop:50}},react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiPageContent,null,react_2.default.createElement(eui_1.EuiEmptyPrompt,{iconType:"logoBeats",title:react_2.default.createElement("h2",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.enrollBeat.nextStepTitle",defaultMessage:"Your Beat is enrolled. What's next?"})),body:react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.enrollBeat.nextStepDescription",defaultMessage:"Start your Beat to check for configuration errors, then click Done."}))),actions:react_2.default.createElement(eui_1.EuiButton,{fill:true,disabled:!this.state.assigned,onClick:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:goTo("/overview/enrolled_beats");case 1:case"end":return _context3.stop()}}},_callee3,_this4)}));function onClick(){return _ref3.apply(this,arguments)}return onClick}()},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.enrollBeat.firstBeatEnrollingDoneButtonLabel",defaultMessage:"Done"}))}))))}}]);return FinishWalkthrough}(react_2.default.Component);exports.FinishWalkthroughPage=react_1.injectI18n(FinishWalkthrough)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var no_data_1=__webpack_require__(534);var walkthrough_1=__webpack_require__(3882);var child_routes_1=__webpack_require__(532);var connected_link_1=__webpack_require__(774);var InitialWalkthroughPageComponent=function(_react_2$Component){_inherits(InitialWalkthroughPageComponent,_react_2$Component);function InitialWalkthroughPageComponent(){_classCallCheck(this,InitialWalkthroughPageComponent);return _possibleConstructorReturn(this,(InitialWalkthroughPageComponent.__proto__||Object.getPrototypeOf(InitialWalkthroughPageComponent)).apply(this,arguments))}_createClass(InitialWalkthroughPageComponent,[{key:"render",value:function render(){var intl=this.props.intl;if(this.props.location.pathname==="/walkthrough/initial"){return react_2.default.createElement(no_data_1.NoDataLayout,{title:"Beats central management",actionSection:react_2.default.createElement(connected_link_1.ConnectedLink,{path:"/walkthrough/initial/beat"},react_2.default.createElement(eui_1.EuiButton,{color:"primary",fill:true},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.enrollBeat.enrollBeatButtonLabel",defaultMessage:"Enroll Beat"})," "))},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.enrollBeat.beatsCentralManagementDescription",defaultMessage:"Manage your configurations in a central location."})))}return react_2.default.createElement(walkthrough_1.WalkthroughLayout,{title:intl.formatMessage({id:"xpack.beatsManagement.enrollBeat.getStartedBeatsCentralManagementTitle",defaultMessage:"Get started with Beats central management"}),walkthroughSteps:[{id:"/walkthrough/initial/beat",name:intl.formatMessage({id:"xpack.beatsManagement.enrollBeat.enrollBeatStepLabel",defaultMessage:"Enroll Beat"})},{id:"/walkthrough/initial/tag",name:intl.formatMessage({id:"xpack.beatsManagement.enrollBeat.createTagStepLabel",defaultMessage:"Create tag"})},{id:"/walkthrough/initial/finish",name:intl.formatMessage({id:"xpack.beatsManagement.enrollBeat.finishStepLabel",defaultMessage:"Finish"})}],goTo:function goTo(){},activePath:this.props.location.pathname},react_2.default.createElement(child_routes_1.ChildRoutes,Object.assign({routes:this.props.routes},this.props)))}}]);return InitialWalkthroughPageComponent}(react_2.Component);exports.InitialWalkthroughPage=react_1.injectI18n(InitialWalkthroughPageComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);exports.WalkthroughLayout=function(_ref){var walkthroughSteps=_ref.walkthroughSteps,title=_ref.title,activePath=_ref.activePath,goTo=_ref.goTo,children=_ref.children;var indexOfCurrent=walkthroughSteps.findIndex(function(step){return activePath===step.id});return react_1.default.createElement(eui_1.EuiPage,null,react_1.default.createElement(eui_1.EuiPageBody,null,react_1.default.createElement(eui_1.EuiPageContent,null,react_1.default.createElement(eui_1.EuiTitle,null,react_1.default.createElement("h1",{style:{textAlign:"center"}},title)),react_1.default.createElement("br",null),react_1.default.createElement("br",null),react_1.default.createElement(eui_1.EuiStepsHorizontal,{steps:walkthroughSteps.map(function(step,i){return{title:step.name,isComplete:i<=indexOfCurrent,onClick:function onClick(){return goTo(step.id)}}})}),react_1.default.createElement("br",null),react_1.default.createElement("br",null),react_1.default.createElement(eui_1.EuiPageContentBody,null,children))))}},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var i18n_1=__webpack_require__(9);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var tag_edit_1=__webpack_require__(1267);var InitialTagPage=function(_react_2$Component){_inherits(InitialTagPage,_react_2$Component);function InitialTagPage(props){var _this2=this;_classCallCheck(this,InitialTagPage);var _this=_possibleConstructorReturn(this,(InitialTagPage.__proto__||Object.getPrototypeOf(InitialTagPage)).call(this,props));_this.loadTag=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var tags;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.libs.tags.getTagsWithIds([_this.state.tag.id]);case 2:tags=_context.sent;if(tags.length>0){_this.setState({tag:tags[0]})}case 4:case"end":return _context.stop()}}},_callee,_this2)}));_this.saveTag=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var newTag;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.props.libs.tags.upsertTag(_this.state.tag);case 2:newTag=_context2.sent;if(newTag){_context2.next=5;break}return _context2.abrupt("return",alert(i18n_1.i18n.translate("xpack.beatsManagement.createTag.errorSavingTagTitle",{defaultMessage:"error saving tag"})));case 5:_this.props.setUrlState({createdTag:newTag.id});_this.props.goTo("/walkthrough/initial/finish");case 7:case"end":return _context2.stop()}}},_callee2,_this2)}));_this.state={tag:{id:props.urlState.createdTag?props.urlState.createdTag:"",color:"#DD0A73",configuration_blocks:[],last_updated:new Date}};if(props.urlState.createdTag){_this.loadTag()}return _this}_createClass(InitialTagPage,[{key:"render",value:function render(){var _this3=this;return react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(tag_edit_1.TagEdit,{tag:this.state.tag,onTagChange:function onTagChange(field,value){return _this3.setState(function(oldState){return{tag:_extends({},oldState.tag,_defineProperty({},field,value))}})}}),react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiButton,{fill:true,disabled:this.state.tag.id.search(/^[a-zA-Z0-9-]+$/)===-1||this.state.tag.id===""||this.state.tag.configuration_blocks.length===0,onClick:this.saveTag},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.beatsManagement.createTag.saveAndContinueButtonLabel",defaultMessage:"Save & Continue"})))))}}]);return InitialTagPage}(react_2.Component);exports.InitialTagPage=InitialTagPage},function(module,exports,__webpack_require__){"use strict";__webpack_require__(3885);__webpack_require__(3888)},function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(24);var _i18n=__webpack_require__(9);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(284);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}if(_chrome2.default.getInjected("ccrUiEnabled")){var esSection=_management.management.getSection("elasticsearch");esSection.register("ccr",{visible:true,display:_i18n.i18n.translate("xpack.crossClusterReplication.appTitle",{defaultMessage:"Cross Cluster Replication"}),order:3,url:"#"+_constants.BASE_PATH})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var PLUGIN=exports.PLUGIN={ID:"cross_cluster_replication"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var APPS=exports.APPS={CCR_APP:"ccr",REMOTE_CLUSTER_APP:"remote_cluster"}},function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _reactDom=__webpack_require__(15);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _main=__webpack_require__(3889);var _main2=_interopRequireDefault(_main);var _base_path=__webpack_require__(1272);var _app=__webpack_require__(3890);var _api=__webpack_require__(535);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}if(_chrome2.default.getInjected("ccrUiEnabled")){var elem=void 0;var CCR_REACT_ROOT="ccrReactRoot";var unmountReactApp=function unmountReactApp(){return elem&&(0,_reactDom.unmountComponentAtNode)(elem)};_routes2.default.when(_base_path.BASE_PATH+"/:section?/:view?/:id?",{template:_main2.default,controllerAs:"ccr",controller:function CrossClusterReplicationController($scope,$route,$http){_classCallCheck(this,CrossClusterReplicationController);unmountReactApp();(0,_api.setHttpClient)($http);$scope.$$postDigest(function(){elem=document.getElementById(CCR_REACT_ROOT);(0,_app.renderReact)(elem);var appRoute=$route.current;var stopListeningForLocationChange=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;var isNavigationInApp=currentRoute.$$route.template===appRoute.$$route.template;if(isNavigationInApp){$route.current=appRoute}else{}$scope.$on("$destroy",function(){stopListeningForLocationChange&&stopListeningForLocationChange();unmountReactApp()})})})}})}},function(module,exports){module.exports='<kbn-management-app section="elasticsearch/ccr">\n  <div id="ccrReactRoot"></div>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.renderReact=undefined;var _react=__webpack_require__(3);var _react2=__webpack_require__(0);var _react3=_interopRequireDefault(_react2);var _reactDom=__webpack_require__(15);var _reactRedux=__webpack_require__(14);var _reactRouterDom=__webpack_require__(37);var _app=__webpack_require__(3891);var _store=__webpack_require__(3930);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var renderReact=exports.renderReact=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(elem){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:(0,_reactDom.render)(_react3.default.createElement(_react.I18nProvider,null,_react3.default.createElement(_reactRedux.Provider,{store:_store.ccrStore},_react3.default.createElement(_reactRouterDom.HashRouter,null,_react3.default.createElement(_app.App,null)))),elem);case 1:case"end":return _context.stop()}}},_callee,undefined)}));return function renderReact(_x){return _ref.apply(this,arguments)}}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.App=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _reactRouterDom=__webpack_require__(37);var _routing=__webpack_require__(248);var _routing2=_interopRequireDefault(_routing);var _constants=__webpack_require__(284);var _sections=__webpack_require__(3892);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var App=exports.App=function(_Component){_inherits(App,_Component);function App(){var _ref;_classCallCheck(this,App);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var _this=_possibleConstructorReturn(this,(_ref=App.__proto__||Object.getPrototypeOf(App)).call.apply(_ref,[this].concat(args)));_this.registerRouter();return _this}_createClass(App,[{key:"componentWillMount",value:function componentWillMount(){_routing2.default.userHasLeftApp=false}},{key:"componentWillUnmount",value:function componentWillUnmount(){_routing2.default.userHasLeftApp=true}},{key:"registerRouter",value:function registerRouter(){var router=this.context.router;_routing2.default.reactRouter=router}},{key:"render",value:function render(){return _react2.default.createElement("div",null,_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Redirect,{exact:true,from:""+_constants.BASE_PATH,to:_constants.BASE_PATH+"/auto_follow_patterns"}),_react2.default.createElement(_reactRouterDom.Route,{exact:true,path:_constants.BASE_PATH+"/auto_follow_patterns/add",component:_sections.AutoFollowPatternAdd}),_react2.default.createElement(_reactRouterDom.Route,{exact:true,path:_constants.BASE_PATH+"/auto_follow_patterns/edit/:id",component:_sections.AutoFollowPatternEdit}),_react2.default.createElement(_reactRouterDom.Route,{exact:true,path:_constants.BASE_PATH+"/:section",component:_sections.CrossClusterReplicationHome})))}}]);return App}(_react.Component);App.contextTypes={router:_propTypes2.default.shape({history:_propTypes2.default.shape({push:_propTypes2.default.func.isRequired,createHref:_propTypes2.default.func.isRequired}).isRequired}).isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _home=__webpack_require__(3893);Object.defineProperty(exports,"CrossClusterReplicationHome",{enumerable:true,get:function get(){return _home.CrossClusterReplicationHome}});var _auto_follow_pattern_add=__webpack_require__(3924);Object.defineProperty(exports,"AutoFollowPatternAdd",{enumerable:true,get:function get(){return _auto_follow_pattern_add.AutoFollowPatternAdd}});var _auto_follow_pattern_edit=__webpack_require__(3927);Object.defineProperty(exports,"AutoFollowPatternEdit",{enumerable:true,get:function get(){return _auto_follow_pattern_edit.AutoFollowPatternEdit}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _home=__webpack_require__(3894);Object.defineProperty(exports,"CrossClusterReplicationHome",{enumerable:true,get:function get(){return _home.CrossClusterReplicationHome}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CrossClusterReplicationHome=undefined;var _reactRedux=__webpack_require__(14);var _constants=__webpack_require__(183);var _selectors=__webpack_require__(313);var _home=__webpack_require__(3897);var mapStateToProps=function mapStateToProps(state){return{autoFollowPatterns:(0,_selectors.getListAutoFollowPatterns)(state),isAutoFollowApiAuthorized:(0,_selectors.isApiAuthorized)(_constants.SECTIONS.AUTO_FOLLOW_PATTERN)(state)}};var CrossClusterReplicationHome=exports.CrossClusterReplicationHome=(0,_reactRedux.connect)(mapStateToProps,null)(_home.CrossClusterReplicationHome)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var API_STATUS=exports.API_STATUS={IDLE:"idle",LOADING:"loading",UPDATING:"updating",SAVING:"saving",DELETING:"deleting"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var SECTIONS=exports.SECTIONS={AUTO_FOLLOW_PATTERN:"autoFollowPattern",INDEX_FOLLOWER:"indexFollower",REMOTE_CLUSTER:"remoteCluster",CCR_STATS:"ccrStats"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CrossClusterReplicationHome=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _class,_temp2;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _reactRouterDom=__webpack_require__(37);var _react3=__webpack_require__(3);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _management=__webpack_require__(24);var _constants=__webpack_require__(284);var _eui=__webpack_require__(2);var _breadcrumbs=__webpack_require__(779);var _routing=__webpack_require__(248);var _routing2=_interopRequireDefault(_routing);var _auto_follow_pattern_list=__webpack_require__(3898);var _components=__webpack_require__(315);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CrossClusterReplicationHome=exports.CrossClusterReplicationHome=(0,_react3.injectI18n)((_temp2=_class=function(_PureComponent){_inherits(_class,_PureComponent);function _class(){var _ref;var _temp,_this,_ret;_classCallCheck(this,_class);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=_class.__proto__||Object.getPrototypeOf(_class)).call.apply(_ref,[this].concat(args))),_this),_this.state={sectionActive:"auto-follow"},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(_class,[{key:"componentDidMount",value:function componentDidMount(){_chrome2.default.breadcrumbs.set([_management.MANAGEMENT_BREADCRUMB,_breadcrumbs.listBreadcrumb])}},{key:"getHeaderSection",value:function getHeaderSection(){var _props=this.props,isAutoFollowApiAuthorized=_props.isAutoFollowApiAuthorized,autoFollowPatterns=_props.autoFollowPatterns;if(isAutoFollowApiAuthorized&&!autoFollowPatterns.length){return null}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.crossClusterReplicationTitle",defaultMessage:"Cross Cluster Replication"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"m"},_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.autoFollowPatternsTitle",defaultMessage:"Auto-follow patterns"}))),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.autoFollowPatternsDescription",defaultMessage:"Auto-follow patterns replicate leader indices from a remote cluster to follower indices on the local cluster."})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},isAutoFollowApiAuthorized&&_react2.default.createElement(_eui.EuiButton,_extends({},_routing2.default.getRouterLinkProps("/auto_follow_patterns/add"),{fill:true}),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.addAutofollowPatternButtonLabel",defaultMessage:"Create an auto-follow pattern"})))),_react2.default.createElement(_eui.EuiSpacer,null))}},{key:"getUnauthorizedSection",value:function getUnauthorizedSection(){var isAutoFollowApiAuthorized=this.props.isAutoFollowApiAuthorized;if(!isAutoFollowApiAuthorized){return _react2.default.createElement(_components.SectionUnauthorized,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.noPermissionText",defaultMessage:"You do not have permission to view or add auto-follow patterns."}))}}},{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,this.getHeaderSection(),this.getUnauthorizedSection(),_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Route,{exact:true,path:_constants.BASE_PATH+"/auto_follow_patterns",component:_auto_follow_pattern_list.AutoFollowPatternList})))))}}]);return _class}(_react.PureComponent),_class.propTypes={autoFollowPatterns:_propTypes2.default.array},_temp2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _auto_follow_pattern_list=__webpack_require__(3899);Object.defineProperty(exports,"AutoFollowPatternList",{enumerable:true,get:function get(){return _auto_follow_pattern_list.AutoFollowPatternList}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutoFollowPatternList=undefined;var _reactRedux=__webpack_require__(14);var _constants=__webpack_require__(183);var _selectors=__webpack_require__(313);var _actions=__webpack_require__(314);var _auto_follow_pattern_list=__webpack_require__(3902);var scope=_constants.SECTIONS.AUTO_FOLLOW_PATTERN;var mapStateToProps=function mapStateToProps(state){return{autoFollowPatterns:(0,_selectors.getListAutoFollowPatterns)(state),apiStatus:(0,_selectors.getApiStatus)(scope)(state),apiError:(0,_selectors.getApiError)(scope)(state),isAuthorized:(0,_selectors.isApiAuthorized)(scope)(state),isDetailPanelOpen:(0,_selectors.isAutoFollowPatternDetailPanelOpen)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{loadAutoFollowPatterns:function loadAutoFollowPatterns(inBackground){return dispatch((0,_actions.loadAutoFollowPatterns)(inBackground))},openDetailPanel:function openDetailPanel(name){dispatch((0,_actions.openAutoFollowPatternDetailPanel)(name))},closeDetailPanel:function closeDetailPanel(){dispatch((0,_actions.closeAutoFollowPatternDetailPanel)())},loadAutoFollowStats:function loadAutoFollowStats(){return dispatch((0,_actions.loadAutoFollowStats)())}}};var AutoFollowPatternList=exports.AutoFollowPatternList=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_auto_follow_pattern_list.AutoFollowPatternList)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.deleteAutoFollowPattern=exports.saveAutoFollowPattern=exports.getAutoFollowPattern=exports.loadAutoFollowPatterns=exports.closeAutoFollowPatternDetailPanel=exports.openAutoFollowPatternDetailPanel=exports.editAutoFollowPattern=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _i18n=__webpack_require__(9);var _notify=__webpack_require__(10);var _constants=__webpack_require__(183);var _api=__webpack_require__(535);var _routing=__webpack_require__(248);var _routing2=_interopRequireDefault(_routing);var _action_types=__webpack_require__(285);var t=_interopRequireWildcard(_action_types);var _api2=__webpack_require__(536);var _selectors=__webpack_require__(313);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var scope=_constants.SECTIONS.AUTO_FOLLOW_PATTERN;var editAutoFollowPattern=exports.editAutoFollowPattern=function editAutoFollowPattern(name){return{type:t.AUTO_FOLLOW_PATTERN_EDIT,payload:name}};var openAutoFollowPatternDetailPanel=exports.openAutoFollowPatternDetailPanel=function openAutoFollowPatternDetailPanel(name){return{type:t.AUTO_FOLLOW_PATTERN_DETAIL_PANEL,payload:name}};var closeAutoFollowPatternDetailPanel=exports.closeAutoFollowPatternDetailPanel=function closeAutoFollowPatternDetailPanel(){return{type:t.AUTO_FOLLOW_PATTERN_DETAIL_PANEL,payload:null}};var loadAutoFollowPatterns=exports.loadAutoFollowPatterns=function loadAutoFollowPatterns(){var isUpdating=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return(0,_api2.sendApiRequest)({label:t.AUTO_FOLLOW_PATTERN_LOAD,scope:scope,status:isUpdating?_constants.API_STATUS.UPDATING:_constants.API_STATUS.LOADING,handler:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_api.loadAutoFollowPatterns)();case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}},_callee,undefined)}));function handler(){return _ref.apply(this,arguments)}return handler}()})};var getAutoFollowPattern=exports.getAutoFollowPattern=function getAutoFollowPattern(id){return(0,_api2.sendApiRequest)({label:t.AUTO_FOLLOW_PATTERN_GET,scope:scope,handler:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(dispatch){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",(0,_api.getAutoFollowPattern)(id).then(function(response){dispatch(editAutoFollowPattern(id));return response}));case 1:case"end":return _context2.stop()}}},_callee2,undefined)}));function handler(_x2){return _ref2.apply(this,arguments)}return handler}()})};var saveAutoFollowPattern=exports.saveAutoFollowPattern=function saveAutoFollowPattern(id,autoFollowPattern){var isUpdating=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return(0,_api2.sendApiRequest)({label:isUpdating?t.AUTO_FOLLOW_PATTERN_UPDATE:t.AUTO_FOLLOW_PATTERN_CREATE,status:_constants.API_STATUS.SAVING,scope:scope,handler:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!isUpdating){_context3.next=4;break}_context3.next=3;return(0,_api.updateAutoFollowPattern)(id,autoFollowPattern);case 3:return _context3.abrupt("return",_context3.sent);case 4:_context3.next=6;return(0,_api.createAutoFollowPattern)(_extends({id:id},autoFollowPattern));case 6:return _context3.abrupt("return",_context3.sent);case 7:case"end":return _context3.stop()}}},_callee3,undefined)}));function handler(){return _ref3.apply(this,arguments)}return handler}(),onSuccess:function onSuccess(){var successMessage=isUpdating?_i18n.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.addAction.successMultipleNotificationTitle",{defaultMessage:"Auto-follow pattern '{name}' updated successfully",values:{name:id}}):_i18n.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.addAction.successSingleNotificationTitle",{defaultMessage:"Added auto-follow pattern '{name}'",values:{name:id}});_notify.toastNotifications.addSuccess(successMessage);_routing2.default.navigate("/auto_follow_patterns",undefined,{pattern:encodeURIComponent(id)})}})};var deleteAutoFollowPattern=exports.deleteAutoFollowPattern=function deleteAutoFollowPattern(id){return(0,_api2.sendApiRequest)({label:t.AUTO_FOLLOW_PATTERN_DELETE,scope:scope+"-delete",status:_constants.API_STATUS.DELETING,handler:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",(0,_api.deleteAutoFollowPattern)(id));case 1:case"end":return _context4.stop()}}},_callee4,undefined)}));function handler(){return _ref4.apply(this,arguments)}return handler}(),onSuccess:function onSuccess(response,dispatch,getState){if(response.errors.length){var hasMultipleErrors=response.errors.length>1;var errorMessage=hasMultipleErrors?_i18n.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.errorMultipleNotificationTitle",{defaultMessage:"Error removing {count} auto-follow patterns",values:{count:response.errors.length}}):_i18n.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.errorSingleNotificationTitle",{defaultMessage:"Error removing the '{name}' auto-follow pattern",values:{name:response.errors[0].id}});_notify.toastNotifications.addDanger(errorMessage)}if(response.itemsDeleted.length){var hasMultipleDelete=response.itemsDeleted.length>1;var successMessage=hasMultipleDelete?_i18n.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.successMultipleNotificationTitle",{defaultMessage:"{count} auto-follow patterns were removed",values:{count:response.itemsDeleted.length}}):_i18n.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.successSingleNotificationTitle",{defaultMessage:"Auto-follow pattern '{name}' was removed",values:{name:response.itemsDeleted[0]}});_notify.toastNotifications.addSuccess(successMessage)}var detailPanelAutoFollowPatternName=(0,_selectors.getDetailPanelAutoFollowPatternName)(getState());if(detailPanelAutoFollowPatternName&&response.itemsDeleted.includes(detailPanelAutoFollowPatternName)){dispatch(closeAutoFollowPatternDetailPanel())}}})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadAutoFollowStats=undefined;var _constants=__webpack_require__(183);var _api=__webpack_require__(535);var _action_types=__webpack_require__(285);var t=_interopRequireWildcard(_action_types);var _api2=__webpack_require__(536);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var scope=_constants.SECTIONS.CCR_STATS;var loadAutoFollowStats=exports.loadAutoFollowStats=function loadAutoFollowStats(){return(0,_api2.sendApiRequest)({label:t.AUTO_FOLLOW_STATS_LOAD,scope:scope,handler:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_api.loadAutoFollowStats)();case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}},_callee,undefined)}));function handler(){return _ref.apply(this,arguments)}return handler}()})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutoFollowPatternList=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _class,_temp;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _routing=__webpack_require__(248);var _routing2=_interopRequireDefault(_routing);var _query_params=__webpack_require__(1275);var _constants=__webpack_require__(183);var _components=__webpack_require__(315);var _components2=__webpack_require__(3915);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var REFRESH_RATE_MS=3e4;var AutoFollowPatternList=exports.AutoFollowPatternList=(0,_react3.injectI18n)((_temp=_class=function(_PureComponent){_inherits(_class,_PureComponent);function _class(){_classCallCheck(this,_class);return _possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}_createClass(_class,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.props.loadAutoFollowPatterns();this.props.loadAutoFollowStats();this.interval=setInterval(function(){return _this2.props.loadAutoFollowPatterns(true)},REFRESH_RATE_MS)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.interval)}},{key:"componentDidUpdate",value:function componentDidUpdate(){var _props=this.props,openDetailPanel=_props.openDetailPanel,closeDetailPanel=_props.closeDetailPanel,isDetailPanelOpen=_props.isDetailPanelOpen,search=_props.history.location.search;var _extractQueryParams=(0,_query_params.extractQueryParams)(search),patternName=_extractQueryParams.pattern;if(patternName!=null){openDetailPanel(patternName)}else if(isDetailPanelOpen){closeDetailPanel()}}},{key:"renderEmpty",value:function renderEmpty(){return _react2.default.createElement(_eui.EuiEmptyPrompt,{iconType:"managementApp",title:_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.emptyPromptTitle",defaultMessage:"Create your first auto-follow pattern"})),body:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.emptyPromptDescription",defaultMessage:"Use an auto-follow pattern to automatically replicate indices from a remote cluster."}))),actions:_react2.default.createElement(_eui.EuiButton,_extends({},_routing2.default.getRouterLinkProps("/auto_follow_patterns/add"),{fill:true,iconType:"plusInCircle"}),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.addAutoFollowPatternButtonLabel",defaultMessage:"Create auto-follow pattern"}))})}},{key:"renderList",value:function renderList(){var _props2=this.props,autoFollowPatterns=_props2.autoFollowPatterns,apiStatus=_props2.apiStatus;if(apiStatus===_constants.API_STATUS.LOADING){return _react2.default.createElement(_components.SectionLoading,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.loadingTitle",defaultMessage:"Loading auto-follow patterns..."}))}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_components2.AutoFollowPatternTable,{autoFollowPatterns:autoFollowPatterns}),_react2.default.createElement(_components2.DetailPanel,null))}},{key:"render",value:function render(){var _props3=this.props,autoFollowPatterns=_props3.autoFollowPatterns,apiStatus=_props3.apiStatus,apiError=_props3.apiError,isAuthorized=_props3.isAuthorized,intl=_props3.intl;if(!isAuthorized){return null}if(apiStatus===_constants.API_STATUS.IDLE&&!autoFollowPatterns.length){return this.renderEmpty()}if(apiError){var title=intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternList.loadingErrorTitle",defaultMessage:"Error loading auto-follow patterns"});return _react2.default.createElement(_components.SectionError,{title:title,error:apiError})}return this.renderList()}}]);return _class}(_react.PureComponent),_class.propTypes={loadAutoFollowPatterns:_propTypes2.default.func,loadAutoFollowStats:_propTypes2.default.func,autoFollowPatterns:_propTypes2.default.array,apiStatus:_propTypes2.default.string,apiError:_propTypes2.default.object,openDetailPanel:_propTypes2.default.func.isRequired,closeDetailPanel:_propTypes2.default.func.isRequired,isDetailPanelOpen:_propTypes2.default.bool},_temp))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SectionLoading=SectionLoading;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SectionLoading(_ref){var children=_ref.children;return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},children))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SectionError=SectionError;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SectionError(_ref){var title=_ref.title,error=_ref.error;var _error$data=error.data,errorString=_error$data.error,cause=_error$data.cause,message=_error$data.message;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:title,color:"danger",iconType:"alert"},_react2.default.createElement("div",null,message||errorString),cause&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement("ul",null,cause.map(function(message,i){return _react2.default.createElement("li",{key:i},message)})))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SectionUnauthorized=undefined;exports.SectionUnauthorizedUI=SectionUnauthorizedUI;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SectionUnauthorizedUI(_ref){var intl=_ref.intl,children=_ref.children;var title=intl.formatMessage({id:"xpack.crossClusterReplication.remoteClusterList.noPermissionTitle",defaultMessage:"Permission error"});return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:title,color:"warning",iconType:"help"},children))}var SectionUnauthorized=exports.SectionUnauthorized=(0,_react3.injectI18n)(SectionUnauthorizedUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RemoteClustersProvider=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _api=__webpack_require__(535);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var RemoteClustersProvider=exports.RemoteClustersProvider=function(_PureComponent){_inherits(RemoteClustersProvider,_PureComponent);function RemoteClustersProvider(){var _ref;var _temp,_this,_ret;_classCallCheck(this,RemoteClustersProvider);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=RemoteClustersProvider.__proto__||Object.getPrototypeOf(RemoteClustersProvider)).call.apply(_ref,[this].concat(args))),_this),_this.state={isLoading:true,error:null,remoteClusters:[]},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(RemoteClustersProvider,[{key:"componentDidMount",value:function componentDidMount(){this.loadRemoteClusters()}},{key:"loadRemoteClusters",value:function loadRemoteClusters(){var _this2=this;var sortClusterByName=function sortClusterByName(remoteClusters){return remoteClusters.sort(function(a,b){if(a.name<b.name){return-1}if(a.name>b.name){return 1}return 0})};(0,_api.loadRemoteClusters)().then(function(remoteClusters){_this2.setState({isLoading:false,remoteClusters:sortClusterByName(remoteClusters)})}).catch(function(error){_this2.setState({isLoading:false,error:error})})}},{key:"render",value:function render(){var children=this.props.children;var _state=this.state,isLoading=_state.isLoading,error=_state.error,remoteClusters=_state.remoteClusters;return children({isLoading:isLoading,error:error,remoteClusters:remoteClusters})}}]);return RemoteClustersProvider}(_react.PureComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutoFollowPatternForm=exports.AutoFollowPatternFormUI=exports.updateFormErrors=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _index_patterns=__webpack_require__(217);var _indices=__webpack_require__(537);var _routing=__webpack_require__(248);var _routing2=_interopRequireDefault(_routing);var _constants=__webpack_require__(183);var _=__webpack_require__(315);var _auto_follow_pattern_validators=__webpack_require__(3910);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var indexPatternIllegalCharacters=_index_patterns.INDEX_PATTERN_ILLEGAL_CHARACTERS_VISIBLE.join(" ");var indexNameIllegalCharacters=_indices.INDEX_ILLEGAL_CHARACTERS_VISIBLE.join(" ");var getFirstConnectedCluster=function getFirstConnectedCluster(clusters){for(var i=0;i<clusters.length;i++){if(clusters[i].isConnected){return clusters[i]}}return{}};var getEmptyAutoFollowPattern=function getEmptyAutoFollowPattern(remoteClusters){return{name:"",remoteCluster:getFirstConnectedCluster(remoteClusters).name,leaderIndexPatterns:[],followIndexPatternPrefix:"",followIndexPatternSuffix:""}};var updateFormErrors=exports.updateFormErrors=function updateFormErrors(errors,existingErrors){return{fieldsErrors:_extends({},existingErrors,errors)}};var AutoFollowPatternFormUI=exports.AutoFollowPatternFormUI=function(_PureComponent){_inherits(AutoFollowPatternFormUI,_PureComponent);function AutoFollowPatternFormUI(props){_classCallCheck(this,AutoFollowPatternFormUI);var _this=_possibleConstructorReturn(this,(AutoFollowPatternFormUI.__proto__||Object.getPrototypeOf(AutoFollowPatternFormUI)).call(this,props));_initialiseProps.call(_this);var isNew=_this.props.autoFollowPattern===undefined;var autoFollowPattern=isNew?getEmptyAutoFollowPattern(_this.props.remoteClusters):_extends({},_this.props.autoFollowPattern);_this.state={autoFollowPattern:autoFollowPattern,fieldsErrors:(0,_auto_follow_pattern_validators.validateAutoFollowPattern)(autoFollowPattern),areErrorsVisible:false,isNew:isNew};return _this}_createClass(AutoFollowPatternFormUI,[{key:"isFormValid",value:function isFormValid(){return Object.values(this.state.fieldsErrors).every(function(error){return error===null})}},{key:"renderApiErrors",value:function renderApiErrors(){var _props=this.props,apiError=_props.apiError,intl=_props.intl;if(apiError){var title=intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternForm.savingErrorTitle",defaultMessage:"Error creating auto-follow pattern"});return _react2.default.createElement(_.SectionError,{title:title,error:apiError})}return null}},{key:"render",value:function render(){return _react2.default.createElement(_react.Fragment,null,this.renderApiErrors(),this.renderForm(),this.renderLoading())}}]);return AutoFollowPatternFormUI}(_react.PureComponent);AutoFollowPatternFormUI.propTypes={saveAutoFollowPattern:_propTypes2.default.func.isRequired,autoFollowPattern:_propTypes2.default.object,apiError:_propTypes2.default.object,apiStatus:_propTypes2.default.string.isRequired,remoteClusters:_propTypes2.default.array.isRequired};var _initialiseProps=function _initialiseProps(){var _this2=this;this.onFieldsChange=function(fields){_this2.setState(function(_ref){var autoFollowPattern=_ref.autoFollowPattern;return{autoFollowPattern:_extends({},autoFollowPattern,fields)}});var errors=(0,_auto_follow_pattern_validators.validateAutoFollowPattern)(fields);_this2.setState(function(_ref2){var fieldsErrors=_ref2.fieldsErrors;return updateFormErrors(errors,fieldsErrors)})};this.onClusterChange=function(remoteCluster){_this2.onFieldsChange({remoteCluster:remoteCluster})};this.onCreateLeaderIndexPattern=function(indexPattern){var error=(0,_auto_follow_pattern_validators.validateLeaderIndexPattern)(indexPattern);if(error){var errors={leaderIndexPatterns:_extends({},error,{alwaysVisible:true})};_this2.setState(function(_ref3){var fieldsErrors=_ref3.fieldsErrors;return updateFormErrors(errors,fieldsErrors)});return false}var leaderIndexPatterns=_this2.state.autoFollowPattern.leaderIndexPatterns;var newLeaderIndexPatterns=[].concat(_toConsumableArray(leaderIndexPatterns),[indexPattern]);_this2.onFieldsChange({leaderIndexPatterns:newLeaderIndexPatterns})};this.onLeaderIndexPatternChange=function(indexPatterns){_this2.onFieldsChange({leaderIndexPatterns:indexPatterns.map(function(_ref4){var label=_ref4.label;return label})})};this.onLeaderIndexPatternInputChange=function(leaderIndexPattern){if(!leaderIndexPattern||!leaderIndexPattern.trim()){return}var leaderIndexPatterns=_this2.state.autoFollowPattern.leaderIndexPatterns;if(leaderIndexPatterns.includes(leaderIndexPattern)){var intl=_this2.props.intl;var errorMsg=intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternForm.leaderIndexPatternError.duplicateMessage",defaultMessage:"Duplicate leader index pattern aren't allowed."});var errors={leaderIndexPatterns:{message:errorMsg,alwaysVisible:true}};_this2.setState(function(_ref5){var fieldsErrors=_ref5.fieldsErrors;return updateFormErrors(errors,fieldsErrors)})}else{_this2.setState(function(_ref6){var fieldsErrors=_ref6.fieldsErrors,autoFollowPattern=_ref6.autoFollowPattern;var errors=(0,_auto_follow_pattern_validators.validateAutoFollowPattern)(autoFollowPattern);return updateFormErrors(errors,fieldsErrors)})}};this.getFields=function(){var stateFields=_this2.state.autoFollowPattern;var followIndexPatternPrefix=stateFields.followIndexPatternPrefix,followIndexPatternSuffix=stateFields.followIndexPatternSuffix,rest=_objectWithoutProperties(stateFields,["followIndexPatternPrefix","followIndexPatternSuffix"]);return _extends({},rest,{followIndexPattern:followIndexPatternPrefix+"{{leader_index}}"+followIndexPatternSuffix})};this.sendForm=function(){var isFormValid=_this2.isFormValid();if(!isFormValid){_this2.setState({areErrorsVisible:true});return}_this2.setState({areErrorsVisible:false});var _getFields=_this2.getFields(),name=_getFields.name,autoFollowPattern=_objectWithoutProperties(_getFields,["name"]);_this2.props.saveAutoFollowPattern(name,autoFollowPattern)};this.cancelForm=function(){_routing2.default.navigate("/auto_follow_patterns")};this.renderForm=function(){var intl=_this2.props.intl;var _state=_this2.state,_state$autoFollowPatt=_state.autoFollowPattern,name=_state$autoFollowPatt.name,remoteCluster=_state$autoFollowPatt.remoteCluster,leaderIndexPatterns=_state$autoFollowPatt.leaderIndexPatterns,followIndexPatternPrefix=_state$autoFollowPatt.followIndexPatternPrefix,followIndexPatternSuffix=_state$autoFollowPatt.followIndexPatternSuffix,isNew=_state.isNew,areErrorsVisible=_state.areErrorsVisible,fieldsErrors=_state.fieldsErrors;var renderAutoFollowPatternName=function renderAutoFollowPatternName(){var isInvalid=areErrorsVisible&&!!fieldsErrors.name;return _react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternNameTitle",defaultMessage:"Name"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternNameDescription",defaultMessage:"A unique name for the auto-follow pattern."}),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.autoFollowPatternName.fieldNameLabel",defaultMessage:"Name"}),error:fieldsErrors.name,isInvalid:isInvalid,fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{isInvalid:isInvalid,value:name,onChange:function onChange(e){return _this2.onFieldsChange({name:e.target.value})},fullWidth:true,disabled:!isNew})))};var renderRemoteClusterField=function renderRemoteClusterField(){var remoteClustersOptions=_this2.props.remoteClusters.map(function(_ref7){var name=_ref7.name,isConnected=_ref7.isConnected;return{value:name,inputDisplay:isConnected?name:name+" (not connected)",disabled:!isConnected,"data-test-subj":"option-"+name}});return _react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionRemoteClusterTitle",defaultMessage:"Remote cluster"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionRemoteClusterDescription",defaultMessage:"The remote cluster to replicate leader indices from."}),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.remoteCluster.fieldClusterLabel",defaultMessage:"Remote cluster"}),fullWidth:true},_react2.default.createElement(_react.Fragment,null,isNew&&_react2.default.createElement(_eui.EuiSuperSelect,{options:remoteClustersOptions,valueOfSelected:remoteCluster,onChange:_this2.onClusterChange}),!isNew&&_react2.default.createElement(_eui.EuiFieldText,{value:remoteCluster,fullWidth:true,disabled:true}))))};var renderLeaderIndexPatterns=function renderLeaderIndexPatterns(){var hasError=!!fieldsErrors.leaderIndexPatterns;var isInvalid=hasError&&(fieldsErrors.leaderIndexPatterns.alwaysVisible||areErrorsVisible);var formattedLeaderIndexPatterns=leaderIndexPatterns.map(function(pattern){return{label:pattern}});return _react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsTitle",defaultMessage:"Leader indices"}))),description:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsDescription1",defaultMessage:"One or more index patterns that identify the indices you want to replicate from the remote cluster. As new indices matching these patterns are created, they are replicated to follower indices on the local cluster."})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsDescription2",defaultMessage:"{note} indices that already exist are not replicated.",values:{note:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsDescription2.noteLabel",defaultMessage:"Note:"}))}}))),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.fieldLeaderIndexPatternsLabel",defaultMessage:"Index patterns"}),helpText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.fieldLeaderIndexPatternsHelpLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:_react2.default.createElement("strong",null,indexPatternIllegalCharacters)}}),isInvalid:isInvalid,error:fieldsErrors.leaderIndexPatterns&&fieldsErrors.leaderIndexPatterns.message,fullWidth:true},_react2.default.createElement(_eui.EuiComboBox,{noSuggestions:true,placeholder:intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternForm.fieldLeaderIndexPatternsPlaceholder",defaultMessage:"Type and then hit ENTER"}),selectedOptions:formattedLeaderIndexPatterns,onCreateOption:_this2.onCreateLeaderIndexPattern,onChange:_this2.onLeaderIndexPatternChange,onSearchChange:_this2.onLeaderIndexPatternInputChange,fullWidth:true})))};var renderAutoFollowPattern=function renderAutoFollowPattern(){var isPrefixInvalid=areErrorsVisible&&!!fieldsErrors.followIndexPatternPrefix;var isSuffixInvalid=areErrorsVisible&&!!fieldsErrors.followIndexPatternSuffix;return _react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternTitle",defaultMessage:"Follower indices (optional)"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternDescription",defaultMessage:"A custom prefix or suffix to apply to the names of the follower indices so you can more easily identify replicated indices. By default, a follower index has the same name as the leader index."}),fullWidth:true},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFormRow,{className:"ccrFollowerIndicesFormRow",label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.autoFollowPattern.fieldPrefixLabel",defaultMessage:"Prefix"}),error:fieldsErrors.followIndexPatternPrefix,isInvalid:isPrefixInvalid,fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{isInvalid:isPrefixInvalid,value:followIndexPatternPrefix,onChange:function onChange(e){return _this2.onFieldsChange({followIndexPatternPrefix:e.target.value})},fullWidth:true}))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFormRow,{className:"ccrFollowerIndicesFormRow",label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.autoFollowPattern.fieldSuffixLabel",defaultMessage:"Suffix"}),error:fieldsErrors.followIndexPatternSuffix,isInvalid:isSuffixInvalid,fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{isInvalid:isSuffixInvalid,value:followIndexPatternSuffix,onChange:function onChange(e){return _this2.onFieldsChange({followIndexPatternSuffix:e.target.value})},fullWidth:true})))),_react2.default.createElement(_eui.EuiFormHelpText,{className:isPrefixInvalid||isSuffixInvalid?null:"ccrFollowerIndicesHelpText"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.fieldFollowerIndicesHelpLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:_react2.default.createElement("strong",null,indexNameIllegalCharacters)}})),!!leaderIndexPatterns.length&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_.AutoFollowPatternIndicesPreview,{prefix:followIndexPatternPrefix,suffix:followIndexPatternSuffix,leaderIndexPatterns:leaderIndexPatterns})))};var renderFormErrorWarning=function renderFormErrorWarning(){var areErrorsVisible=_this2.state.areErrorsVisible;var isFormValid=_this2.isFormValid();if(!areErrorsVisible||isFormValid){return null}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.validationErrorTitle",defaultMessage:"Fix errors before continuing."}),color:"danger",iconType:"cross"}))};var renderActions=function renderActions(){var apiStatus=_this2.props.apiStatus;var areErrorsVisible=_this2.state.areErrorsVisible;if(apiStatus===_constants.API_STATUS.SAVING){return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"l"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.actions.savingText",defaultMessage:"Saving"}))))}var isSaveDisabled=areErrorsVisible&&!_this2.isFormValid();return _react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{color:"secondary",iconType:"check",onClick:_this2.sendForm,fill:true,disabled:isSaveDisabled},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.saveButtonLabel",defaultMessage:"Save"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{color:"primary",onClick:_this2.cancelForm},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.cancelButtonLabel",defaultMessage:"Cancel"}))))};return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiForm,null,renderAutoFollowPatternName(),renderRemoteClusterField(),renderLeaderIndexPatterns(),renderAutoFollowPattern()),renderFormErrorWarning(),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),renderActions())};this.renderLoading=function(){var apiStatus=_this2.props.apiStatus;if(apiStatus===_constants.API_STATUS.SAVING){return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiLoadingKibana,{size:"xl"}))}return null}};var AutoFollowPatternForm=exports.AutoFollowPatternForm=(0,_react3.injectI18n)(AutoFollowPatternFormUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _validate_index=__webpack_require__(3909);Object.defineProperty(exports,"indexNameBeginsWithPeriod",{enumerable:true,get:function get(){return _validate_index.indexNameBeginsWithPeriod}});Object.defineProperty(exports,"findIllegalCharactersInIndexName",{enumerable:true,get:function get(){return _validate_index.findIllegalCharactersInIndexName}});Object.defineProperty(exports,"indexNameContainsSpaces",{enumerable:true,get:function get(){return _validate_index.indexNameContainsSpaces}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexNameBeginsWithPeriod=indexNameBeginsWithPeriod;exports.findIllegalCharactersInIndexName=findIllegalCharactersInIndexName;exports.indexNameContainsSpaces=indexNameContainsSpaces;var _constants=__webpack_require__(1276);function indexNameBeginsWithPeriod(){var indexName=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return indexName[0]==="."}function findIllegalCharactersInIndexName(indexName){var illegalCharacters=_constants.INDEX_ILLEGAL_CHARACTERS_VISIBLE.reduce(function(chars,char){if(indexName.includes(char)){chars.push(char)}return chars},[]);return illegalCharacters}function indexNameContainsSpaces(indexName){return indexName.includes(" ")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateAutoFollowPattern=exports.validateSuffix=exports.validatePrefix=exports.validateLeaderIndexPattern=exports.validateName=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);var _index_patterns=__webpack_require__(217);var _indices=__webpack_require__(537);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var validateName=exports.validateName=function validateName(){var name=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var errorMsg=null;if(!name||!name.trim()){errorMsg=_i18n.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorEmptyName",{defaultMessage:"Name is required."})}else{if(name.includes(" ")){errorMsg=_i18n.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorSpace",{defaultMessage:"Spaces are not allowed in the name."})}if(name[0]==="_"){errorMsg=_i18n.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorUnderscore",{defaultMessage:"Name can't begin with an underscore."})}if(name.includes(",")){errorMsg=_i18n.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorComma",{defaultMessage:"Commas are not allowed in the name."})}}return errorMsg};var validateLeaderIndexPattern=exports.validateLeaderIndexPattern=function validateLeaderIndexPattern(indexPattern){var errors=(0,_index_patterns.validateIndexPattern)(indexPattern);if(errors[_index_patterns.ILLEGAL_CHARACTERS]){return _react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.leaderIndexPatternValidation.illegalCharacters",defaultMessage:"Remove the {characterListLength, plural, one {character} other {characters}} {characterList} from the index pattern.",values:{characterList:_react2.default.createElement("strong",null,errors[_index_patterns.ILLEGAL_CHARACTERS].join(" ")),characterListLength:errors[_index_patterns.ILLEGAL_CHARACTERS].length}})}if(errors[_index_patterns.CONTAINS_SPACES]){return _react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.leaderIndexPatternValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the index pattern."})}return null};var validatePrefix=exports.validatePrefix=function validatePrefix(prefix){if(!prefix||!prefix.trim()){return null}if((0,_indices.indexNameBeginsWithPeriod)(prefix)){return _react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.prefixValidation.beginsWithPeriod",defaultMessage:"The prefix can't begin with a period."})}var illegalCharacters=(0,_indices.findIllegalCharactersInIndexName)(prefix);if(illegalCharacters.length){return _react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.prefixValidation.illegalCharacters",defaultMessage:"Remove the {characterListLength, plural, one {character} other {characters}} {characterList} from the prefix.",values:{characterList:_react2.default.createElement("strong",null,illegalCharacters.join(" ")),characterListLength:illegalCharacters.length}})}if((0,_indices.indexNameContainsSpaces)(prefix)){return _react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.prefixValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the prefix."})}return null};var validateSuffix=exports.validateSuffix=function validateSuffix(suffix){if(!suffix||!suffix.trim()){return null}var illegalCharacters=(0,_indices.findIllegalCharactersInIndexName)(suffix);if(illegalCharacters.length){return _react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.suffixValidation.illegalCharacters",defaultMessage:"Remove the {characterListLength, plural, one {character} other {characters}} {characterList} from the suffix.",values:{characterList:_react2.default.createElement("strong",null,illegalCharacters.join(" ")),characterListLength:illegalCharacters.length}})}if((0,_indices.indexNameContainsSpaces)(suffix)){return _react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.suffixValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the suffix."})}return null};var validateAutoFollowPattern=exports.validateAutoFollowPattern=function validateAutoFollowPattern(){var autoFollowPattern=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var errors={};var error=null;var fieldValue=void 0;Object.keys(autoFollowPattern).forEach(function(fieldName){fieldValue=autoFollowPattern[fieldName];error=null;switch(fieldName){case"name":error=validateName(fieldValue);break;case"leaderIndexPatterns":if(!fieldValue.length){error={message:_i18n.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.leaderIndexPatternValidation.isEmpty",{defaultMessage:"At least one leader index pattern is required."})}}break;case"followIndexPatternPrefix":error=validatePrefix(fieldValue);break;case"followIndexPatternSuffix":error=validateSuffix(fieldValue);break}errors[fieldName]=error});return errors}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutoFollowPatternDeleteProvider=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(14);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _actions=__webpack_require__(314);var _utils=__webpack_require__(1274);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Provider=function(_PureComponent){_inherits(Provider,_PureComponent);function Provider(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Provider);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Provider.__proto__||Object.getPrototypeOf(Provider)).call.apply(_ref,[this].concat(args))),_this),_this.state={isModalOpen:false,ids:null},_this.onMouseOverModal=function(event){event.stopPropagation()},_this.deleteAutoFollowPattern=function(id){_this.setState({isModalOpen:true,ids:(0,_utils.arrify)(id)})},_this.onConfirm=function(){_this.props.deleteAutoFollowPattern(_this.state.ids);_this.setState({isModalOpen:false,ids:null})},_this.closeConfirmModal=function(){_this.setState({isModalOpen:false})},_this.renderModal=function(){var intl=_this.props.intl;var ids=_this.state.ids;var isSingle=ids.length===1;var title=isSingle?intl.formatMessage({id:"xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.deleteSingleTitle",defaultMessage:"Remove auto-follow pattern '{name}'?"},{name:ids[0]}):intl.formatMessage({id:"xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.deleteMultipleTitle",defaultMessage:"Remove {count} auto-follow patterns?"},{count:ids.length});return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:title,onCancel:_this.closeConfirmModal,onConfirm:_this.onConfirm,cancelButtonText:intl.formatMessage({id:"xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.cancelButtonText",defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:intl.formatMessage({id:"xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.confirmButtonText",defaultMessage:"Remove"}),onMouseOver:_this.onMouseOverModal},!isSingle&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.multipleDeletionDescription",defaultMessage:"You are about to remove these auto-follow patterns:"})),_react2.default.createElement("ul",null,ids.map(function(id){return _react2.default.createElement("li",{key:id},id)})))))},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(Provider,[{key:"render",value:function render(){var children=this.props.children;var isModalOpen=this.state.isModalOpen;return _react2.default.createElement(_react.Fragment,null,children(this.deleteAutoFollowPattern),isModalOpen&&this.renderModal())}}]);return Provider}(_react.PureComponent);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{deleteAutoFollowPattern:function deleteAutoFollowPattern(id){return dispatch((0,_actions.deleteAutoFollowPattern)(id))}}};var AutoFollowPatternDeleteProvider=exports.AutoFollowPatternDeleteProvider=(0,_reactRedux.connect)(undefined,mapDispatchToProps)((0,_react3.injectI18n)(Provider))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutoFollowPatternPageTitle=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _documentation_links=__webpack_require__(3913);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AutoFollowPatternPageTitle=exports.AutoFollowPatternPageTitle=function AutoFollowPatternPageTitle(_ref){var title=_ref.title;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react2.default.createElement(_eui.EuiPageContentHeader,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,title))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_documentation_links.autoFollowPatternUrl,target:"_blank",iconType:"help"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.readDocsButtonLabel",defaultMessage:"Auto-follow pattern docs"}))))))};AutoFollowPatternPageTitle.propTypes={title:_propTypes2.default.node.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.autoFollowPatternUrl=undefined;var _documentation_links=__webpack_require__(65);var esBase=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/elasticsearch/reference/"+_documentation_links.DOC_LINK_VERSION;var autoFollowPatternUrl=exports.autoFollowPatternUrl=esBase+"/ccr-put-auto-follow-pattern.html"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutoFollowPatternIndicesPreview=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);var _auto_follow_pattern=__webpack_require__(1277);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AutoFollowPatternIndicesPreview=exports.AutoFollowPatternIndicesPreview=(0,_react3.injectI18n)(function(_ref){var prefix=_ref.prefix,suffix=_ref.suffix,leaderIndexPatterns=_ref.leaderIndexPatterns,intl=_ref.intl;var _getPreviewIndicesFro=(0,_auto_follow_pattern.getPreviewIndicesFromAutoFollowPattern)({prefix:prefix,suffix:suffix,leaderIndexPatterns:leaderIndexPatterns}),indicesPreview=_getPreviewIndicesFro.indicesPreview;var title=intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternForm.indicesPreviewTitle",defaultMessage:"Index name examples"});return _react2.default.createElement(_eui.EuiCallOut,{title:title,iconType:"indexMapping"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.indicesPreviewDescription",defaultMessage:"The above settings will generate index names that look like this:"}),_react2.default.createElement("ul",null,indicesPreview.map(function(_ref2,i){var _ref2$followPattern=_ref2.followPattern,prefix=_ref2$followPattern.prefix,suffix=_ref2$followPattern.suffix,template=_ref2$followPattern.template;return _react2.default.createElement("li",{key:i},prefix,_react2.default.createElement("strong",null,template),suffix)})))})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _auto_follow_pattern_table=__webpack_require__(3916);Object.defineProperty(exports,"AutoFollowPatternTable",{enumerable:true,get:function get(){return _auto_follow_pattern_table.AutoFollowPatternTable}});var _detail_panel=__webpack_require__(3919);Object.defineProperty(exports,"DetailPanel",{enumerable:true,get:function get(){return _detail_panel.DetailPanel}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _auto_follow_pattern_table=__webpack_require__(3917);Object.defineProperty(exports,"AutoFollowPatternTable",{enumerable:true,get:function get(){return _auto_follow_pattern_table.AutoFollowPatternTable}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutoFollowPatternTable=undefined;var _reactRedux=__webpack_require__(14);var _constants=__webpack_require__(183);var _actions=__webpack_require__(314);var _selectors=__webpack_require__(313);var _auto_follow_pattern_table=__webpack_require__(3918);var scope=_constants.SECTIONS.AUTO_FOLLOW_PATTERN;var mapStateToProps=function mapStateToProps(state){return{apiStatusDelete:(0,_selectors.getApiStatus)(scope+"-delete")(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{editAutoFollowPattern:function editAutoFollowPattern(name){return dispatch((0,_actions.editAutoFollowPattern)(name))},openDetailPanel:function openDetailPanel(name){dispatch((0,_actions.openAutoFollowPatternDetailPanel)(name))}}};var AutoFollowPatternTable=exports.AutoFollowPatternTable=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_auto_follow_pattern_table.AutoFollowPatternTable)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutoFollowPatternTable=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _class,_temp2;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(183);var _components=__webpack_require__(315);var _routing=__webpack_require__(248);var _routing2=_interopRequireDefault(_routing);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AutoFollowPatternTable=exports.AutoFollowPatternTable=(0,_react3.injectI18n)((_temp2=_class=function(_PureComponent){_inherits(_class,_PureComponent);function _class(){var _ref;var _temp,_this,_ret;_classCallCheck(this,_class);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=_class.__proto__||Object.getPrototypeOf(_class)).call.apply(_ref,[this].concat(args))),_this),_this.state={selectedItems:[]},_this.onSearch=function(_ref2){var query=_ref2.query;var text=query.text;var normalizedSearchText=text.toLowerCase();_this.setState({queryText:normalizedSearchText})},_this.getFilteredPatterns=function(){var autoFollowPatterns=_this.props.autoFollowPatterns;var queryText=_this.state.queryText;if(queryText){return autoFollowPatterns.filter(function(autoFollowPattern){var name=autoFollowPattern.name,remoteCluster=autoFollowPattern.remoteCluster,followIndexPatternPrefix=autoFollowPattern.followIndexPatternPrefix,followIndexPatternSuffix=autoFollowPattern.followIndexPatternSuffix;var inName=name.toLowerCase().includes(queryText);var inRemoteCluster=remoteCluster.toLowerCase().includes(queryText);var inPrefix=followIndexPatternPrefix.toLowerCase().includes(queryText);var inSuffix=followIndexPatternSuffix.toLowerCase().includes(queryText);return inName||inRemoteCluster||inPrefix||inSuffix})}return autoFollowPatterns.slice(0)},_this.renderLoading=function(){var apiStatusDelete=_this.props.apiStatusDelete;if(apiStatusDelete===_constants.API_STATUS.DELETING){return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiLoadingKibana,{size:"xl"}))}return null},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(_class,[{key:"getTableColumns",value:function getTableColumns(){var _props=this.props,intl=_props.intl,editAutoFollowPattern=_props.editAutoFollowPattern,openDetailPanel=_props.openDetailPanel;return[{field:"name",name:intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternList.table.nameColumnTitle",defaultMessage:"Name"}),sortable:true,truncateText:false,render:function render(name){return _react2.default.createElement(_eui.EuiLink,{onClick:function onClick(){return openDetailPanel(name)}},name)}},{field:"remoteCluster",name:intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternList.table.clusterColumnTitle",defaultMessage:"Cluster"}),truncateText:true,sortable:true},{field:"leaderIndexPatterns",name:intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternList.table.leaderPatternsColumnTitle",defaultMessage:"Leader patterns"}),render:function render(leaderPatterns){return leaderPatterns.join(", ")}},{field:"followIndexPatternPrefix",name:intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternList.table.prefixColumnTitle",defaultMessage:"Follower pattern prefix"}),sortable:true},{field:"followIndexPatternSuffix",name:intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternList.table.suffixColumnTitle",defaultMessage:"Follower pattern suffix"}),sortable:true},{name:intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternList.table.actionsColumnTitle",defaultMessage:"Actions"}),actions:[{render:function render(_ref3){var name=_ref3.name;var label=_i18n.i18n.translate("xpack.crossClusterReplication.autofollowPatternList.table.actionDeleteDescription",{defaultMessage:"Delete auto-follow pattern"});return _react2.default.createElement(_eui.EuiToolTip,{content:label,delay:"long"},_react2.default.createElement(_components.AutoFollowPatternDeleteProvider,null,function(deleteAutoFollowPattern){return _react2.default.createElement(_eui.EuiButtonIcon,{"aria-label":label,iconType:"trash",color:"danger",onClick:function onClick(){return deleteAutoFollowPattern(name)}})}))}},{name:intl.formatMessage({id:"xpack.crossClusterReplication.editIndexPattern.fields.table.actionEditLabel",defaultMessage:"Edit"}),description:intl.formatMessage({id:"xpack.crossClusterReplication.editIndexPattern.fields.table.actionEditDescription",defaultMessage:"Edit"}),icon:"pencil",onClick:function onClick(_ref4){var name=_ref4.name;editAutoFollowPattern(name);_routing2.default.navigate(encodeURI("/auto_follow_patterns/edit/"+encodeURIComponent(name)))},type:"icon"}],width:"100px"}]}},{key:"render",value:function render(){var _this2=this;var selectedItems=this.state.selectedItems;var sorting={sort:{field:"name",direction:"asc"}};var pagination={initialPageSize:20,pageSizeOptions:[10,20,50]};var selection={onSelectionChange:function onSelectionChange(selectedItems){return _this2.setState({selectedItems:selectedItems})}};var search={toolsLeft:selectedItems.length?_react2.default.createElement(_components.AutoFollowPatternDeleteProvider,null,function(deleteAutoFollowPattern){return _react2.default.createElement(_eui.EuiButton,{iconType:"trash",color:"danger",onClick:function onClick(){return deleteAutoFollowPattern(selectedItems.map(function(_ref5){var name=_ref5.name;return name}))}},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.deleteAutoFollowPatternButtonLabel",defaultMessage:"Delete auto-follow {total, plural, one {pattern} other {patterns}}",values:{total:selectedItems.length}}))}):undefined,onChange:this.onSearch,box:{incremental:true}};return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiInMemoryTable,{items:this.getFilteredPatterns(),itemId:"name",columns:this.getTableColumns(),search:search,pagination:pagination,sorting:sorting,selection:selection,isSelectable:true}),this.renderLoading())}}]);return _class}(_react.PureComponent),_class.propTypes={autoFollowPatterns:_propTypes2.default.array,openDetailPanel:_propTypes2.default.func.isRequired},_temp2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _detail_panel=__webpack_require__(3920);Object.defineProperty(exports,"DetailPanel",{enumerable:true,get:function get(){return _detail_panel.DetailPanel}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=undefined;var _reactRedux=__webpack_require__(14);var _detail_panel=__webpack_require__(3921);var _selectors=__webpack_require__(313);var _actions=__webpack_require__(314);var _constants=__webpack_require__(183);var scope=_constants.SECTIONS.AUTO_FOLLOW_PATTERN;var mapStateToProps=function mapStateToProps(state){return{isDetailPanelOpen:(0,_selectors.isAutoFollowPatternDetailPanelOpen)(state),autoFollowPattern:(0,_selectors.getDetailPanelAutoFollowPattern)(state),autoFollowPatternName:(0,_selectors.getDetailPanelAutoFollowPatternName)(state),apiStatus:(0,_selectors.getApiStatus)(scope)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{closeDetailPanel:function closeDetailPanel(){dispatch((0,_actions.closeAutoFollowPatternDetailPanel)())},editAutoFollowPattern:function editAutoFollowPattern(name){dispatch((0,_actions.editAutoFollowPattern)(name))}}};var DetailPanel=exports.DetailPanel=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_detail_panel.DetailPanel)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=exports.DetailPanelUi=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _navigation=__webpack_require__(538);var _eui=__webpack_require__(2);var _components=__webpack_require__(315);var _constants=__webpack_require__(183);var _routing=__webpack_require__(248);var _routing2=_interopRequireDefault(_routing);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DetailPanelUi=exports.DetailPanelUi=function(_Component){_inherits(DetailPanelUi,_Component);function DetailPanelUi(){_classCallCheck(this,DetailPanelUi);return _possibleConstructorReturn(this,(DetailPanelUi.__proto__||Object.getPrototypeOf(DetailPanelUi)).apply(this,arguments))}_createClass(DetailPanelUi,[{key:"renderAutoFollowPattern",value:function renderAutoFollowPattern(){var _props$autoFollowPatt=this.props.autoFollowPattern,followIndexPatternPrefix=_props$autoFollowPatt.followIndexPatternPrefix,followIndexPatternSuffix=_props$autoFollowPatt.followIndexPatternSuffix,remoteCluster=_props$autoFollowPatt.remoteCluster,leaderIndexPatterns=_props$autoFollowPatt.leaderIndexPatterns;var indexManagementFilter=void 0;if(followIndexPatternPrefix){indexManagementFilter="name:"+followIndexPatternPrefix}else if(followIndexPatternSuffix){indexManagementFilter="name:"+followIndexPatternSuffix}var indexManagementUri=(0,_navigation.getIndexListUri)(indexManagementFilter);return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.statusTitle",defaultMessage:"Settings"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiDescriptionList,null,_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.remoteClusterLabel",defaultMessage:"Remote cluster"}))),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,remoteCluster)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.leaderPatternsLabel",defaultMessage:"Leader patterns"}))),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,leaderIndexPatterns.join(", ")))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.prefixLabel",defaultMessage:"Prefix"}))),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,followIndexPatternPrefix||_react2.default.createElement("em",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.prefixEmptyValue",defaultMessage:"No prefix"})))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.suffixLabel",defaultMessage:"Suffix"}))),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,followIndexPatternSuffix||_react2.default.createElement("em",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.suffixEmptyValue",defaultMessage:"No suffix"}))))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_components.AutoFollowPatternIndicesPreview,{prefix:followIndexPatternPrefix,suffix:followIndexPatternSuffix,leaderIndexPatterns:leaderIndexPatterns}),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiLink,{href:indexManagementUri},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.viewIndicesLink",defaultMessage:"View your follower indices in Index Management"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),this.renderAutoFollowPatternErrors()))}},{key:"renderAutoFollowPatternErrors",value:function renderAutoFollowPatternErrors(){var autoFollowPattern=this.props.autoFollowPattern;if(!autoFollowPattern.errors.length){return null}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiIcon,{type:"alert",color:"danger"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.recentErrorsTitle",defaultMessage:"Recent errors"}))))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("ul",null,autoFollowPattern.errors.map(function(error,i){return _react2.default.createElement("li",{key:i},error.autoFollowException.reason)}))))}},{key:"renderContent",value:function renderContent(){var _props=this.props,apiStatus=_props.apiStatus,autoFollowPattern=_props.autoFollowPattern;if(apiStatus===_constants.API_STATUS.LOADING){return _react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.loadingLabel",defaultMessage:"Loading auto-follow pattern..."}))))))}if(!autoFollowPattern){return _react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiIcon,{size:"m",type:"alert",color:"danger"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.notFoundLabel",defaultMessage:"Auto-follow pattern not found"}))))))}return this.renderAutoFollowPattern()}},{key:"renderFooter",value:function renderFooter(){var _props2=this.props,editAutoFollowPattern=_props2.editAutoFollowPattern,autoFollowPattern=_props2.autoFollowPattern,autoFollowPatternName=_props2.autoFollowPatternName,closeDetailPanel=_props2.closeDetailPanel;if(!autoFollowPattern){return null}return _react2.default.createElement(_eui.EuiFlyoutFooter,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:closeDetailPanel},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.closeButtonLabel",defaultMessage:"Close"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_components.AutoFollowPatternDeleteProvider,null,function(deleteAutoFollowPattern){return _react2.default.createElement(_eui.EuiButtonEmpty,{color:"danger",onClick:function onClick(){return deleteAutoFollowPattern(autoFollowPatternName)}},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.deleteButtonLabel",defaultMessage:"Delete"}))})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{fill:true,color:"primary",onClick:function onClick(){editAutoFollowPattern(autoFollowPatternName);_routing2.default.navigate(encodeURI("/auto_follow_patterns/edit/"+encodeURIComponent(autoFollowPatternName)))}},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.editButtonLabel",defaultMessage:"Edit"})))))))}},{key:"render",value:function render(){var _props3=this.props,isDetailPanelOpen=_props3.isDetailPanelOpen,closeDetailPanel=_props3.closeDetailPanel,autoFollowPatternName=_props3.autoFollowPatternName;if(!isDetailPanelOpen){return null}return _react2.default.createElement(_eui.EuiFlyout,{"data-test-subj":"autoFollowPatternDetailsFlyout",onClose:closeDetailPanel,"aria-labelledby":"autoFollowPatternDetailsFlyoutTitle",size:"m",maxWidth:400},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,{size:"m",id:"autoFollowPatternDetailsFlyoutTitle"},_react2.default.createElement("h2",null,autoFollowPatternName))),this.renderContent(),this.renderFooter())}}]);return DetailPanelUi}(_react.Component);DetailPanelUi.propTypes={isDetailPanelOpen:_propTypes2.default.bool.isRequired,apiStatus:_propTypes2.default.string,autoFollowPattern:_propTypes2.default.object,autoFollowPatternName:_propTypes2.default.string,closeDetailPanel:_propTypes2.default.func.isRequired,editAutoFollowPattern:_propTypes2.default.func.isRequired};var DetailPanel=exports.DetailPanel=(0,_react3.injectI18n)(DetailPanelUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var PLUGIN=exports.PLUGIN={ID:"index_management"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var INDEX_CLOSED=exports.INDEX_CLOSED="close";var INDEX_OPEN=exports.INDEX_OPEN="open";var INDEX_CLOSING=exports.INDEX_CLOSING="closing";var INDEX_OPENING=exports.INDEX_OPENING="opening";var INDEX_REFRESHING=exports.INDEX_REFRESHING="refreshing";var INDEX_FLUSHING=exports.INDEX_FLUSHING="flushing";var INDEX_FORCEMERGING=exports.INDEX_FORCEMERGING="forcemerging";var INDEX_MERGING=exports.INDEX_MERGING="merging";var INDEX_CLEARING_CACHE=exports.INDEX_CLEARING_CACHE="clearing cache"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _auto_follow_pattern_add=__webpack_require__(3925);Object.defineProperty(exports,"AutoFollowPatternAdd",{enumerable:true,get:function get(){return _auto_follow_pattern_add.AutoFollowPatternAdd}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutoFollowPatternAdd=undefined;var _reactRedux=__webpack_require__(14);var _constants=__webpack_require__(183);var _selectors=__webpack_require__(313);var _actions=__webpack_require__(314);var _auto_follow_pattern_add=__webpack_require__(3926);var scope=_constants.SECTIONS.AUTO_FOLLOW_PATTERN;var mapStateToProps=function mapStateToProps(state){return{apiStatus:(0,_selectors.getApiStatus)(scope)(state),apiError:(0,_selectors.getApiError)(scope)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{saveAutoFollowPattern:function saveAutoFollowPattern(id,autoFollowPattern){return dispatch((0,_actions.saveAutoFollowPattern)(id,autoFollowPattern))},clearApiError:function clearApiError(){return dispatch((0,_actions.clearApiError)(scope))}}};var AutoFollowPatternAdd=exports.AutoFollowPatternAdd=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_auto_follow_pattern_add.AutoFollowPatternAdd)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutoFollowPatternAdd=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _class,_temp;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _management=__webpack_require__(24);var _eui=__webpack_require__(2);var _breadcrumbs=__webpack_require__(779);var _routing=__webpack_require__(248);var _routing2=_interopRequireDefault(_routing);var _constants=__webpack_require__(284);var _components=__webpack_require__(315);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AutoFollowPatternAdd=exports.AutoFollowPatternAdd=(0,_react3.injectI18n)((_temp=_class=function(_PureComponent){_inherits(_class,_PureComponent);function _class(){_classCallCheck(this,_class);return _possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}_createClass(_class,[{key:"componentDidMount",value:function componentDidMount(){_chrome2.default.breadcrumbs.set([_management.MANAGEMENT_BREADCRUMB,_breadcrumbs.listBreadcrumb,_breadcrumbs.addBreadcrumb])}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.clearApiError()}},{key:"renderEmptyClusters",value:function renderEmptyClusters(){var _props=this.props,intl=_props.intl,currentUrl=_props.match.url;var title=intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternCreateForm.emptyRemoteClustersCallOutTitle",defaultMessage:"No remote cluster found"});return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:title,color:"warning",iconType:"cross"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternCreateForm.emptyRemoteClustersCallOutDescription",defaultMessage:"Auto-follow patterns capture indices on remote clusters. You must add a remote cluster."})),_react2.default.createElement(_eui.EuiButton,_extends({},_routing2.default.getRouterLinkProps("/add",_constants.BASE_PATH_REMOTE_CLUSTERS,{redirect:currentUrl}),{iconType:"plusInCircle",color:"warning"}),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternCreateForm.addRemoteClusterButtonLabel",defaultMessage:"Add remote cluster"}))))}},{key:"renderNoConnectedCluster",value:function renderNoConnectedCluster(){var intl=this.props.intl;var title=intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternCreateForm.noRemoteClustersConnectedCallOutTitle",defaultMessage:"Remote cluster connection error"});return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:title,color:"warning",iconType:"cross"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternCreateForm.noRemoteClustersConnectedCallOutDescription",defaultMessage:"None of your clusters are connected. Verify your clusters settings and make sure at least one cluster is connected before creating an auto-follow pattern."})),_react2.default.createElement(_eui.EuiButton,_extends({},_routing2.default.getRouterLinkProps("/",_constants.BASE_PATH_REMOTE_CLUSTERS),{color:"warning"}),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternCreateForm.viewRemoteClusterButtonLabel",defaultMessage:"View remote clusters"}))))}},{key:"render",value:function render(){var _this2=this;var _props2=this.props,saveAutoFollowPattern=_props2.saveAutoFollowPattern,apiStatus=_props2.apiStatus,apiError=_props2.apiError,intl=_props2.intl;return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center",className:"ccrPageContent"},_react2.default.createElement(_components.AutoFollowPatternPageTitle,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.addTitle",defaultMessage:"Add auto-follow pattern"})}),_react2.default.createElement(_components.RemoteClustersProvider,null,function(_ref){var isLoading=_ref.isLoading,error=_ref.error,remoteClusters=_ref.remoteClusters;if(isLoading){return _react2.default.createElement(_components.SectionLoading,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternCreateForm.loadingRemoteClusters",defaultMessage:"Loading remote clusters..."}))}if(error){var title=intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternCreateForm.loadingRemoteClustersErrorTitle",defaultMessage:"Error loading remote clusters"});return _react2.default.createElement(_components.SectionError,{title:title,error:error})}if(!remoteClusters.length){return _this2.renderEmptyClusters()}if(remoteClusters.every(function(cluster){return cluster.isConnected===false})){return _this2.renderNoConnectedCluster()}return _react2.default.createElement(_components.AutoFollowPatternForm,{apiStatus:apiStatus,apiError:apiError,remoteClusters:remoteClusters,saveAutoFollowPattern:saveAutoFollowPattern})}))))}}]);return _class}(_react.PureComponent),_class.propTypes={saveAutoFollowPattern:_propTypes2.default.func.isRequired,clearApiError:_propTypes2.default.func.isRequired,apiError:_propTypes2.default.object,apiStatus:_propTypes2.default.string.isRequired},_temp))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _auto_follow_pattern_edit=__webpack_require__(3928);Object.defineProperty(exports,"AutoFollowPatternEdit",{enumerable:true,get:function get(){return _auto_follow_pattern_edit.AutoFollowPatternEdit}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutoFollowPatternEdit=undefined;var _reactRedux=__webpack_require__(14);var _constants=__webpack_require__(183);var _selectors=__webpack_require__(313);var _actions=__webpack_require__(314);var _auto_follow_pattern_edit=__webpack_require__(3929);var scope=_constants.SECTIONS.AUTO_FOLLOW_PATTERN;var mapStateToProps=function mapStateToProps(state){return{apiStatus:(0,_selectors.getApiStatus)(scope)(state),apiError:(0,_selectors.getApiError)(scope)(state),autoFollowPattern:(0,_selectors.getSelectedAutoFollowPattern)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getAutoFollowPattern:function getAutoFollowPattern(id){return dispatch((0,_actions.getAutoFollowPattern)(id))},saveAutoFollowPattern:function saveAutoFollowPattern(id,autoFollowPattern){return dispatch((0,_actions.saveAutoFollowPattern)(id,autoFollowPattern,true))},clearApiError:function clearApiError(){return dispatch((0,_actions.clearApiError)(scope))}}};var AutoFollowPatternEdit=exports.AutoFollowPatternEdit=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_auto_follow_pattern_edit.AutoFollowPatternEdit)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutoFollowPatternEdit=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _class,_temp;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _management=__webpack_require__(24);var _eui=__webpack_require__(2);var _breadcrumbs=__webpack_require__(779);var _routing=__webpack_require__(248);var _routing2=_interopRequireDefault(_routing);var _constants=__webpack_require__(284);var _components=__webpack_require__(315);var _constants2=__webpack_require__(183);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AutoFollowPatternEdit=exports.AutoFollowPatternEdit=(0,_react3.injectI18n)((_temp=_class=function(_PureComponent){_inherits(_class,_PureComponent);function _class(){_classCallCheck(this,_class);return _possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}_createClass(_class,[{key:"componentDidMount",value:function componentDidMount(){var _props=this.props,autoFollowPattern=_props.autoFollowPattern,id=_props.match.params.id;if(!autoFollowPattern){var decodedId=decodeURIComponent(id);this.props.getAutoFollowPattern(decodedId)}_chrome2.default.breadcrumbs.set([_management.MANAGEMENT_BREADCRUMB,_breadcrumbs.listBreadcrumb,_breadcrumbs.editBreadcrumb])}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.clearApiError()}},{key:"renderApiError",value:function renderApiError(error){var intl=this.props.intl;var title=intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternEditForm.loadingErrorTitle",defaultMessage:"Error loading auto-follow pattern"});return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_components.SectionError,{title:title,error:error}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,_extends({},_routing2.default.getRouterLinkProps("/auto_follow_patterns"),{fill:true,iconType:"plusInCircle"}),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternEditForm.viewAutoFollowPatternsButtonLabel",defaultMessage:"View auto-follow patterns"})))))}},{key:"renderLoadingAutoFollowPattern",value:function renderLoadingAutoFollowPattern(){return _react2.default.createElement(_components.SectionLoading,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternEditForm.loadingTitle",defaultMessage:"Loading auto-follow pattern..."}))}},{key:"renderMissingCluster",value:function renderMissingCluster(_ref){var name=_ref.name,remoteCluster=_ref.remoteCluster;var intl=this.props.intl;var title=intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternEditForm.emptyRemoteClustersTitle",defaultMessage:"Remote cluster missing"});return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:title,color:"warning",iconType:"help"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternEditForm.emptyRemoteClustersDescription",defaultMessage:"The remote cluster '{remoteCluster}' does not exist or is not connected. Make sure it is connected before editing the '{name}' auto-follow pattern.",values:{remoteCluster:remoteCluster,name:name}})),_react2.default.createElement(_eui.EuiButton,_extends({},_routing2.default.getRouterLinkProps("/list",_constants.BASE_PATH_REMOTE_CLUSTERS),{color:"warning"}),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternEditForm.viewRemoteClustersButtonLabel",defaultMessage:"View remote clusters"}))))}},{key:"render",value:function render(){var _this2=this;var _props2=this.props,saveAutoFollowPattern=_props2.saveAutoFollowPattern,apiStatus=_props2.apiStatus,apiError=_props2.apiError,autoFollowPattern=_props2.autoFollowPattern,intl=_props2.intl;return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center",className:"ccrPageContent"},_react2.default.createElement(_components.AutoFollowPatternPageTitle,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.editTitle",defaultMessage:"Edit auto-follow pattern"})}),apiStatus===_constants2.API_STATUS.LOADING&&this.renderLoadingAutoFollowPattern(),apiError&&this.renderApiError(apiError),autoFollowPattern&&_react2.default.createElement(_components.RemoteClustersProvider,null,function(_ref2){var isLoading=_ref2.isLoading,error=_ref2.error,remoteClusters=_ref2.remoteClusters;if(isLoading){return _react2.default.createElement(_components.SectionLoading,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternEditForm.loadingRemoteClusters",defaultMessage:"Loading remote clusters..."}))}if(error){var title=intl.formatMessage({id:"xpack.crossClusterReplication.autoFollowPatternEditForm.loadingRemoteClustersErrorTitle",defaultMessage:"Error loading remote clusters"});return _react2.default.createElement(_components.SectionError,{title:title,error:error})}var autoFollowPatternCluster=remoteClusters.find(function(cluster){return cluster.name===autoFollowPattern.remoteCluster});if(!autoFollowPatternCluster||!autoFollowPatternCluster.isConnected){return _this2.renderMissingCluster(autoFollowPattern)}return _react2.default.createElement(_components.AutoFollowPatternForm,{apiStatus:apiStatus,apiError:apiError,remoteClusters:remoteClusters,autoFollowPattern:autoFollowPattern,saveAutoFollowPattern:saveAutoFollowPattern})}))))}}]);return _class}(_react.PureComponent),_class.propTypes={getAutoFollowPattern:_propTypes2.default.func.isRequired,saveAutoFollowPattern:_propTypes2.default.func.isRequired,clearApiError:_propTypes2.default.func.isRequired,apiError:_propTypes2.default.object,apiStatus:_propTypes2.default.string.isRequired},_temp))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _store=__webpack_require__(3931);Object.defineProperty(exports,"ccrStore",{enumerable:true,get:function get(){return _store.ccrStore}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ccrStore=undefined;var _redux=__webpack_require__(28);var _middleware=__webpack_require__(3932);var _reducers=__webpack_require__(3935);function createCrossClusterReplicationStore(){var initialState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var enhancers=[(0,_redux.applyMiddleware)(_middleware.apiMiddleware,_middleware.autoFollowPatternMiddleware)];if(window.__REDUX_DEVTOOLS_EXTENSION__){enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__())}return(0,_redux.createStore)(_reducers.ccr,initialState,_redux.compose.apply(undefined,enhancers))}var ccrStore=exports.ccrStore=createCrossClusterReplicationStore()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _api=__webpack_require__(3933);Object.defineProperty(exports,"apiMiddleware",{enumerable:true,get:function get(){return _api.apiMiddleware}});var _auto_follow_pattern=__webpack_require__(3934);Object.defineProperty(exports,"autoFollowPatternMiddleware",{enumerable:true,get:function get(){return _auto_follow_pattern.autoFollowPatternMiddleware}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.apiMiddleware=undefined;var _action_types=__webpack_require__(285);var t=_interopRequireWildcard(_action_types);var _api=__webpack_require__(536);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var apiMiddleware=exports.apiMiddleware=function apiMiddleware(_ref){var dispatch=_ref.dispatch,getState=_ref.getState;return function(next){return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(action){var _action$payload,label,scope,status,handler,onSuccess,onError,response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:next(action);if(!(action.type!==t.API)){_context.next=3;break}return _context.abrupt("return");case 3:_action$payload=action.payload,label=_action$payload.label,scope=_action$payload.scope,status=_action$payload.status,handler=_action$payload.handler,onSuccess=_action$payload.onSuccess,onError=_action$payload.onError;dispatch((0,_api.clearApiError)(scope));dispatch((0,_api.apiRequestStart)({label:label,scope:scope,status:status}));_context.prev=6;_context.next=9;return handler(dispatch);case 9:response=_context.sent;dispatch((0,_api.apiRequestEnd)({label:label,scope:scope}));dispatch({type:label+"_SUCCESS",payload:response});onSuccess(response,dispatch,getState);_context.next=21;break;case 15:_context.prev=15;_context.t0=_context["catch"](6);dispatch((0,_api.apiRequestEnd)({label:label,scope:scope}));dispatch((0,_api.setApiError)({error:_context.t0,scope:scope}));dispatch({type:label+"_FAILURE",payload:_context.t0});onError(_context.t0,dispatch,getState);case 21:case"end":return _context.stop()}}},_callee,undefined,[[6,15]])}));return function(_x){return _ref2.apply(this,arguments)}}()}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.autoFollowPatternMiddleware=undefined;var _routing=__webpack_require__(248);var _routing2=_interopRequireDefault(_routing);var _action_types=__webpack_require__(285);var t=_interopRequireWildcard(_action_types);var _query_params=__webpack_require__(1275);var _actions=__webpack_require__(314);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var autoFollowPatternMiddleware=exports.autoFollowPatternMiddleware=function autoFollowPatternMiddleware(_ref){var dispatch=_ref.dispatch;return function(next){return function(action){var type=action.type,name=action.payload;var history=_routing2.default.reactRouter.history;var search=history.location.search;var _extractQueryParams=(0,_query_params.extractQueryParams)(search),patternName=_extractQueryParams.pattern;switch(type){case t.AUTO_FOLLOW_PATTERN_DETAIL_PANEL:if(!_routing2.default.userHasLeftApp){if(!name){history.replace({search:""})}else if(patternName!==name){history.replace({search:"?pattern="+encodeURIComponent(name)});dispatch((0,_actions.loadAutoFollowStats)())}}break}return next(action)}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ccr=undefined;var _redux=__webpack_require__(28);var _api=__webpack_require__(3936);var _auto_follow_pattern=__webpack_require__(3937);var _stats=__webpack_require__(3938);var ccr=exports.ccr=(0,_redux.combineReducers)({autoFollowPattern:_auto_follow_pattern.reducer,api:_api.reducer,stats:_stats.reducer})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.reducer=exports.initialState=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _status,_error;var _constants=__webpack_require__(183);var _action_types=__webpack_require__(285);var t=_interopRequireWildcard(_action_types);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var initialState=exports.initialState={status:(_status={},_defineProperty(_status,_constants.SECTIONS.AUTO_FOLLOW_PATTERN,_constants.API_STATUS.IDLE),_defineProperty(_status,_constants.SECTIONS.INDEX_FOLLOWER,_constants.API_STATUS.IDLE),_status),error:(_error={},_defineProperty(_error,_constants.SECTIONS.AUTO_FOLLOW_PATTERN,null),_defineProperty(_error,_constants.SECTIONS.INDEX_FOLLOWER,null),_error)};var reducer=exports.reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];var payload=action.payload||{};var scope=payload.scope,status=payload.status,error=payload.error;switch(action.type){case t.API_REQUEST_START:{return _extends({},state,{status:_extends({},state.status,_defineProperty({},scope,status))})}case t.API_REQUEST_END:{return _extends({},state,{status:_extends({},state.status,_defineProperty({},scope,_constants.API_STATUS.IDLE))})}case t.API_ERROR_SET:{return _extends({},state,{error:_extends({},state.error,_defineProperty({},scope,error))})}default:return state}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.reducer=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _action_types=__webpack_require__(285);var t=_interopRequireWildcard(_action_types);var _utils=__webpack_require__(1273);var _auto_follow_pattern=__webpack_require__(1277);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var initialState={byId:{},selectedId:null,detailPanelId:null};var success=function success(action){return action+"_SUCCESS"};var parseAutoFollowPattern=function parseAutoFollowPattern(autoFollowPattern){var _getPrefixSuffixFromF=(0,_auto_follow_pattern.getPrefixSuffixFromFollowPattern)(autoFollowPattern.followIndexPattern),followIndexPatternPrefix=_getPrefixSuffixFromF.followIndexPatternPrefix,followIndexPatternSuffix=_getPrefixSuffixFromF.followIndexPatternSuffix;return _extends({},autoFollowPattern,{followIndexPatternPrefix:followIndexPatternPrefix,followIndexPatternSuffix:followIndexPatternSuffix})};var reducer=exports.reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];switch(action.type){case success(t.AUTO_FOLLOW_PATTERN_LOAD):{return _extends({},state,{byId:(0,_utils.arrayToObject)(action.payload.patterns.map(parseAutoFollowPattern),"name")})}case success(t.AUTO_FOLLOW_PATTERN_GET):{return _extends({},state,{byId:_extends({},state.byId,_defineProperty({},action.payload.name,parseAutoFollowPattern(action.payload)))})}case t.AUTO_FOLLOW_PATTERN_EDIT:{return _extends({},state,{selectedId:action.payload})}case t.AUTO_FOLLOW_PATTERN_DETAIL_PANEL:{return _extends({},state,{detailPanelId:action.payload})}case success(t.AUTO_FOLLOW_PATTERN_DELETE):{var byId=_extends({},state.byId);var itemsDeleted=action.payload.itemsDeleted;itemsDeleted.forEach(function(id){return delete byId[id]});return _extends({},state,{byId:byId})}default:return state}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.reducer=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _action_types=__webpack_require__(285);var t=_interopRequireWildcard(_action_types);var _auto_follow_errors=__webpack_require__(3939);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var initialState={autoFollow:null};var success=function success(action){return action+"_SUCCESS"};var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];switch(action.type){case success(t.AUTO_FOLLOW_STATS_LOAD):{var _action$payload=action.payload,recentAutoFollowErrors=_action$payload.recentAutoFollowErrors,rest=_objectWithoutProperties(_action$payload,["recentAutoFollowErrors"]);return _extends({},state,{autoFollow:_extends({},rest,{recentAutoFollowErrors:(0,_auto_follow_errors.parseAutoFollowErrors)(recentAutoFollowErrors)})})}default:return state}};exports.reducer=reducer},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var parseAutoFollowError=exports.parseAutoFollowError=function parseAutoFollowError(error){if(!error.leaderIndex){return null}var leaderIndex=error.leaderIndex,autoFollowException=error.autoFollowException;var id=leaderIndex.substring(0,leaderIndex.lastIndexOf(":"));return{id:id,leaderIndex:leaderIndex,autoFollowException:autoFollowException}};var parseAutoFollowErrors=exports.parseAutoFollowErrors=function parseAutoFollowErrors(recentAutoFollowErrors){var maxErrorsToShow=arguments.length>1&&arguments[1]!==undefined?arguments[1]:5;return recentAutoFollowErrors.map(parseAutoFollowError).filter(function(error){return error!==null}).reduce(function(byId,error){if(!byId[error.id]){byId[error.id]=[]}if(byId[error.id].length===maxErrorsToShow){return byId}byId[error.id].push(error);return byId},{})}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(3941);__webpack_require__(3942);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _extend_index_management=__webpack_require__(3999);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}if(_chrome2.default.getInjected("ilmUiEnabled")){(0,_extend_index_management.addAllExtensions)()}},function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _management=__webpack_require__(24);var _i18n=__webpack_require__(9);var _constants=__webpack_require__(364);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var esSection=_management.management.getSection("elasticsearch");if(_chrome2.default.getInjected("ilmUiEnabled")){esSection.register("index_lifecycle_policies",{visible:true,display:_i18n.i18n.translate("xpack.indexLifecycleMgmt.appTitle",{defaultMessage:"Index Lifecycle Policies"}),order:2,url:"#"+_constants.BASE_PATH+"policies"})}},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _reactRedux=__webpack_require__(14);var _api=__webpack_require__(267);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _app=__webpack_require__(3943);var _constants=__webpack_require__(364);var _store=__webpack_require__(3991);var _react3=__webpack_require__(3);var _navigation=__webpack_require__(539);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _main=__webpack_require__(3997);var _main2=_interopRequireDefault(_main);var _manage_angular_lifecycle=__webpack_require__(3998);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var elem=void 0;var renderReact=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(elem){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_reactRedux.Provider,{store:(0,_store.indexLifecycleManagementStore)()},_react2.default.createElement(_app.App,null))),elem);case 1:case"end":return _context.stop()}}},_callee,undefined)}));return function renderReact(_x){return _ref.apply(this,arguments)}}();if(_chrome2.default.getInjected("ilmUiEnabled")){_routes2.default.when(_constants.BASE_PATH+":view?/:action?/:id?",{template:_main2.default,controllerAs:"indexLifecycleManagement",controller:function IndexLifecycleManagementController($scope,$route,$http,kbnUrl,$rootScope){_classCallCheck(this,IndexLifecycleManagementController);elem&&(0,_reactDom.unmountComponentAtNode)(elem);(0,_api.setHttpClient)($http);(0,_navigation.setUrlService)({change:function change(url){kbnUrl.change(url);$rootScope.$digest()}});$scope.$$postDigest(function(){elem=document.getElementById("indexLifecycleManagementReactRoot");renderReact(elem);(0,_manage_angular_lifecycle.manageAngularLifecycle)($scope,$route,elem)})}})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.App=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactRouterDom=__webpack_require__(37);var _edit_policy=__webpack_require__(3944);var _policy_table=__webpack_require__(3981);var _constants=__webpack_require__(364);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var App=exports.App=function App(){return _react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Redirect,{exact:true,from:""+_constants.BASE_PATH,to:_constants.BASE_PATH+"policies"}),_react2.default.createElement(_reactRouterDom.Route,{exact:true,path:_constants.BASE_PATH+"policies",component:_policy_table.PolicyTable}),_react2.default.createElement(_reactRouterDom.Route,{path:_constants.BASE_PATH+"policies/edit/:policyName?",component:_edit_policy.EditPolicy})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _edit_policy=__webpack_require__(3945);Object.defineProperty(exports,"EditPolicy",{enumerable:true,get:function get(){return _edit_policy.EditPolicy}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditPolicy=undefined;var _reactRedux=__webpack_require__(14);var _edit_policy=__webpack_require__(3946);var _selectors=__webpack_require__(249);var _actions=__webpack_require__(268);var _find_errors=__webpack_require__(1283);var EditPolicy=exports.EditPolicy=(0,_reactRedux.connect)(function(state){var errors=(0,_selectors.validateLifecycle)(state);var firstError=(0,_find_errors.findFirstError)(errors);return{firstError:firstError,errors:errors,selectedPolicy:(0,_selectors.getSelectedPolicy)(state),saveAsNewPolicy:(0,_selectors.getSaveAsNewPolicy)(state),lifecycle:(0,_selectors.getLifecycle)(state),policies:(0,_selectors.getPolicies)(state),isPolicyListLoaded:(0,_selectors.isPolicyListLoaded)(state),isNewPolicy:(0,_selectors.getIsNewPolicy)(state),originalPolicyName:(0,_selectors.getSelectedOriginalPolicyName)(state)}},{setSelectedPolicy:_actions.setSelectedPolicy,setSelectedPolicyName:_actions.setSelectedPolicyName,setSaveAsNewPolicy:_actions.setSaveAsNewPolicy,saveLifecyclePolicy:_actions.saveLifecyclePolicy,fetchPolicies:_actions.fetchPolicies})(_edit_policy.EditPolicy)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditPolicy=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _notify=__webpack_require__(10);var _navigation=__webpack_require__(539);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _hot_phase=__webpack_require__(3947);var _warm_phase=__webpack_require__(3966);var _delete_phase=__webpack_require__(3971);var _cold_phase=__webpack_require__(3974);var _constants=__webpack_require__(55);var _find_errors=__webpack_require__(1283);var _node_attrs_details=__webpack_require__(3977);var _policy_json_flyout=__webpack_require__(3980);var _form_errors=__webpack_require__(366);var _components=__webpack_require__(365);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var EditPolicyUi=function(_Component){_inherits(EditPolicyUi,_Component);function EditPolicyUi(props){var _this2=this;_classCallCheck(this,EditPolicyUi);var _this=_possibleConstructorReturn(this,(EditPolicyUi.__proto__||Object.getPrototypeOf(EditPolicyUi)).call(this,props));_this.selectPolicy=function(policyName){var _this$props=_this.props,setSelectedPolicy=_this$props.setSelectedPolicy,policies=_this$props.policies;var selectedPolicy=policies.find(function(policy){return policy.name===policyName});if(selectedPolicy){setSelectedPolicy(selectedPolicy)}};_this.backToPolicyList=function(){_this.props.setSelectedPolicy(null);(0,_navigation.goToPolicyList)()};_this.submit=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var intl,_this$props2,saveLifecyclePolicy,lifecycle,saveAsNewPolicy,firstError,element,success;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:intl=_this.props.intl;_this.setState({isShowingErrors:true});_this$props2=_this.props,saveLifecyclePolicy=_this$props2.saveLifecyclePolicy,lifecycle=_this$props2.lifecycle,saveAsNewPolicy=_this$props2.saveAsNewPolicy,firstError=_this$props2.firstError;if(!firstError){_context.next=9;break}_notify.toastNotifications.addDanger(intl.formatMessage({id:"xpack.indexLifecycleMgmt.editPolicy.formErrorsMessage",defaultMessage:"Please fix the  errors on this page."}));element=document.getElementById(firstError+"-row");if(element){element.scrollIntoView()}_context.next=13;break;case 9:_context.next=11;return saveLifecyclePolicy(lifecycle,saveAsNewPolicy);case 11:success=_context.sent;if(success){_this.backToPolicyList()}case 13:case"end":return _context.stop()}}},_callee,_this2)}));_this.showNodeDetailsFlyout=function(selectedNodeAttrsForDetails){_this.setState({isShowingNodeDetailsFlyout:true,selectedNodeAttrsForDetails:selectedNodeAttrsForDetails})};_this.showPolicyJsonFlyout=function(){_this.setState({isShowingPolicyJsonFlyout:true})};_this.state={isShowingErrors:false,isShowingNodeDetailsFlyout:false,selectedNodeAttrsForDetails:undefined,isShowingPolicyJsonFlyout:false};return _this}_createClass(EditPolicyUi,[{key:"componentDidMount",value:function componentDidMount(){var _this3=this;window.scrollTo(0,0);var _props=this.props,isPolicyListLoaded=_props.isPolicyListLoaded,fetchPolicies=_props.fetchPolicies,_props$match=_props.match;_props$match=_props$match===undefined?{params:{}}:_props$match;var policyName=_props$match.params.policyName;if(policyName){var decodedPolicyName=decodeURIComponent(policyName);if(isPolicyListLoaded){this.selectPolicy(decodedPolicyName)}else{fetchPolicies(true,function(){_this3.selectPolicy(decodedPolicyName)})}}else{this.props.setSelectedPolicy(null)}}},{key:"render",value:function render(){var _this4=this;var _props2=this.props,intl=_props2.intl,selectedPolicy=_props2.selectedPolicy,errors=_props2.errors,setSaveAsNewPolicy=_props2.setSaveAsNewPolicy,saveAsNewPolicy=_props2.saveAsNewPolicy,setSelectedPolicyName=_props2.setSelectedPolicyName,isNewPolicy=_props2.isNewPolicy,lifecycle=_props2.lifecycle,originalPolicyName=_props2.originalPolicyName;var selectedPolicyName=selectedPolicy.name;var isShowingErrors=this.state.isShowingErrors;return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{className:"ilmEditPolicyPageContent",verticalPosition:"center",horizontalPosition:"center"},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h4",null,isNewPolicy?intl.formatMessage({id:"xpack.indexLifecycleMgmt.editPolicy.createPolicyMessage",defaultMessage:"Create an index lifecycle policy"}):intl.formatMessage({id:"xpack.indexLifecycleMgmt.editPolicy.editPolicyMessage",defaultMessage:"Edit index lifecycle policy {originalPolicyName}"},{originalPolicyName:originalPolicyName}))),_react2.default.createElement("div",{className:"euiAnimateContentLoad"},_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react2.default.createElement(_eui.EuiText,{color:"subdued"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.lifecyclePolicyDescriptionText",defaultMessage:"Use an index policy to automate the four phases of the index lifecycle,\n                      from actively writing to the index to deleting it."})," ",_react2.default.createElement(_components.LearnMoreLink,{docPath:"index-lifecycle-management.html",text:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.learnAboutIndexLifecycleManagementLinkText",defaultMessage:"Learn about the index lifecycle."})}))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_react.Fragment,null,isNewPolicy?null:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.editingExistingPolicyMessage",defaultMessage:"You are editing an existing policy"})),"."," ",_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.editingExistingPolicyExplanationMessage",defaultMessage:"Any changes you make will affect the indices that are attached to this policy.\n                              Alternatively, you can save these changes in a new policy."}))),_react2.default.createElement(_eui.EuiSpacer,null)),_react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_eui.EuiSwitch,{"data-test-subj":"saveAsNewSwitch",style:{maxWidth:"100%"},checked:saveAsNewPolicy,onChange:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return setSaveAsNewPolicy(e.target.checked);case 2:case"end":return _context2.stop()}}},_callee2,_this4)}));return function(_x){return _ref2.apply(this,arguments)}}(),label:_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.saveAsNewPolicyMessage",defaultMessage:"Save as new policy"}))}))),saveAsNewPolicy||isNewPolicy?_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("div",null,_react2.default.createElement("span",{className:"eui-displayInlineBlock eui-alignMiddle"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.nameLabel",defaultMessage:"Name"}))),titleSize:"s",fullWidth:true},_react2.default.createElement(_form_errors.ErrableFormRow,{id:_constants.STRUCTURE_POLICY_NAME,label:intl.formatMessage({id:"xpack.indexLifecycleMgmt.editPolicy.policyNameLabel",defaultMessage:"Policy name"}),errorKey:_constants.STRUCTURE_POLICY_NAME,isShowingErrors:isShowingErrors,errors:errors,helpText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.validPolicyNameMessage",defaultMessage:"A policy name cannot start with an underscore and cannot contain a question mark or a space."})},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"policyNameField",value:selectedPolicyName,onChange:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return setSelectedPolicyName(e.target.value);case 2:case"end":return _context3.stop()}}},_callee3,_this4)}));return function(_x2){return _ref3.apply(this,arguments)}}()}))):null),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_hot_phase.HotPhase,{selectedPolicy:selectedPolicy,errors:errors[_constants.PHASE_HOT],isShowingErrors:isShowingErrors&&!!(0,_find_errors.findFirstError)(errors[_constants.PHASE_HOT],false)}),_react2.default.createElement(_eui.EuiHorizontalRule,{className:"ilmHrule"}),_react2.default.createElement(_warm_phase.WarmPhase,{errors:errors[_constants.PHASE_WARM],showNodeDetailsFlyout:this.showNodeDetailsFlyout,isShowingErrors:isShowingErrors&&!!(0,_find_errors.findFirstError)(errors[_constants.PHASE_WARM],false)}),_react2.default.createElement(_eui.EuiHorizontalRule,{className:"ilmHrule"}),_react2.default.createElement(_cold_phase.ColdPhase,{errors:errors[_constants.PHASE_COLD],showNodeDetailsFlyout:this.showNodeDetailsFlyout,isShowingErrors:isShowingErrors&&!!(0,_find_errors.findFirstError)(errors[_constants.PHASE_COLD],false)}),_react2.default.createElement(_eui.EuiHorizontalRule,{className:"ilmHrule"}),_react2.default.createElement(_delete_phase.DeletePhase,{errors:errors[_constants.PHASE_DELETE],isShowingErrors:isShowingErrors&&!!(0,_find_errors.findFirstError)(errors[_constants.PHASE_DELETE],false)}),_react2.default.createElement(_eui.EuiHorizontalRule,{className:"ilmHrule"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"savePolicyButton",fill:true,iconType:"check",iconSide:"left",onClick:this.submit,color:"secondary"},saveAsNewPolicy?_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.saveAsNewButton",defaultMessage:"Save as new policy"}):_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.saveButton",defaultMessage:"Save policy"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"cancelTestPolicy",onClick:this.backToPolicyList},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.cancelButton",defaultMessage:"Cancel"}))))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{onClick:this.showPolicyJsonFlyout},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.showPolicyJsonButton",defaultMessage:"Show JSON"})))),this.state.isShowingNodeDetailsFlyout?_react2.default.createElement(_node_attrs_details.NodeAttrsDetails,{selectedNodeAttrs:this.state.selectedNodeAttrsForDetails,close:function close(){return _this4.setState({isShowingNodeDetailsFlyout:false})}}):null,this.state.isShowingPolicyJsonFlyout?_react2.default.createElement(_policy_json_flyout.PolicyJsonFlyout,{policyName:selectedPolicyName||"",lifecycle:lifecycle,close:function close(){return _this4.setState({isShowingPolicyJsonFlyout:false})}}):null))))}}]);return EditPolicyUi}(_react.Component);EditPolicyUi.propTypes={selectedPolicy:_propTypes2.default.object.isRequired,errors:_propTypes2.default.object.isRequired};var EditPolicy=exports.EditPolicy=(0,_react3.injectI18n)(EditPolicyUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _hot_phase=__webpack_require__(3948);Object.defineProperty(exports,"HotPhase",{enumerable:true,get:function get(){return _hot_phase.HotPhase}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HotPhase=undefined;var _reactRedux=__webpack_require__(14);var _hot_phase=__webpack_require__(3949);var _selectors=__webpack_require__(249);var _actions=__webpack_require__(268);var _constants=__webpack_require__(55);var HotPhase=exports.HotPhase=(0,_reactRedux.connect)(function(state){return{phaseData:(0,_selectors.getPhase)(state,_constants.PHASE_HOT)}},{setPhaseData:function setPhaseData(key,value){return(0,_actions.setPhaseData)(_constants.PHASE_HOT,key,value)},setWarmPhaseOnRollover:function setWarmPhaseOnRollover(value){return(0,_actions.setPhaseData)(_constants.PHASE_WARM,_constants.WARM_PHASE_ON_ROLLOVER,value)}})(_hot_phase.HotPhase)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HotPhase=undefined;var _PropTypes$shape;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _components=__webpack_require__(365);var _constants=__webpack_require__(55);var _form_errors=__webpack_require__(366);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var HotPhaseUi=function(_PureComponent){_inherits(HotPhaseUi,_PureComponent);function HotPhaseUi(){_classCallCheck(this,HotPhaseUi);return _possibleConstructorReturn(this,(HotPhaseUi.__proto__||Object.getPrototypeOf(HotPhaseUi)).apply(this,arguments))}_createClass(HotPhaseUi,[{key:"render",value:function render(){var _this2=this;var _props=this.props,setPhaseData=_props.setPhaseData,phaseData=_props.phaseData,isShowingErrors=_props.isShowingErrors,errors=_props.errors,intl=_props.intl,setWarmPhaseOnRollover=_props.setWarmPhaseOnRollover;return _react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("div",null,_react2.default.createElement("span",{className:"eui-displayInlineBlock eui-alignMiddle"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.hotPhase.hotPhaseLabel",defaultMessage:"Hot phase"}))," ",isShowingErrors?null:_react2.default.createElement(_components.ActiveBadge,null),_react2.default.createElement(_components.PhaseErrorMessage,{isShowingErrors:isShowingErrors})),titleSize:"s",description:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.hotPhase.hotPhaseDescriptionMessage",defaultMessage:"This phase is required. You are actively querying and \n                writing to your index.  For faster updates, you can roll over the index when it gets too big or too old."}))),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{id:"rolloverFormRow",hasEmptyLabelSpace:true,helpText:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.hotPhase.rolloverDescriptionMessage",defaultMessage:"The new index created by rollover is added to the index alias and designated as the write index."})),_react2.default.createElement(_components.LearnMoreLink,{text:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.hotPhase.learnAboutRolloverLinkText",defaultMessage:"Learn about rollover"}),docPath:"indices-rollover-index.html"}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))},_react2.default.createElement(_eui.EuiSwitch,{"data-test-subj":"rolloverSwitch",checked:phaseData[_constants.PHASE_ROLLOVER_ENABLED],onChange:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var checked;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:checked=e.target.checked;setPhaseData(_constants.PHASE_ROLLOVER_ENABLED,checked);setWarmPhaseOnRollover(checked);case 3:case"end":return _context.stop()}}},_callee,_this2)}));return function(_x){return _ref.apply(this,arguments)}}(),label:intl.formatMessage({id:"xpack.indexLifecycleMgmt.hotPhase.enableRolloverLabel",defaultMessage:"Enable rollover"})})),phaseData[_constants.PHASE_ROLLOVER_ENABLED]?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{style:{maxWidth:188}},_react2.default.createElement(_form_errors.ErrableFormRow,{id:_constants.PHASE_HOT+"-"+_constants.PHASE_ROLLOVER_MAX_SIZE_STORED,label:intl.formatMessage({id:"xpack.indexLifecycleMgmt.hotPhase.maximumIndexSizeLabel",defaultMessage:"Maximum index size"}),errorKey:_constants.PHASE_ROLLOVER_MAX_SIZE_STORED,isShowingErrors:isShowingErrors,errors:errors},_react2.default.createElement(_eui.EuiFieldNumber,{id:_constants.PHASE_HOT+"-"+_constants.PHASE_ROLLOVER_MAX_SIZE_STORED,value:phaseData[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED],onChange:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return setPhaseData(_constants.PHASE_ROLLOVER_MAX_SIZE_STORED,e.target.value);case 2:case"end":return _context2.stop()}}},_callee2,_this2)}));return function(_x2){return _ref2.apply(this,arguments)}}(),min:1}))),_react2.default.createElement(_eui.EuiFlexItem,{style:{maxWidth:188}},_react2.default.createElement(_form_errors.ErrableFormRow,{id:_constants.PHASE_HOT+"-"+_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS,hasEmptyLabelSpace:true,errorKey:_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS,isShowingErrors:isShowingErrors,errors:errors},_react2.default.createElement(_eui.EuiSelect,{"aria-label":intl.formatMessage({id:"xpack.indexLifecycleMgmt.hotPhase.maximumIndexSizeUnitsAriaLabel",defaultMessage:"Maximum index size units"}),value:phaseData[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS],onChange:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return setPhaseData(_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS,e.target.value);case 2:case"end":return _context3.stop()}}},_callee3,_this2)}));return function(_x3){return _ref3.apply(this,arguments)}}(),options:[{value:"gb",text:intl.formatMessage({id:"xpack.indexLifecycleMgmt.hotPhase.gigabytesLabel",defaultMessage:"gigabytes"})},{value:_constants.MAX_SIZE_TYPE_DOCUMENT,text:intl.formatMessage({id:"xpack.indexLifecycleMgmt.hotPhase.documentsLabel",defaultMessage:"documents"})}]})))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{style:{maxWidth:188}},_react2.default.createElement(_form_errors.ErrableFormRow,{id:_constants.PHASE_HOT+"-"+_constants.PHASE_ROLLOVER_MAX_AGE,label:intl.formatMessage({id:"xpack.indexLifecycleMgmt.hotPhase.maximumAgeLabel",defaultMessage:"Maximum age"}),errorKey:""+_constants.PHASE_ROLLOVER_MAX_AGE,isShowingErrors:isShowingErrors,errors:errors},_react2.default.createElement(_eui.EuiFieldNumber,{id:_constants.PHASE_HOT+"-"+_constants.PHASE_ROLLOVER_MAX_AGE,value:phaseData[_constants.PHASE_ROLLOVER_MAX_AGE],onChange:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return setPhaseData(_constants.PHASE_ROLLOVER_MAX_AGE,e.target.value);case 2:case"end":return _context4.stop()}}},_callee4,_this2)}));return function(_x4){return _ref4.apply(this,arguments)}}(),min:1}))),_react2.default.createElement(_eui.EuiFlexItem,{style:{maxWidth:188}},_react2.default.createElement(_form_errors.ErrableFormRow,{id:_constants.PHASE_HOT+"-"+_constants.PHASE_ROLLOVER_MAX_AGE_UNITS,hasEmptyLabelSpace:true,errorKey:_constants.PHASE_ROLLOVER_MAX_AGE_UNITS,isShowingErrors:isShowingErrors,errors:errors},_react2.default.createElement(_eui.EuiSelect,{"aria-label":intl.formatMessage({id:"xpack.indexLifecycleMgmt.hotPhase.maximumAgeUnitsAriaLabel",defaultMessage:"Maximum age units"}),value:phaseData[_constants.PHASE_ROLLOVER_MAX_AGE_UNITS],onChange:function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(e){return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return setPhaseData(_constants.PHASE_ROLLOVER_MAX_AGE_UNITS,e.target.value);case 2:case"end":return _context5.stop()}}},_callee5,_this2)}));return function(_x5){return _ref5.apply(this,arguments)}}(),options:[{value:"d",text:intl.formatMessage({id:"xpack.indexLifecycleMgmt.hotPhase.daysLabel",defaultMessage:"days"})},{value:"h",text:intl.formatMessage({id:"xpack.indexLifecycleMgmt.hotPhase.hoursLabel",defaultMessage:"hours"})}]}))))):null)}}]);return HotPhaseUi}(_react.PureComponent);HotPhaseUi.propTypes={setPhaseData:_propTypes2.default.func.isRequired,isShowingErrors:_propTypes2.default.bool.isRequired,errors:_propTypes2.default.object.isRequired,phaseData:_propTypes2.default.shape((_PropTypes$shape={},_defineProperty(_PropTypes$shape,_constants.PHASE_ROLLOVER_ALIAS,_propTypes2.default.string.isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_ROLLOVER_MAX_AGE,_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_ROLLOVER_MAX_AGE_UNITS,_propTypes2.default.string.isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_ROLLOVER_MAX_SIZE_STORED,_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS,_propTypes2.default.string.isRequired),_PropTypes$shape)).isRequired};var HotPhase=exports.HotPhase=(0,_react3.injectI18n)(HotPhaseUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActiveBadge=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ActiveBadge=exports.ActiveBadge=function ActiveBadge(){return _react2.default.createElement(_eui.EuiBadge,{className:"eui-alignMiddle"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.activePhaseMessage",defaultMessage:"Active"}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PhaseErrorMessage=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PhaseErrorMessage=exports.PhaseErrorMessage=function PhaseErrorMessage(_ref){var isShowingErrors=_ref.isShowingErrors;return isShowingErrors?_react2.default.createElement(_eui.EuiBadge,{className:"eui-alignMiddle",color:"danger"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.phaseErrorMessage",defaultMessage:"Fix errors"})):null}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OptionalLabel=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var OptionalLabel=exports.OptionalLabel=function OptionalLabel(){return _react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.optionalMessage",defaultMessage:" (optional)"})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getNodeDetails=exports.getNodesFromSelectedNodeAttrs=exports.getSelectedNodeAttrs=exports.getSelectedReplicaCount=exports.getSelectedPrimaryShardCount=exports.getNodeOptions=exports.getNodes=undefined;var _reselect=__webpack_require__(27);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var getNodes=exports.getNodes=function getNodes(state){return state.nodes.nodes};var getNodeOptions=exports.getNodeOptions=(0,_reselect.createSelector)([function(state){return getNodes(state)}],function(nodes){if(!nodes){return null}var options=Object.keys(nodes).map(function(attrs){return{text:attrs+" ("+nodes[attrs].length+")",value:attrs}});options.sort(function(a,b){return a.value.localeCompare(b.value)});if(options.length){return[{text:"Default allocation (don't use attributes)",value:""}].concat(_toConsumableArray(options))}else{return options}});var getSelectedPrimaryShardCount=exports.getSelectedPrimaryShardCount=function getSelectedPrimaryShardCount(state){return state.nodes.selectedPrimaryShardCount};var getSelectedReplicaCount=exports.getSelectedReplicaCount=function getSelectedReplicaCount(state){return state.nodes.selectedReplicaCount!==undefined?state.nodes.selectedReplicaCount:1};var getSelectedNodeAttrs=exports.getSelectedNodeAttrs=function getSelectedNodeAttrs(state){return state.nodes.selectedNodeAttrs};var getNodesFromSelectedNodeAttrs=exports.getNodesFromSelectedNodeAttrs=function getNodesFromSelectedNodeAttrs(state){var nodes=getNodes(state)[getSelectedNodeAttrs(state)];if(nodes){return nodes.length}return null};var getNodeDetails=exports.getNodeDetails=function getNodeDetails(state,selectedNodeAttrs){return state.nodes.details[selectedNodeAttrs]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.phaseToES=exports.policyFromES=exports.phaseFromES=exports.isNumber=exports.splitSizeAndUnits=exports.getPhaseData=exports.getPhase=exports.getPhases=exports.getSelectedPolicyName=exports.getSaveAsNewPolicy=exports.getPageOfPolicies=exports.getPolicyPager=exports.getTotalPolicies=exports.isPolicyListLoaded=exports.getPolicyPageSize=exports.getPolicyCurrentPage=exports.getPolicySort=exports.getPolicyFilter=exports.getSelectedOriginalPolicyName=exports.getIsSelectedPolicySet=exports.getSelectedPolicy=exports.getIsNewPolicy=exports.getPolicies=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _reselect=__webpack_require__(27);var _eui=__webpack_require__(2);var _defaults=__webpack_require__(1279);var _constants=__webpack_require__(55);var _services=__webpack_require__(3959);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getPolicies=exports.getPolicies=function getPolicies(state){return state.policies.policies};var getIsNewPolicy=exports.getIsNewPolicy=function getIsNewPolicy(state){return state.policies.selectedPolicy.isNew};var getSelectedPolicy=exports.getSelectedPolicy=function getSelectedPolicy(state){return state.policies.selectedPolicy};var getIsSelectedPolicySet=exports.getIsSelectedPolicySet=function getIsSelectedPolicySet(state){return state.policies.selectedPolicySet};var getSelectedOriginalPolicyName=exports.getSelectedOriginalPolicyName=function getSelectedOriginalPolicyName(state){return state.policies.originalPolicyName};var getPolicyFilter=exports.getPolicyFilter=function getPolicyFilter(state){return state.policies.filter};var getPolicySort=exports.getPolicySort=function getPolicySort(state){return state.policies.sort};var getPolicyCurrentPage=exports.getPolicyCurrentPage=function getPolicyCurrentPage(state){return state.policies.currentPage};var getPolicyPageSize=exports.getPolicyPageSize=function getPolicyPageSize(state){return state.policies.pageSize};var isPolicyListLoaded=exports.isPolicyListLoaded=function isPolicyListLoaded(state){return state.policies.isLoaded};var getFilteredPolicies=(0,_reselect.createSelector)(getPolicies,getPolicyFilter,function(policies,filter){return(0,_services.filterItems)(["name"],filter,policies)});var getTotalPolicies=exports.getTotalPolicies=(0,_reselect.createSelector)(getFilteredPolicies,function(filteredPolicies){return filteredPolicies.length});var getPolicyPager=exports.getPolicyPager=(0,_reselect.createSelector)(getPolicyCurrentPage,getPolicyPageSize,getTotalPolicies,function(currentPage,pageSize,totalPolicies){return new _eui.Pager(totalPolicies,pageSize,currentPage)});var getPageOfPolicies=exports.getPageOfPolicies=(0,_reselect.createSelector)(getFilteredPolicies,getPolicySort,getPolicyPager,function(filteredPolicies,sort,pager){var sortedPolicies=(0,_services.sortTable)(filteredPolicies,sort.sortField,sort.isSortAscending);var firstItemIndex=pager.firstItemIndex,lastItemIndex=pager.lastItemIndex;var pagedPolicies=sortedPolicies.slice(firstItemIndex,lastItemIndex+1);return pagedPolicies});var getSaveAsNewPolicy=exports.getSaveAsNewPolicy=function getSaveAsNewPolicy(state){return state.policies.selectedPolicy.saveAsNew};var getSelectedPolicyName=exports.getSelectedPolicyName=function getSelectedPolicyName(state){if(!getSaveAsNewPolicy(state)){return getSelectedOriginalPolicyName(state)}return state.policies.selectedPolicy.name};var getPhases=exports.getPhases=function getPhases(state){return state.policies.selectedPolicy.phases};var getPhase=exports.getPhase=function getPhase(state,phase){return getPhases(state)[phase]};var getPhaseData=exports.getPhaseData=function getPhaseData(state,phase,key){if(_constants.PHASE_ATTRIBUTES_THAT_ARE_NUMBERS.includes(key)){return parseInt(getPhase(state,phase)[key])}return getPhase(state,phase)[key]};var splitSizeAndUnits=exports.splitSizeAndUnits=function splitSizeAndUnits(field){var size=void 0;var units=void 0;var result=/(\d+)(\w+)/.exec(field);if(result){size=parseInt(result[1])||0;units=result[2]}return{size:size,units:units}};var isNumber=exports.isNumber=function isNumber(value){return typeof value==="number"};var phaseFromES=exports.phaseFromES=function phaseFromES(phase,phaseName,defaultPolicy){var policy=_extends({},defaultPolicy);if(!phase){return policy}policy[_constants.PHASE_ENABLED]=true;policy[_constants.PHASE_ROLLOVER_ENABLED]=false;if(phase.min_age){if(phaseName===_constants.PHASE_WARM&&phase.min_age==="0ms"){policy[_constants.WARM_PHASE_ON_ROLLOVER]=true}else{var _splitSizeAndUnits=splitSizeAndUnits(phase.min_age),minAge=_splitSizeAndUnits.size,minAgeUnits=_splitSizeAndUnits.units;policy[_constants.PHASE_ROLLOVER_MINIMUM_AGE]=minAge;policy[_constants.PHASE_ROLLOVER_MINIMUM_AGE_UNITS]=minAgeUnits}}if(phaseName===_constants.PHASE_WARM){policy[_constants.PHASE_SHRINK_ENABLED]=!!(phase.actions&&phase.actions.shrink)}if(phase.actions){var actions=phase.actions;if(actions.rollover){var rollover=actions.rollover;policy[_constants.PHASE_ROLLOVER_ENABLED]=true;if(rollover.max_age){var _splitSizeAndUnits2=splitSizeAndUnits(rollover.max_age),maxAge=_splitSizeAndUnits2.size,maxAgeUnits=_splitSizeAndUnits2.units;policy[_constants.PHASE_ROLLOVER_MAX_AGE]=maxAge;policy[_constants.PHASE_ROLLOVER_MAX_AGE_UNITS]=maxAgeUnits}if(rollover.max_size){var _splitSizeAndUnits3=splitSizeAndUnits(rollover.max_size),maxSize=_splitSizeAndUnits3.size,maxSizeUnits=_splitSizeAndUnits3.units;policy[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED]=maxSize;policy[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS]=maxSizeUnits}if(rollover.max_docs){policy[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED]=rollover.max_docs;policy[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS]=_constants.MAX_SIZE_TYPE_DOCUMENT}}if(actions.allocate){var allocate=actions.allocate;if(allocate.require){Object.entries(allocate.require).forEach(function(entry){policy[_constants.PHASE_NODE_ATTRS]=entry.join(":")});if(allocate.number_of_replicas!=null){policy[_constants.PHASE_REPLICA_COUNT]=allocate.number_of_replicas}}}if(actions.forcemerge){var forcemerge=actions.forcemerge;policy[_constants.PHASE_FORCE_MERGE_ENABLED]=true;policy[_constants.PHASE_FORCE_MERGE_SEGMENTS]=forcemerge.max_num_segments}if(actions.shrink){policy[_constants.PHASE_PRIMARY_SHARD_COUNT]=actions.shrink.number_of_shards}}return policy};var policyFromES=exports.policyFromES=function policyFromES(policy){var _phases;var name=policy.name,phases=policy.policy.phases;return{name:name,phases:(_phases={},_defineProperty(_phases,_constants.PHASE_HOT,phaseFromES(phases[_constants.PHASE_HOT],_constants.PHASE_HOT,_defaults.defaultHotPhase)),_defineProperty(_phases,_constants.PHASE_WARM,phaseFromES(phases[_constants.PHASE_WARM],_constants.PHASE_WARM,_defaults.defaultWarmPhase)),_defineProperty(_phases,_constants.PHASE_COLD,phaseFromES(phases[_constants.PHASE_COLD],_constants.PHASE_COLD,_defaults.defaultColdPhase)),_defineProperty(_phases,_constants.PHASE_DELETE,phaseFromES(phases[_constants.PHASE_DELETE],_constants.PHASE_DELETE,_defaults.defaultDeletePhase)),_phases),isNew:false,saveAsNew:false}};var phaseToES=exports.phaseToES=function phaseToES(state,phase){var esPhase={};if(!phase[_constants.PHASE_ENABLED]){return esPhase}if(isNumber(phase[_constants.PHASE_ROLLOVER_MINIMUM_AGE])){esPhase.min_age=""+phase[_constants.PHASE_ROLLOVER_MINIMUM_AGE]+phase[_constants.PHASE_ROLLOVER_MINIMUM_AGE_UNITS]}esPhase.actions={};if(phase[_constants.PHASE_ROLLOVER_ENABLED]){esPhase.actions.rollover={};if(isNumber(phase[_constants.PHASE_ROLLOVER_MAX_AGE])){esPhase.actions.rollover.max_age=""+phase[_constants.PHASE_ROLLOVER_MAX_AGE]+phase[_constants.PHASE_ROLLOVER_MAX_AGE_UNITS]}if(isNumber(phase[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED])){if(phase[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS]===_constants.MAX_SIZE_TYPE_DOCUMENT){esPhase.actions.rollover.max_docs=phase[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED]}else{esPhase.actions.rollover.max_size=""+phase[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED]+phase[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS]}}}if(phase[_constants.PHASE_NODE_ATTRS]){var _phase$PHASE_NODE_ATT=phase[_constants.PHASE_NODE_ATTRS].split(":"),_phase$PHASE_NODE_ATT2=_slicedToArray(_phase$PHASE_NODE_ATT,2),name=_phase$PHASE_NODE_ATT2[0],value=_phase$PHASE_NODE_ATT2[1];esPhase.actions.allocate={require:_defineProperty({},name,value)}}if(isNumber(phase[_constants.PHASE_REPLICA_COUNT])){esPhase.actions.allocate=esPhase.actions.allocate||{};esPhase.actions.allocate.number_of_replicas=phase[_constants.PHASE_REPLICA_COUNT]}if(phase[_constants.PHASE_FORCE_MERGE_ENABLED]){esPhase.actions.forcemerge={max_num_segments:phase[_constants.PHASE_FORCE_MERGE_SEGMENTS]}}if(phase[_constants.PHASE_SHRINK_ENABLED]&&isNumber(phase[_constants.PHASE_PRIMARY_SHARD_COUNT])){esPhase.actions.shrink={number_of_shards:phase[_constants.PHASE_PRIMARY_SHARD_COUNT]}}return esPhase}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defaultDeletePhase=undefined;var _defaultDeletePhase;var _constants=__webpack_require__(55);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var defaultDeletePhase=exports.defaultDeletePhase=(_defaultDeletePhase={},_defineProperty(_defaultDeletePhase,_constants.PHASE_ENABLED,false),_defineProperty(_defaultDeletePhase,_constants.PHASE_ROLLOVER_ENABLED,false),_defineProperty(_defaultDeletePhase,_constants.PHASE_ROLLOVER_ALIAS,""),_defineProperty(_defaultDeletePhase,_constants.PHASE_ROLLOVER_MINIMUM_AGE,""),_defineProperty(_defaultDeletePhase,_constants.PHASE_ROLLOVER_MINIMUM_AGE_UNITS,"d"),_defaultDeletePhase)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defaultColdPhase=undefined;var _defaultColdPhase;var _constants=__webpack_require__(55);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var defaultColdPhase=exports.defaultColdPhase=(_defaultColdPhase={},_defineProperty(_defaultColdPhase,_constants.PHASE_ENABLED,false),_defineProperty(_defaultColdPhase,_constants.PHASE_ROLLOVER_ALIAS,""),_defineProperty(_defaultColdPhase,_constants.PHASE_ROLLOVER_MINIMUM_AGE,""),_defineProperty(_defaultColdPhase,_constants.PHASE_ROLLOVER_MINIMUM_AGE_UNITS,"d"),_defineProperty(_defaultColdPhase,_constants.PHASE_NODE_ATTRS,""),_defineProperty(_defaultColdPhase,_constants.PHASE_REPLICA_COUNT,""),_defaultColdPhase)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defaultHotPhase=undefined;var _defaultHotPhase;var _constants=__webpack_require__(55);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var defaultHotPhase=exports.defaultHotPhase=(_defaultHotPhase={},_defineProperty(_defaultHotPhase,_constants.PHASE_ENABLED,true),_defineProperty(_defaultHotPhase,_constants.PHASE_ROLLOVER_ENABLED,true),_defineProperty(_defaultHotPhase,_constants.PHASE_ROLLOVER_ALIAS,""),_defineProperty(_defaultHotPhase,_constants.PHASE_ROLLOVER_MAX_AGE,30),_defineProperty(_defaultHotPhase,_constants.PHASE_ROLLOVER_MAX_AGE_UNITS,"d"),_defineProperty(_defaultHotPhase,_constants.PHASE_ROLLOVER_MAX_SIZE_STORED,50),_defineProperty(_defaultHotPhase,_constants.PHASE_ROLLOVER_MAX_SIZE_STORED_UNITS,"gb"),_defaultHotPhase)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defaultWarmPhase=undefined;var _defaultWarmPhase;var _constants=__webpack_require__(55);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var defaultWarmPhase=exports.defaultWarmPhase=(_defaultWarmPhase={},_defineProperty(_defaultWarmPhase,_constants.PHASE_ENABLED,false),_defineProperty(_defaultWarmPhase,_constants.PHASE_ROLLOVER_ALIAS,""),_defineProperty(_defaultWarmPhase,_constants.PHASE_FORCE_MERGE_SEGMENTS,""),_defineProperty(_defaultWarmPhase,_constants.PHASE_FORCE_MERGE_ENABLED,false),_defineProperty(_defaultWarmPhase,_constants.PHASE_ROLLOVER_MINIMUM_AGE,""),_defineProperty(_defaultWarmPhase,_constants.PHASE_ROLLOVER_MINIMUM_AGE_UNITS,"d"),_defineProperty(_defaultWarmPhase,_constants.PHASE_NODE_ATTRS,""),_defineProperty(_defaultWarmPhase,_constants.PHASE_SHRINK_ENABLED,false),_defineProperty(_defaultWarmPhase,_constants.PHASE_PRIMARY_SHARD_COUNT,""),_defineProperty(_defaultWarmPhase,_constants.PHASE_REPLICA_COUNT,""),_defineProperty(_defaultWarmPhase,_constants.WARM_PHASE_ON_ROLLOVER,true),_defaultWarmPhase)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _filter_items=__webpack_require__(3960);Object.defineProperty(exports,"filterItems",{enumerable:true,get:function get(){return _filter_items.filterItems}});var _sort_table=__webpack_require__(3961);Object.defineProperty(exports,"sortTable",{enumerable:true,get:function get(){return _sort_table.sortTable}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var filterItems=exports.filterItems=function filterItems(fields){var filter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var items=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var lowerFilter=filter.toLowerCase();return items.filter(function(item){var actualFields=fields||Object.keys(item);var indexOfMatch=actualFields.findIndex(function(field){var normalizedField=String(item[field]).toLowerCase();return normalizedField.includes(lowerFilter)});return indexOfMatch!==-1})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sortTable=undefined;var _lodash=__webpack_require__(1);var stringSort=function stringSort(fieldName){return function(item){return item[fieldName]}};var arraySort=function arraySort(fieldName){return function(item){return(item[fieldName]||[]).length}};var sorters={version:stringSort("version"),name:stringSort("name"),linkedIndices:arraySort("linkedIndices"),modified_date:stringSort("modified_date")};var sortTable=exports.sortTable=function sortTable(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var sortField=arguments[1];var isSortAscending=arguments[2];var sorted=(0,_lodash.sortBy)(array,sorters[sortField]);return isSortAscending?sorted:sorted.reverse()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLifecycle=exports.validateLifecycle=exports.policyNameAlreadyUsedErrorMessage=exports.policyNameMustBeDifferentErrorMessage=exports.policyNameTooLongErrorMessage=exports.policyNameContainsSpaceErrorMessage=exports.policyNameContainsCommaErrorMessage=exports.policyNameStartsWithUnderscoreErrorMessage=exports.policyNameRequiredMessage=exports.validatePhase=exports.positiveNumbersAboveZeroErrorMessage=exports.maximumSizeRequiredMessage=exports.maximumAgeRequiredMessage=exports.positiveNumberRequiredMessage=exports.numberRequiredMessage=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _i18n=__webpack_require__(9);var _constants=__webpack_require__(55);var _=__webpack_require__(249);var numberRequiredMessage=exports.numberRequiredMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.numberRequiredError",{defaultMessage:"A number is required."});var positiveNumberRequiredMessage=exports.positiveNumberRequiredMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.positiveNumberRequiredError",{defaultMessage:"Only positive numbers are allowed."});var maximumAgeRequiredMessage=exports.maximumAgeRequiredMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.maximumAgeMissingError",{defaultMessage:"A maximum age is required."});var maximumSizeRequiredMessage=exports.maximumSizeRequiredMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.maximumIndexSizeMissingError",{defaultMessage:"A maximum index size is required."});var positiveNumbersAboveZeroErrorMessage=exports.positiveNumbersAboveZeroErrorMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.positiveNumberAboveZeroRequiredError",{defaultMessage:"Only numbers above 0 are allowed."});var validatePhase=exports.validatePhase=function validatePhase(type,phase,errors){var phaseErrors={};if(!phase[_constants.PHASE_ENABLED]){return}var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_constants.PHASE_ATTRIBUTES_THAT_ARE_NUMBERS_VALIDATE[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var numberedAttribute=_step.value;if(phase.hasOwnProperty(numberedAttribute)){if(numberedAttribute===_constants.PHASE_ROLLOVER_MINIMUM_AGE&&(phase[_constants.WARM_PHASE_ON_ROLLOVER]||type===_constants.PHASE_HOT)){continue}if(numberedAttribute===_constants.PHASE_PRIMARY_SHARD_COUNT&&!phase[_constants.PHASE_SHRINK_ENABLED]){continue}if(numberedAttribute===_constants.PHASE_FORCE_MERGE_SEGMENTS&&!phase[_constants.PHASE_FORCE_MERGE_ENABLED]){continue}if(numberedAttribute===_constants.PHASE_REPLICA_COUNT&&!phase[numberedAttribute]){continue}if(!(0,_.isNumber)(phase[numberedAttribute])){phaseErrors[numberedAttribute]=[numberRequiredMessage]}else if(phase[numberedAttribute]<0){phaseErrors[numberedAttribute]=[positiveNumberRequiredMessage]}else if((numberedAttribute===_constants.PHASE_ROLLOVER_MINIMUM_AGE||numberedAttribute===_constants.PHASE_PRIMARY_SHARD_COUNT)&&phase[numberedAttribute]<1){phaseErrors[numberedAttribute]=[positiveNumbersAboveZeroErrorMessage]}}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}if(phase[_constants.PHASE_ROLLOVER_ENABLED]){if(!(0,_.isNumber)(phase[_constants.PHASE_ROLLOVER_MAX_AGE])&&!(0,_.isNumber)(phase[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED])){phaseErrors[_constants.PHASE_ROLLOVER_MAX_AGE]=[maximumAgeRequiredMessage];phaseErrors[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED]=[maximumSizeRequiredMessage]}if((0,_.isNumber)(phase[_constants.PHASE_ROLLOVER_MAX_AGE])&&phase[_constants.PHASE_ROLLOVER_MAX_AGE]<1){phaseErrors[_constants.PHASE_ROLLOVER_MAX_AGE]=[positiveNumbersAboveZeroErrorMessage]}if((0,_.isNumber)(phase[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED])&&phase[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED]<1){phaseErrors[_constants.PHASE_ROLLOVER_MAX_SIZE_STORED]=[positiveNumbersAboveZeroErrorMessage]}}if(phase[_constants.PHASE_SHRINK_ENABLED]){if(!(0,_.isNumber)(phase[_constants.PHASE_PRIMARY_SHARD_COUNT])){phaseErrors[_constants.PHASE_PRIMARY_SHARD_COUNT]=[numberRequiredMessage]}else if(phase[_constants.PHASE_PRIMARY_SHARD_COUNT]<1){phaseErrors[_constants.PHASE_PRIMARY_SHARD_COUNT]=[positiveNumbersAboveZeroErrorMessage]}}if(phase[_constants.PHASE_FORCE_MERGE_ENABLED]){if(!(0,_.isNumber)(phase[_constants.PHASE_FORCE_MERGE_SEGMENTS])){phaseErrors[_constants.PHASE_FORCE_MERGE_SEGMENTS]=[numberRequiredMessage]}else if(phase[_constants.PHASE_FORCE_MERGE_SEGMENTS]<1){phaseErrors[_constants.PHASE_FORCE_MERGE_SEGMENTS]=[positiveNumbersAboveZeroErrorMessage]}}errors[type]=_extends({},errors[type],phaseErrors)};var policyNameRequiredMessage=exports.policyNameRequiredMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.policyNameRequiredError",{defaultMessage:"A policy name is required."});var policyNameStartsWithUnderscoreErrorMessage=exports.policyNameStartsWithUnderscoreErrorMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.policyNameStartsWithUnderscoreError",{defaultMessage:"A policy name cannot start with an underscore."});var policyNameContainsCommaErrorMessage=exports.policyNameContainsCommaErrorMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.policyNameContainsCommaError",{defaultMessage:"A policy name cannot include a comma."});var policyNameContainsSpaceErrorMessage=exports.policyNameContainsSpaceErrorMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.policyNameContainsSpaceError",{defaultMessage:"A policy name cannot include a space."});var policyNameTooLongErrorMessage=exports.policyNameTooLongErrorMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.policyNameTooLongError",{defaultMessage:"A policy name cannot be longer than 255 bytes."});var policyNameMustBeDifferentErrorMessage=exports.policyNameMustBeDifferentErrorMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.differentPolicyNameRequiredError",{defaultMessage:"The policy name must be different."});var policyNameAlreadyUsedErrorMessage=exports.policyNameAlreadyUsedErrorMessage=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.policyNameAlreadyUsedError",{defaultMessage:"That policy name is already used."});var validateLifecycle=exports.validateLifecycle=function validateLifecycle(state){var errors=JSON.parse(JSON.stringify(_constants.ERROR_STRUCTURE));var policyName=(0,_.getSelectedPolicyName)(state);if(!policyName){errors[_constants.STRUCTURE_POLICY_NAME].push(policyNameRequiredMessage)}else{if(policyName.startsWith("_")){errors[_constants.STRUCTURE_POLICY_NAME].push(policyNameStartsWithUnderscoreErrorMessage)}if(policyName.includes(",")){errors[_constants.STRUCTURE_POLICY_NAME].push(policyNameContainsCommaErrorMessage)}if(policyName.includes(" ")){errors[_constants.STRUCTURE_POLICY_NAME].push(policyNameContainsSpaceErrorMessage)}if(window.TextEncoder&&new window.TextEncoder("utf-8").encode(policyName).length>255){errors[_constants.STRUCTURE_POLICY_NAME].push(policyNameTooLongErrorMessage)}}if((0,_.getSaveAsNewPolicy)(state)&&(0,_.getSelectedOriginalPolicyName)(state)===(0,_.getSelectedPolicyName)(state)){errors[_constants.STRUCTURE_POLICY_NAME].push(policyNameMustBeDifferentErrorMessage)}else if((0,_.getSelectedOriginalPolicyName)(state)!==(0,_.getSelectedPolicyName)(state)){var policyNames=(0,_.getPolicies)(state).map(function(policy){return policy.name});if(policyNames.includes((0,_.getSelectedPolicyName)(state))){errors[_constants.STRUCTURE_POLICY_NAME].push(policyNameAlreadyUsedErrorMessage)}}var hotPhase=(0,_.getPhase)(state,_constants.PHASE_HOT);var warmPhase=(0,_.getPhase)(state,_constants.PHASE_WARM);var coldPhase=(0,_.getPhase)(state,_constants.PHASE_COLD);var deletePhase=(0,_.getPhase)(state,_constants.PHASE_DELETE);validatePhase(_constants.PHASE_HOT,hotPhase,errors);validatePhase(_constants.PHASE_WARM,warmPhase,errors);validatePhase(_constants.PHASE_COLD,coldPhase,errors);validatePhase(_constants.PHASE_DELETE,deletePhase,errors);return errors};var getLifecycle=exports.getLifecycle=function getLifecycle(state){var phases=Object.entries((0,_.getPhases)(state)).reduce(function(accum,_ref){var _ref2=_slicedToArray(_ref,2),phaseName=_ref2[0],phase=_ref2[1];if(phaseName===_constants.PHASE_HOT){phase[_constants.PHASE_ENABLED]=true}if(phase[_constants.PHASE_ENABLED]){accum[phaseName]=(0,_.phaseToES)(state,phase);if(phaseName===_constants.PHASE_DELETE){accum[phaseName].actions=_extends({},accum[phaseName].actions,{delete:{}})}}return accum},{});return{name:(0,_.getSelectedPolicyName)(state),phases:phases}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var getBootstrapEnabled=exports.getBootstrapEnabled=function getBootstrapEnabled(state){return state.general.bootstrapEnabled};var getIndexName=exports.getIndexName=function getIndexName(state){return state.general.indexName};var getAliasName=exports.getAliasName=function getAliasName(state){return state.general.aliasName}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setPhaseData=exports.fetchPolicies=exports.policyFilterChanged=exports.policySortDirectionChanged=exports.policyPageChanged=exports.policyPageSizeChanged=exports.policySortChanged=exports.setSaveAsNewPolicy=exports.setSelectedPolicyName=exports.unsetSelectedPolicy=exports.setSelectedPolicy=exports.fetchedPolicies=undefined;var _i18n=__webpack_require__(9);var _api_errors=__webpack_require__(317);var _reduxActions=__webpack_require__(25);var _api=__webpack_require__(267);var _constants=__webpack_require__(55);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var fetchedPolicies=exports.fetchedPolicies=(0,_reduxActions.createAction)("FETCHED_POLICIES");var setSelectedPolicy=exports.setSelectedPolicy=(0,_reduxActions.createAction)("SET_SELECTED_POLICY");var unsetSelectedPolicy=exports.unsetSelectedPolicy=(0,_reduxActions.createAction)("UNSET_SELECTED_POLICY");var setSelectedPolicyName=exports.setSelectedPolicyName=(0,_reduxActions.createAction)("SET_SELECTED_POLICY_NAME");var setSaveAsNewPolicy=exports.setSaveAsNewPolicy=(0,_reduxActions.createAction)("SET_SAVE_AS_NEW_POLICY");var policySortChanged=exports.policySortChanged=(0,_reduxActions.createAction)("POLICY_SORT_CHANGED");var policyPageSizeChanged=exports.policyPageSizeChanged=(0,_reduxActions.createAction)("POLICY_PAGE_SIZE_CHANGED");var policyPageChanged=exports.policyPageChanged=(0,_reduxActions.createAction)("POLICY_PAGE_CHANGED");var policySortDirectionChanged=exports.policySortDirectionChanged=(0,_reduxActions.createAction)("POLICY_SORT_DIRECTION_CHANGED");var policyFilterChanged=exports.policyFilterChanged=(0,_reduxActions.createAction)("POLICY_FILTER_CHANGED");var fetchPolicies=exports.fetchPolicies=function fetchPolicies(withIndices,callback){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var policies,title;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:policies=void 0;_context.prev=1;_context.next=4;return(0,_api.loadPolicies)(withIndices);case 4:policies=_context.sent;_context.next=12;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);title=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.loadPolicyErrorMessage",{defaultMessage:"Error loading policies"});(0,_api_errors.showApiError)(_context.t0,title);return _context.abrupt("return",false);case 12:dispatch(fetchedPolicies(policies));if(policies.length===0){dispatch(setSelectedPolicy())}callback&&callback();return _context.abrupt("return",policies);case 16:case"end":return _context.stop()}}},_callee,undefined,[[1,7]])}));return function(_x){return _ref.apply(this,arguments)}}()};var setPhaseData=exports.setPhaseData=(0,_reduxActions.createAction)(_constants.SET_PHASE_DATA,function(phase,key,value){return{phase:phase,key:key,value:value}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.saveLifecyclePolicy=undefined;var _i18n=__webpack_require__(9);var _notify=__webpack_require__(10);var _api_errors=__webpack_require__(317);var _api=__webpack_require__(267);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var saveLifecyclePolicy=exports.saveLifecyclePolicy=function saveLifecyclePolicy(lifecycle,isNew){return _asyncToGenerator(regeneratorRuntime.mark(function _callee(){var title,message;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_api.saveLifecycle)(lifecycle);case 3:_context.next=10;break;case 5:_context.prev=5;_context.t0=_context["catch"](0);title=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.saveErrorMessage",{defaultMessage:"Error saving lifecycle policy {lifecycleName}",values:{lifecycleName:lifecycle.name}});(0,_api_errors.showApiError)(_context.t0,title);return _context.abrupt("return",false);case 10:message=_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.successfulSaveMessage",{defaultMessage:'{verb} lifecycle policy "{lifecycleName}"',values:{verb:isNew?_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.createdMessage",{defaultMessage:"Created"}):_i18n.i18n.translate("xpack.indexLifecycleMgmt.editPolicy.updatedMessage",{defaultMessage:"Updated"}),lifecycleName:lifecycle.name}});_notify.toastNotifications.addSuccess(message);return _context.abrupt("return",true);case 13:case"end":return _context.stop()}}},_callee,undefined,[[0,5]])}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _warm_phase=__webpack_require__(3967);Object.defineProperty(exports,"WarmPhase",{enumerable:true,get:function get(){return _warm_phase.WarmPhase}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WarmPhase=undefined;var _reactRedux=__webpack_require__(14);var _warm_phase=__webpack_require__(3968);var _selectors=__webpack_require__(249);var _actions=__webpack_require__(268);var _constants=__webpack_require__(55);var WarmPhase=exports.WarmPhase=(0,_reactRedux.connect)(function(state){return{phaseData:(0,_selectors.getPhase)(state,_constants.PHASE_WARM),hotPhaseRolloverEnabled:(0,_selectors.getPhase)(state,_constants.PHASE_HOT)[_constants.PHASE_ROLLOVER_ENABLED]}},{setPhaseData:function setPhaseData(key,value){return(0,_actions.setPhaseData)(_constants.PHASE_WARM,key,value)}})(_warm_phase.WarmPhase)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WarmPhase=undefined;var _PropTypes$shape;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _constants=__webpack_require__(55);var _node_allocation=__webpack_require__(1282);var _form_errors=__webpack_require__(366);var _components=__webpack_require__(365);var _min_age_input=__webpack_require__(781);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var WarmPhaseUi=function(_PureComponent){_inherits(WarmPhaseUi,_PureComponent);function WarmPhaseUi(){_classCallCheck(this,WarmPhaseUi);return _possibleConstructorReturn(this,(WarmPhaseUi.__proto__||Object.getPrototypeOf(WarmPhaseUi)).apply(this,arguments))}_createClass(WarmPhaseUi,[{key:"render",value:function render(){var _this2=this;var _props=this.props,setPhaseData=_props.setPhaseData,showNodeDetailsFlyout=_props.showNodeDetailsFlyout,phaseData=_props.phaseData,errors=_props.errors,isShowingErrors=_props.isShowingErrors,hotPhaseRolloverEnabled=_props.hotPhaseRolloverEnabled,intl=_props.intl;var shrinkLabel=intl.formatMessage({id:"xpack.indexLifecycleMgmt.warmPhase.shrinkIndexLabel",defaultMessage:"Shrink index"});var moveToWarmPhaseOnRolloverLabel=intl.formatMessage({id:"xpack.indexLifecycleMgmt.warmPhase.moveToWarmPhaseOnRolloverLabel",defaultMessage:"Move to warm phase on rollover"});var forcemergeLabel=intl.formatMessage({id:"xpack.indexLifecycleMgmt.warmPhase.forceMergeDataLabel",defaultMessage:"Force merge data"});return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("div",null,_react2.default.createElement("span",{className:"eui-displayInlineBlock eui-alignMiddle"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.warmPhaseLabel",defaultMessage:"Warm phase"}))," ",phaseData[_constants.PHASE_ENABLED]&&!isShowingErrors?_react2.default.createElement(_components.ActiveBadge,null):null,_react2.default.createElement(_components.PhaseErrorMessage,{isShowingErrors:isShowingErrors})),titleSize:"s",description:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.warmPhaseDescriptionMessage",defaultMessage:"You are still querying your index, but it is read-only, and you are no longer updating it.  You can allocate shards to less performant hardware. For faster searches, you can reduce the number of shards and force merge segments."})),phaseData[_constants.PHASE_ENABLED]?_react2.default.createElement(_eui.EuiButton,{color:"danger",onClick:_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return setPhaseData(_constants.PHASE_ENABLED,false);case 2:case"end":return _context.stop()}}},_callee,_this2)})),"aria-controls":"warmPhaseContent"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.deactivateWarmPhaseButton",defaultMessage:"Deactivate warm phase"})):_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"activatePhaseButton-warm",onClick:_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return setPhaseData(_constants.PHASE_ENABLED,true);case 2:case"end":return _context2.stop()}}},_callee2,_this2)})),"aria-controls":"warmPhaseContent"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.activateWarmPhaseButton",defaultMessage:"Activate warm phase"}))),fullWidth:true},_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("div",{id:"warmPhaseContent","aria-live":"polite",role:"region"},phaseData[_constants.PHASE_ENABLED]?_react2.default.createElement(_react.Fragment,null,hotPhaseRolloverEnabled?_react2.default.createElement(_eui.EuiFormRow,{id:_constants.PHASE_WARM+"-"+_constants.WARM_PHASE_ON_ROLLOVER},_react2.default.createElement(_eui.EuiSwitch,{"data-test-subj":"warmPhaseOnRolloverSwitch",label:moveToWarmPhaseOnRolloverLabel,id:_constants.PHASE_WARM+"-"+_constants.WARM_PHASE_ON_ROLLOVER,checked:phaseData[_constants.WARM_PHASE_ON_ROLLOVER],onChange:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return setPhaseData(_constants.WARM_PHASE_ON_ROLLOVER,e.target.checked);case 2:case"end":return _context3.stop()}}},_callee3,_this2)}));return function(_x){return _ref3.apply(this,arguments)}}()})):null,!phaseData[_constants.WARM_PHASE_ON_ROLLOVER]?_react2.default.createElement(_min_age_input.MinAgeInput,{errors:errors,phaseData:phaseData,phase:_constants.PHASE_WARM,isShowingErrors:isShowingErrors,setPhaseData:setPhaseData,rolloverEnabled:hotPhaseRolloverEnabled}):null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_node_allocation.NodeAllocation,{phase:_constants.PHASE_WARM,setPhaseData:setPhaseData,showNodeDetailsFlyout:showNodeDetailsFlyout,errors:errors,phaseData:phaseData,isShowingErrors:isShowingErrors}),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false,style:{maxWidth:188}},_react2.default.createElement(_form_errors.ErrableFormRow,{id:_constants.PHASE_WARM+"-"+_constants.PHASE_REPLICA_COUNT,label:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.warmPhase.numberOfReplicasLabel",defaultMessage:"Number of replicas"}),_react2.default.createElement(_components.OptionalLabel,null)),errorKey:_constants.PHASE_REPLICA_COUNT,isShowingErrors:isShowingErrors,errors:errors,helpText:intl.formatMessage({id:"xpack.indexLifecycleMgmt.warmPhase.replicaCountHelpText",defaultMessage:"By default, the number of replicas remains the same."})},_react2.default.createElement(_eui.EuiFieldNumber,{id:_constants.PHASE_WARM+"-"+_constants.PHASE_REPLICA_COUNT,value:phaseData[_constants.PHASE_REPLICA_COUNT],onChange:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return setPhaseData(_constants.PHASE_REPLICA_COUNT,e.target.value);case 2:case"end":return _context4.stop()}}},_callee4,_this2)}));return function(_x2){return _ref4.apply(this,arguments)}}(),min:0})))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"})):null))),phaseData[_constants.PHASE_ENABLED]?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.shrinkText",defaultMessage:"Shrink"})),description:_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.shrinkIndexExplanationText",defaultMessage:"Shrink the index into a new index with fewer primary shards."})," ",_react2.default.createElement(_components.LearnMoreLink,{docPath:"indices-shrink-index.html#indices-shrink-index"})),fullWidth:true,titleSize:"xs"},_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSwitch,{"data-test-subj":"shrinkSwitch",checked:phaseData[_constants.PHASE_SHRINK_ENABLED],onChange:function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(e){return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return setPhaseData(_constants.PHASE_SHRINK_ENABLED,e.target.checked);case 2:case"end":return _context5.stop()}}},_callee5,_this2)}));return function(_x3){return _ref5.apply(this,arguments)}}(),label:shrinkLabel,"aria-label":shrinkLabel,"aria-controls":"shrinkContent"}),_react2.default.createElement("div",{id:"shrinkContent","aria-live":"polite",role:"region"},phaseData[_constants.PHASE_SHRINK_ENABLED]?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_form_errors.ErrableFormRow,{id:_constants.PHASE_WARM+"-"+_constants.PHASE_PRIMARY_SHARD_COUNT,label:intl.formatMessage({id:"xpack.indexLifecycleMgmt.warmPhase.numberOfPrimaryShardsLabel",defaultMessage:"Number of primary shards"}),errorKey:_constants.PHASE_PRIMARY_SHARD_COUNT,isShowingErrors:isShowingErrors,errors:errors},_react2.default.createElement(_eui.EuiFieldNumber,{id:_constants.PHASE_WARM+"-"+_constants.PHASE_PRIMARY_SHARD_COUNT,value:phaseData[_constants.PHASE_PRIMARY_SHARD_COUNT],onChange:function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(e){return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return setPhaseData(_constants.PHASE_PRIMARY_SHARD_COUNT,e.target.value);case 2:case"end":return _context6.stop()}}},_callee6,_this2)}));return function(_x4){return _ref6.apply(this,arguments)}}(),min:1})))),_react2.default.createElement(_eui.EuiSpacer,null)):null))),_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.forceMergeDataText",defaultMessage:"Force merge"})),description:_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.warmPhase.forceMergeDataExplanationText",defaultMessage:"Reduce the number of segments in your shard by merging smaller files and clearing deleted ones."})," ",_react2.default.createElement(_components.LearnMoreLink,{docPath:"indices-forcemerge.html"})),titleSize:"xs",fullWidth:true},_react2.default.createElement(_eui.EuiSwitch,{"data-test-subj":"forceMergeSwitch",label:forcemergeLabel,"aria-label":forcemergeLabel,checked:phaseData[_constants.PHASE_FORCE_MERGE_ENABLED],onChange:function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(e){return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return setPhaseData(_constants.PHASE_FORCE_MERGE_ENABLED,e.target.checked);case 2:case"end":return _context7.stop()}}},_callee7,_this2)}));return function(_x5){return _ref7.apply(this,arguments)}}(),"aria-controls":"forcemergeContent"}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement("div",{id:"forcemergeContent","aria-live":"polite",role:"region"},phaseData[_constants.PHASE_FORCE_MERGE_ENABLED]?_react2.default.createElement(_form_errors.ErrableFormRow,{id:_constants.PHASE_WARM+"-"+_constants.PHASE_FORCE_MERGE_SEGMENTS,label:intl.formatMessage({id:"xpack.indexLifecycleMgmt.warmPhase.numberOfSegmentsLabel",defaultMessage:"Number of segments"}),errorKey:_constants.PHASE_FORCE_MERGE_SEGMENTS,isShowingErrors:isShowingErrors,errors:errors},_react2.default.createElement(_eui.EuiFieldNumber,{id:_constants.PHASE_WARM+"-"+_constants.PHASE_FORCE_MERGE_SEGMENTS,value:phaseData[_constants.PHASE_FORCE_MERGE_SEGMENTS],onChange:function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(e){return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return setPhaseData(_constants.PHASE_FORCE_MERGE_SEGMENTS,e.target.value);case 2:case"end":return _context8.stop()}}},_callee8,_this2)}));return function(_x6){return _ref8.apply(this,arguments)}}(),min:1})):null))):null)}}]);return WarmPhaseUi}(_react.PureComponent);WarmPhaseUi.propTypes={setPhaseData:_propTypes2.default.func.isRequired,showNodeDetailsFlyout:_propTypes2.default.func.isRequired,isShowingErrors:_propTypes2.default.bool.isRequired,errors:_propTypes2.default.object.isRequired,phaseData:_propTypes2.default.shape((_PropTypes$shape={},_defineProperty(_PropTypes$shape,_constants.PHASE_ENABLED,_propTypes2.default.bool.isRequired),_defineProperty(_PropTypes$shape,_constants.WARM_PHASE_ON_ROLLOVER,_propTypes2.default.bool.isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_ROLLOVER_ALIAS,_propTypes2.default.string.isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_FORCE_MERGE_ENABLED,_propTypes2.default.bool.isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_FORCE_MERGE_SEGMENTS,_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_NODE_ATTRS,_propTypes2.default.string.isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_PRIMARY_SHARD_COUNT,_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_REPLICA_COUNT,_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_ROLLOVER_MINIMUM_AGE,_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_ROLLOVER_MINIMUM_AGE_UNITS,_propTypes2.default.string.isRequired),_PropTypes$shape)).isRequired};var WarmPhase=exports.WarmPhase=(0,_react3.injectI18n)(WarmPhaseUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeAllocation=undefined;var _reactRedux=__webpack_require__(14);var _node_allocation=__webpack_require__(3970);var _selectors=__webpack_require__(249);var _actions=__webpack_require__(268);var NodeAllocation=exports.NodeAllocation=(0,_reactRedux.connect)(function(state){return{nodeOptions:(0,_selectors.getNodeOptions)(state)}},{fetchNodes:_actions.fetchNodes})(_node_allocation.NodeAllocation)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeAllocation=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);var _constants=__webpack_require__(55);var _form_errors=__webpack_require__(366);var _learn_more_link=__webpack_require__(780);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var learnMoreLinks=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_learn_more_link.LearnMoreLink,{text:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.learnAboutShardAllocationLink",defaultMessage:"Learn about shard allocation"}),docPath:"shards-allocation.html"}));var NodeAllocationUi=function(_Component){_inherits(NodeAllocationUi,_Component);function NodeAllocationUi(){_classCallCheck(this,NodeAllocationUi);return _possibleConstructorReturn(this,(NodeAllocationUi.__proto__||Object.getPrototypeOf(NodeAllocationUi)).apply(this,arguments))}_createClass(NodeAllocationUi,[{key:"componentDidMount",value:function componentDidMount(){this.props.fetchNodes()}},{key:"render",value:function render(){var _this2=this;var _props=this.props,phase=_props.phase,setPhaseData=_props.setPhaseData,intl=_props.intl,isShowingErrors=_props.isShowingErrors,phaseData=_props.phaseData,showNodeDetailsFlyout=_props.showNodeDetailsFlyout,nodeOptions=_props.nodeOptions,errors=_props.errors;if(!nodeOptions){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))}if(!nodeOptions.length){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{style:{maxWidth:400},title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.nodeAttributesMissingLabel",defaultMessage:"No node attributes configured in elasticsearch.yml"}),color:"warning"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.nodeAttributesMissingDescription",defaultMessage:"You can't control shard allocation without node attributes."}),learnMoreLinks),_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}))}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_form_errors.ErrableFormRow,{id:phase+"-"+_constants.PHASE_NODE_ATTRS,label:intl.formatMessage({id:"xpack.indexLifecycleMgmt.editPolicy.nodeAllocationLabel",defaultMessage:"Select a node attribute to control shard allocation"}),errorKey:_constants.PHASE_NODE_ATTRS,isShowingErrors:isShowingErrors,errors:errors},_react2.default.createElement(_eui.EuiSelect,{id:phase+"-"+_constants.PHASE_NODE_ATTRS,value:phaseData[_constants.PHASE_NODE_ATTRS]||" ",options:nodeOptions,onChange:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return setPhaseData(_constants.PHASE_NODE_ATTRS,e.target.value);case 2:case"end":return _context.stop()}}},_callee,_this2)}));return function(_x){return _ref.apply(this,arguments)}}()})),!!phaseData[_constants.PHASE_NODE_ATTRS]?_react2.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":phase+"-viewNodeDetailsFlyoutButton",flush:"left",iconType:"eye",onClick:function onClick(){return showNodeDetailsFlyout(phaseData[_constants.PHASE_NODE_ATTRS])}},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.viewNodeDetailsButton",defaultMessage:"View a list of nodes attached to this configuration"})):_react2.default.createElement("div",null),learnMoreLinks,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))}}]);return NodeAllocationUi}(_react.Component);var NodeAllocation=exports.NodeAllocation=(0,_react3.injectI18n)(NodeAllocationUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _delete_phase=__webpack_require__(3972);Object.defineProperty(exports,"DeletePhase",{enumerable:true,get:function get(){return _delete_phase.DeletePhase}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DeletePhase=undefined;var _reactRedux=__webpack_require__(14);var _delete_phase=__webpack_require__(3973);var _selectors=__webpack_require__(249);var _actions=__webpack_require__(268);var _constants=__webpack_require__(55);var DeletePhase=exports.DeletePhase=(0,_reactRedux.connect)(function(state){return{phaseData:(0,_selectors.getPhase)(state,_constants.PHASE_DELETE),hotPhaseRolloverEnabled:(0,_selectors.getPhase)(state,_constants.PHASE_HOT)[_constants.PHASE_ROLLOVER_ENABLED]}},{setPhaseData:function setPhaseData(key,value){return(0,_actions.setPhaseData)(_constants.PHASE_DELETE,key,value)}})(_delete_phase.DeletePhase)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DeletePhase=undefined;var _PropTypes$shape;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _min_age_input=__webpack_require__(781);var _eui=__webpack_require__(2);var _constants=__webpack_require__(55);var _components=__webpack_require__(365);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DeletePhase=exports.DeletePhase=function(_PureComponent){_inherits(DeletePhase,_PureComponent);function DeletePhase(){_classCallCheck(this,DeletePhase);return _possibleConstructorReturn(this,(DeletePhase.__proto__||Object.getPrototypeOf(DeletePhase)).apply(this,arguments))}_createClass(DeletePhase,[{key:"render",value:function render(){var _this2=this;var _props=this.props,setPhaseData=_props.setPhaseData,phaseData=_props.phaseData,errors=_props.errors,isShowingErrors=_props.isShowingErrors,hotPhaseRolloverEnabled=_props.hotPhaseRolloverEnabled;return _react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("div",null,_react2.default.createElement("span",{className:"eui-displayInlineBlock eui-alignMiddle"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.deletePhase.deletePhaseLabel",defaultMessage:"Delete phase"}))," ",phaseData[_constants.PHASE_ENABLED]&&!isShowingErrors?_react2.default.createElement(_components.ActiveBadge,null):null,_react2.default.createElement(_components.PhaseErrorMessage,{isShowingErrors:isShowingErrors})),titleSize:"s",description:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.deletePhase.deletePhaseDescriptionText",defaultMessage:"You no longer need your index.  You can define when it is safe to delete it."})),phaseData[_constants.PHASE_ENABLED]?_react2.default.createElement(_eui.EuiButton,{color:"danger",onClick:_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return setPhaseData(_constants.PHASE_ENABLED,false);case 2:case"end":return _context.stop()}}},_callee,_this2)})),"aria-controls":"deletePhaseContent"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.deletePhase.deactivateDeletePhaseButton",defaultMessage:"Deactivate delete phase"})):_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"activatePhaseButton-delete",onClick:_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return setPhaseData(_constants.PHASE_ENABLED,true);case 2:case"end":return _context2.stop()}}},_callee2,_this2)})),"aria-controls":"deletePhaseContent"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.deletePhase.activateDeletePhaseButton",defaultMessage:"Activate delete phase"}))),fullWidth:true},_react2.default.createElement("div",{id:"deletePhaseContent","aria-live":"polite",role:"region"},phaseData[_constants.PHASE_ENABLED]?_react2.default.createElement(_min_age_input.MinAgeInput,{errors:errors,phaseData:phaseData,phase:_constants.PHASE_DELETE,isShowingErrors:isShowingErrors,setPhaseData:setPhaseData,rolloverEnabled:hotPhaseRolloverEnabled}):_react2.default.createElement("div",null)))}}]);return DeletePhase}(_react.PureComponent);DeletePhase.propTypes={setPhaseData:_propTypes2.default.func.isRequired,isShowingErrors:_propTypes2.default.bool.isRequired,errors:_propTypes2.default.object.isRequired,phaseData:_propTypes2.default.shape((_PropTypes$shape={},_defineProperty(_PropTypes$shape,_constants.PHASE_ENABLED,_propTypes2.default.bool.isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_ROLLOVER_MINIMUM_AGE,_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_ROLLOVER_MINIMUM_AGE_UNITS,_propTypes2.default.string.isRequired),_PropTypes$shape)).isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _cold_phase=__webpack_require__(3975);Object.defineProperty(exports,"ColdPhase",{enumerable:true,get:function get(){return _cold_phase.ColdPhase}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColdPhase=undefined;var _reactRedux=__webpack_require__(14);var _cold_phase=__webpack_require__(3976);var _selectors=__webpack_require__(249);var _actions=__webpack_require__(268);var _constants=__webpack_require__(55);var ColdPhase=exports.ColdPhase=(0,_reactRedux.connect)(function(state){return{phaseData:(0,_selectors.getPhase)(state,_constants.PHASE_COLD),hotPhaseRolloverEnabled:(0,_selectors.getPhase)(state,_constants.PHASE_HOT)[_constants.PHASE_ROLLOVER_ENABLED]}},{setPhaseData:function setPhaseData(key,value){return(0,_actions.setPhaseData)(_constants.PHASE_COLD,key,value)}})(_cold_phase.ColdPhase)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColdPhase=undefined;var _PropTypes$shape;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(55);var _form_errors=__webpack_require__(366);var _min_age_input=__webpack_require__(781);var _components=__webpack_require__(365);var _node_allocation=__webpack_require__(1282);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ColdPhaseUi=function(_PureComponent){_inherits(ColdPhaseUi,_PureComponent);function ColdPhaseUi(){_classCallCheck(this,ColdPhaseUi);return _possibleConstructorReturn(this,(ColdPhaseUi.__proto__||Object.getPrototypeOf(ColdPhaseUi)).apply(this,arguments))}_createClass(ColdPhaseUi,[{key:"render",value:function render(){var _this2=this;var _props=this.props,setPhaseData=_props.setPhaseData,showNodeDetailsFlyout=_props.showNodeDetailsFlyout,phaseData=_props.phaseData,errors=_props.errors,isShowingErrors=_props.isShowingErrors,intl=_props.intl,hotPhaseRolloverEnabled=_props.hotPhaseRolloverEnabled;return _react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("div",null,_react2.default.createElement("span",{className:"eui-displayInlineBlock eui-alignMiddle"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.coldPhase.coldPhaseLabel",defaultMessage:"Cold phase"}))," ",phaseData[_constants.PHASE_ENABLED]&&!isShowingErrors?_react2.default.createElement(_components.ActiveBadge,null):null,_react2.default.createElement(_components.PhaseErrorMessage,{isShowingErrors:isShowingErrors})),titleSize:"s",description:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.coldPhase.coldPhaseDescriptionText",defaultMessage:"You are querying your index less frequently, so you can allocate shards on significantly less performant hardware. Because your queries are slower, you can reduce the number of replicas."})),phaseData[_constants.PHASE_ENABLED]?_react2.default.createElement(_eui.EuiButton,{color:"danger",onClick:_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return setPhaseData(_constants.PHASE_ENABLED,false);case 2:case"end":return _context.stop()}}},_callee,_this2)})),"aria-controls":"coldPhaseContent"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.coldhase.deactivateColdPhaseButton",defaultMessage:"Deactivate cold phase"})):_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"activatePhaseButton-cold",onClick:_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return setPhaseData(_constants.PHASE_ENABLED,true);case 2:case"end":return _context2.stop()}}},_callee2,_this2)})),"aria-controls":"coldPhaseContent"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.coldPhase.activateColdPhaseButton",defaultMessage:"Activate cold phase"}))),fullWidth:true},_react2.default.createElement("div",{id:"coldPhaseContent","aria-live":"polite",role:"region"},phaseData[_constants.PHASE_ENABLED]?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_min_age_input.MinAgeInput,{errors:errors,phaseData:phaseData,phase:_constants.PHASE_COLD,isShowingErrors:isShowingErrors,setPhaseData:setPhaseData,rolloverEnabled:hotPhaseRolloverEnabled}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_node_allocation.NodeAllocation,{phase:_constants.PHASE_COLD,setPhaseData:setPhaseData,showNodeDetailsFlyout:showNodeDetailsFlyout,errors:errors,phaseData:phaseData,isShowingErrors:isShowingErrors}),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false,style:{maxWidth:188}},_react2.default.createElement(_form_errors.ErrableFormRow,{id:_constants.PHASE_COLD+"-"+_constants.PHASE_REPLICA_COUNT,label:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.coldPhase.numberOfReplicasLabel",defaultMessage:"Number of replicas"}),_react2.default.createElement(_components.OptionalLabel,null)),errorKey:_constants.PHASE_REPLICA_COUNT,isShowingErrors:isShowingErrors,errors:errors,helpText:intl.formatMessage({id:"xpack.indexLifecycleMgmt.coldPhase.replicaCountHelpText",defaultMessage:"By default, the number of replicas remains the same."})},_react2.default.createElement(_eui.EuiFieldNumber,{id:_constants.PHASE_COLD+"-"+_constants.PHASE_REPLICA_COUNT,value:phaseData[_constants.PHASE_REPLICA_COUNT],onChange:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return setPhaseData(_constants.PHASE_REPLICA_COUNT,e.target.value);case 2:case"end":return _context3.stop()}}},_callee3,_this2)}));return function(_x){return _ref3.apply(this,arguments)}}(),min:0}))))):_react2.default.createElement("div",null)))}}]);return ColdPhaseUi}(_react.PureComponent);ColdPhaseUi.propTypes={setPhaseData:_propTypes2.default.func.isRequired,showNodeDetailsFlyout:_propTypes2.default.func.isRequired,isShowingErrors:_propTypes2.default.bool.isRequired,errors:_propTypes2.default.object.isRequired,phaseData:_propTypes2.default.shape((_PropTypes$shape={},_defineProperty(_PropTypes$shape,_constants.PHASE_ENABLED,_propTypes2.default.bool.isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_ROLLOVER_ALIAS,_propTypes2.default.string.isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_ROLLOVER_MINIMUM_AGE,_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_ROLLOVER_MINIMUM_AGE_UNITS,_propTypes2.default.string.isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_NODE_ATTRS,_propTypes2.default.string.isRequired),_defineProperty(_PropTypes$shape,_constants.PHASE_REPLICA_COUNT,_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired),_PropTypes$shape)).isRequired};var ColdPhase=exports.ColdPhase=(0,_react3.injectI18n)(ColdPhaseUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _node_attrs_details=__webpack_require__(3978);Object.defineProperty(exports,"NodeAttrsDetails",{enumerable:true,get:function get(){return _node_attrs_details.NodeAttrsDetails}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeAttrsDetails=undefined;var _reactRedux=__webpack_require__(14);var _node_attrs_details=__webpack_require__(3979);var _selectors=__webpack_require__(249);var _actions=__webpack_require__(268);var NodeAttrsDetails=exports.NodeAttrsDetails=(0,_reactRedux.connect)(function(state,ownProps){return{details:(0,_selectors.getNodeDetails)(state,ownProps.selectedNodeAttrs)}},{fetchNodeDetails:_actions.fetchNodeDetails})(_node_attrs_details.NodeAttrsDetails)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeAttrsDetails=exports.NodeAttrsDetailsUi=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var NodeAttrsDetailsUi=exports.NodeAttrsDetailsUi=function(_PureComponent){_inherits(NodeAttrsDetailsUi,_PureComponent);function NodeAttrsDetailsUi(){_classCallCheck(this,NodeAttrsDetailsUi);return _possibleConstructorReturn(this,(NodeAttrsDetailsUi.__proto__||Object.getPrototypeOf(NodeAttrsDetailsUi)).apply(this,arguments))}_createClass(NodeAttrsDetailsUi,[{key:"componentWillMount",value:function componentWillMount(){this.props.fetchNodeDetails(this.props.selectedNodeAttrs)}},{key:"render",value:function render(){var _props=this.props,selectedNodeAttrs=_props.selectedNodeAttrs,details=_props.details,close=_props.close,intl=_props.intl;return _react2.default.createElement(_eui.EuiPortal,null,_react2.default.createElement(_eui.EuiFlyout,{ownFocus:true,onClose:close},_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.nodeAttrDetails.title",defaultMessage:"Nodes that contain the attribute {selectedNodeAttrs}",values:{selectedNodeAttrs:selectedNodeAttrs}}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiInMemoryTable,{items:details,columns:[{field:"nodeId",name:intl.formatMessage({id:"xpack.indexLifecycleMgmt.nodeAttrDetails.idField",defaultMessage:"ID"})},{field:"stats.name",name:intl.formatMessage({id:"xpack.indexLifecycleMgmt.nodeAttrDetails.nameField",defaultMessage:"Name"})},{field:"stats.host",name:intl.formatMessage({id:"xpack.indexLifecycleMgmt.nodeAttrDetails.hostField",defaultMessage:"Host"})}],pagination:true,sorting:true}))))}}]);return NodeAttrsDetailsUi}(_react.PureComponent);NodeAttrsDetailsUi.propTypes={fetchNodeDetails:_propTypes2.default.func.isRequired,close:_propTypes2.default.func.isRequired,details:_propTypes2.default.array,selectedNodeAttrs:_propTypes2.default.string.isRequired};var NodeAttrsDetails=exports.NodeAttrsDetails=(0,_react3.injectI18n)(NodeAttrsDetailsUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyJsonFlyout=exports.PolicyJsonFlyoutUi=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _notify=__webpack_require__(10);var _copyToClipboard=__webpack_require__(1178);var _copyToClipboard2=_interopRequireDefault(_copyToClipboard);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PolicyJsonFlyoutUi=exports.PolicyJsonFlyoutUi=function(_PureComponent){_inherits(PolicyJsonFlyoutUi,_PureComponent);function PolicyJsonFlyoutUi(){_classCallCheck(this,PolicyJsonFlyoutUi);return _possibleConstructorReturn(this,(PolicyJsonFlyoutUi.__proto__||Object.getPrototypeOf(PolicyJsonFlyoutUi)).apply(this,arguments))}_createClass(PolicyJsonFlyoutUi,[{key:"getEsJson",value:function getEsJson(_ref){var phases=_ref.phases;return JSON.stringify({policy:{phases:phases}},null,4)}},{key:"copyToClipboard",value:function copyToClipboard(lifecycle){var intl=this.props.intl;(0,_copyToClipboard2.default)(this.getEsJson(lifecycle));_notify.toastNotifications.add(intl.formatMessage({id:"xpack.indexLifecycleMgmt.editPolicy.policyJsonFlyout.copiedToClipboardMessage",defaultMessage:"JSON copied to clipboard"}))}},{key:"render",value:function render(){var _this2=this;var _props=this.props,lifecycle=_props.lifecycle,close=_props.close,policyName=_props.policyName;return _react2.default.createElement(_eui.EuiPortal,null,_react2.default.createElement(_eui.EuiFlyout,{maxWidth:400,ownFocus:true,onClose:close},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyJsonFlyout.title",defaultMessage:"JSON for index lifecycle policy {policyName}",values:{policyName:policyName}})))),_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiCodeBlock,{language:"json"},this.getEsJson(lifecycle))),_react2.default.createElement(_eui.EuiFlyoutFooter,null,_react2.default.createElement(_eui.EuiButton,{onClick:function onClick(){return _this2.copyToClipboard(lifecycle)}},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyJsonFlyout.copyToClipboardButton",defaultMessage:"Copy to clipboard"})))))}}]);return PolicyJsonFlyoutUi}(_react.PureComponent);PolicyJsonFlyoutUi.propTypes={close:_propTypes2.default.func.isRequired,lifecycle:_propTypes2.default.object.isRequired};var PolicyJsonFlyout=exports.PolicyJsonFlyout=(0,_react3.injectI18n)(PolicyJsonFlyoutUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _policy_table=__webpack_require__(3982);Object.defineProperty(exports,"PolicyTable",{enumerable:true,get:function get(){return _policy_table.PolicyTable}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _policy_table=__webpack_require__(3983);Object.defineProperty(exports,"PolicyTable",{enumerable:true,get:function get(){return _policy_table.PolicyTable}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyTable=undefined;var _reactRedux=__webpack_require__(14);var _policy_table=__webpack_require__(3984);var _actions=__webpack_require__(268);var _selectors=__webpack_require__(249);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{policyFilterChanged:function policyFilterChanged(filter){dispatch((0,_actions.policyFilterChanged)({filter:filter}))},policyPageChanged:function policyPageChanged(pageNumber){dispatch((0,_actions.policyPageChanged)({pageNumber:pageNumber}))},policyPageSizeChanged:function policyPageSizeChanged(pageSize){dispatch((0,_actions.policyPageSizeChanged)({pageSize:pageSize}))},policySortChanged:function policySortChanged(sortField,isSortAscending){dispatch((0,_actions.policySortChanged)({sortField:sortField,isSortAscending:isSortAscending}))},fetchPolicies:function fetchPolicies(withIndices){dispatch((0,_actions.fetchPolicies)(withIndices))}}};var PolicyTable=exports.PolicyTable=(0,_reactRedux.connect)(function(state){return{totalNumberOfPolicies:(0,_selectors.getPolicies)(state).length,policies:(0,_selectors.getPageOfPolicies)(state),pager:(0,_selectors.getPolicyPager)(state),filter:(0,_selectors.getPolicyFilter)(state),sortField:(0,_selectors.getPolicySort)(state).sortField,isSortAscending:(0,_selectors.getPolicySort)(state).isSortAscending,policyListLoaded:(0,_selectors.isPolicyListLoaded)(state)}},mapDispatchToProps)(_policy_table.PolicyTable)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PolicyTable=exports.PolicyTableUi=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _momentTimezone=__webpack_require__(191);var _momentTimezone2=_interopRequireDefault(_momentTimezone);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);var _constants=__webpack_require__(364);var _no_match=__webpack_require__(3985);var _navigation=__webpack_require__(539);var _flatten_panel_tree=__webpack_require__(3988);var _services=__webpack_require__(654);var _eui=__webpack_require__(2);var _confirm_delete=__webpack_require__(3989);var _add_policy_to_template_confirm_modal=__webpack_require__(3990);var _navigation2=__webpack_require__(538);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var COLUMNS={name:{label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.headers.nameHeader",{defaultMessage:"Name"})},linkedIndices:{label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.headers.linkedIndicesHeader",{defaultMessage:"Linked indices"}),width:120},version:{label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.headers.versionHeader",{defaultMessage:"Version"}),width:120},modified_date:{label:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.headers.modifiedDateHeader",{defaultMessage:"Modified date"}),width:200}};var PolicyTableUi=exports.PolicyTableUi=function(_Component){_inherits(PolicyTableUi,_Component);function PolicyTableUi(props){_classCallCheck(this,PolicyTableUi);var _this=_possibleConstructorReturn(this,(PolicyTableUi.__proto__||Object.getPrototypeOf(PolicyTableUi)).call(this,props));_this.renderDeleteConfirmModal=function(){var policyToDelete=_this.state.policyToDelete;if(!policyToDelete){return null}return _react2.default.createElement(_confirm_delete.ConfirmDelete,{policyToDelete:policyToDelete,callback:_this.handleDelete,onCancel:function onCancel(){return _this.setState({renderConfirmModal:null,policyToDelete:null})}})};_this.renderAddPolicyToTemplateConfirmModal=function(){var policyToAddToTemplate=_this.state.policyToAddToTemplate;if(!policyToAddToTemplate){return null}return _react2.default.createElement(_add_policy_to_template_confirm_modal.AddPolicyToTemplateConfirmModal,{policy:policyToAddToTemplate,onCancel:function onCancel(){return _this.setState({renderConfirmModal:null,policyToAddToTemplate:null})}})};_this.handleDelete=function(){_this.props.fetchPolicies(true);_this.setState({renderDeleteConfirmModal:null,policyToDelete:null})};_this.onSort=function(column){var _this$props=_this.props,sortField=_this$props.sortField,isSortAscending=_this$props.isSortAscending,policySortChanged=_this$props.policySortChanged;var newIsSortAscending=sortField===column?!isSortAscending:true;policySortChanged(column,newIsSortAscending)};_this.togglePolicyPopover=function(policy){if(_this.isPolicyPopoverOpen(policy)){_this.closePolicyPopover(policy)}else{_this.openPolicyPopover(policy)}};_this.isPolicyPopoverOpen=function(policy){return _this.state.policyPopover===policy.name};_this.closePolicyPopover=function(policy){if(_this.isPolicyPopoverOpen(policy)){_this.setState({policyPopover:null})}};_this.openPolicyPopover=function(policy){_this.setState({policyPopover:policy.name})};_this.onItemSelectionChanged=function(selectedPolicies){_this.setState({selectedPolicies:selectedPolicies})};_this.state={selectedPoliciesMap:{},renderConfirmModal:null};return _this}_createClass(PolicyTableUi,[{key:"componentDidMount",value:function componentDidMount(){this.props.fetchPolicies(true)}},{key:"renderEmpty",value:function renderEmpty(){return _react2.default.createElement(_eui.EuiEmptyPrompt,{iconType:"managementApp",title:_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.emptyPromptTitle",defaultMessage:"Create your first index lifecycle policy"})),body:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.emptyPromptDescription",defaultMessage:" An index lifecycle policy helps you manage your indices as they age."}))),actions:this.renderCreatePolicyButton()})}},{key:"buildHeader",value:function buildHeader(){var _this2=this;var _props=this.props,sortField=_props.sortField,isSortAscending=_props.isSortAscending;var headers=Object.entries(COLUMNS).map(function(_ref){var _ref2=_slicedToArray(_ref,2),fieldName=_ref2[0],_ref2$=_ref2[1],label=_ref2$.label,width=_ref2$.width;var isSorted=sortField===fieldName;return _react2.default.createElement(_eui.EuiTableHeaderCell,{key:fieldName,onSort:function onSort(){return _this2.onSort(fieldName)},isSorted:isSorted,isSortAscending:isSortAscending,"data-test-subj":"policyTableHeaderCell-"+fieldName,className:"policyTable__header--"+fieldName,width:width},label)});headers.push(_react2.default.createElement(_eui.EuiTableHeaderCell,{key:"deleteHeader","data-test-subj":"policyTableHeaderCell-delete",width:150}));return headers}},{key:"buildRowCell",value:function buildRowCell(fieldName,value){if(fieldName==="name"){return _react2.default.createElement(_eui.EuiLink,{className:"policyTable__link","data-test-subj":"policyTablePolicyNameLink",href:(0,_navigation.getPolicyPath)(value)},value)}else if(fieldName==="linkedIndices"){return _react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("b",null,value?value.length:"0"))}else if(fieldName==="modified_date"&&value){return(0,_momentTimezone2.default)(value).format("YYYY-MM-DD HH:mm:ss")}return value}},{key:"renderCreatePolicyButton",value:function renderCreatePolicyButton(){return _react2.default.createElement(_eui.EuiButton,{href:"#"+_constants.BASE_PATH+"policies/edit",fill:true,iconType:"plusInCircle","data-test-subj":"createPolicyButton"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.emptyPrompt.createButtonLabel",defaultMessage:"Create policy"}))}},{key:"renderConfirmModal",value:function renderConfirmModal(){var renderConfirmModal=this.state.renderConfirmModal;if(renderConfirmModal){return renderConfirmModal()}else{return null}}},{key:"buildActionPanelTree",value:function buildActionPanelTree(policy){var _this3=this;var intl=this.props.intl;var hasLinkedIndices=Boolean(policy.linkedIndices&&policy.linkedIndices.length);var viewIndicesLabel=intl.formatMessage({id:"xpack.indexLifecycleMgmt.policyTable.viewIndicesButtonText",defaultMessage:"View indices linked to policy"});var addPolicyToTemplateLabel=intl.formatMessage({id:"xpack.indexLifecycleMgmt.policyTable.addPolicyToTemplateButtonText",defaultMessage:"Add policy to index template"});var deletePolicyLabel=intl.formatMessage({id:"xpack.indexLifecycleMgmt.policyTable.deletePolicyButtonText",defaultMessage:"Delete policy"});var deletePolicyTooltip=hasLinkedIndices?intl.formatMessage({id:"xpack.indexLifecycleMgmt.policyTable.deletePolicyButtonDisabledTooltip",defaultMessage:"You cannot delete a policy that is being used by an index"}):null;var items=[];if(hasLinkedIndices){items.push({name:viewIndicesLabel,icon:"list",onClick:function onClick(){window.location.hash=(0,_navigation2.getIndexListUri)("ilm.policy:"+policy.name)}})}items.push({name:addPolicyToTemplateLabel,icon:"plusInCircle",onClick:function onClick(){return _this3.setState({renderConfirmModal:_this3.renderAddPolicyToTemplateConfirmModal,policyToAddToTemplate:policy})}});items.push({name:deletePolicyLabel,disabled:hasLinkedIndices,icon:"trash",toolTipContent:deletePolicyTooltip,onClick:function onClick(){return _this3.setState({renderConfirmModal:_this3.renderDeleteConfirmModal,policyToDelete:policy})}});var panelTree={id:0,title:intl.formatMessage({id:"xpack.indexLifecycleMgmt.policyTable.policyActionsMenu.panelTitle",defaultMessage:"Policy options"}),items:items};return(0,_flatten_panel_tree.flattenPanelTree)(panelTree)}},{key:"buildRowCells",value:function buildRowCells(policy){var _this4=this;var intl=this.props.intl;var name=policy.name;var cells=Object.entries(COLUMNS).map(function(_ref3){var _ref4=_slicedToArray(_ref3,2),fieldName=_ref4[0],width=_ref4[1].width;var value=policy[fieldName];return _react2.default.createElement(_eui.EuiTableRowCell,{key:fieldName+"-"+name,truncateText:false,"data-test-subj":"policyTableCell-"+fieldName,className:"policyTable__content--"+fieldName,width:width},_this4.buildRowCell(fieldName,value))});var button=_react2.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"policyActionsContextMenuButton","aria-label":"Policy options",onClick:function onClick(){return _this4.togglePolicyPopover(policy)},color:"primary"},intl.formatMessage({id:"xpack.indexLifecycleMgmt.policyTable.actionsButtonText",defaultMessage:"Actions"}));cells.push(_react2.default.createElement(_eui.EuiTableRowCell,{align:_services.RIGHT_ALIGNMENT,key:"delete-"+name,truncateText:false,"data-test-subj":"policyTableCell-actions-"+name,style:{width:150}},_react2.default.createElement(_eui.EuiPopover,{id:"contextMenuPolicy",button:button,isOpen:this.isPolicyPopoverOpen(policy),closePopover:function closePopover(){return _this4.closePolicyPopover(policy)},panelPaddingSize:"none",withTitle:true,anchorPosition:"rightUp",repositionOnScroll:true},_react2.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:this.buildActionPanelTree(policy)}))));return cells}},{key:"buildRows",value:function buildRows(){var _this5=this;var _props$policies=this.props.policies,policies=_props$policies===undefined?[]:_props$policies;return policies.map(function(policy){var name=policy.name;return _react2.default.createElement(_eui.EuiTableRow,{key:name+"-row"},_this5.buildRowCells(policy))})}},{key:"renderPager",value:function renderPager(){var _props2=this.props,pager=_props2.pager,policyPageChanged=_props2.policyPageChanged,policyPageSizeChanged=_props2.policyPageSizeChanged;return _react2.default.createElement(_eui.EuiTablePagination,{activePage:pager.getCurrentPageIndex(),itemsPerPage:pager.itemsPerPage,itemsPerPageOptions:[10,50,100],pageCount:pager.getTotalPages(),onChangeItemsPerPage:policyPageSizeChanged,onChangePage:policyPageChanged})}},{key:"render",value:function render(){var _this6=this;var _props3=this.props,totalNumberOfPolicies=_props3.totalNumberOfPolicies,policyFilterChanged=_props3.policyFilterChanged,filter=_props3.filter,intl=_props3.intl,policyListLoaded=_props3.policyListLoaded;var selectedPoliciesMap=this.state.selectedPoliciesMap;var numSelected=Object.keys(selectedPoliciesMap).length;var content=void 0;var tableContent=void 0;if(totalNumberOfPolicies||!policyListLoaded){if(!policyListLoaded){tableContent=_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})}else if(totalNumberOfPolicies>0){tableContent=_react2.default.createElement(_eui.EuiTable,null,_react2.default.createElement(_eui.EuiTableHeader,null,this.buildHeader()),_react2.default.createElement(_eui.EuiTableBody,null,this.buildRows()))}else{tableContent=_react2.default.createElement(_no_match.NoMatch,null)}content=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},numSelected>0?_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"deletePolicyButton",color:"danger",onClick:function onClick(){return _this6.setState({showDeleteConfirmation:true})}},"Delete ",numSelected," polic",numSelected>1?"ies":"y")):null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFieldSearch,{fullWidth:true,value:filter,onChange:function onChange(event){policyFilterChanged(event.target.value)},"data-test-subj":"policyTableFilterInput",placeholder:intl.formatMessage({id:"xpack.indexLifecycleMgmt.policyTable.systempoliciesSearchInputPlaceholder",defaultMessage:"Search"}),"aria-label":"Search policies"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),tableContent)}else{content=this.renderEmpty()}return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement("div",{className:"policyTable__horizontalScroll"},this.renderConfirmModal(),totalNumberOfPolicies||!policyListLoaded?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"m"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.sectionHeading",defaultMessage:"Index lifecycle policies"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiBetaBadge,{label:"Beta"})))),totalNumberOfPolicies?_react2.default.createElement(_eui.EuiFlexItem,{grow:false},this.renderCreatePolicyButton()):null),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.sectionDescription",defaultMessage:"Manage your indices as they age.  Attach a policy to automate when and how to transition an index through its lifecycle."})))):null,_react2.default.createElement(_eui.EuiSpacer,null),content,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),totalNumberOfPolicies&&totalNumberOfPolicies>10?this.renderPager():null))))}}]);return PolicyTableUi}(_react.Component);var PolicyTable=exports.PolicyTable=(0,_react3.injectI18n)(PolicyTableUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _no_match=__webpack_require__(3986);Object.defineProperty(exports,"NoMatch",{enumerable:true,get:function get(){return _no_match.NoMatch}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _no_match=__webpack_require__(3987);Object.defineProperty(exports,"NoMatch",{enumerable:true,get:function get(){return _no_match.NoMatch}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoMatch=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NoMatch=exports.NoMatch=function NoMatch(){return _react2.default.createElement("div",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.noMatch.noPolicicesDescription",defaultMessage:"No policies to show"}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var flattenPanelTree=exports.flattenPanelTree=function flattenPanelTree(tree){var array=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];array.push(tree);if(tree.items){tree.items.forEach(function(item){if(item.panel){flattenPanelTree(item.panel,array);item.panel=item.panel.id}})}return array}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConfirmDelete=exports.ConfirmDeleteUi=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _notify=__webpack_require__(10);var _api=__webpack_require__(267);var _api_errors=__webpack_require__(317);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ConfirmDeleteUi=exports.ConfirmDeleteUi=function(_Component){_inherits(ConfirmDeleteUi,_Component);function ConfirmDeleteUi(){var _ref,_this2=this;var _temp,_this,_ret;_classCallCheck(this,ConfirmDeleteUi);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ConfirmDeleteUi.__proto__||Object.getPrototypeOf(ConfirmDeleteUi)).call.apply(_ref,[this].concat(args))),_this),_this.deletePolicy=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,intl,policyToDelete,callback,policyName,message,title;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,intl=_this$props.intl,policyToDelete=_this$props.policyToDelete,callback=_this$props.callback;policyName=policyToDelete.name;_context.prev=2;_context.next=5;return(0,_api.deletePolicy)(policyName);case 5:message=intl.formatMessage({id:"xpack.indexLifecycleMgmt.confirmDelete.successMessage",defaultMessage:"Deleted policy {policyName}"},{policyName:policyName});_notify.toastNotifications.addSuccess(message);_context.next=13;break;case 9:_context.prev=9;_context.t0=_context["catch"](2);title=intl.formatMessage({id:"xpack.indexLifecycleMgmt.confirmDelete.errorMessage",defaultMessage:"Error deleting policy {policyName}"},{policyName:policyName});(0,_api_errors.showApiError)(_context.t0,title);case 13:if(callback){callback()}case 14:case"end":return _context.stop()}}},_callee,_this2,[[2,9]])})),_temp),_possibleConstructorReturn(_this,_ret)}_createClass(ConfirmDeleteUi,[{key:"render",value:function render(){var _props=this.props,intl=_props.intl,policyToDelete=_props.policyToDelete,onCancel=_props.onCancel;var title=intl.formatMessage({id:"xpack.indexLifecycleMgmt.confirmDelete.title",defaultMessage:'Delete policy "{name}"'},{name:policyToDelete.name});return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:title,onCancel:onCancel,onConfirm:this.deletePolicy,cancelButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.confirmDelete.cancelButton",defaultMessage:"Cancel"}),confirmButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.confirmDelete.deleteButton",defaultMessage:"Delete"}),buttonColor:"danger",onClose:onCancel},_react2.default.createElement("div",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.confirmDelete.undoneWarning",defaultMessage:"You can't recover a deleted policy."}))))}}]);return ConfirmDeleteUi}(_react.Component);var ConfirmDelete=exports.ConfirmDelete=(0,_react3.injectI18n)(ConfirmDeleteUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddPolicyToTemplateConfirmModal=exports.AddPolicyToTemplateConfirmModalUi=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);var _learn_more_link=__webpack_require__(780);var _eui=__webpack_require__(2);var _notify=__webpack_require__(10);var _api=__webpack_require__(267);var _api_errors=__webpack_require__(317);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AddPolicyToTemplateConfirmModalUi=exports.AddPolicyToTemplateConfirmModalUi=function(_Component){_inherits(AddPolicyToTemplateConfirmModalUi,_Component);function AddPolicyToTemplateConfirmModalUi(){var _ref,_this2=this;var _temp,_this,_ret;_classCallCheck(this,AddPolicyToTemplateConfirmModalUi);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=AddPolicyToTemplateConfirmModalUi.__proto__||Object.getPrototypeOf(AddPolicyToTemplateConfirmModalUi)).call.apply(_ref,[this].concat(args))),_this),_this.state={templates:[]},_this.addPolicyToTemplate=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,intl,policy,callback,onCancel,_this$state,templateName,aliasName,policyName,message,title;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,intl=_this$props.intl,policy=_this$props.policy,callback=_this$props.callback,onCancel=_this$props.onCancel;_this$state=_this.state,templateName=_this$state.templateName,aliasName=_this$state.aliasName;policyName=policy.name;if(templateName){_context.next=6;break}_this.setState({templateError:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyConfirmModal.noTemplateSelectedErrorMessage",{defaultMessage:"You must select an index template."})});return _context.abrupt("return");case 6:_context.prev=6;_context.next=9;return(0,_api.addLifecyclePolicyToTemplate)({policyName:policyName,templateName:templateName,aliasName:aliasName});case 9:message=intl.formatMessage({id:"xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyConfirmModal.successMessage",defaultMessage:"Added policy {policyName} to index template {templateName}"},{policyName:policyName,templateName:templateName});_notify.toastNotifications.addSuccess(message);onCancel();_context.next=18;break;case 14:_context.prev=14;_context.t0=_context["catch"](6);title=intl.formatMessage({id:"xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyConfirmModal.errorMessage",defaultMessage:'Error adding policy "{policyName}" to index template {templateName}'},{policyName:policyName,templateName:templateName});(0,_api_errors.showApiError)(_context.t0,title);case 18:if(callback){callback()}case 19:case"end":return _context.stop()}}},_callee,_this2,[[6,14]])})),_this.renderAliasFormElement=function(){var aliasName=_this.state.aliasName;var policy=_this.props.policy;var showAliasTextInput=policy&&(0,_lodash.get)(policy,"policy.phases.hot.actions.rollover");if(!showAliasTextInput){return null}return _react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyConfirmModal.rolloverAliasLabel",defaultMessage:"Alias for rollover index"})},_react2.default.createElement(_eui.EuiFieldText,{value:aliasName,onChange:function onChange(e){_this.setState({aliasName:e.target.value})}}))},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(AddPolicyToTemplateConfirmModalUi,[{key:"componentDidMount",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var templates;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_api.loadIndexTemplates)();case 2:templates=_context2.sent;this.setState({templates:templates});case 4:case"end":return _context2.stop()}}},_callee2,this)}));function componentDidMount(){return _ref3.apply(this,arguments)}return componentDidMount}()},{key:"renderTemplateHasPolicyWarning",value:function renderTemplateHasPolicyWarning(){var selectedTemplate=this.getSelectedTemplate();var existingPolicyName=(0,_lodash.get)(selectedTemplate,"settings.index.lifecycle.name");if(!existingPolicyName){return}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{style:{maxWidth:400},title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyConfirmModal.templateHasPolicyWarningTitle",defaultMessage:"Template already has policy"}),color:"warning"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.indexHasNoAliasesWarningMessage",defaultMessage:"This index template already has the policy {existingPolicyName} attached to it. Adding this policy will overwrite that configuration.",values:{existingPolicyName:existingPolicyName}})),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}))}},{key:"getSelectedTemplate",value:function getSelectedTemplate(){var _state=this.state,templates=_state.templates,templateName=_state.templateName;return(0,_lodash.find)(templates,function(template){return template.name===templateName})}},{key:"renderForm",value:function renderForm(){var _this3=this;var _state2=this.state,templates=_state2.templates,templateName=_state2.templateName,templateError=_state2.templateError;var options=templates.map(function(_ref4){var name=_ref4.name;return{value:name,text:name}});options.unshift({value:"",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyConfirmModal.chooseTemplateMessage",{defaultMessage:"Select an index template"})});return _react2.default.createElement(_eui.EuiForm,null,this.renderTemplateHasPolicyWarning(),_react2.default.createElement(_eui.EuiFormRow,{isInvalid:!!templateError,error:templateError,label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyConfirmModal.chooseTemplateLabel",defaultMessage:"Index template"})},_react2.default.createElement(_eui.EuiSelect,{options:options,value:templateName,onChange:function onChange(e){_this3.setState({templateError:null,templateName:e.target.value})}})),this.renderAliasFormElement())}},{key:"render",value:function render(){var _props=this.props,intl=_props.intl,policy=_props.policy,onCancel=_props.onCancel;var title=intl.formatMessage({id:"xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyConfirmModal.title",defaultMessage:'Add policy "{name}" to index template'},{name:policy.name});return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:title,onCancel:onCancel,onConfirm:this.addPolicyToTemplate,cancelButtonText:intl.formatMessage({id:"xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyConfirmModal.cancelButton",defaultMessage:"Cancel"}),confirmButtonText:intl.formatMessage({id:"xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyConfirmModal.confirmButton",defaultMessage:"Add policy"}),onClose:onCancel},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.policyTable.addLifecyclePolicyConfirmModal.explanationText",defaultMessage:"This will apply the lifecycle policy to all indices which match the index template."})," ",_react2.default.createElement(_learn_more_link.LearnMoreLink,{docPath:"indices-templates.html",text:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.editPolicy.learnAboutIndexTemplatesLink",defaultMessage:"Learn about index templates"})}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderForm()))}}]);return AddPolicyToTemplateConfirmModalUi}(_react.Component);var AddPolicyToTemplateConfirmModal=exports.AddPolicyToTemplateConfirmModal=(0,_react3.injectI18n)(AddPolicyToTemplateConfirmModalUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _store=__webpack_require__(3992);Object.defineProperty(exports,"indexLifecycleManagementStore",{enumerable:true,get:function get(){return _store.indexLifecycleManagementStore}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexLifecycleManagementStore=undefined;var _redux=__webpack_require__(28);var _reduxThunk=__webpack_require__(264);var _reduxThunk2=_interopRequireDefault(_reduxThunk);var _reducers=__webpack_require__(3993);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var indexLifecycleManagementStore=exports.indexLifecycleManagementStore=function indexLifecycleManagementStore(){var initialState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var enhancers=[(0,_redux.applyMiddleware)(_reduxThunk2.default)];window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());return(0,_redux.createStore)(_reducers.indexLifecycleManagement,initialState,_redux.compose.apply(undefined,enhancers))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexLifecycleManagement=undefined;var _redux=__webpack_require__(28);var _nodes=__webpack_require__(3994);var _policies=__webpack_require__(3995);var _general=__webpack_require__(3996);var indexLifecycleManagement=exports.indexLifecycleManagement=(0,_redux.combineReducers)({nodes:_nodes.nodes,policies:_policies.policies,general:_general.general})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.nodes=undefined;var _handleActions;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _reduxActions=__webpack_require__(25);var _nodes=__webpack_require__(1280);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var defaultState={isLoading:false,selectedNodeAttrs:"",selectedPrimaryShardCount:1,selectedReplicaCount:1,nodes:undefined,details:{}};var nodes=exports.nodes=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_nodes.fetchedNodes,function(state,_ref){var nodes=_ref.payload;return _extends({},state,{isLoading:false,nodes:nodes})}),_defineProperty(_handleActions,_nodes.fetchedNodeDetails,function(state,_ref2){var payload=_ref2.payload;var selectedNodeAttrs=payload.selectedNodeAttrs,details=payload.details;return _extends({},state,{details:_extends({},state.details,_defineProperty({},selectedNodeAttrs,details))})}),_defineProperty(_handleActions,_nodes.setSelectedNodeAttrs,function(state,_ref3){var selectedNodeAttrs=_ref3.payload;return _extends({},state,{selectedNodeAttrs:selectedNodeAttrs})}),_defineProperty(_handleActions,_nodes.setSelectedPrimaryShardCount,function(state,_ref4){var payload=_ref4.payload;var selectedPrimaryShardCount=parseInt(payload);if(isNaN(selectedPrimaryShardCount)){selectedPrimaryShardCount=""}return _extends({},state,{selectedPrimaryShardCount:selectedPrimaryShardCount})}),_defineProperty(_handleActions,_nodes.setSelectedReplicaCount,function(state,_ref5){var payload=_ref5.payload;var selectedReplicaCount=void 0;if(payload!=null){selectedReplicaCount=parseInt(payload);if(isNaN(selectedReplicaCount)){selectedReplicaCount=""}}else{selectedReplicaCount=1}return _extends({},state,{selectedReplicaCount:selectedReplicaCount})}),_handleActions),defaultState)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.policies=exports.defaultPolicy=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _phases,_handleActions;var _reduxActions=__webpack_require__(25);var _actions=__webpack_require__(268);var _selectors=__webpack_require__(249);var _constants=__webpack_require__(55);var _defaults=__webpack_require__(1279);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var defaultPolicy=exports.defaultPolicy={name:"",saveAsNew:true,isNew:true,phases:(_phases={},_defineProperty(_phases,_constants.PHASE_HOT,_defaults.defaultHotPhase),_defineProperty(_phases,_constants.PHASE_WARM,_defaults.defaultWarmPhase),_defineProperty(_phases,_constants.PHASE_COLD,_defaults.defaultColdPhase),_defineProperty(_phases,_constants.PHASE_DELETE,_defaults.defaultDeletePhase),_phases)};var defaultState={isLoading:false,isLoaded:false,originalPolicyName:undefined,selectedPolicySet:false,selectedPolicy:defaultPolicy,policies:[],sort:{sortField:"name",isSortAscending:true},pageSize:10,currentPage:0,filter:""};var policies=exports.policies=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.fetchedPolicies,function(state,_ref){var policies=_ref.payload;return _extends({},state,{isLoading:false,isLoaded:true,policies:policies})}),_defineProperty(_handleActions,_actions.setSelectedPolicy,function(state,_ref2){var selectedPolicy=_ref2.payload;if(!selectedPolicy){return _extends({},state,{selectedPolicy:defaultPolicy,selectedPolicySet:true})}return _extends({},state,{originalPolicyName:selectedPolicy.name,selectedPolicySet:true,selectedPolicy:_extends({},defaultPolicy,(0,_selectors.policyFromES)(selectedPolicy))})}),_defineProperty(_handleActions,_actions.unsetSelectedPolicy,function(){return defaultState}),_defineProperty(_handleActions,_actions.setSelectedPolicyName,function(state,_ref3){var name=_ref3.payload;return _extends({},state,{selectedPolicy:_extends({},state.selectedPolicy,{name:name})})}),_defineProperty(_handleActions,_actions.setSaveAsNewPolicy,function(state,_ref4){var saveAsNew=_ref4.payload;return _extends({},state,{selectedPolicy:_extends({},state.selectedPolicy,{saveAsNew:saveAsNew})})}),_defineProperty(_handleActions,_actions.setPhaseData,function(state,_ref5){var payload=_ref5.payload;var phase=payload.phase,key=payload.key;var value=payload.value;if(_constants.PHASE_ATTRIBUTES_THAT_ARE_NUMBERS.includes(key)){value=parseInt(value);if(isNaN(value)){value=""}}return _extends({},state,{selectedPolicy:_extends({},state.selectedPolicy,{phases:_extends({},state.selectedPolicy.phases,_defineProperty({},phase,_extends({},state.selectedPolicy.phases[phase],_defineProperty({},key,value))))})})}),_defineProperty(_handleActions,_actions.policyFilterChanged,function(state,action){var filter=action.payload.filter;return _extends({},state,{filter:filter,currentPage:0})}),_defineProperty(_handleActions,_actions.policySortChanged,function(state,action){var _action$payload=action.payload,sortField=_action$payload.sortField,isSortAscending=_action$payload.isSortAscending;return _extends({},state,{sort:{sortField:sortField,isSortAscending:isSortAscending}})}),_defineProperty(_handleActions,_actions.policyPageChanged,function(state,action){var pageNumber=action.payload.pageNumber;return _extends({},state,{currentPage:pageNumber})}),_defineProperty(_handleActions,_actions.policyPageSizeChanged,function(state,action){var pageSize=action.payload.pageSize;return _extends({},state,{pageSize:pageSize})}),_handleActions),defaultState)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.general=undefined;var _handleActions;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _reduxActions=__webpack_require__(25);var _general=__webpack_require__(1281);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var defaultState={bootstrapEnabled:false,indexName:"",aliasName:""};var general=exports.general=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_general.setIndexName,function(state,_ref){var indexName=_ref.payload;return _extends({},state,{indexName:indexName})}),_defineProperty(_handleActions,_general.setAliasName,function(state,_ref2){var aliasName=_ref2.payload;return _extends({},state,{aliasName:aliasName})}),_defineProperty(_handleActions,_general.setBootstrapEnabled,function(state,_ref3){var bootstrapEnabled=_ref3.payload;return _extends({},state,{bootstrapEnabled:bootstrapEnabled})}),_handleActions),defaultState)},function(module,exports){module.exports='<kbn-management-app section="elasticsearch/index_lifecycle_policies">\n  <div id="indexLifecycleManagementReactRoot" class="policyTable__horizontalScrollContainer"/>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.manageAngularLifecycle=undefined;var _reactDom=__webpack_require__(15);var manageAngularLifecycle=exports.manageAngularLifecycle=function manageAngularLifecycle($scope,$route,elem){var lastRoute=$route.current;var deregister=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;if(lastRoute.$$route.template===currentRoute.$$route.template){$route.current=lastRoute}});$scope.$on("$destroy",function(){deregister&&deregister();elem&&(0,_reactDom.unmountComponentAtNode)(elem)})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addAllExtensions=exports.ilmFilterExtension=exports.ilmSummaryExtension=exports.ilmBannerExtension=exports.addLifecyclePolicyActionExtension=exports.removeLifecyclePolicyActionExtension=exports.retryLifecycleActionExtension=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _index_lifecycle_summary=__webpack_require__(4e3);var _add_lifecycle_confirm_modal=__webpack_require__(4001);var _remove_lifecycle_confirm_modal=__webpack_require__(4002);var _lodash=__webpack_require__(1);var _i18n=__webpack_require__(9);var _index_management_extensions=__webpack_require__(428);var _api=__webpack_require__(267);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var stepPath="ilm.step";var retryLifecycleActionExtension=exports.retryLifecycleActionExtension=function retryLifecycleActionExtension(indices){var allHaveErrors=(0,_lodash.every)(indices,function(index){return index.ilm&&index.ilm.failed_step});if(!allHaveErrors){return null}var indexNames=indices.map(function(_ref){var name=_ref.name;return name});return{requestMethod:_api.retryLifecycleForIndex,icon:"play",indexNames:[indexNames],buttonLabel:_i18n.i18n.translate("xpack.idxMgmt.retryIndexLifecycleActionButtonLabel",{defaultMessage:"Retry lifecycle step"}),successMessage:_i18n.i18n.translate("xpack.idxMgmt.retryIndexLifecycleAction.retriedLifecycleMessage",{defaultMessage:"Called retry lifecycle step for: {indexNames}",values:{indexNames:indexNames.map(function(indexName){return'"'+indexName+'"'}).join(", ")}})}};var removeLifecyclePolicyActionExtension=exports.removeLifecyclePolicyActionExtension=function removeLifecyclePolicyActionExtension(indices,reloadIndices){var allHaveIlm=(0,_lodash.every)(indices,function(index){return index.ilm&&index.ilm.managed});if(!allHaveIlm){return null}var indexNames=indices.map(function(_ref2){var name=_ref2.name;return name});return{renderConfirmModal:function renderConfirmModal(closeModal,httpClient){return _react2.default.createElement(_remove_lifecycle_confirm_modal.RemoveLifecyclePolicyConfirmModal,{indexNames:indexNames,closeModal:closeModal,httpClient:httpClient,reloadIndices:reloadIndices})},icon:"stopFilled",indexNames:[indexNames],buttonLabel:_i18n.i18n.translate("xpack.idxMgmt.removeIndexLifecycleActionButtonLabel",{defaultMessage:"Remove lifecycle policy"})}};var addLifecyclePolicyActionExtension=exports.addLifecyclePolicyActionExtension=function addLifecyclePolicyActionExtension(indices,reloadIndices){if(indices.length!==1){return null}var index=indices[0];var hasIlm=index.ilm&&index.ilm.managed;if(hasIlm){return null}var indexName=index.name;return{renderConfirmModal:function renderConfirmModal(closeModal,httpClient){return _react2.default.createElement(_add_lifecycle_confirm_modal.AddLifecyclePolicyConfirmModal,{indexName:indexName,closeModal:closeModal,httpClient:httpClient,index:index,reloadIndices:reloadIndices})},icon:"plusInCircle",buttonLabel:_i18n.i18n.translate("xpack.idxMgmt.addLifecyclePolicyActionButtonLabel",{defaultMessage:"Add lifecycle policy"})}};var ilmBannerExtension=exports.ilmBannerExtension=function ilmBannerExtension(indices){var Query=_eui.EuiSearchBar.Query;if(!indices.length){return null}var indicesWithLifecycleErrors=indices.filter(function(index){return(0,_lodash.get)(index,stepPath)==="ERROR"});var numIndicesWithLifecycleErrors=indicesWithLifecycleErrors.length;if(!numIndicesWithLifecycleErrors){return null}return{type:"warning",filter:Query.parse(stepPath+":ERROR"),filterLabel:_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexMgmtBanner.filterLabel",{defaultMessage:"Show errors"}),title:_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexMgmtBanner.errorMessage",{defaultMessage:"{ numIndicesWithLifecycleErrors, number}\n          {numIndicesWithLifecycleErrors, plural, one {index has} other {indices have} }\n          lifecycle errors",values:{numIndicesWithLifecycleErrors:numIndicesWithLifecycleErrors}})}};var ilmSummaryExtension=exports.ilmSummaryExtension=function ilmSummaryExtension(index){return _react2.default.createElement(_index_lifecycle_summary.IndexLifecycleSummary,{index:index})};var ilmFilterExtension=exports.ilmFilterExtension=function ilmFilterExtension(indices){var hasIlm=(0,_lodash.any)(indices,function(index){return index.ilm&&index.ilm.managed});if(!hasIlm){return[]}else{return[{type:"field_value_selection",name:_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexMgmtFilter.lifecycleStatusLabel",{defaultMessage:"Lifecycle status"}),multiSelect:false,field:"ilm.managed",options:[{value:true,view:_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexMgmtFilter.managedLabel",{defaultMessage:"Managed"})},{value:false,view:_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexMgmtFilter.unmanagedLabel",{defaultMessage:"Unmanaged"})}]},{type:"field_value_selection",field:"ilm.phase",name:_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexMgmtFilter.lifecyclePhaseLabel",{defaultMessage:"Lifecycle phase"}),multiSelect:"or",options:[{value:"hot",view:_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexMgmtFilter.hotLabel",{defaultMessage:"Hot"})},{value:"warm",view:_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexMgmtFilter.warmLabel",{defaultMessage:"Warm"})},{value:"cold",view:_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexMgmtFilter.coldLabel",{defaultMessage:"Cold"})},{value:"delete",view:_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexMgmtFilter.deleteLabel",{defaultMessage:"Delete"})}]}]}};var addAllExtensions=exports.addAllExtensions=function addAllExtensions(){(0,_index_management_extensions.addActionExtension)(retryLifecycleActionExtension);(0,_index_management_extensions.addActionExtension)(removeLifecyclePolicyActionExtension);(0,_index_management_extensions.addActionExtension)(addLifecyclePolicyActionExtension);(0,_index_management_extensions.addBannerExtension)(ilmBannerExtension);(0,_index_management_extensions.addSummaryExtension)(ilmSummaryExtension);(0,_index_management_extensions.addFilterExtension)(ilmFilterExtension)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexLifecycleSummary=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _momentTimezone=__webpack_require__(191);var _momentTimezone2=_interopRequireDefault(_momentTimezone);var _eui=__webpack_require__(2);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);var _navigation=__webpack_require__(539);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var getHeaders=function getHeaders(){return{policy:_i18n.i18n.translate("xpack.idxMgmt.indexLifecycleMgmtSummary.headers.lifecyclePolicyHeader",{defaultMessage:"Lifecycle policy"}),phase:_i18n.i18n.translate("xpack.idxMgmt.indexLifecycleMgmtSummary.headers.currentPhaseHeader",{defaultMessage:"Current phase"}),action:_i18n.i18n.translate("xpack.idxMgmt.indexLifecycleMgmtSummary.headers.currentActionHeader",{defaultMessage:"Current action"}),action_time_millis:_i18n.i18n.translate("xpack.idxMgmt.indexLifecycleMgmtSummary.headers.currentActionTimeHeader",{defaultMessage:"Current action time"}),failed_step:_i18n.i18n.translate("xpack.idxMgmt.indexLifecycleMgmtSummary.headers.failedStepHeader",{defaultMessage:"Failed step"})}};var IndexLifecycleSummary=exports.IndexLifecycleSummary=function(_Component){_inherits(IndexLifecycleSummary,_Component);function IndexLifecycleSummary(props){_classCallCheck(this,IndexLifecycleSummary);var _this=_possibleConstructorReturn(this,(IndexLifecycleSummary.__proto__||Object.getPrototypeOf(IndexLifecycleSummary)).call(this,props));_this.toggleStackPopover=function(){_this.setState({showStackPopover:!_this.state.showStackPopover})};_this.closeStackPopover=function(){_this.setState({showStackPopover:false})};_this.togglePhaseExecutionPopover=function(){_this.setState({showPhaseExecutionPopover:!_this.state.showPhaseExecutionPopover})};_this.closePhaseExecutionPopover=function(){_this.setState({showPhaseExecutionPopover:false})};_this.state={showStackPopover:false,showPhaseExecutionPopover:false};return _this}_createClass(IndexLifecycleSummary,[{key:"renderStackPopoverButton",value:function renderStackPopoverButton(ilm){if(!ilm.stack_trace){return null}var button=_react2.default.createElement(_eui.EuiButtonEmpty,{onClick:this.toggleStackPopover},_react2.default.createElement(_react3.FormattedMessage,{defaultMessage:"Stack trace",id:"xpack.idxMgmt.indexLifecycleMgmtSummary.stackTraceButton"}));return _react2.default.createElement(_eui.EuiPopover,{id:"stackPopover",button:button,isOpen:this.state.showStackPopover,closePopover:this.closeStackPopover},_react2.default.createElement("div",{style:{maxHeight:"400px",width:"900px",overflowY:"scroll"}},_react2.default.createElement("pre",null,ilm.step_info.stack_trace)))}},{key:"renderPhaseExecutionPopoverButton",value:function renderPhaseExecutionPopoverButton(ilm){if(!ilm.phase_execution){return null}var button=_react2.default.createElement(_eui.EuiLink,{onClick:this.togglePhaseExecutionPopover},_react2.default.createElement(_react3.FormattedMessage,{defaultMessage:"Show phase definition",id:"xpack.idxMgmt.indexLifecycleMgmtSummary.showPhaseDefinitionButton"}));return _react2.default.createElement(_eui.EuiPopover,{key:"phaseExecutionPopover",id:"phaseExecutionPopover",button:button,isOpen:this.state.showPhaseExecutionPopover,closePopover:this.closePhaseExecutionPopover,withTitle:true},_react2.default.createElement(_eui.EuiPopoverTitle,null,_react2.default.createElement(_react3.FormattedMessage,{defaultMessage:"Phase definition",id:"xpack.idxMgmt.indexLifecycleMgmtSummary.phaseDefinitionTitle"})),_react2.default.createElement("div",{style:{maxHeight:"400px",width:"400px",overflowY:"scroll"}},_react2.default.createElement("pre",null,JSON.stringify(ilm.phase_execution,null,2))))}},{key:"buildRows",value:function buildRows(){var _props$index$ilm=this.props.index.ilm,ilm=_props$index$ilm===undefined?{}:_props$index$ilm;var headers=getHeaders();var rows={left:[],right:[]};Object.keys(headers).forEach(function(fieldName,arrayIndex){var value=ilm[fieldName];var content=void 0;if(fieldName==="action_time_millis"){content=(0,_momentTimezone2.default)(value).format("YYYY-MM-DD HH:mm:ss")}else if(fieldName==="policy"){content=_react2.default.createElement(_eui.EuiLink,{href:(0,_navigation.getPolicyPath)(value)},value)}else{content=value}content=content||"-";var cell=[_react2.default.createElement(_eui.EuiDescriptionListTitle,{key:fieldName},_react2.default.createElement("strong",null,headers[fieldName])),_react2.default.createElement(_eui.EuiDescriptionListDescription,{key:fieldName+"_desc"},content)];if(arrayIndex%2===0){rows.left.push(cell)}else{rows.right.push(cell)}});rows.right.push(this.renderPhaseExecutionPopoverButton(ilm));return rows}},{key:"render",value:function render(){var _props$index$ilm2=this.props.index.ilm,ilm=_props$index$ilm2===undefined?{}:_props$index$ilm2;if(!ilm.managed){return null}var _buildRows=this.buildRows(),left=_buildRows.left,right=_buildRows.right;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{defaultMessage:"Index lifecycle management",id:"xpack.idxMgmt.indexLifecycleMgmtSummary.summaryTitle"}))),ilm.step_info&&ilm.step_info.type?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiCallOut,{color:"danger",title:_react2.default.createElement(_react3.FormattedMessage,{defaultMessage:"Index lifecycle error",id:"xpack.idxMgmt.indexLifecycleMgmtSummary.summaryErrorMessage"}),iconType:"cross"},ilm.step_info.type,": ",ilm.step_info.reason,_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderStackPopoverButton(ilm))):null,ilm.step_info&&ilm.step_info.message&&!ilm.step_info.stack_trace?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiCallOut,{color:"primary",title:_react2.default.createElement(_react3.FormattedMessage,{defaultMessage:"Action status",id:"xpack.idxMgmt.indexLifecycleMgmtSummary.actionStatusTitle"})},ilm.step_info.message)):null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},left)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},right))))}}]);return IndexLifecycleSummary}(_react.Component)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddLifecyclePolicyConfirmModal=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _i18n=__webpack_require__(9);var _eui=__webpack_require__(2);var _constants=__webpack_require__(364);var _react3=__webpack_require__(3);var _notify=__webpack_require__(10);var _api=__webpack_require__(267);var _api_errors=__webpack_require__(317);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AddLifecyclePolicyConfirmModal=exports.AddLifecyclePolicyConfirmModal=function(_Component){_inherits(AddLifecyclePolicyConfirmModal,_Component);function AddLifecyclePolicyConfirmModal(props){var _this2=this;_classCallCheck(this,AddLifecyclePolicyConfirmModal);var _this=_possibleConstructorReturn(this,(AddLifecyclePolicyConfirmModal.__proto__||Object.getPrototypeOf(AddLifecyclePolicyConfirmModal)).call(this,props));_this.addPolicy=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,indexName,httpClient,closeModal,reloadIndices,_this$state,selectedPolicyName,selectedAlias,body;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,indexName=_this$props.indexName,httpClient=_this$props.httpClient,closeModal=_this$props.closeModal,reloadIndices=_this$props.reloadIndices;_this$state=_this.state,selectedPolicyName=_this$state.selectedPolicyName,selectedAlias=_this$state.selectedAlias;if(selectedPolicyName){_context.next=5;break}_this.setState({policyError:_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.noPolicySelectedErrorMessage",{defaultMessage:"You must select a policy."})});return _context.abrupt("return");case 5:_context.prev=5;body={indexName:indexName,policyName:selectedPolicyName,alias:selectedAlias};_context.next=9;return(0,_api.addLifecyclePolicyToIndex)(body,httpClient);case 9:closeModal();_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.addPolicyToIndexSuccess",{defaultMessage:"Added policy {policyName} to index {indexName}.",values:{policyName:selectedPolicyName,indexName:indexName}}));reloadIndices();_context.next=17;break;case 14:_context.prev=14;_context.t0=_context["catch"](5);(0,_api_errors.showApiError)(_context.t0,_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.addPolicyToIndexError",{defaultMessage:"Error adding policy to index"}));case 17:case"end":return _context.stop()}}},_callee,_this2,[[5,14]])}));_this.renderAliasFormElement=function(selectedPolicy){var selectedAlias=_this.state.selectedAlias;var index=_this.props.index;var showAliasSelect=selectedPolicy&&(0,_lodash.get)(selectedPolicy,"policy.phases.hot.actions.rollover");if(!showAliasSelect){return null}var aliases=index.aliases;if(aliases==="none"){return _react2.default.createElement(_eui.EuiCallOut,{style:{maxWidth:400},title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.indexHasNoAliasesWarningTitle",defaultMessage:"Index has no aliases"}),color:"warning"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.indexHasNoAliasesWarningMessage",defaultMessage:"Policy {policyName} is configured for rollover, but index {indexName} does not have an alias, which is required for rollover.",values:{policyName:selectedPolicy.name,indexName:index.name}}))}var aliasOptions=aliases.map(function(alias){return{text:alias,value:alias}});aliasOptions.unshift({text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.chooseAliasMessage",{defaultMessage:"Choose an alias"}),value:""});return _react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.chooseAliasLabel",defaultMessage:"Index rollover alias"})},_react2.default.createElement(_eui.EuiSelect,{options:aliasOptions,value:selectedAlias,onChange:function onChange(e){_this.setState({selectedAlias:e.target.value})}}))};_this.state={policies:[],selectedPolicyName:"",selectedAlias:""};return _this}_createClass(AddLifecyclePolicyConfirmModal,[{key:"renderForm",value:function renderForm(){var _this3=this;var _state=this.state,policies=_state.policies,selectedPolicyName=_state.selectedPolicyName,policyError=_state.policyError;var selectedPolicy=selectedPolicyName?policies.find(function(policy){return policy.name===selectedPolicyName}):null;var options=policies.map(function(_ref2){var name=_ref2.name;return{value:name,text:name}});options.unshift({value:"",text:_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.choosePolicyMessage",{defaultMessage:"Select a lifecycle policy"})});return _react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFormRow,{isInvalid:!!policyError,error:policyError,label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.choosePolicyLabel",defaultMessage:"Lifecycle policy"})},_react2.default.createElement(_eui.EuiSelect,{options:options,value:selectedPolicyName,onChange:function onChange(e){_this3.setState({policyError:null,selectedPolicyName:e.target.value})}})),this.renderAliasFormElement(selectedPolicy))}},{key:"componentDidMount",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var policies;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return(0,_api.loadPolicies)(false,this.props.httpClient);case 3:policies=_context2.sent;this.setState({policies:policies});_context2.next=11;break;case 7:_context2.prev=7;_context2.t0=_context2["catch"](0);(0,_api_errors.showApiError)(_context2.t0,_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.loadPolicyError",{defaultMessage:"Error loading policy list"}));this.props.closeModal();case 11:case"end":return _context2.stop()}}},_callee2,this,[[0,7]])}));function componentDidMount(){return _ref3.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){var policies=this.state.policies;var _props=this.props,indexName=_props.indexName,closeModal=_props.closeModal;var title=_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.modalTitle",defaultMessage:'Add lifecycle policy to "{indexName}"',values:{indexName:indexName}});if(!policies.length){return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiModal,{onClose:closeModal},_react2.default.createElement(_eui.EuiModalHeader,null,_react2.default.createElement(_eui.EuiModalHeaderTitle,null,title)),_react2.default.createElement(_eui.EuiModalBody,null,_react2.default.createElement(_eui.EuiCallOut,{style:{maxWidth:400},title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.noPoliciesWarningTitle",defaultMessage:"No index lifecycle policies defined"}),color:"warning"},_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiLink,{href:"#"+_constants.BASE_PATH+"policies/edit"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.defineLifecyclePolicyLinkText",defaultMessage:"Define lifecycle policy"})))))))}return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:title,onCancel:closeModal,onConfirm:this.addPolicy,cancelButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.cancelButtonText",defaultMessage:"Cancel"}),confirmButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.addPolicyButtonText",defaultMessage:"Add policy"})},this.renderForm()))}}]);return AddLifecyclePolicyConfirmModal}(_react.Component)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RemoveLifecyclePolicyConfirmModal=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(9);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);var _notify=__webpack_require__(10);var _api=__webpack_require__(267);var _api_errors=__webpack_require__(317);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var RemoveLifecyclePolicyConfirmModal=exports.RemoveLifecyclePolicyConfirmModal=function(_Component){_inherits(RemoveLifecyclePolicyConfirmModal,_Component);function RemoveLifecyclePolicyConfirmModal(props){var _this2=this;_classCallCheck(this,RemoveLifecyclePolicyConfirmModal);var _this=_possibleConstructorReturn(this,(RemoveLifecyclePolicyConfirmModal.__proto__||Object.getPrototypeOf(RemoveLifecyclePolicyConfirmModal)).call(this,props));_this.oneIndexSelected=function(){return _this.props.indexNames.length===1};_this.getEntity=function(oneIndexSelected){return oneIndexSelected?_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.indexMessage",defaultMessage:"index"}):_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.indicesMessage",defaultMessage:"indices"})};_this.removePolicy=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,indexNames,httpClient,closeModal,reloadIndices,target;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,indexNames=_this$props.indexNames,httpClient=_this$props.httpClient,closeModal=_this$props.closeModal,reloadIndices=_this$props.reloadIndices;target=_this.getTarget();_context.prev=2;_context.next=5;return(0,_api.removeLifecycleForIndex)(indexNames,httpClient);case 5:closeModal();_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexManagementTable.removeLifecyclePolicyConfirmModal.removePolicySuccess",{defaultMessage:"Removed lifecycle policy from {target}",values:{target:target}}));reloadIndices();_context.next=13;break;case 10:_context.prev=10;_context.t0=_context["catch"](2);(0,_api_errors.showApiError)(_context.t0,_i18n.i18n.translate("xpack.indexLifecycleMgmt.indexManagementTable.removeLifecyclePolicyConfirmModal.removePolicyToIndexError",{defaultMessage:"Error removing policy"}));case 13:case"end":return _context.stop()}}},_callee,_this2,[[2,10]])}));_this.state={policies:[],selectedPolicyName:null,selectedAlias:null};return _this}_createClass(RemoveLifecyclePolicyConfirmModal,[{key:"getTarget",value:function getTarget(){var indexNames=this.props.indexNames;var oneIndexSelected=this.oneIndexSelected();var entity=this.getEntity(oneIndexSelected);return oneIndexSelected?indexNames[0]:indexNames.length+" "+entity}},{key:"render",value:function render(){var closeModal=this.props.closeModal;var target=this.getTarget();return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.removeLifecyclePolicyConfirmModal.modalTitle",defaultMessage:'Remove lifecycle policy from "{target}"',values:{target:target}}),onCancel:closeModal,onConfirm:this.removePolicy,cancelButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.removeLifecyclePolicyConfirmModal.cancelButtonText",defaultMessage:"Cancel"}),confirmButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.removeLifecyclePolicyConfirmModal.removePolicyButtonText",defaultMessage:"Remove policy"})},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.indexLifecycleMgmt.indexManagementTable.removeLifecyclePolicyConfirmModal.removeMessage",defaultMessage:'You are about to remove the index lifecycle policy from "{target}".\n              This operation cannot be undone.',values:{target:target}})))}}]);return RemoveLifecyclePolicyConfirmModal}(_react.Component)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4004);__webpack_require__(4005);__webpack_require__(428)},function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(24);var _i18n=__webpack_require__(9);var _constants=__webpack_require__(316);var esSection=_management.management.getSection("elasticsearch");esSection.register("index_management",{visible:true,display:_i18n.i18n.translate("xpack.idxMgmt.appTitle",{defaultMessage:"Index Management"}),order:1,url:"#"+_constants.BASE_PATH+"indices"})},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _reactRedux=__webpack_require__(14);var _reactRouterDom=__webpack_require__(37);var _react3=__webpack_require__(3);var _api=__webpack_require__(540);var _navigation=__webpack_require__(538);var _app=__webpack_require__(4006);var _base_path=__webpack_require__(1278);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _main=__webpack_require__(4052);var _main2=_interopRequireDefault(_main);var _manage_angular_lifecycle=__webpack_require__(4053);var _store=__webpack_require__(4054);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var elem=void 0;var renderReact=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(elem){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_reactRedux.Provider,{store:(0,_store.indexManagementStore)()},_react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_app.App,null)))),elem);case 1:case"end":return _context.stop()}}},_callee,undefined)}));return function renderReact(_x){return _ref.apply(this,arguments)}}();_routes2.default.when(_base_path.BASE_PATH+":view?/:action?/:id?",{template:_main2.default,controllerAs:"indexManagement",controller:function IndexManagementController($scope,$route,$http,kbnUrl,$rootScope){_classCallCheck(this,IndexManagementController);elem&&(0,_reactDom.unmountComponentAtNode)(elem);(0,_api.setHttpClient)($http);(0,_navigation.setUrlService)({change:function change(url){kbnUrl.change(url);$rootScope.$digest()}});$scope.$$postDigest(function(){elem=document.getElementById("indexManagementReactRoot");renderReact(elem);(0,_manage_angular_lifecycle.manageAngularLifecycle)($scope,$route,elem)})}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.App=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactRouterDom=__webpack_require__(37);var _constants=__webpack_require__(316);var _index_list=__webpack_require__(4007);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var App=exports.App=function App(){return _react2.default.createElement("div",null,_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Redirect,{exact:true,from:""+_constants.BASE_PATH,to:_constants.BASE_PATH+"indices"}),_react2.default.createElement(_reactRouterDom.Route,{exact:true,path:_constants.BASE_PATH+"indices",component:_index_list.IndexList}),_react2.default.createElement(_reactRouterDom.Route,{path:_constants.BASE_PATH+"indices/filter/:filter?",component:_index_list.IndexList})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_list=__webpack_require__(1284);Object.defineProperty(exports,"IndexList",{enumerable:true,get:function get(){return _index_list.IndexList}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexList=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _components=__webpack_require__(782);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IndexList=exports.IndexList=function(_React$PureComponent){_inherits(IndexList,_React$PureComponent);function IndexList(){_classCallCheck(this,IndexList);return _possibleConstructorReturn(this,(IndexList.__proto__||Object.getPrototypeOf(IndexList)).apply(this,arguments))}_createClass(IndexList,[{key:"render",value:function render(){var filter=this.props.match.params.filter;return _react2.default.createElement("div",{className:"indTable__horizontalScroll im-snapshotTestSubject"},_react2.default.createElement(_components.IndexTable,{filterFromURI:filter}),_react2.default.createElement(_components.DetailPanel,null))}}]);return IndexList}(_react2.default.PureComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_actions_context_menu=__webpack_require__(4010);Object.defineProperty(exports,"IndexActionsContextMenu",{enumerable:true,get:function get(){return _index_actions_context_menu.IndexActionsContextMenu}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexActionsContextMenu=undefined;var _reactRedux=__webpack_require__(14);var _index_actions_context_menu=__webpack_require__(4011);var _actions=__webpack_require__(73);var _selectors=__webpack_require__(318);var mapStateToProps=function mapStateToProps(state,ownProps){var indexStatusByName={};var indexNames=ownProps.indexNames;indexNames.forEach(function(indexName){indexStatusByName[indexName]=(0,_selectors.getIndexStatusByIndexName)(state,indexName)});return{indexStatusByName:indexStatusByName,indices:(0,_selectors.getIndicesByName)(state,indexNames)}};var mapDispatchToProps=function mapDispatchToProps(dispatch,_ref){var indexNames=_ref.indexNames;return{editIndexSettings:function editIndexSettings(){dispatch((0,_actions.editIndexSettings)({indexName:indexNames[0]}))},clearCacheIndices:function clearCacheIndices(){dispatch((0,_actions.clearCacheIndices)({indexNames:indexNames}))},closeIndices:function closeIndices(){dispatch((0,_actions.closeIndices)({indexNames:indexNames}))},flushIndices:function flushIndices(){dispatch((0,_actions.flushIndices)({indexNames:indexNames}))},openIndices:function openIndices(){dispatch((0,_actions.openIndices)({indexNames:indexNames}))},refreshIndices:function refreshIndices(){dispatch((0,_actions.refreshIndices)({indexNames:indexNames}))},forcemergeIndices:function forcemergeIndices(maxNumSegments){dispatch((0,_actions.forcemergeIndices)({indexNames:indexNames,maxNumSegments:maxNumSegments}))},showSettings:function showSettings(){dispatch((0,_actions.openDetailPanel)({indexName:indexNames[0],panelType:"Settings"}))},showMapping:function showMapping(){dispatch((0,_actions.openDetailPanel)({indexName:indexNames[0],panelType:"Mapping"}))},showStats:function showStats(){dispatch((0,_actions.openDetailPanel)({indexName:indexNames[0],panelType:"Stats"}))},editIndex:function editIndex(){var indexName=indexNames?indexNames[0]:null;if(indexName){dispatch((0,_actions.openDetailPanel)({indexName:indexName,panelType:"Edit settings"}))}},deleteIndices:function deleteIndices(){dispatch((0,_actions.deleteIndices)({indexNames:indexNames}))},reloadIndices:function reloadIndices(){dispatch((0,_actions.reloadIndices)(indexNames))},performExtensionAction:function performExtensionAction(requestMethod,successMessage){dispatch((0,_actions.performExtensionAction)({requestMethod:requestMethod,successMessage:successMessage,indexNames:indexNames}))}}};var IndexActionsContextMenu=exports.IndexActionsContextMenu=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_index_actions_context_menu.IndexActionsContextMenu)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexActionsContextMenu=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _lodash=__webpack_require__(1);var _eui=__webpack_require__(2);var _flatten_panel_tree=__webpack_require__(4012);var _constants=__webpack_require__(316);var _index_management_extensions=__webpack_require__(428);var _api=__webpack_require__(540);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IndexActionsContextMenuUi=function(_Component){_inherits(IndexActionsContextMenuUi,_Component);function IndexActionsContextMenuUi(props){_classCallCheck(this,IndexActionsContextMenuUi);var _this=_possibleConstructorReturn(this,(IndexActionsContextMenuUi.__proto__||Object.getPrototypeOf(IndexActionsContextMenuUi)).call(this,props));_this.closeConfirmModal=function(){_this.setState({renderConfirmModal:null});_this.props.resetSelection&&_this.props.resetSelection()};_this.onButtonClick=function(){_this.setState(function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}})};_this.closePopoverAndExecute=function(func){_this.setState({isPopoverOpen:false,renderConfirmModal:false});func();_this.props.resetSelection&&_this.props.resetSelection()};_this.closePopover=function(){_this.setState({isPopoverOpen:false})};_this.forcemergeSegmentsError=function(){var forcemergeSegments=_this.state.forcemergeSegments;var intl=_this.props.intl;if(!forcemergeSegments||forcemergeSegments.match(/^([1-9][0-9]*)?$/)){return}else{return intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.segmentsNumberErrorMessage",defaultMessage:"The number of segments must be greater than zero."})}};_this.renderForcemergeSegmentsModal=function(){var _this$props=_this.props,forcemergeIndices=_this$props.forcemergeIndices,indexNames=_this$props.indexNames,intl=_this$props.intl;var helpText=intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeSegmentsHelpText",defaultMessage:"Merge the segments in an index until the number is reduced to this or fewer segments. The default is 1."});var oneIndexSelected=_this.oneIndexSelected();var entity=_this.getEntity(oneIndexSelected);return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.modalTitle",defaultMessage:"Force merge"}),onCancel:_this.closeConfirmModal,onConfirm:function onConfirm(){if(!_this.forcemergeSegmentsError()){_this.closePopoverAndExecute(function(){forcemergeIndices(_this.state.forcemergeSegments);_this.setState({forcemergeSegments:null,showForcemergeSegmentsModal:null})})}},cancelButtonText:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.cancelButtonText",defaultMessage:"Cancel"}),confirmButtonText:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.confirmButtonText",defaultMessage:"Force merge"})},_react2.default.createElement("div",null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeDescription",defaultMessage:"You are about to force merge {oneIndexSelected, plural, one {this} other {these}}",values:{oneIndexSelected:oneIndexSelected?1:0}})," ",entity,":"),_react2.default.createElement("ul",null,indexNames.map(function(indexName){return _react2.default.createElement("li",{key:indexName},indexName)})),_react2.default.createElement(_eui.EuiCallOut,{title:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.forceMerge.proceedWithCautionCallOutTitle",defaultMessage:"Proceed with caution!"}),color:"warning",iconType:"help"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeWarningDescription",defaultMessage:" Force merging a large index or an index that is not read-only can potentially cause performance and stability issues in the cluster if it is not run properly (run against non-read-only indices) or run during peak hours. "}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiForm,{isInvalid:_this.forcemergeSegmentsError(),error:_this.forcemergeSegmentsError()},_react2.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.forceMerge.maximumNumberOfSegmentsFormRowLabel",defaultMessage:"Maximum number of segments per shard"}),helpText:helpText},_react2.default.createElement(_eui.EuiFieldText,{onChange:function onChange(event){_this.setState({forcemergeSegments:event.target.value})},name:"maxNumberSegments"}))))))};_this.renderConfirmDeleteModal=function(){var oneIndexSelected=_this.oneIndexSelected();var entity=_this.getEntity(oneIndexSelected);var _this$props2=_this.props,deleteIndices=_this$props2.deleteIndices,indexNames=_this$props2.indexNames,intl=_this$props2.intl;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.deleteEntity.confirmModal.modalTitle",defaultMessage:"Confirm Delete {entity}"},{entity:entity}),onCancel:_this.closeConfirmModal,onConfirm:function onConfirm(){return _this.closePopoverAndExecute(deleteIndices)},cancelButtonText:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.deleteEntity.confirmModal.cancelButtonText",defaultMessage:"Cancel"}),confirmButtonText:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.deleteEntity.confirmModal.confirmButtonText",defaultMessage:"Confirm"})},_react2.default.createElement("div",null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteEntity.deleteDescription",defaultMessage:"You are about to delete  {oneIndexSelected, plural, one {this} other {these}}",values:{oneIndexSelected:oneIndexSelected?1:0}})," ",entity,":"),_react2.default.createElement("ul",null,indexNames.map(function(indexName){return _react2.default.createElement("li",{key:indexName},indexName)})),_react2.default.createElement(_eui.EuiCallOut,{title:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.deleteEntity.proceedWithCautionCallOutTitle",defaultMessage:"Proceed with caution!"}),color:"warning",iconType:"help"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteEntity.deleteEntityWarningDescription",defaultMessage:" This operation cannot be undone. Make sure you have appropriate backups. "}))))))};_this.oneIndexSelected=function(){return _this.props.indexNames.length===1};_this.getEntity=function(oneIndexSelected){var intl=_this.props.intl;return oneIndexSelected?intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.indexMessage",defaultMessage:"index"}):intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.indicesMessage",defaultMessage:"indices"})};_this.state={isPopoverOpen:false,renderConfirmModal:null};return _this}_createClass(IndexActionsContextMenuUi,[{key:"panels",value:function panels(){var _this2=this;var _props=this.props,closeIndices=_props.closeIndices,openIndices=_props.openIndices,flushIndices=_props.flushIndices,refreshIndices=_props.refreshIndices,clearCacheIndices=_props.clearCacheIndices,editIndex=_props.editIndex,showMapping=_props.showMapping,showStats=_props.showStats,showSettings=_props.showSettings,detailPanel=_props.detailPanel,indexNames=_props.indexNames,indexStatusByName=_props.indexStatusByName,performExtensionAction=_props.performExtensionAction,indices=_props.indices,intl=_props.intl,reloadIndices=_props.reloadIndices;var allOpen=(0,_lodash.all)(indexNames,function(indexName){return indexStatusByName[indexName]===_constants.INDEX_OPEN});var oneIndexSelected=this.oneIndexSelected();var entity=this.getEntity(oneIndexSelected);var entityUpper=""+entity[0].toUpperCase()+entity.slice(1);var items=[];if(!detailPanel&&oneIndexSelected){items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.showEntitySettingsLabel",defaultMessage:"Show {entity} settings"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexSettings"}),onClick:function onClick(){_this2.closePopoverAndExecute(showSettings)}});items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.showEntityMappingLabel",defaultMessage:"Show {entity} mapping"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexMapping"}),onClick:function onClick(){_this2.closePopoverAndExecute(showMapping)}});if(allOpen){items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.showEntityStatsLabel",defaultMessage:"Show {entity} stats"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"stats"}),onClick:function onClick(){_this2.closePopoverAndExecute(showStats)}})}items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.editEntitySettingsLabel",defaultMessage:"Edit {entity} settings"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexEdit"}),onClick:function onClick(){_this2.closePopoverAndExecute(editIndex)}})}if(allOpen){items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.closeEntityLabel",defaultMessage:"Close {entity}"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexClose"}),onClick:function onClick(){_this2.closePopoverAndExecute(closeIndices)}});items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.forceMergeEntityLabel",defaultMessage:"Force merge {entity}"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"merge"}),onClick:function onClick(){_this2.closePopover();_this2.setState({renderConfirmModal:_this2.renderForcemergeSegmentsModal})}});items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.refreshEntityLabel",defaultMessage:"Refresh {entity}"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"refresh"}),onClick:function onClick(){_this2.closePopoverAndExecute(refreshIndices)}});items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.clearEntityCacheLabel",defaultMessage:"Clear {entity} cache"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"broom"}),onClick:function onClick(){_this2.closePopoverAndExecute(clearCacheIndices)}});items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.flushEntityLabel",defaultMessage:"Flush {entity}"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexFlush"}),onClick:function onClick(){_this2.closePopoverAndExecute(flushIndices)}})}else{items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.openEntityLabel",defaultMessage:"Open {entity}"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexOpen"}),onClick:function onClick(){_this2.closePopoverAndExecute(openIndices)}})}items.push({name:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.deleteEntityLabel",defaultMessage:"Delete {entity}"},{entity:entity}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"trash"}),onClick:function onClick(){_this2.closePopover();_this2.setState({renderConfirmModal:_this2.renderConfirmDeleteModal})}});(0,_index_management_extensions.getActionExtensions)().forEach(function(actionExtension){var actionExtensionDefinition=actionExtension(indices,reloadIndices);if(actionExtensionDefinition){var buttonLabel=actionExtensionDefinition.buttonLabel,requestMethod=actionExtensionDefinition.requestMethod,successMessage=actionExtensionDefinition.successMessage,icon=actionExtensionDefinition.icon,renderConfirmModal=actionExtensionDefinition.renderConfirmModal;if(requestMethod){items.push({name:buttonLabel,icon:_react2.default.createElement(_eui.EuiIcon,{type:icon}),onClick:function onClick(){_this2.closePopoverAndExecute(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return performExtensionAction(requestMethod,successMessage);case 2:case"end":return _context.stop()}}},_callee,_this2)})))}})}else{items.push({name:buttonLabel,icon:_react2.default.createElement(_eui.EuiIcon,{type:icon}),onClick:function onClick(){_this2.closePopover();_this2.setState({renderConfirmModal:renderConfirmModal})}})}}});items.forEach(function(item){item["data-test-subj"]="indexTableContextMenuButton"});var panelTree={id:0,title:intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.panelTitle",defaultMessage:"{entityUpper} options"},{entityUpper:entityUpper}),items:items};return(0,_flatten_panel_tree.flattenPanelTree)(panelTree)}},{key:"render",value:function render(){var intl=this.props.intl;var indexNamesLength=this.props.indexNames.length;var _props2=this.props,_props2$iconSide=_props2.iconSide,iconSide=_props2$iconSide===undefined?"right":_props2$iconSide,_props2$anchorPositio=_props2.anchorPosition,anchorPosition=_props2$anchorPositio===undefined?"rightUp":_props2$anchorPositio,_props2$label=_props2.label,label=_props2$label===undefined?intl.formatMessage({id:"xpack.idxMgmt.indexActionsMenu.manageButtonLabel",defaultMessage:"Manage {indexNamesLength, plural, one {index} other {indices}}"},{indexNamesLength:indexNamesLength}):_props2$label,_props2$iconType=_props2.iconType,iconType=_props2$iconType===undefined?"arrowDown":_props2$iconType;var panels=this.panels();var oneIndexSelected=this.oneIndexSelected();var entity=this.getEntity(oneIndexSelected);var button=_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"indexActionsContextMenuButton",iconSide:iconSide,"aria-label":entity+" options",onClick:this.onButtonClick,iconType:iconType,fill:true},label);return _react2.default.createElement("div",null,this.state.renderConfirmModal?this.state.renderConfirmModal(this.closeConfirmModal,(0,_api.getHttpClient)()):null,_react2.default.createElement(_eui.EuiPopover,{id:"contextMenu"+entity,button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",withTitle:true,anchorPosition:anchorPosition,repositionOnScroll:true},_react2.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:panels})))}}]);return IndexActionsContextMenuUi}(_react.Component);var IndexActionsContextMenu=exports.IndexActionsContextMenu=(0,_react3.injectI18n)(IndexActionsContextMenuUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var flattenPanelTree=exports.flattenPanelTree=function flattenPanelTree(tree){var array=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];array.push(tree);if(tree.items){tree.items.forEach(function(item){if(item.panel){flattenPanelTree(item.panel,array);item.panel=item.panel.id}})}return array}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.clearCacheIndices=exports.clearCacheIndicesStart=undefined;var _reduxActions=__webpack_require__(25);var _i18n=__webpack_require__(9);var _notify=__webpack_require__(10);var _services=__webpack_require__(184);var _actions=__webpack_require__(73);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var clearCacheIndicesStart=exports.clearCacheIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLEAR_CACHE_INDICES_START");var clearCacheIndices=exports.clearCacheIndices=function clearCacheIndices(_ref){var indexNames=_ref.indexNames;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(clearCacheIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.clearCacheIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.clearCacheIndicesAction.successMessage",{defaultMessage:"Successfully cleared cache: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}}},_callee,undefined,[[1,6]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sortTable=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _lodash=__webpack_require__(1);var stringSort=function stringSort(fieldName){return function(item){return item[fieldName]}};var numericSort=function numericSort(fieldName){return function(item){return+item[fieldName]}};var unitMagnitude={kb:1,mb:2,gb:3,tb:4,pb:5};var byteSort=function byteSort(fieldName){return function(item){var rawValue=item[fieldName];if(!rawValue){return 0}var matchResult=rawValue.match(/(.*)([kmgtp]b)/);if(!matchResult){return 0}var _matchResult=_slicedToArray(matchResult,3),number=_matchResult[1],unit=_matchResult[2];return+number*Math.pow(1024,unitMagnitude[unit])}};var sorters={name:stringSort("name"),status:stringSort("status"),health:stringSort("health"),primary:numericSort("primary"),replica:numericSort("replica"),documents:numericSort("documents"),size:byteSort("size"),primary_size:byteSort("primary_size")};var sortTable=exports.sortTable=function sortTable(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var sortField=arguments[1];var isSortAscending=arguments[2];var sorted=(0,_lodash.sortBy)(array,sorters[sortField]);return isSortAscending?sorted:sorted.reverse()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.filterItems=undefined;var _lodash=__webpack_require__(1);var filterItems=exports.filterItems=function filterItems(fields){var filter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var items=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var lowerFilter=filter.trim().toLowerCase();return items.filter(function(item){var actualFields=fields||Object.keys(item);var indexOfMatch=actualFields.findIndex(function(field){var normalizedField=String((0,_lodash.get)(item,field)).toLowerCase();return normalizedField.includes(lowerFilter)});return indexOfMatch!==-1})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var healthToColor=exports.healthToColor=function healthToColor(health){switch(health){case"green":return"success";case"yellow":return"warning";case"red":return"danger"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.clearRowStatus=undefined;var _reduxActions=__webpack_require__(25);var clearRowStatus=exports.clearRowStatus=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLEAR_ROW_STATUS")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.closeIndices=exports.closeIndicesStart=undefined;var _reduxActions=__webpack_require__(25);var _i18n=__webpack_require__(9);var _services=__webpack_require__(184);var _notify=__webpack_require__(10);var _actions=__webpack_require__(73);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var closeIndicesStart=exports.closeIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLOSE_INDICES_START");var closeIndices=exports.closeIndices=function closeIndices(_ref){var indexNames=_ref.indexNames;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(closeIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.closeIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.closeIndicesAction.successfullyClosedIndicesMessage",{defaultMessage:"Successfully closed: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}}},_callee,undefined,[[1,6]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flushIndices=exports.flushIndicesStart=undefined;var _reduxActions=__webpack_require__(25);var _i18n=__webpack_require__(9);var _services=__webpack_require__(184);var _actions=__webpack_require__(73);var _notify=__webpack_require__(10);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var flushIndicesStart=exports.flushIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FLUSH_INDICES_START");var flushIndices=exports.flushIndices=function flushIndices(_ref){var indexNames=_ref.indexNames;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(flushIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.flushIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.flushIndicesAction.successfullyFlushedIndicesMessage",{defaultMessage:"Successfully flushed: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}}},_callee,undefined,[[1,6]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.forcemergeIndices=exports.forcemergeIndicesStart=undefined;var _reduxActions=__webpack_require__(25);var _i18n=__webpack_require__(9);var _services=__webpack_require__(184);var _actions=__webpack_require__(73);var _notify=__webpack_require__(10);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var forcemergeIndicesStart=exports.forcemergeIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FORCEMERGE_INDICES_START");var forcemergeIndices=exports.forcemergeIndices=function forcemergeIndices(_ref){var indexNames=_ref.indexNames,maxNumSegments=_ref.maxNumSegments;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(forcemergeIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.forcemergeIndices)(indexNames,maxNumSegments);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.forceMergeIndicesAction.successfullyForceMergedIndicesMessage",{defaultMessage:"Successfully force merged: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}}},_callee,undefined,[[1,6]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.openIndices=exports.openIndicesStart=undefined;var _reduxActions=__webpack_require__(25);var _i18n=__webpack_require__(9);var _services=__webpack_require__(184);var _actions=__webpack_require__(73);var _notify=__webpack_require__(10);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var openIndicesStart=exports.openIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_OPEN_INDICES_START");var openIndices=exports.openIndices=function openIndices(_ref){var indexNames=_ref.indexNames;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(openIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.openIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.openIndicesAction.successfullyOpenedIndicesMessage",{defaultMessage:"Successfully opened: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}}},_callee,undefined,[[1,6]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.refreshIndices=exports.refreshIndicesStart=undefined;var _reduxActions=__webpack_require__(25);var _i18n=__webpack_require__(9);var _services=__webpack_require__(184);var _actions=__webpack_require__(73);var _notify=__webpack_require__(10);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var refreshIndicesStart=exports.refreshIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_REFRESH_INDICES_START");var refreshIndices=exports.refreshIndices=function refreshIndices(_ref){var indexNames=_ref.indexNames;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(refreshIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.refreshIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.refreshIndicesAction.successfullyRefreshedIndicesMessage",{defaultMessage:"Successfully refreshed: [{indexNames}]",values:{indexNames:indexNames.join(", ")}}));case 12:case"end":return _context.stop()}}},_callee,undefined,[[1,6]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexStatusLabels=undefined;var _indexStatusLabels;var _i18n=__webpack_require__(9);var _constants=__webpack_require__(316);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var indexStatusLabels=exports.indexStatusLabels=(_indexStatusLabels={},_defineProperty(_indexStatusLabels,_constants.INDEX_CLEARING_CACHE,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.clearingCacheStatusLabel",{defaultMessage:"clearing cache..."})),_defineProperty(_indexStatusLabels,_constants.INDEX_CLOSED,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.closedStatusLabel",{defaultMessage:"closed"})),_defineProperty(_indexStatusLabels,_constants.INDEX_CLOSING,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.closingStatusLabel",{defaultMessage:"closing..."})),_defineProperty(_indexStatusLabels,_constants.INDEX_MERGING,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.mergingStatusLabel",{defaultMessage:"merging..."})),_defineProperty(_indexStatusLabels,_constants.INDEX_OPENING,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.openingStatusLabel",{defaultMessage:"opening..."})),_defineProperty(_indexStatusLabels,_constants.INDEX_REFRESHING,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.refreshingStatusLabel",{defaultMessage:"refreshing..."})),_defineProperty(_indexStatusLabels,_constants.INDEX_FLUSHING,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.flushingStatusLabel",{defaultMessage:"flushing..."})),_defineProperty(_indexStatusLabels,_constants.INDEX_FORCEMERGING,_i18n.i18n.translate("xpack.idxMgmt.indexStatusLabels.forcingMergeStatusLabel",{defaultMessage:"forcing merge..."})),_indexStatusLabels)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showSystemIndicesChanged=exports.sortChanged=exports.pageSizeChanged=exports.pageChanged=exports.filterChanged=exports.filtersApplied=exports.applyFilters=undefined;var _reduxActions=__webpack_require__(25);var applyFilters=exports.applyFilters=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_APPLY_FILTERS");var filtersApplied=exports.filtersApplied=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FILTERS_APPLIED");var filterChanged=exports.filterChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FILTER_CHANGED");var pageChanged=exports.pageChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_PAGE_CHANGED");var pageSizeChanged=exports.pageSizeChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_PAGE_SIZE_CHANGED");var sortChanged=exports.sortChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_SORT_CHANGED");var showSystemIndicesChanged=exports.showSystemIndicesChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_SHOW_SYSTEM_INDICES_CHANGED")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.editIndexSettings=undefined;var _i18n=__webpack_require__(9);var _services=__webpack_require__(184);var _load_index_data=__webpack_require__(783);var _notify=__webpack_require__(10);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var editIndexSettings=exports.editIndexSettings=function editIndexSettings(_ref){var indexName=_ref.indexName;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var indexSettings;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:indexSettings=void 0;_context.prev=1;_context.next=4;return(0,_services.loadIndexSettings)(indexName);case 4:indexSettings=_context.sent;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);return _context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 10:_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.idxMgmt.editIndexSettingsAction.successfullySavedSettingsForIndicesMessage",{defaultMessage:"Successfully saved settings for {indexName}",values:{indexName:indexName}}));dispatch((0,_load_index_data.loadIndexDataSuccess)({data:indexSettings,panelType:"editIndexSettings",indexName:indexName}));case 12:case"end":return _context.stop()}}},_callee,undefined,[[1,7]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.performExtensionAction=undefined;var _actions=__webpack_require__(73);var _notify=__webpack_require__(10);var _api=__webpack_require__(540);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var performExtensionAction=exports.performExtensionAction=function performExtensionAction(_ref){var requestMethod=_ref.requestMethod,indexNames=_ref.indexNames,successMessage=_ref.successMessage;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return requestMethod(indexNames,(0,_api.getHttpClient)());case 3:_context.next=9;break;case 5:_context.prev=5;_context.t0=_context["catch"](0);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return");case 9:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess(successMessage);case 11:case"end":return _context.stop()}}},_callee,undefined,[[0,5]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _detail_panel=__webpack_require__(4028);Object.defineProperty(exports,"DetailPanel",{enumerable:true,get:function get(){return _detail_panel.DetailPanel}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=undefined;var _reactRedux=__webpack_require__(14);var _detail_panel=__webpack_require__(4029);var _selectors=__webpack_require__(318);var _actions=__webpack_require__(73);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{panelType:(0,_selectors.getDetailPanelType)(state),indexName:indexName,index:(0,_selectors.getIndexByIndexName)(state,indexName)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{clearCacheIndex:function clearCacheIndex(indexName){dispatch((0,_actions.clearCacheIndices)({indexNames:[indexName]}))},closeIndex:function closeIndex(indexName){dispatch((0,_actions.closeIndices)({indexNames:[indexName]}))},flushIndex:function flushIndex(indexName){dispatch((0,_actions.flushIndices)({indexNames:[indexName]}))},openIndex:function openIndex(indexName){dispatch((0,_actions.openIndices)({indexNames:[indexName]}))},refreshIndex:function refreshIndex(indexName){dispatch((0,_actions.refreshIndices)({indexNames:[indexName]}))},forcemergeIndex:function forcemergeIndex(indexName){dispatch((0,_actions.forcemergeIndices)({indexNames:[indexName]}))},deleteIndex:function deleteIndex(indexName){dispatch((0,_actions.deleteIndices)({indexNames:[indexName]}))},closeDetailPanel:function closeDetailPanel(){return dispatch((0,_actions.closeDetailPanel)())},openDetailPanel:function openDetailPanel(indexName,panelType){return dispatch((0,_actions.openDetailPanel)(indexName,panelType))}}};var DetailPanel=exports.DetailPanel=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_detail_panel.DetailPanel)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _reactRouterDom=__webpack_require__(37);var _show_json=__webpack_require__(4030);var _summary=__webpack_require__(4033);var _edit_settings_json=__webpack_require__(4036);var _eui=__webpack_require__(2);var _components=__webpack_require__(782);var _constants=__webpack_require__(316);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1)}var tabs=["Summary","Settings","Mapping","Stats","Edit settings"];var DetailPanel=exports.DetailPanel=function(_Component){_inherits(DetailPanel,_Component);function DetailPanel(){_classCallCheck(this,DetailPanel);return _possibleConstructorReturn(this,(DetailPanel.__proto__||Object.getPrototypeOf(DetailPanel)).apply(this,arguments))}_createClass(DetailPanel,[{key:"renderTabs",value:function renderTabs(){var _props=this.props,panelType=_props.panelType,indexName=_props.indexName,index=_props.index,openDetailPanel=_props.openDetailPanel;return tabs.map(function(tab,i){var isSelected=tab===panelType;return _react2.default.createElement(_eui.EuiTab,{onClick:function onClick(){return openDetailPanel({panelType:tab,indexName:indexName})},isSelected:isSelected,"data-test-subj":"detailPanelTab"+(isSelected?"Selected":""),disabled:tab==="Stats"&&index.status!==_constants.INDEX_OPEN,key:i},capitalizeFirstLetter(tab))})}},{key:"render",value:function render(){var _props2=this.props,panelType=_props2.panelType,indexName=_props2.indexName,index=_props2.index,closeDetailPanel=_props2.closeDetailPanel;if(!panelType){return null}var component=null;switch(panelType){case"Edit settings":component=_react2.default.createElement(_edit_settings_json.EditSettingsJson,null);break;case"Mapping":case"Settings":case"Stats":component=_react2.default.createElement(_show_json.ShowJson,null);break;default:component=_react2.default.createElement(_summary.Summary,null)}var content=index?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlyoutBody,null,component),_react2.default.createElement(_eui.EuiFlyoutFooter,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_reactRouterDom.Route,{key:"menu",render:function render(){return _react2.default.createElement(_components.IndexActionsContextMenu,{iconSide:"left",indexNames:[indexName],anchorPosition:"upRight",detailPanel:true,iconType:"arrowUp",label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.manageContextMenuLabel",defaultMessage:"Manage"})})}}))))):_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.missingIndexTitle",defaultMessage:"Missing index"}),color:"danger",iconType:"cross"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.missingIndexMessage",defaultMessage:"This index does not exist. It might have been deleted by a running job or another system."})));return _react2.default.createElement(_eui.EuiFlyout,{"data-test-subj":"indexDetailFlyout",onClose:closeDetailPanel,"aria-labelledby":"indexDetailsFlyoutTitle"},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,{size:"l",id:"indexDetailsFlyoutTitle"},_react2.default.createElement("h2",null,indexName)),index?_react2.default.createElement(_eui.EuiTabs,null,this.renderTabs()):null),content)}}]);return DetailPanel}(_react.Component)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _show_json=__webpack_require__(4031);Object.defineProperty(exports,"ShowJson",{enumerable:true,get:function get(){return _show_json.ShowJson}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShowJson=undefined;var _reactRedux=__webpack_require__(14);var _show_json=__webpack_require__(4032);var _actions=__webpack_require__(73);var _selectors=__webpack_require__(318);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{error:(0,_selectors.getDetailPanelError)(state),data:(0,_selectors.getDetailPanelData)(state),dataType:(0,_selectors.getDetailPanelType)(state),indexName:indexName,indexStatus:(0,_selectors.getIndexStatusByIndexName)(state,indexName)}};var mapDispatchToProps={loadIndexData:_actions.loadIndexData,closeDetailPanel:_actions.closeDetailPanel};var ShowJson=exports.ShowJson=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_show_json.ShowJson)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShowJson=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);__webpack_require__(867);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ShowJson=exports.ShowJson=function(_React$PureComponent){_inherits(ShowJson,_React$PureComponent);function ShowJson(){_classCallCheck(this,ShowJson);return _possibleConstructorReturn(this,(ShowJson.__proto__||Object.getPrototypeOf(ShowJson)).apply(this,arguments))}_createClass(ShowJson,[{key:"componentWillMount",value:function componentWillMount(){this.props.loadIndexData(this.props)}},{key:"componentWillUpdate",value:function componentWillUpdate(newProps){var data=newProps.data,loadIndexData=newProps.loadIndexData;if(!data){loadIndexData(newProps)}}},{key:"render",value:function render(){var data=this.props.data;if(!data){return null}var json=JSON.stringify(data,null,2);return _react2.default.createElement(_eui.EuiCodeEditor,{mode:"json",theme:"textmate",isReadOnly:true,setOptions:{maxLines:Infinity},value:json,editorProps:{$blockScrolling:Infinity}})}}]);return ShowJson}(_react2.default.PureComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _summary=__webpack_require__(4034);Object.defineProperty(exports,"Summary",{enumerable:true,get:function get(){return _summary.Summary}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Summary=undefined;var _reactRedux=__webpack_require__(14);var _summary=__webpack_require__(4035);var _selectors=__webpack_require__(318);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{indexName:indexName,index:(0,_selectors.getIndexByIndexName)(state,indexName)}};var Summary=exports.Summary=(0,_reactRedux.connect)(mapStateToProps)(_summary.Summary)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Summary=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(9);var _services=__webpack_require__(184);var _navigation=__webpack_require__(538);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _index_management_extensions=__webpack_require__(428);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var getHeaders=function getHeaders(){return{health:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.healthHeader",{defaultMessage:"Health"}),status:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.statusHeader",{defaultMessage:"Status"}),primary:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.primaryHeader",{defaultMessage:"Primaries"}),replica:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.replicaHeader",{defaultMessage:"Replicas"}),documents:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.documentsHeader",{defaultMessage:"Docs Count"}),documents_deleted:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.deletedDocumentsHeader",{defaultMessage:"Docs Deleted"}),size:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.storageSizeHeader",{defaultMessage:"Storage Size"}),primary_size:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.primaryStorageSizeHeader",{defaultMessage:"Primary Storage Size"}),aliases:_i18n.i18n.translate("xpack.idxMgmt.summary.headers.aliases",{defaultMessage:"Aliases"})}};var Summary=exports.Summary=function(_React$PureComponent){_inherits(Summary,_React$PureComponent);function Summary(){_classCallCheck(this,Summary);return _possibleConstructorReturn(this,(Summary.__proto__||Object.getPrototypeOf(Summary)).apply(this,arguments))}_createClass(Summary,[{key:"getAdditionalContent",value:function getAdditionalContent(){var index=this.props.index;var extensions=(0,_index_management_extensions.getSummaryExtensions)();return extensions.map(function(summaryExtension,i){return _react2.default.createElement(_react.Fragment,{key:"summaryExtension-"+i},_react2.default.createElement(_eui.EuiHorizontalRule,null),summaryExtension(index,(0,_navigation.getUrlService)()))})}},{key:"buildRows",value:function buildRows(){var index=this.props.index;var headers=getHeaders();var rows={left:[],right:[]};Object.keys(headers).forEach(function(fieldName,arrayIndex){var value=index[fieldName];var content=value;if(fieldName==="health"){content=_react2.default.createElement(_eui.EuiHealth,{color:(0,_services.healthToColor)(value)},value)}if(Array.isArray(content)){content=content.join(", ")}var cell=[_react2.default.createElement(_eui.EuiDescriptionListTitle,{key:fieldName},_react2.default.createElement("strong",null,headers[fieldName])),_react2.default.createElement(_eui.EuiDescriptionListDescription,{key:fieldName+"_desc"},content)];if(arrayIndex%2===0){rows.left.push(cell)}else{rows.right.push(cell)}});return rows}},{key:"render",value:function render(){var _buildRows=this.buildRows(),left=_buildRows.left,right=_buildRows.right;var additionalContent=this.getAdditionalContent();return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.summary.summaryTitle",defaultMessage:"General"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},left)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},right))),additionalContent)}}]);return Summary}(_react2.default.PureComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _edit_settings_json=__webpack_require__(4037);Object.defineProperty(exports,"EditSettingsJson",{enumerable:true,get:function get(){return _edit_settings_json.EditSettingsJson}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditSettingsJson=undefined;var _reactRedux=__webpack_require__(14);var _edit_settings_json=__webpack_require__(4038);var _actions=__webpack_require__(73);var _selectors=__webpack_require__(318);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{error:(0,_selectors.getDetailPanelError)(state),data:(0,_selectors.getDetailPanelData)(state),indexName:indexName,indexStatus:(0,_selectors.getIndexStatusByIndexName)(state,indexName)}};var mapDispatchToProps={loadIndexData:_actions.loadIndexData,closeDetailPanel:_actions.closeDetailPanel,updateIndexSettings:_actions.updateIndexSettings};var EditSettingsJson=exports.EditSettingsJson=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_edit_settings_json.EditSettingsJson)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditSettingsJson=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _documentation_links=__webpack_require__(4039);var _eui=__webpack_require__(2);var _editSettings=__webpack_require__(4040);var _ace=__webpack_require__(4041);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _flatten_object=__webpack_require__(4042);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var EditSettingsJson=exports.EditSettingsJson=function(_React$PureComponent){_inherits(EditSettingsJson,_React$PureComponent);function EditSettingsJson(){_classCallCheck(this,EditSettingsJson);var _this=_possibleConstructorReturn(this,(EditSettingsJson.__proto__||Object.getPrototypeOf(EditSettingsJson)).call(this));_this.commitSettings=function(){var _this$props=_this.props,updateIndexSettings=_this$props.updateIndexSettings,indexName=_this$props.indexName;var json=_this.editor.getValue();var settings=JSON.parse(json);Object.keys(_this.originalSettings).forEach(function(key){if(_lodash2.default.isEqual(_this.originalSettings[key],settings[key])){delete settings[key]}});updateIndexSettings({indexName:indexName,settings:settings})};_this.state={valid:true};return _this}_createClass(EditSettingsJson,[{key:"transformSettingsForApi",value:function transformSettingsForApi(data,isOpen){var defaults=data.defaults,settings=data.settings;var flattenedSettings=(0,_flatten_object.flattenObject)(settings);var flattenedDefaults=(0,_flatten_object.flattenObject)(defaults);var filteredDefaults=_lodash2.default.pick(flattenedDefaults,_editSettings.settingsToDisplay);var newSettings=_extends({},filteredDefaults,flattenedSettings);this.settingsKeys=Object.keys(newSettings);_editSettings.readOnlySettings.forEach(function(e){return delete newSettings[e]});if(isOpen){delete newSettings["index.codec"]}return newSettings}},{key:"componentWillMount",value:function componentWillMount(){var indexName=this.props.indexName;this.props.loadIndexData({dataType:"Settings",indexName:indexName})}},{key:"componentDidUpdate",value:function componentDidUpdate(){var _this2=this;var _props=this.props,data=_props.data,indexStatus=_props.indexStatus;if(data&&!this.editor){var isOpen=indexStatus==="open";var newSettings=this.transformSettingsForApi(data,isOpen);this.originalSettings=newSettings;var prettyJson=JSON.stringify(newSettings,null,2);var settingsKeys=Object.keys(newSettings);var editor=this.editor=(0,_ace.createAceEditor)(this.aceDiv,prettyJson,false,settingsKeys);var session=editor.getSession();session.on("changeAnnotation",function(){_this2.setState({valid:session.getAnnotations().length===0})})}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.editor&&this.editor.destroy()}},{key:"errorMessage",value:function errorMessage(){var error=this.props.error;if(!error){return null}return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiIcon,{color:"danger",type:"alert"}),_react2.default.createElement(_eui.EuiTextColor,{color:"danger"},error),_react2.default.createElement(_eui.EuiSpacer,null))}},{key:"render",value:function render(){var _this3=this;var data=this.props.data;if(!data){return null}return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.saveJSONDescription",defaultMessage:"Edit, then save your JSON"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{size:"s",fill:true,"data-test-subj":"updateEditIndexSettingsButton",onClick:this.commitSettings,disabled:!this.state.valid},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.saveJSONButtonLabel",defaultMessage:"Save"})))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiLink,{href:_documentation_links.settingsDocumentationLink,target:"_blank",rel:"noopener noreferrer"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.settingsReferenceLinkText",defaultMessage:"Settings reference"})),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement("div",{"data-test-subj":"indexJsonEditor",ref:function ref(aceDiv){_this3.aceDiv=aceDiv}}),this.errorMessage(),_react2.default.createElement(_eui.EuiSpacer,null))}}]);return EditSettingsJson}(_react2.default.PureComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.settingsDocumentationLink=undefined;var _documentation_links=__webpack_require__(65);var esBase=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/elasticsearch/reference/"+_documentation_links.DOC_LINK_VERSION;var settingsDocumentationLink=exports.settingsDocumentationLink=esBase+"/index-modules.html#index-modules-settings"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var readOnlySettings=exports.readOnlySettings=["index.creation_date","index.number_of_shards","index.provided_name","index.uuid","index.version.created","index.compound_format","index.data_path","index.format","index.number_of_routing_shards","index.sort.field","index.sort.missing","index.sort.mode","index.sort.order","index.routing_partition_size","index.store.type"];var settingsToDisplay=exports.settingsToDisplay=["index.number_of_replicas","index.blocks.read_only_allow_delete","index.codec","index.priority","index.query.default_field","index.refresh_interval","index.write.wait_for_active_shards"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createAceEditor=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _ace=__webpack_require__(205);var _ace2=_interopRequireDefault(_ace);__webpack_require__(1312);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var splitTokens=function splitTokens(line){return line.split(/\s+/)};var wordCompleter=function wordCompleter(words){return{identifierRegexps:[/[a-zA-Z_0-9\.\$\-\u00A2-\uFFFF]/],getCompletions:function getCompletions(editor,session,pos,prefix,callback){var document=session.getDocument();var currentLine=document.getLine(pos.row);var previousLine=document.getLine(pos.row-1);var currentTokens=splitTokens(currentLine.slice(0,pos.column));var fullLineTokens=splitTokens(currentLine);var isInArray=previousLine&&splitTokens(previousLine).slice(-1)[0]==="[";var _currentTokens=_slicedToArray(currentTokens,2),_currentTokens$=_currentTokens[1],secondToken=_currentTokens$===undefined?null:_currentTokens$;var _fullLineTokens=_slicedToArray(fullLineTokens,2),_fullLineTokens$=_fullLineTokens[1],secondFullToken=_fullLineTokens$===undefined?null:_fullLineTokens$;if(isInArray||currentTokens.length>2){return callback(null,[])}var startQuote=secondToken==='"'?"":'"';var endQuote=secondFullToken==='""'?"":'"';callback(null,words.map(function(word){return{caption:" "+word,value:""+startQuote+word+endQuote}}))}}};var createAceEditor=exports.createAceEditor=function createAceEditor(div,value){var readOnly=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var autocompleteArray=arguments[3];var editor=_ace2.default.edit(div);editor.$blockScrolling=Infinity;editor.setValue(value,-1);var session=editor.getSession();session.setUseWrapMode(true);session.setMode("ace/mode/json");if(autocompleteArray){var languageTools=_ace2.default.acequire("ace/ext/language_tools");var autocompleter=wordCompleter(autocompleteArray);languageTools.setCompleters([autocompleter])}var options={readOnly:readOnly,highlightActiveLine:false,highlightGutterLine:false,minLines:20,maxLines:30};var autocompleteOptions=readOnly?{}:{enableBasicAutocompletion:true,enableLiveAutocompletion:true};editor.setOptions(_extends({},options,autocompleteOptions));editor.setBehavioursEnabled(!readOnly);return editor}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flattenObject=undefined;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var flattenObject=exports.flattenObject=function flattenObject(nestedObj,flattenArrays){var stack=[];var flatObj={};var dot=".";(function flattenObj(obj){_lodash2.default.keys(obj).forEach(function(key){stack.push(key);if(!flattenArrays&&Array.isArray(obj[key]))flatObj[stack.join(dot)]=obj[key];else if(_lodash2.default.isObject(obj[key]))flattenObj(obj[key]);else flatObj[stack.join(dot)]=obj[key];stack.pop()})})(nestedObj);return flatObj}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_table=__webpack_require__(4044);Object.defineProperty(exports,"IndexTable",{enumerable:true,get:function get(){return _index_table.IndexTable}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexTable=undefined;var _reactRedux=__webpack_require__(14);var _selectors=__webpack_require__(318);var _actions=__webpack_require__(73);var _index_table=__webpack_require__(4045);var mapStateToProps=function mapStateToProps(state){return{allIndices:(0,_selectors.getIndicesAsArray)(state),isDetailPanelOpen:(0,_selectors.isDetailPanelOpen)(state),detailPanelIndexName:(0,_selectors.getDetailPanelIndexName)(state),indices:(0,_selectors.getPageOfIndices)(state),pager:(0,_selectors.getPager)(state),filter:(0,_selectors.getFilter)(state),showSystemIndices:(0,_selectors.showSystemIndices)(state),sortField:(0,_selectors.getSortField)(state),isSortAscending:(0,_selectors.isSortAscending)(state),indicesLoading:(0,_selectors.indicesLoading)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{filterChanged:function filterChanged(filter){dispatch((0,_actions.filterChanged)({filter:filter}))},pageChanged:function pageChanged(pageNumber){dispatch((0,_actions.pageChanged)({pageNumber:pageNumber}))},pageSizeChanged:function pageSizeChanged(pageSize){dispatch((0,_actions.pageSizeChanged)({pageSize:pageSize}))},sortChanged:function sortChanged(sortField,isSortAscending){dispatch((0,_actions.sortChanged)({sortField:sortField,isSortAscending:isSortAscending}))},showSystemIndicesChanged:function showSystemIndicesChanged(showSystemIndices){dispatch((0,_actions.showSystemIndicesChanged)({showSystemIndices:showSystemIndices}))},openDetailPanel:function openDetailPanel(indexName){dispatch((0,_actions.openDetailPanel)({indexName:indexName}))},closeDetailPanel:function closeDetailPanel(){dispatch((0,_actions.closeDetailPanel)())},loadIndices:function loadIndices(){dispatch((0,_actions.loadIndices)())},reloadIndices:function reloadIndices(){dispatch((0,_actions.reloadIndices)())}}};var IndexTable=exports.IndexTable=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_index_table.IndexTable)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexTable=exports.IndexTableUi=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);var _reactRouterDom=__webpack_require__(37);var _no_match=__webpack_require__(4046);var _services=__webpack_require__(184);__webpack_require__(4049);var _constants=__webpack_require__(4050);var _eui=__webpack_require__(2);var _components=__webpack_require__(782);var _index_management_extensions=__webpack_require__(428);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var HEADERS={name:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.nameHeader",{defaultMessage:"Name"}),health:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.healthHeader",{defaultMessage:"Health"}),status:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.statusHeader",{defaultMessage:"Status"}),primary:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.primaryHeader",{defaultMessage:"Primaries"}),replica:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.replicaHeader",{defaultMessage:"Replicas"}),documents:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.documentsHeader",{defaultMessage:"Docs count"}),size:_i18n.i18n.translate("xpack.idxMgmt.indexTable.headers.storageSizeHeader",{defaultMessage:"Storage size"})};var IndexTableUi=exports.IndexTableUi=function(_Component){_inherits(IndexTableUi,_Component);_createClass(IndexTableUi,null,[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props,state){var selectedIndicesMap=state.selectedIndicesMap;var indexNames=props.indices.map(function(index){return index.name});var selectedIndexNames=Object.keys(selectedIndicesMap);var missingIndexNames=selectedIndexNames.filter(function(selectedIndexName){return!indexNames.includes(selectedIndexName)});if(missingIndexNames.length){var newMap=_extends({},selectedIndicesMap);missingIndexNames.forEach(function(missingIndexName){return delete newMap[missingIndexName]});return{selectedIndicesMap:newMap}}return null}}]);function IndexTableUi(props){_classCallCheck(this,IndexTableUi);var _this=_possibleConstructorReturn(this,(IndexTableUi.__proto__||Object.getPrototypeOf(IndexTableUi)).call(this,props));_this.onSort=function(column){var _this$props=_this.props,sortField=_this$props.sortField,isSortAscending=_this$props.isSortAscending,sortChanged=_this$props.sortChanged;var newIsSortAscending=sortField===column?!isSortAscending:true;sortChanged(column,newIsSortAscending)};_this.onFilterChanged=function(_ref){var query=_ref.query,error=_ref.error;if(error){_this.setState({filterError:error})}else{_this.props.filterChanged(query);_this.setState({filterError:null})}};_this.getFilters=function(){var allIndices=_this.props.allIndices;return(0,_index_management_extensions.getFilterExtensions)().reduce(function(accum,filterExtension){var filtersToAdd=filterExtension(allIndices);return[].concat(_toConsumableArray(accum),_toConsumableArray(filtersToAdd))},[])};_this.toggleAll=function(){var allSelected=_this.areAllItemsSelected();if(allSelected){return _this.setState({selectedIndicesMap:{}})}var indices=_this.props.indices;var selectedIndicesMap={};indices.forEach(function(_ref2){var name=_ref2.name;selectedIndicesMap[name]=true});_this.setState({selectedIndicesMap:selectedIndicesMap})};_this.toggleItem=function(name){_this.setState(function(_ref3){var selectedIndicesMap=_ref3.selectedIndicesMap;var newMap=_extends({},selectedIndicesMap);if(newMap[name]){delete newMap[name]}else{newMap[name]=true}return{selectedIndicesMap:newMap}})};_this.isItemSelected=function(name){return!!_this.state.selectedIndicesMap[name]};_this.areAllItemsSelected=function(){var indices=_this.props.indices;var indexOfUnselectedItem=indices.findIndex(function(index){return!_this.isItemSelected(index.name)});return indexOfUnselectedItem===-1};_this.onItemSelectionChanged=function(selectedIndices){_this.setState({selectedIndices:selectedIndices})};_this.state={selectedIndicesMap:{}};return _this}_createClass(IndexTableUi,[{key:"componentDidMount",value:function componentDidMount(){this.props.loadIndices();this.interval=setInterval(this.props.reloadIndices,_constants.REFRESH_RATE_INDEX_LIST);var _props=this.props,filterChanged=_props.filterChanged,filterFromURI=_props.filterFromURI;if(filterFromURI){var decodedFilter=decodeURIComponent(filterFromURI);filterChanged(_eui.EuiSearchBar.Query.parse(decodedFilter))}}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.interval)}},{key:"renderFilterError",value:function renderFilterError(){var intl=this.props.intl;var filterError=this.state.filterError;if(!filterError){return}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{iconType:"faceSad",color:"danger",title:intl.formatMessage({id:"xpack.idxMgmt.indexTable.invalidSearchErrorMessage",defaultMessage:"Invalid search: {errorMessage}"},{errorMessage:filterError.message})}),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}))}},{key:"buildHeader",value:function buildHeader(){var _this2=this;var _props2=this.props,sortField=_props2.sortField,isSortAscending=_props2.isSortAscending;return Object.entries(HEADERS).map(function(_ref4){var _ref5=_slicedToArray(_ref4,2),fieldName=_ref5[0],label=_ref5[1];var isSorted=sortField===fieldName;return _react2.default.createElement(_eui.EuiTableHeaderCell,{key:fieldName,onSort:function onSort(){return _this2.onSort(fieldName)},isSorted:isSorted,isSortAscending:isSortAscending,"data-test-subj":"indexTableHeaderCell-"+fieldName,className:"indexTable__header--"+fieldName},label)})}},{key:"buildRowCell",value:function buildRowCell(fieldName,value){var openDetailPanel=this.props.openDetailPanel;if(fieldName==="health"){return _react2.default.createElement(_eui.EuiHealth,{color:(0,_services.healthToColor)(value)},value)}else if(fieldName==="name"){return _react2.default.createElement(_eui.EuiLink,{className:"indTable__link","data-test-subj":"indexTableIndexNameLink",onClick:function onClick(){openDetailPanel(value)}},value)}return value}},{key:"buildRowCells",value:function buildRowCells(index){var _this3=this;return Object.keys(HEADERS).map(function(fieldName){var name=index.name;var value=index[fieldName];return _react2.default.createElement(_eui.EuiTableRowCell,{key:fieldName+"-"+name,truncateText:false,"data-test-subj":"indexTableCell-"+fieldName},_this3.buildRowCell(fieldName,value))})}},{key:"renderBanners",value:function renderBanners(){var _props3=this.props,_props3$allIndices=_props3.allIndices,allIndices=_props3$allIndices===undefined?[]:_props3$allIndices,filterChanged=_props3.filterChanged;return(0,_index_management_extensions.getBannerExtensions)().map(function(bannerExtension,i){var bannerData=bannerExtension(allIndices);if(!bannerData){return null}var type=bannerData.type,title=bannerData.title,message=bannerData.message,filter=bannerData.filter,filterLabel=bannerData.filterLabel;return _react2.default.createElement(_react.Fragment,{key:"bannerExtension"+i},_react2.default.createElement(_eui.EuiCallOut,{color:type,size:"m",title:title},_react2.default.createElement(_eui.EuiText,null,message,filter?_react2.default.createElement(_eui.EuiLink,{onClick:function onClick(){return filterChanged(filter)}},filterLabel):null)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))})}},{key:"buildRows",value:function buildRows(){var _this4=this;var _props4=this.props,_props4$indices=_props4.indices,indices=_props4$indices===undefined?[]:_props4$indices,detailPanelIndexName=_props4.detailPanelIndexName;return indices.map(function(index){var name=index.name;return _react2.default.createElement(_eui.EuiTableRow,{isSelected:_this4.isItemSelected(name)||name===detailPanelIndexName,key:name+"-row"},_react2.default.createElement(_eui.EuiTableRowCellCheckbox,{key:"checkbox-"+name},_react2.default.createElement(_eui.EuiCheckbox,{type:"inList",id:"checkboxSelectIndex-"+name,checked:_this4.isItemSelected(name),onChange:function onChange(){_this4.toggleItem(name)},"data-test-subj":"indexTableRowCheckbox"})),_this4.buildRowCells(index))})}},{key:"renderPager",value:function renderPager(){var _props5=this.props,pager=_props5.pager,pageChanged=_props5.pageChanged,pageSizeChanged=_props5.pageSizeChanged;return _react2.default.createElement(_eui.EuiTablePagination,{activePage:pager.getCurrentPageIndex(),itemsPerPage:pager.itemsPerPage,itemsPerPageOptions:[10,50,100],pageCount:pager.getTotalPages(),onChangeItemsPerPage:pageSizeChanged,onChangePage:pageChanged})}},{key:"render",value:function render(){var _this5=this;var _props6=this.props,filter=_props6.filter,showSystemIndices=_props6.showSystemIndices,showSystemIndicesChanged=_props6.showSystemIndicesChanged,indices=_props6.indices,intl=_props6.intl,loadIndices=_props6.loadIndices,indicesLoading=_props6.indicesLoading,allIndices=_props6.allIndices;var emptyState=indicesLoading?_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"}))):_react2.default.createElement(_no_match.NoMatch,null);var selectedIndicesMap=this.state.selectedIndicesMap;var atLeastOneItemSelected=Object.keys(selectedIndicesMap).length>0;return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.indexTable.sectionHeading",defaultMessage:"Index management"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.indexTable.sectionDescription",defaultMessage:"Update your Elasticsearch indices individually or in bulk."})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},indicesLoading&&allIndices.length===0?null:_react2.default.createElement(_eui.EuiSwitch,{id:"checkboxShowSystemIndices",checked:showSystemIndices,onChange:function onChange(event){return showSystemIndicesChanged(event.target.checked)},label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.indexTable.systemIndicesSwitchLabel",defaultMessage:"Include system indices"})}))),_react2.default.createElement(_eui.EuiSpacer,null),this.renderBanners(),_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},atLeastOneItemSelected?_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_reactRouterDom.Route,{key:"menu",render:function render(){return _react2.default.createElement(_components.IndexActionsContextMenu,{indexNames:Object.keys(selectedIndicesMap),resetSelection:function resetSelection(){_this5.setState({selectedIndicesMap:{}})}})}})):null,indicesLoading&&allIndices.length===0?null:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiSearchBar,{filters:this.getFilters(),defaultQuery:filter,query:filter,box:{incremental:true,placeholder:intl.formatMessage({id:"xpack.idxMgmt.indexTable.systemIndicesSearchInputPlaceholder",defaultMessage:"Search"})},"aria-label":intl.formatMessage({id:"xpack.idxMgmt.indexTable.systemIndicesSearchIndicesAriaLabel",defaultMessage:"Search indices"}),"data-test-subj":"indexTableFilterInput",onChange:this.onFilterChanged})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{isLoading:indicesLoading,color:"secondary",onClick:function onClick(){loadIndices()},iconType:"refresh"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.indexTable.reloadIndicesButton",defaultMessage:"Reload indices"}))))),this.renderFilterError(),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),indices.length>0?_react2.default.createElement(_eui.EuiTable,null,_react2.default.createElement(_eui.EuiTableHeader,null,_react2.default.createElement(_eui.EuiTableHeaderCellCheckbox,null,_react2.default.createElement(_eui.EuiCheckbox,{id:"selectAllIndexes",checked:this.areAllItemsSelected(),onChange:this.toggleAll,type:"inList"})),this.buildHeader()),_react2.default.createElement(_eui.EuiTableBody,null,this.buildRows())):emptyState,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),indices.length>0?this.renderPager():null)))}}]);return IndexTableUi}(_react.Component);var IndexTable=exports.IndexTable=(0,_react3.injectI18n)(IndexTableUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _no_match=__webpack_require__(4047);Object.defineProperty(exports,"NoMatch",{enumerable:true,get:function get(){return _no_match.NoMatch}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _no_match=__webpack_require__(4048);Object.defineProperty(exports,"NoMatch",{enumerable:true,get:function get(){return _no_match.NoMatch}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoMatch=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NoMatch=exports.NoMatch=function NoMatch(){return _react2.default.createElement("div",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.idxMgmt.noMatch.noIndicesDescription",defaultMessage:"No indices to show"}))}},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _refresh_intervals=__webpack_require__(4051);Object.defineProperty(exports,"REFRESH_RATE_INDEX_LIST",{enumerable:true,get:function get(){return _refresh_intervals.REFRESH_RATE_INDEX_LIST}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var REFRESH_RATE_INDEX_LIST=exports.REFRESH_RATE_INDEX_LIST=3e4},function(module,exports){module.exports='<kbn-management-app section="elasticsearch/index_management">\n  <div id="indexManagementReactRoot" class="indTable__horizontalScrollContainer"></div>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.manageAngularLifecycle=undefined;var _reactDom=__webpack_require__(15);var manageAngularLifecycle=exports.manageAngularLifecycle=function manageAngularLifecycle($scope,$route,elem){var lastRoute=$route.current;var deregister=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;if(lastRoute.$$route.template===currentRoute.$$route.template){$route.current=lastRoute}});$scope.$on("$destroy",function(){deregister&&deregister();elem&&(0,_reactDom.unmountComponentAtNode)(elem)})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _store=__webpack_require__(4055);Object.defineProperty(exports,"indexManagementStore",{enumerable:true,get:function get(){return _store.indexManagementStore}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexManagementStore=undefined;var _redux=__webpack_require__(28);var _reduxThunk=__webpack_require__(264);var _reduxThunk2=_interopRequireDefault(_reduxThunk);var _reducers=__webpack_require__(4056);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var indexManagementStore=exports.indexManagementStore=function indexManagementStore(){var initialState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var enhancers=[(0,_redux.applyMiddleware)(_reduxThunk2.default)];window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());return(0,_redux.createStore)(_reducers.indexManagement,initialState,_redux.compose.apply(undefined,enhancers))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_management=__webpack_require__(4057);Object.defineProperty(exports,"indexManagement",{enumerable:true,get:function get(){return _index_management.indexManagement}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexManagement=undefined;var _redux=__webpack_require__(28);var _detail_panel=__webpack_require__(4058);var _indices=__webpack_require__(4059);var _row_status=__webpack_require__(4060);var _table_state=__webpack_require__(4061);var indexManagement=exports.indexManagement=(0,_redux.combineReducers)({indices:_indices.indices,rowStatus:_row_status.rowStatus,tableState:_table_state.tableState,detailPanel:_detail_panel.detailPanel})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.detailPanel=undefined;var _handleActions;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _reduxActions=__webpack_require__(25);var _detail_panel=__webpack_require__(1289);var _load_index_data=__webpack_require__(783);var _update_index_settings=__webpack_require__(1288);var _delete_indices=__webpack_require__(1285);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var defaultState={};var detailPanel=exports.detailPanel=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_delete_indices.deleteIndicesSuccess,function(state,action){var indexNames=action.payload.indexNames;var indexName=state.indexName;if(indexNames.includes(indexName)){return{}}else{return state}}),_defineProperty(_handleActions,_detail_panel.openDetailPanel,function(state,action){var _action$payload=action.payload,panelType=_action$payload.panelType,indexName=_action$payload.indexName,title=_action$payload.title;return{panelType:panelType||state.panelType||"Summary",indexName:indexName,title:title}}),_defineProperty(_handleActions,_detail_panel.closeDetailPanel,function(){return{}}),_defineProperty(_handleActions,_load_index_data.loadIndexDataSuccess,function(state,action){var data=action.payload.data;var newState=_extends({},state,{data:data});return newState}),_defineProperty(_handleActions,_update_index_settings.updateIndexSettingsError,function(state,action){var error=action.payload.error;var newState=_extends({},state,{error:error});return newState}),_defineProperty(_handleActions,_update_index_settings.updateIndexSettingsSuccess,function(){return{}}),_handleActions),defaultState)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indices=undefined;var _handleActions,_handleActions2,_handleActions3;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _redux=__webpack_require__(28);var _reduxActions=__webpack_require__(25);var _actions=__webpack_require__(73);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var byId=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.deleteIndicesSuccess,function(state,action){var indexNames=action.payload.indexNames;var newState={};Object.values(state).forEach(function(index){if(!indexNames.includes(index.name)){newState[index.name]=index}});return newState}),_defineProperty(_handleActions,_actions.loadIndicesSuccess,function(state,action){var indices=action.payload.indices;var newState={};indices.forEach(function(index){newState[index.name]=index});return newState}),_defineProperty(_handleActions,_actions.reloadIndicesSuccess,function(state,action){var indices=action.payload.indices;var newState={};indices.forEach(function(index){newState[index.name]=index});return _extends({},state,newState)}),_handleActions),{});var allIds=(0,_reduxActions.handleActions)((_handleActions2={},_defineProperty(_handleActions2,_actions.deleteIndicesSuccess,function(state,action){var indexNames=action.payload.indexNames;var newState=[];state.forEach(function(indexName){if(!indexNames.includes(indexName)){newState.push(indexName)}});return newState}),_defineProperty(_handleActions2,_actions.loadIndicesSuccess,function(state,action){var indices=action.payload.indices;return indices.map(function(index){return index.name})}),_defineProperty(_handleActions2,_actions.reloadIndicesSuccess,function(state){return state}),_handleActions2),[]);var loading=(0,_reduxActions.handleActions)((_handleActions3={},_defineProperty(_handleActions3,_actions.loadIndicesStart,function(){return true}),_defineProperty(_handleActions3,_actions.loadIndicesSuccess,function(){return false}),_handleActions3),true);var indices=exports.indices=(0,_redux.combineReducers)({loading:loading,byId:byId,allIds:allIds})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rowStatus=undefined;var _handleActions;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _reduxActions=__webpack_require__(25);var _actions=__webpack_require__(73);var _constants=__webpack_require__(316);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var rowStatus=exports.rowStatus=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.clearRowStatus,function(state,action){var indexNames=action.payload.indexNames;var newState=_extends({},state);indexNames.forEach(function(indexName){delete newState[indexName]});return newState}),_defineProperty(_handleActions,_actions.closeIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_CLOSING});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.openIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_OPENING});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.refreshIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_REFRESHING});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.flushIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_FLUSHING});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.forcemergeIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_FORCEMERGING});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.clearCacheIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_CLEARING_CACHE});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.reloadIndicesSuccess,function(state,action){var indices=action.payload.indices;var indicesByName=indices.reduce(function(acc,index){acc[index.name]=index;return acc},{});var newState=_extends({},state);for(var indexName in state){if(state[indexName]===_constants.INDEX_CLOSING&&indicesByName[indexName].status===_constants.INDEX_CLOSED){delete newState[indexName]}if(state[indexName]===_constants.INDEX_OPENING&&indicesByName[indexName].status===_constants.INDEX_OPEN){delete newState[indexName]}if(state[indexName]===_constants.INDEX_REFRESHING&&indicesByName[indexName].status===_constants.INDEX_OPEN){delete newState[indexName]}if(state[indexName]===_constants.INDEX_REFRESHING&&indicesByName[indexName].status===_constants.INDEX_CLOSED){delete newState[indexName]}if(state[indexName]===_constants.INDEX_FLUSHING&&indicesByName[indexName].status===_constants.INDEX_OPEN){delete newState[indexName]}if(state[indexName]===_constants.INDEX_FLUSHING&&indicesByName[indexName].status===_constants.INDEX_CLOSED){delete newState[indexName]}if(state[indexName]===_constants.INDEX_FORCEMERGING&&indicesByName[indexName].status===_constants.INDEX_OPEN){delete newState[indexName]}if(state[indexName]===_constants.INDEX_FORCEMERGING&&indicesByName[indexName].status===_constants.INDEX_CLOSED){delete newState[indexName]}if(state[indexName]===_constants.INDEX_CLEARING_CACHE&&indicesByName[indexName].status===_constants.INDEX_OPEN){delete newState[indexName]}if(state[indexName]===_constants.INDEX_CLEARING_CACHE&&indicesByName[indexName].status===_constants.INDEX_CLOSED){delete newState[indexName]}}return newState}),_handleActions),{})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.tableState=undefined;var _handleActions;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _reduxActions=__webpack_require__(25);var _actions=__webpack_require__(73);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var defaultState={filter:"",pageSize:10,currentPage:0,sortField:"index.name",isSortAscending:true,showSystemIndices:false};var tableState=exports.tableState=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.filterChanged,function(state,action){var filter=action.payload.filter;return _extends({},state,{filter:filter,currentPage:0})}),_defineProperty(_handleActions,_actions.showSystemIndicesChanged,function(state,action){var showSystemIndices=action.payload.showSystemIndices;return _extends({},state,{showSystemIndices:showSystemIndices})}),_defineProperty(_handleActions,_actions.sortChanged,function(state,action){var _action$payload=action.payload,sortField=_action$payload.sortField,isSortAscending=_action$payload.isSortAscending;return _extends({},state,{sortField:sortField,isSortAscending:isSortAscending})}),_defineProperty(_handleActions,_actions.pageChanged,function(state,action){var pageNumber=action.payload.pageNumber;return _extends({},state,{currentPage:pageNumber})}),_defineProperty(_handleActions,_actions.pageSizeChanged,function(state,action){var pageSize=action.payload.pageSize;return _extends({},state,{pageSize:pageSize})}),_handleActions),defaultState)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4063);__webpack_require__(4064)},function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(24);var _constants=__webpack_require__(386);var _i18n=__webpack_require__(9);_management.management.getSection("elasticsearch").register("license_management",{visible:true,display:_i18n.i18n.translate("xpack.licenseMgmt.managementSectionDisplayName",{defaultMessage:"License Management"}),order:4,url:"#"+_constants.BASE_PATH+"home"})},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _reactRedux=__webpack_require__(14);var _reactRouterDom=__webpack_require__(37);var _telemetry=__webpack_require__(541);var _react3=__webpack_require__(3);var _app=__webpack_require__(4065);var _app2=_interopRequireDefault(_app);var _base_path=__webpack_require__(574);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _xpack_info=__webpack_require__(46);var _main=__webpack_require__(4090);var _main2=_interopRequireDefault(_main);var _store=__webpack_require__(4091);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var renderReact=function renderReact(elem,store){(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_reactRedux.Provider,{store:store},_react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_app2.default,null)))),elem)};var manageAngularLifecycle=function manageAngularLifecycle($scope,$route,elem){var lastRoute=$route.current;var deregister=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;if(lastRoute.$$route.template===currentRoute.$$route.template){$route.current=lastRoute}});$scope.$on("$destroy",function(){deregister&&deregister();elem&&(0,_reactDom.unmountComponentAtNode)(elem)})};var initializeTelemetry=function initializeTelemetry($injector){var telemetryEnabled=$injector.get("telemetryEnabled");var Private=$injector.get("Private");var telemetryOptInProvider=Private(_telemetry.TelemetryOptInProvider);(0,_telemetry.setTelemetryOptInService)(telemetryOptInProvider);(0,_telemetry.setTelemetryEnabled)(telemetryEnabled);(0,_telemetry.setHttpClient)($injector.get("$http"))};_routes2.default.when(_base_path.BASE_PATH+":view?",{template:_main2.default,controllerAs:"licenseManagement",controller:function LicenseManagementController($injector,$window,$rootScope,$scope,$route,kbnUrl){_classCallCheck(this,LicenseManagementController);initializeTelemetry($injector);var autoLogout=null;try{autoLogout=$injector.get("autoLogout")}catch(e){autoLogout=function autoLogout(){}}$scope.$$postDigest(function(){var elem=document.getElementById("licenseReactRoot");var xPackInfo=(0,_xpack_info.XPackInfoProvider)($window,$injector,$injector.get("Private"));var initialState={license:xPackInfo.get("license")};var kbnUrlWrapper={change:function change(url){kbnUrl.change(url);$rootScope.$digest()}};var services={autoLogout:autoLogout,xPackInfo:xPackInfo,kbnUrl:kbnUrlWrapper};var store=(0,_store.licenseManagementStore)(initialState,services);renderReact(elem,store);manageAngularLifecycle($scope,$route,elem)})}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _sections=__webpack_require__(4066);var _reactRouterDom=__webpack_require__(37);var _constants=__webpack_require__(386);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(){return _react2.default.createElement(_eui.EuiPage,{restrictWidth:true},_react2.default.createElement(_eui.EuiPageBody,{className:"licManagement__pageBody"},_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Route,{path:_constants.BASE_PATH+"upload_license",component:_sections.UploadLicense}),_react2.default.createElement(_reactRouterDom.Route,{path:""+_constants.BASE_PATH,component:_sections.LicenseDashboard}))))};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _license_dashboard=__webpack_require__(4067);Object.defineProperty(exports,"LicenseDashboard",{enumerable:true,get:function get(){return _license_dashboard.LicenseDashboard}});var _upload_license=__webpack_require__(4087);Object.defineProperty(exports,"UploadLicense",{enumerable:true,get:function get(){return _upload_license.UploadLicense}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _license_dashboard=__webpack_require__(4068);Object.defineProperty(exports,"LicenseDashboard",{enumerable:true,get:function get(){return _license_dashboard.LicenseDashboard}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseDashboard=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _license_status=__webpack_require__(4069);var _revert_to_basic=__webpack_require__(4076);var _start_trial=__webpack_require__(4079);var _add_license=__webpack_require__(4083);var _request_trial_extension=__webpack_require__(4084);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LicenseDashboard=exports.LicenseDashboard=function LicenseDashboard(){return _react2.default.createElement("div",{className:"licManagement__contain"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_license_status.LicenseStatus,null)),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_add_license.AddLicense,null)),_react2.default.createElement(_start_trial.StartTrial,null),_react2.default.createElement(_request_trial_extension.RequestTrialExtension,null),_react2.default.createElement(_revert_to_basic.RevertToBasic,null)))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _license_status=__webpack_require__(4070);Object.defineProperty(exports,"LicenseStatus",{enumerable:true,get:function get(){return _license_status.LicenseStatus}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseStatus=undefined;var _license_status=__webpack_require__(861);var _reactRedux=__webpack_require__(14);var _licenseManagement=__webpack_require__(367);var _i18n=__webpack_require__(9);var mapStateToProps=function mapStateToProps(state){var _getLicense=(0,_licenseManagement.getLicense)(state),isActive=_getLicense.isActive,type=_getLicense.type;return{status:isActive?_i18n.i18n.translate("xpack.licenseMgmt.licenseDashboard.licenseStatus.activeLicenseStatusText",{defaultMessage:"Active"}):_i18n.i18n.translate("xpack.licenseMgmt.licenseDashboard.licenseStatus.inactiveLicenseStatusText",{defaultMessage:"Inactive"}),type:type,isExpired:(0,_licenseManagement.isExpired)(state),expiryDate:(0,_licenseManagement.getExpirationDateFormatted)(state)}};var LicenseStatus=exports.LicenseStatus=(0,_reactRedux.connect)(mapStateToProps)(_license_status.LicenseStatus)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.license=undefined;var _reduxActions=__webpack_require__(25);var _add_license=__webpack_require__(1291);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var license=exports.license=(0,_reduxActions.handleActions)(_defineProperty({},_add_license.addLicense,function(state,_ref){var payload=_ref.payload;return payload}),{})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uploadStatus=undefined;var _reduxActions=__webpack_require__(25);var _upload_license=__webpack_require__(1292);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var uploadStatus=exports.uploadStatus=(0,_reduxActions.handleActions)(_defineProperty({},_upload_license.uploadLicenseStatus,function(state,_ref){var payload=_ref.payload;return payload}),{})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startBasicStatus=undefined;var _handleActions;var _reduxActions=__webpack_require__(25);var _start_basic=__webpack_require__(1293);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var startBasicStatus=exports.startBasicStatus=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_start_basic.startBasicLicenseStatus,function(state,_ref){var payload=_ref.payload;return payload}),_defineProperty(_handleActions,_start_basic.cancelStartBasicLicense,function(){return{}}),_handleActions),{})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uploadErrorMessage=undefined;var _reduxActions=__webpack_require__(25);var _add_error_message=__webpack_require__(785);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var uploadErrorMessage=exports.uploadErrorMessage=(0,_reduxActions.handleActions)(_defineProperty({},_add_error_message.addUploadErrorMessage,function(state,_ref){var payload=_ref.payload;return payload}),"")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.trialStatus=undefined;var _reduxActions=__webpack_require__(25);var _start_trial=__webpack_require__(1294);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var trialStatus=exports.trialStatus=(0,_reduxActions.handleActions)(_defineProperty({},_start_trial.trialStatusLoaded,function(state,_ref){var payload=_ref.payload;return{canStartTrial:payload}}),{})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _revert_to_basic=__webpack_require__(4077);Object.defineProperty(exports,"RevertToBasic",{enumerable:true,get:function get(){return _revert_to_basic.RevertToBasic}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RevertToBasic=undefined;var _reactRedux=__webpack_require__(14);var _revert_to_basic=__webpack_require__(4078);var _licenseManagement=__webpack_require__(367);var _start_basic=__webpack_require__(1293);var mapStateToProps=function mapStateToProps(state){return{shouldShowRevertToBasicLicense:(0,_licenseManagement.shouldShowRevertToBasicLicense)(state),licenseType:(0,_licenseManagement.getLicenseType)(state),needsAcknowledgement:(0,_licenseManagement.startBasicLicenseNeedsAcknowledgement)(state),messages:(0,_licenseManagement.getStartBasicMessages)(state)}};var mapDispatchToProps={startBasicLicense:_start_basic.startBasicLicense,cancelStartBasicLicense:_start_basic.cancelStartBasicLicense};var RevertToBasic=exports.RevertToBasic=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_revert_to_basic.RevertToBasic)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RevertToBasic=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var RevertToBasic=exports.RevertToBasic=function(_React$PureComponent){_inherits(RevertToBasic,_React$PureComponent);function RevertToBasic(){var _ref;var _temp,_this,_ret;_classCallCheck(this,RevertToBasic);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=RevertToBasic.__proto__||Object.getPrototypeOf(RevertToBasic)).call.apply(_ref,[this].concat(args))),_this),_this.cancel=function(){_this.props.uploadLicenseStatus({})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(RevertToBasic,[{key:"acknowledgeModal",value:function acknowledgeModal(){var _props=this.props,needsAcknowledgement=_props.needsAcknowledgement,_props$messages=_props.messages;_props$messages=_props$messages===undefined?[]:_props$messages;var _props$messages2=_toArray(_props$messages),firstLine=_props$messages2[0],messages=_props$messages2.slice(1),startBasicLicense=_props.startBasicLicense,cancelStartBasicLicense=_props.cancelStartBasicLicense,licenseType=_props.licenseType;if(!needsAcknowledgement){return null}return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.confirmModalTitle",defaultMessage:"Confirm Revert to Basic License"}),onCancel:cancelStartBasicLicense,onConfirm:function onConfirm(){return startBasicLicense(licenseType,true)},cancelButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.confirmModal.confirmButtonLabel",defaultMessage:"Confirm"})},_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiText,null,firstLine),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("ul",null,messages.map(function(message){return _react2.default.createElement("li",{key:message},message)}))))))}},{key:"render",value:function render(){var _props2=this.props,licenseType=_props2.licenseType,shouldShowRevertToBasicLicense=_props2.shouldShowRevertToBasicLicense,startBasicLicense=_props2.startBasicLicense;if(!shouldShowRevertToBasicLicense){return null}var description=_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.revertToFreeFeaturesDescription",defaultMessage:"You’ll revert to our free features and lose access to security, machine learning and other {platinumLicenseFeaturesLinkText}.",values:{platinumLicenseFeaturesLinkText:_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.platinumLicenseFeaturesLinkText",defaultMessage:"Platinum features"}))}}));return _react2.default.createElement(_eui.EuiFlexItem,null,this.acknowledgeModal(),_react2.default.createElement(_eui.EuiCard,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.acknowledgeModalTitle",defaultMessage:"Revert to Basic license"}),description:description,footer:_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"revertToBasicButton",onClick:function onClick(){return startBasicLicense(licenseType)}},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.acknowledgeModal.revertToBasicButtonLabel",defaultMessage:"Revert to Basic"}))}))}}]);return RevertToBasic}(_react2.default.PureComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _start_trial=__webpack_require__(4080);Object.defineProperty(exports,"StartTrial",{enumerable:true,get:function get(){return _start_trial.StartTrial}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StartTrial=undefined;var _reactRedux=__webpack_require__(14);var _start_trial=__webpack_require__(4081);var _start_trial2=__webpack_require__(1294);var _licenseManagement=__webpack_require__(367);var mapStateToProps=function mapStateToProps(state){return{shouldShowStartTrial:(0,_licenseManagement.shouldShowStartTrial)(state)}};var mapDispatchToProps={loadTrialStatus:_start_trial2.loadTrialStatus,startLicenseTrial:_start_trial2.startLicenseTrial};var StartTrial=exports.StartTrial=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_start_trial.StartTrial)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StartTrial=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _documentation_links=__webpack_require__(65);var _telemetry_opt_in=__webpack_require__(1295);var _telemetry=__webpack_require__(541);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var esBase=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/elasticsearch/reference/"+_documentation_links.DOC_LINK_VERSION;var securityDocumentationLink=esBase+"/security-settings.html";var StartTrial=exports.StartTrial=function(_React$PureComponent){_inherits(StartTrial,_React$PureComponent);function StartTrial(props){_classCallCheck(this,StartTrial);var _this=_possibleConstructorReturn(this,(StartTrial.__proto__||Object.getPrototypeOf(StartTrial)).call(this,props));_this.startLicenseTrial=function(){var startLicenseTrial=_this.props.startLicenseTrial;if(_this.telemetryOptIn.isOptingInToTelemetry()){(0,_telemetry.optInToTelemetry)(true)}startLicenseTrial()};_this.cancel=function(){_this.setState({showConfirmation:false})};_this.state={showConfirmation:false};return _this}_createClass(StartTrial,[{key:"componentWillMount",value:function componentWillMount(){this.props.loadTrialStatus()}},{key:"acknowledgeModal",value:function acknowledgeModal(){var _this2=this;var showConfirmation=this.state.showConfirmation;if(!showConfirmation){return null}return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiModal,{className:"licManagement__modal",onClose:this.cancel},_react2.default.createElement(_eui.EuiModalHeader,null,_react2.default.createElement(_eui.EuiModalHeaderTitle,{"data-test-subj":"confirmModalTitleText"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalTitle",defaultMessage:"Start your free 30-day trial"}))),_react2.default.createElement(_eui.EuiModalBody,null,_react2.default.createElement(_eui.EuiText,{"data-test-subj":"confirmModalBodyText"},_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription",defaultMessage:"This trial is for the full set of {platinumLicenseFeaturesLinkText} of the Elastic Stack. You'll get immediate access to:",values:{platinumLicenseFeaturesLinkText:_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.platinumLicenseFeaturesLinkText",defaultMessage:"Platinum features"}))}})),_react2.default.createElement("ul",null,_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.mashingLearningFeatureTitle",defaultMessage:"Machine learning"})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.alertingFeatureTitle",defaultMessage:"Alerting"})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.graphCapabilitiesFeatureTitle",defaultMessage:"Graph capabilities"})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.dataBaseConnectivityFeatureTitle",defaultMessage:"{jdbcStandard} and {odbcStandard} connectivity for {sqlDataBase}",values:{jdbcStandard:"JDBC",odbcStandard:"ODBC",sqlDataBase:"SQL"}}))),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.securityFeaturesConfigurationDescription",defaultMessage:"Security features, such as authentication ({authenticationTypeList}), role-based access control, and auditing, require configuration. See the {securityDocumentationLinkText} for instructions.",values:{authenticationTypeList:"native, AD/LDAP, SAML, PKI",securityDocumentationLinkText:_react2.default.createElement(_eui.EuiLink,{href:securityDocumentationLink,target:"_blank"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.securityDocumentationLinkText",defaultMessage:"documentation"}))}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.termsAndConditionsDescription",defaultMessage:"By starting this trial, you agree that it is subject to these {termsAndConditionsLinkText}.",values:{termsAndConditionsLinkText:_react2.default.createElement(_eui.EuiLink,{href:"https://elastic.co/legal/trial_license",target:"_blank"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.termsAndConditionsLinkText",defaultMessage:"terms and conditions"}))}})))))),_react2.default.createElement(_eui.EuiModalFooter,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_telemetry_opt_in.TelemetryOptIn,{isStartTrial:true,ref:function ref(_ref){_this2.telemetryOptIn=_ref}})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"licManagement__ieFlex"},_react2.default.createElement(_eui.EuiFlexGroup,{responsive:false},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"licManagement__ieFlex"},_react2.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"confirmModalCancelButton",onClick:this.cancel,buttonRef:this.cancelRef},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"licManagement__ieFlex"},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"confirmModalConfirmButton",onClick:this.startLicenseTrial,fill:true,buttonRef:this.confirmRef,color:"primary"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModal.startTrialButtonLabel",defaultMessage:"Start my trial"})))))))))}},{key:"render",value:function render(){var _this3=this;var shouldShowStartTrial=this.props.shouldShowStartTrial;if(!shouldShowStartTrial){return null}var description=_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.platinumFeaturesExperienceDescription",defaultMessage:"Experience what security, machine learning, and all our other {platinumLicenseFeaturesLinkText} have to offer.",values:{platinumLicenseFeaturesLinkText:_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.platinumLicenseFeaturesLinkText",defaultMessage:"Platinum features"}))}}));var footer=_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"startTrialButton",onClick:function onClick(){return _this3.setState({showConfirmation:true})}},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.startTrialButtonLabel",defaultMessage:"Start trial"}));return _react2.default.createElement(_eui.EuiFlexItem,null,this.acknowledgeModal(),_react2.default.createElement(_eui.EuiCard,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrialTitle",defaultMessage:"Start a 30-day trial"}),description:description,footer:footer}))}}]);return StartTrial}(_react2.default.PureComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TelemetryOptIn=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _telemetry=__webpack_require__(541);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TelemetryOptIn=exports.TelemetryOptIn=function(_React$Component){_inherits(TelemetryOptIn,_React$Component);function TelemetryOptIn(){_classCallCheck(this,TelemetryOptIn);var _this=_possibleConstructorReturn(this,(TelemetryOptIn.__proto__||Object.getPrototypeOf(TelemetryOptIn)).call(this));_this.isOptingInToTelemetry=function(){return _this.state.isOptingInToTelemetry};_this.closeReadMorePopover=function(){_this.setState({showMoreTelemetryInfo:false})};_this.onClickReadMore=function(){var showMoreTelemetryInfo=_this.state.showMoreTelemetryInfo;_this.setState({showMoreTelemetryInfo:!showMoreTelemetryInfo})};_this.onClickExample=function(){_this.setState({showExample:true});_this.closeReadMorePopover()};_this.onChangeOptIn=function(event){var isOptingInToTelemetry=event.target.checked;_this.setState({isOptingInToTelemetry:isOptingInToTelemetry})};_this.state={showMoreTelemetryInfo:false,isOptingInToTelemetry:false,showExample:false};return _this}_createClass(TelemetryOptIn,[{key:"render",value:function render(){var _this2=this;var _state=this.state,showMoreTelemetryInfo=_state.showMoreTelemetryInfo,isOptingInToTelemetry=_state.isOptingInToTelemetry,showExample=_state.showExample;var isStartTrial=this.props.isStartTrial;var example=null;if(showExample){example=_react2.default.createElement(_telemetry.OptInExampleFlyout,{onClose:function onClose(){return _this2.setState({showExample:false})},fetchTelemetry:_telemetry.getTelemetryFetcher})}var toCurrentCustomers=void 0;if(!isStartTrial){toCurrentCustomers=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.customersHelpSupportDescription",defaultMessage:"Gold and platinum customers: help support give you better service."}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}))}var readMoreButton=_react2.default.createElement(_eui.EuiLink,{onClick:this.onClickReadMore},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.readMoreLinkText",defaultMessage:"Read more"}));var popover=_react2.default.createElement(_eui.EuiPopover,{ownFocus:true,id:"readMorePopover",button:readMoreButton,isOpen:showMoreTelemetryInfo,closePopover:this.closeReadMorePopover,className:"eui-AlignBaseline"},_react2.default.createElement(_eui.EuiText,{className:"licManagement__narrowText"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.featureUsageWarningMessage",defaultMessage:"This feature periodically sends basic feature usage statistics. This information will not be shared outside of Elastic. See an {exampleLink} or read our {telemetryPrivacyStatementLink}. You can disable this feature any time.",values:{exampleLink:_react2.default.createElement(_eui.EuiLink,{onClick:this.onClickExample},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.exampleLinkText",defaultMessage:"example"})),telemetryPrivacyStatementLink:_react2.default.createElement(_eui.EuiLink,{href:_telemetry.PRIVACY_STATEMENT_URL,target:"_blank"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.telemetryPrivacyStatementLinkText",defaultMessage:"telemetry privacy statement"}))}}))));return(0,_telemetry.showTelemetryOptIn)()?_react2.default.createElement(_react.Fragment,null,example,toCurrentCustomers,_react2.default.createElement(_eui.EuiCheckbox,{label:_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.sendBasicFeatureStatisticsLabel",defaultMessage:"Send basic feature usage statistics to Elastic periodically. {popover}",values:{popover:popover}})),id:"isOptingInToTelemetry",checked:isOptingInToTelemetry,onChange:this.onChangeOptIn})):null}}]);return TelemetryOptIn}(_react2.default.Component)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _add_license=__webpack_require__(862);Object.defineProperty(exports,"AddLicense",{enumerable:true,get:function get(){return _add_license.AddLicense}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _request_trial_extension=__webpack_require__(4085);Object.defineProperty(exports,"RequestTrialExtension",{enumerable:true,get:function get(){return _request_trial_extension.RequestTrialExtension}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RequestTrialExtension=undefined;var _reactRedux=__webpack_require__(14);var _request_trial_extension=__webpack_require__(4086);var _licenseManagement=__webpack_require__(367);var mapStateToProps=function mapStateToProps(state){return{shouldShowRequestTrialExtension:(0,_licenseManagement.shouldShowRequestTrialExtension)(state)}};var RequestTrialExtension=exports.RequestTrialExtension=(0,_reactRedux.connect)(mapStateToProps)(_request_trial_extension.RequestTrialExtension)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RequestTrialExtension=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RequestTrialExtension=exports.RequestTrialExtension=function RequestTrialExtension(_ref){var shouldShowRequestTrialExtension=_ref.shouldShowRequestTrialExtension;if(!shouldShowRequestTrialExtension){return null}var description=_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.howToContinueUsingPluginsDescription",defaultMessage:"If you’d like to continuing using security, machine learning, and our other awesome {platinumLicenseFeaturesLinkText}, request an extension now.",values:{platinumLicenseFeaturesLinkText:_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.platinumLicenseFeaturesLinkText",defaultMessage:"Platinum features"}))}}));return _react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.extendYourTrialTitle",defaultMessage:"Extend your trial"}),description:description,footer:_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"extendTrialButton",target:"_blank",href:"https://www.elastic.co/trialextension"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.extendTrialButtonLabel",defaultMessage:"Extend trial"}))}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _upload_license=__webpack_require__(4088);Object.defineProperty(exports,"UploadLicense",{enumerable:true,get:function get(){return _upload_license.UploadLicense}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UploadLicense=undefined;var _reactRedux=__webpack_require__(14);var _upload_license=__webpack_require__(1292);var _add_error_message=__webpack_require__(785);var _licenseManagement=__webpack_require__(367);var _upload_license2=__webpack_require__(4089);var mapStateToProps=function mapStateToProps(state){return{isInvalid:(0,_licenseManagement.isInvalid)(state),needsAcknowledgement:(0,_licenseManagement.uploadNeedsAcknowledgement)(state),messages:(0,_licenseManagement.uploadMessages)(state),errorMessage:(0,_licenseManagement.getUploadErrorMessage)(state),applying:(0,_licenseManagement.isApplying)(state),currentLicenseType:(0,_licenseManagement.getLicenseType)(state)||""}};var mapDispatchToProps={addUploadErrorMessage:_add_error_message.addUploadErrorMessage,uploadLicense:_upload_license.uploadLicense,uploadLicenseStatus:_upload_license.uploadLicenseStatus};var UploadLicense=exports.UploadLicense=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_upload_license2.UploadLicense)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UploadLicense=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _constants=__webpack_require__(386);var _eui=__webpack_require__(2);var _telemetry_opt_in=__webpack_require__(1295);var _telemetry=__webpack_require__(541);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var UploadLicense=exports.UploadLicense=function(_React$PureComponent){_inherits(UploadLicense,_React$PureComponent);function UploadLicense(){var _ref;var _temp,_this,_ret;_classCallCheck(this,UploadLicense);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=UploadLicense.__proto__||Object.getPrototypeOf(UploadLicense)).call.apply(_ref,[this].concat(args))),_this),_this.send=function(acknowledge){var file=_this.file;var fr=new FileReader;fr.onload=function(_ref2){var result=_ref2.target.result;if(_this.telemetryOptIn.isOptingInToTelemetry()){(0,_telemetry.optInToTelemetry)(true)}_this.props.uploadLicense(result,_this.props.currentLicenseType,acknowledge)};fr.readAsText(file)},_this.cancel=function(){_this.props.uploadLicenseStatus({})},_this.handleFile=function(_ref3){var _ref4=_slicedToArray(_ref3,1),file=_ref4[0];if(file){_this.props.addUploadErrorMessage("")}_this.file=file},_this.submit=function(event){event.preventDefault();if(_this.file){_this.send()}else{_this.props.addUploadErrorMessage(_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.licenseFileNotSelectedErrorMessage",defaultMessage:"You must select a license file."}))}},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(UploadLicense,[{key:"componentDidMount",value:function componentDidMount(){this.props.addUploadErrorMessage("")}},{key:"acknowledgeModal",value:function acknowledgeModal(){var _this2=this;var _props=this.props,needsAcknowledgement=_props.needsAcknowledgement,_props$messages=_props.messages;_props$messages=_props$messages===undefined?[]:_props$messages;var _props$messages2=_toArray(_props$messages),firstLine=_props$messages2[0],messages=_props$messages2.slice(1);if(!needsAcknowledgement){return null}return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.confirmModalTitle",defaultMessage:"Confirm License Upload"}),onCancel:this.cancel,onConfirm:function onConfirm(){return _this2.send(true)},cancelButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.confirmModal.confirmButtonLabel",defaultMessage:"Confirm"})},_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiText,null,firstLine),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("ul",null,messages.map(function(message){return _react2.default.createElement("li",{key:message},message)}))))))}},{key:"errorMessage",value:function errorMessage(){var errorMessage=this.props.errorMessage;if(!errorMessage){return null}return[errorMessage]}},{key:"render",value:function render(){var _this3=this;var _props2=this.props,currentLicenseType=_props2.currentLicenseType,applying=_props2.applying;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{className:"eui-textCenter",size:"l"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.uploadLicenseTitle",defaultMessage:"Upload your license"}))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center",verticalPosition:"center"},_react2.default.createElement(_eui.EuiPageContentBody,null,this.acknowledgeModal(),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.licenseKeyTypeDescription",defaultMessage:"Your license key is a JSON file with a signature attached."})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.replacingCurrentLicenseWarningMessage",defaultMessage:"Uploading a license will replace your current {currentLicenseType} license.",values:{currentLicenseType:_react2.default.createElement("strong",null,currentLicenseType.toUpperCase())}}))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiForm,{isInvalid:!!this.errorMessage(),error:this.errorMessage()},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiFilePicker,{id:"licenseFile",initialPromptText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.selectLicenseFileDescription",defaultMessage:"Select or drag your license file"}),onChange:this.handleFile})),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_telemetry_opt_in.TelemetryOptIn,{ref:function ref(_ref5){_this3.telemetryOptIn=_ref5}}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{href:"#"+_constants.BASE_PATH+"home"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.cancelButtonLabel",defaultMessage:"Cancel"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"uploadLicenseButton",fill:true,isLoading:applying,onClick:this.submit},applying?_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.uploadingButtonLabel",defaultMessage:"Uploading…"}):_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.uploadButtonLabel",defaultMessage:"Upload"}))))))))}}]);return UploadLicense}(_react2.default.PureComponent)},function(module,exports){module.exports='<kbn-management-app section="elasticsearch/license_management">\n  <div id="licenseReactRoot"></div>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _store=__webpack_require__(4092);Object.defineProperty(exports,"licenseManagementStore",{enumerable:true,get:function get(){return _store.licenseManagementStore}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.licenseManagementStore=undefined;var _redux=__webpack_require__(28);var _reduxThunk=__webpack_require__(264);var _reduxThunk2=_interopRequireDefault(_reduxThunk);var _reducers=__webpack_require__(4093);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var licenseManagementStore=exports.licenseManagementStore=function licenseManagementStore(){var initialState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var services=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var enhancers=[(0,_redux.applyMiddleware)(_reduxThunk2.default.withExtraArgument(services))];window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());return(0,_redux.createStore)(_reducers.licenseManagement,initialState,_redux.compose.apply(undefined,enhancers))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _licenseManagement=__webpack_require__(367);Object.defineProperty(exports,"licenseManagement",{enumerable:true,get:function get(){return _licenseManagement.licenseManagement}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4095)},function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(10);var _i18n=__webpack_require__(9);var _pipeline_edit_route=__webpack_require__(4096);var _pipeline_edit_route2=_interopRequireDefault(_pipeline_edit_route);__webpack_require__(4097);__webpack_require__(542);__webpack_require__(4111);__webpack_require__(4114);__webpack_require__(4124);var _update_management_sections=__webpack_require__(4131);var _pipeline=__webpack_require__(1297);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}_routes2.default.when("/management/logstash/pipelines/pipeline/:id/edit").when("/management/logstash/pipelines/new-pipeline").defaults(/management\/logstash\/pipelines\/(new-pipeline|pipeline\/:id\/edit)/,{template:_pipeline_edit_route2.default,controller:function PipelineEditRouteController($injector){_classCallCheck(this,PipelineEditRouteController);var $route=$injector.get("$route");this.pipeline=$route.current.locals.pipeline;this.isUpgraded=$route.current.locals.isUpgraded},controllerAs:"pipelineEditRoute",resolve:{logstashTabs:function logstashTabs($injector){var $route=$injector.get("$route");var pipelineId=$route.current.params.id;(0,_update_management_sections.updateLogstashSections)(pipelineId)},pipeline:function pipeline($injector){var $route=$injector.get("$route");var pipelineService=$injector.get("pipelineService");var licenseService=$injector.get("logstashLicenseService");var kbnUrl=$injector.get("kbnUrl");var pipelineId=$route.current.params.id;if(!pipelineId)return new _pipeline.Pipeline;return pipelineService.loadPipeline(pipelineId).then(function(pipeline){return!!$route.current.params.clone?pipeline.clone:pipeline}).catch(function(err){return licenseService.checkValidity().then(function(){if(err.status!==403){_notify.toastNotifications.addDanger(_i18n.i18n.translate("xpack.logstash.couldNotLoadPipelineErrorNotification",{defaultMessage:"Couldn't load pipeline. Error: '{errStatusText}'.",values:{errStatusText:err.statusText}}))}kbnUrl.redirect("/management/logstash/pipelines");return Promise.reject()})})},checkLicense:function checkLicense($injector){var licenseService=$injector.get("logstashLicenseService");return licenseService.checkValidity()},isUpgraded:function isUpgraded($injector){var upgradeService=$injector.get("upgradeService");return upgradeService.executeUpgrade()}}});_routes2.default.when("/management/logstash/pipelines/pipeline/:id",{redirectTo:"/management/logstash/pipelines/pipeline/:id/edit"})},function(module,exports){module.exports='<kbn-management-app section="logstash/pipelines/pipeline" omit-breadcrumb-pages="[\'pipeline\']">\n  <pipeline-edit ng-if="pipelineEditRoute.isUpgraded" pipeline="pipelineEditRoute.pipeline"></pipeline-edit>\n\n  <upgrade-failure ng-if="!pipelineEditRoute.isUpgraded" pipeline="pipelineEditRoute.pipeline"></upgrade-failure>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4098)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _pipeline_service=__webpack_require__(4099);_modules.uiModules.get("xpack/logstash").factory("pipelineService",function($injector){var $http=$injector.get("$http");var pipelinesService=$injector.get("pipelinesService");return new _pipeline_service.PipelineService($http,pipelinesService)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineService=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(319);var _pipeline=__webpack_require__(1297);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var PipelineService=exports.PipelineService=function(){function PipelineService($http,pipelinesService){_classCallCheck(this,PipelineService);this.$http=$http;this.pipelinesService=pipelinesService;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(PipelineService,[{key:"loadPipeline",value:function loadPipeline(id){return this.$http.get(this.basePath+"/pipeline/"+id).then(function(response){return _pipeline.Pipeline.fromUpstreamJSON(response.data)})}},{key:"savePipeline",value:function savePipeline(pipelineModel){return this.$http.put(this.basePath+"/pipeline/"+pipelineModel.id,pipelineModel.upstreamJSON).catch(function(e){throw e.data.message})}},{key:"deletePipeline",value:function deletePipeline(id){var _this=this;return this.$http.delete(this.basePath+"/pipeline/"+id).then(function(){return _this.pipelinesService.addToRecentlyDeleted(id)}).catch(function(e){throw e.data.message})}}]);return PipelineService}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var INDEX_NAMES=exports.INDEX_NAMES={PIPELINES:".logstash"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var TYPE_NAMES=exports.TYPE_NAMES={PIPELINES:"doc"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ROUTES=exports.ROUTES={API_ROOT:"/api/logstash",MONITORING_API_ROOT:"/api/monitoring"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var PAGINATION=exports.PAGINATION={PAGE_SIZE:20}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var PLUGIN=exports.PLUGIN={ID:"logstash"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ES_SCROLL_SETTINGS=exports.ES_SCROLL_SETTINGS={KEEPALIVE:"30s",PAGE_SIZE:100}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var PIPELINE=exports.PIPELINE={ORIGIN:{CCM:"centralized_configuration_management",OTHER:"file_or_command_line_interface_or_pipelines_yml"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var MONITORING=exports.MONITORING={ACTIVE_PIPELINE_RANGE_S:30}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Pipeline=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var emptyPipeline="input {\n"+"}\n"+"filter {\n"+"}\n"+"output {\n"+"}";var settingsDefaults={"pipeline.workers":null,"pipeline.batch.size":125,"pipeline.batch.delay":50,"queue.type":"memory","queue.max_bytes.number":1,"queue.max_bytes.units":"gb","queue.checkpoint.writes":1024};var Pipeline=exports.Pipeline=function(){function Pipeline(props){var _this=this;_classCallCheck(this,Pipeline);this.isEqualTo=function(otherPipeline){var cleanPipeline=_extends({},_this);var cleanOtherPipeline=_extends({},otherPipeline);return(0,_lodash.isEqual)(cleanPipeline,cleanOtherPipeline)};this.id=(0,_lodash.get)(props,"id");this.description=(0,_lodash.get)(props,"description","");this.pipeline=(0,_lodash.get)(props,"pipeline",emptyPipeline);this.username=(0,_lodash.get)(props,"username");this.settings=(0,_lodash.defaultsDeep)((0,_lodash.get)(props,"settings",{}),settingsDefaults)}_createClass(Pipeline,[{key:"clone",get:function get(){return new Pipeline(_extends({},(0,_lodash.omit)(this,["id","username"])))}},{key:"upstreamJSON",get:function get(){var settings=this.settings;var maxBytesNumber=(0,_lodash.get)(settings,"queue.max_bytes.number");var maxBytesUnits=(0,_lodash.get)(settings,"queue.max_bytes.units");var upstreamSettings=_extends({},settings);if(maxBytesNumber&&maxBytesUnits){delete upstreamSettings["queue.max_bytes.number"];delete upstreamSettings["queue.max_bytes.units"];upstreamSettings["queue.max_bytes"]=""+maxBytesNumber+maxBytesUnits}return{description:this.description,pipeline:this.pipeline,username:this.username,settings:upstreamSettings}}}],[{key:"fromUpstreamJSON",value:function fromUpstreamJSON(pipeline){var settings=pipeline.settings;var maxBytesStr=(0,_lodash.get)(settings,"queue.max_bytes","");var maxBytesParts=maxBytesStr.match(/(\d+)(\w+)/);if(Array.isArray(maxBytesParts)&&maxBytesParts.length===3){var maxBytesNumber=maxBytesParts[1];var maxBytesUnits=maxBytesParts[2];if(maxBytesNumber&&maxBytesUnits){delete settings["queue.max_bytes"];settings["queue.max_bytes.number"]=parseInt(maxBytesNumber);settings["queue.max_bytes.units"]=maxBytesUnits}}return new Pipeline({id:pipeline.id,description:pipeline.description,pipeline:pipeline.pipeline,username:pipeline.username,settings:settings})}}]);return Pipeline}()},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _xpack_info=__webpack_require__(46);__webpack_require__(204);var _logstash_license_service=__webpack_require__(4110);_modules.uiModules.get("xpack/logstash").factory("logstashLicenseService",function($injector){var Private=$injector.get("Private");var xpackInfoService=Private(_xpack_info.XPackInfoProvider);var kbnUrlService=$injector.get("kbnUrl");var $timeout=$injector.get("$timeout");return new _logstash_license_service.LogstashLicenseService(xpackInfoService,kbnUrlService,$timeout)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogstashLicenseService=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _notify=__webpack_require__(10);var _markdown=__webpack_require__(323);var _constants=__webpack_require__(319);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var LogstashLicenseService=exports.LogstashLicenseService=function(){function LogstashLicenseService(xpackInfoService,kbnUrlService,$timeout){_classCallCheck(this,LogstashLicenseService);this.xpackInfoService=xpackInfoService;this.kbnUrlService=kbnUrlService;this.$timeout=$timeout}_createClass(LogstashLicenseService,[{key:"notifyAndRedirect",value:function notifyAndRedirect(){_notify.toastNotifications.addDanger({title:_react2.default.createElement(_markdown.MarkdownSimple,null,this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message"))});this.kbnUrlService.redirect("/management")}},{key:"checkValidity",value:function checkValidity(){var _this=this;return new Promise(function(resolve,reject){_this.$timeout(function(){if(_this.isAvailable){return resolve()}_this.notifyAndRedirect();return reject()},10)})}},{key:"enableLinks",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".enableLinks"))}},{key:"isAvailable",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".isAvailable"))}},{key:"isReadOnly",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".isReadOnly"))}},{key:"message",get:function get(){return this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message")}}]);return LogstashLicenseService}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4112)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _upgrade_service=__webpack_require__(4113);_modules.uiModules.get("xpack/logstash").factory("upgradeService",function($injector){var $http=$injector.get("$http");return new _upgrade_service.UpgradeService($http)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpgradeService=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(319);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var UpgradeService=exports.UpgradeService=function(){function UpgradeService($http){_classCallCheck(this,UpgradeService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(UpgradeService,[{key:"executeUpgrade",value:function executeUpgrade(){return this.$http.post(this.basePath+"/upgrade").then(function(response){return response.data.is_upgraded}).catch(function(e){throw e.data.message})}}]);return UpgradeService}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4115)},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _notify=__webpack_require__(10);var _react3=__webpack_require__(3);var _pipeline_editor=__webpack_require__(4116);__webpack_require__(542);__webpack_require__(4121);__webpack_require__(205);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var app=_modules.uiModules.get("xpack/logstash");app.directive("pipelineEdit",function($injector){var _this=this;var pipelineService=$injector.get("pipelineService");var licenseService=$injector.get("logstashLicenseService");var securityService=$injector.get("logstashSecurityService");var kbnUrl=$injector.get("kbnUrl");var shieldUser=$injector.get("ShieldUser");var $route=$injector.get("$route");return{restrict:"E",link:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(scope,el){var close,open,userResource;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:close=function close(){return scope.$evalAsync(kbnUrl.change("/management/logstash/pipelines",{}))};open=function open(id){return scope.$evalAsync(kbnUrl.change("/management/logstash/pipelines/"+id+"/edit"))};if(!securityService.isSecurityEnabled){_context.next=8;break}_context.next=5;return shieldUser.getCurrent().$promise;case 5:_context.t0=_context.sent;_context.next=9;break;case 8:_context.t0=null;case 9:userResource=_context.t0;(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_pipeline_editor.PipelineEditor,{kbnUrl:kbnUrl,close:close,open:open,isNewPipeline:(0,_lodash.isEmpty)(scope.pipeline.id),username:userResource?userResource.username:null,pipeline:scope.pipeline,pipelineService:pipelineService,routeService:$route,toastNotifications:_notify.toastNotifications,licenseService:licenseService,notifier:new _notify.Notifier({location:"Logstash"})})),el[0]);case 11:case"end":return _context.stop()}}},_callee,_this)}));function link(_x,_x2){return _ref.apply(this,arguments)}return link}(),scope:{pipeline:"="}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pipeline_editor=__webpack_require__(4117);Object.defineProperty(exports,"PipelineEditor",{enumerable:true,get:function get(){return _pipeline_editor.PipelineEditor}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineEditor=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _react3=__webpack_require__(3);__webpack_require__(5040);__webpack_require__(488);var _lodash=__webpack_require__(1);var _tooltips=__webpack_require__(1296);var _eui=__webpack_require__(2);var _confirm_delete_pipeline_modal=__webpack_require__(4119);var _flex_item_setting=__webpack_require__(4120);var _form_label_with_icon_tip=__webpack_require__(1299);var _constants=__webpack_require__(1298);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PipelineEditorUi=function(_React$Component){_inherits(PipelineEditorUi,_React$Component);function PipelineEditorUi(props){_classCallCheck(this,PipelineEditorUi);var _this=_possibleConstructorReturn(this,(PipelineEditorUi.__proto__||Object.getPrototypeOf(PipelineEditorUi)).call(this,props));_initialiseProps.call(_this);var _this$props=_this.props,_this$props$pipeline=_this$props.pipeline,id=_this$props$pipeline.id,description=_this$props$pipeline.description,pipeline=_this$props$pipeline.pipeline,settings=_this$props$pipeline.settings,username=_this$props.username;var pipelineWorkers=settings["pipeline.workers"]?settings["pipeline.workers"]:1;_this.state={maxBytesNumber:settings["queue.max_bytes.number"],maxBytesUnit:settings["queue.max_bytes.units"],pipeline:{id:id,description:description,pipeline:pipeline,settings:{"pipeline.batch.delay":settings["pipeline.batch.delay"],"pipeline.batch.size":settings["pipeline.batch.size"],"pipeline.workers":pipelineWorkers,"queue.checkpoint.writes":settings["queue.checkpoint.writes"],"queue.max_bytes":settings["queue.max_bytes.number"]+settings["queue.max_bytes.units"],"queue.type":settings["queue.type"]},username:username},pipelineIdErrors:[],pipelineIdPattern:/^[A-Za-z\_][A-Za-z0-9\-\_]*$/,showConfirmDeleteModal:false,showPipelineIdError:false};return _this}_createClass(PipelineEditorUi,[{key:"render",value:function render(){var _this2=this;var intl=this.props.intl;return _react2.default.createElement(_eui.EuiPage,{"data-test-subj":"pipelineEdit pipelineEdit-"+this.state.pipeline.id},_react2.default.createElement(_eui.EuiPageContent,{style:{width:1100},verticalPosition:"center",horizontalPosition:"center"},_react2.default.createElement(_eui.EuiTitle,{size:"m"},_react2.default.createElement("h2",null,this.getPipelineHeadingText())),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiForm,{isInvalid:this.state.showPipelineIdError,error:this.state.pipelineIdErrors},this.props.isNewPipeline&&_react2.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelineEditor.pipelineIdFormRowLabel",defaultMessage:"Pipeline ID"})},_react2.default.createElement(_eui.EuiFieldText,{fullWidth:true,"data-test-subj":"inputId",isInvalid:this.state.showPipelineIdError,name:"pipelineId",onBlur:this.onPipelineIdChange,onChange:this.onPipelineIdChange,value:this.state.pipeline.id||""})),_react2.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelineEditor.descriptionFormRowLabel",defaultMessage:"Description"})},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"inputDescription",fullWidth:true,name:"pipelineDescription",onChange:this.onPipelineDescriptionChange,value:this.state.pipeline.description||""})),_react2.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelineEditor.pipelineFormRowLabel",defaultMessage:"Pipeline"})},_react2.default.createElement("div",{"data-test-subj":"acePipeline"},_react2.default.createElement(_eui.EuiCodeEditor,{mode:"plain_text",onChange:this.onPipelineChange,setOptions:{minLines:25,maxLines:Infinity,readOnly:this.props.licenseService.isReadOnly},theme:"github",value:this.state.pipeline.pipeline,width:"1017"}))),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_form_label_with_icon_tip.FormLabelWithIconTip,{formRowLabelText:intl.formatMessage({id:"xpack.logstash.pipelineEditor.pipelineWorkersFormRowLabel",defaultMessage:"Pipeline workers"}),formRowTooltipText:_tooltips.TOOLTIPS.settings["pipeline.workers"]})},_react2.default.createElement(_eui.EuiFieldNumber,{"data-test-subj":"inputWorkers",onChange:function onChange(e){return _this2.handleNumberChange("pipeline.workers",e.target.value)},value:this.state.pipeline.settings["pipeline.workers"]})),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_flex_item_setting.FlexItemSetting,{formRowLabelText:intl.formatMessage({id:"xpack.logstash.pipelineEditor.pipelineBatchSizeFormRowLabel",defaultMessage:"Pipeline batch size"}),formRowTooltipText:_tooltips.TOOLTIPS.settings["pipeline.batch.size"]},_react2.default.createElement(_eui.EuiFieldNumber,{"data-test-subj":"inputBatchSize",onChange:function onChange(e){return _this2.handleNumberChange("pipeline.batch.size",e.target.value)},value:this.state.pipeline.settings["pipeline.batch.size"]})),_react2.default.createElement(_flex_item_setting.FlexItemSetting,{formRowLabelText:intl.formatMessage({id:"xpack.logstash.pipelineEditor.pipelineBatchDelayFormRowLabel",defaultMessage:"Pipeline batch delay"}),formRowTooltipText:_tooltips.TOOLTIPS.settings["pipeline.batch.delay"]},_react2.default.createElement(_eui.EuiFieldNumber,{"data-test-subj":"inputBatchDelay",onChange:function onChange(e){return _this2.handleNumberChange("pipeline.batch.delay",e.target.value)},value:this.state.pipeline.settings["pipeline.batch.delay"]}))),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_flex_item_setting.FlexItemSetting,{formRowLabelText:intl.formatMessage({id:"xpack.logstash.pipelineEditor.queueTypeFormRowLabel",defaultMessage:"Queue type"}),formRowTooltipText:_tooltips.TOOLTIPS.settings["queue.type"]},_react2.default.createElement(_eui.EuiSelect,{"data-test-subj":"selectQueueType",onChange:function onChange(e){return _this2.handleSettingChange("queue.type",e.target.value)},options:_constants.PIPELINE_EDITOR.QUEUE_TYPES,value:this.state.pipeline.settings["queue.type"]})),_react2.default.createElement(_flex_item_setting.FlexItemSetting,{formRowLabelText:intl.formatMessage({id:"xpack.logstash.pipelineEditor.queueMaxBytesFormRowLabel",defaultMessage:"Queue max bytes"}),formRowTooltipText:_tooltips.TOOLTIPS.settings["queue.max_bytes"]},_react2.default.createElement(_eui.EuiFieldNumber,{"data-test-subj":"inputQueueMaxBytesNumber",onChange:function onChange(e){return _this2.handleMaxByteNumberChange(e.target.value)},value:this.state.maxBytesNumber})),_react2.default.createElement(_flex_item_setting.FlexItemSetting,null,_react2.default.createElement(_eui.EuiSelect,{"data-test-subj":"selectQueueMaxBytesUnits",onChange:function onChange(e){return _this2.handleMaxByteUnitChange(e.target.value)},options:_constants.PIPELINE_EDITOR.UNITS,value:this.state.maxBytesUnit})),_react2.default.createElement(_flex_item_setting.FlexItemSetting,{formRowLabelText:intl.formatMessage({id:"xpack.logstash.pipelineEditor.queueCheckpointWritesFormRowLabel",defaultMessage:"Queue checkpoint writes"}),formRowTooltipText:_tooltips.TOOLTIPS.settings["queue.checkpoint.writes"]},_react2.default.createElement(_eui.EuiFieldNumber,{"data-test-subj":"inputQueueCheckpointWrites",onChange:function onChange(e){return _this2.handleNumberChange("queue.checkpoint.writes",e.target.value)},value:this.state.pipeline.settings["queue.checkpoint.writes"]})))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"btnSavePipeline",fill:true,isDisabled:this.isSaveDisabled(),onClick:this.onPipelineSave},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelineEditor.createAndDeployButtonLabel",defaultMessage:"Create and deploy"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"btnCancel",onClick:this.onClose},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelineEditor.cancelButtonLabel",defaultMessage:"Cancel"}))),!this.props.isNewPipeline&&_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{color:"danger","data-test-subj":"btnDeletePipeline",onClick:this.showConfirmDeleteModal},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelineEditor.deletePipelineButtonLabel",defaultMessage:"Delete pipeline"}))))),this.state.showConfirmDeleteModal&&_react2.default.createElement(_confirm_delete_pipeline_modal.ConfirmDeletePipelineModal,{id:this.props.pipeline.id,cancelDeleteModal:this.hideConfirmDeleteModal,confirmDeletePipeline:this.deletePipeline}))}}]);return PipelineEditorUi}(_react2.default.Component);var _initialiseProps=function _initialiseProps(){var _this3=this;this.componentDidMount=function(){var _props=_this3.props,_props$licenseService=_props.licenseService,isReadOnly=_props$licenseService.isReadOnly,message=_props$licenseService.message,toastNotifications=_props.toastNotifications;if(isReadOnly){toastNotifications.addWarning(message)}};this.hideConfirmDeleteModal=function(){_this3.setState({showConfirmDeleteModal:false})};this.showConfirmDeleteModal=function(){_this3.setState({showConfirmDeleteModal:true})};this.onPipelineIdChange=function(_ref){var value=_ref.target.value;var pipelineIdErrors=[];if(!value){pipelineIdErrors.push(_constants.PIPELINE_EDITOR.ID_REQUIRED_ERR_MSG)}if(!_this3.state.pipelineIdPattern.test(value)){pipelineIdErrors.push(_constants.PIPELINE_EDITOR.ID_FORMAT_ERR_MSG)}_this3.setState({pipelineIdErrors:pipelineIdErrors,showPipelineIdError:!!pipelineIdErrors.length,pipeline:_extends({},_this3.state.pipeline,{id:value})})};this.isSaveDisabled=function(){return _this3.state.showPipelineIdError||(0,_lodash.isEmpty)(_this3.state.pipeline.id)};this.onClose=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this3.props.close();case 2:case"end":return _context.stop()}}},_callee,_this3)}));this.open=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var id;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=_this3.state.pipeline.id;if(!id){_context2.next=4;break}_context2.next=4;return _this3.props.open(id);case 4:case"end":return _context2.stop()}}},_callee2,_this3)}));this.onPipelineSave=function(){var _props2=_this3.props,pipelineService=_props2.pipelineService,toastNotifications=_props2.toastNotifications,intl=_props2.intl;var id=_this3.state.pipeline.id;return pipelineService.savePipeline({id:id,upstreamJSON:_this3.state.pipeline}).then(function(){toastNotifications.addSuccess(intl.formatMessage({id:"xpack.logstash.pipelineEditor.pipelineSuccessfullySavedMessage",defaultMessage:'Saved "{id}"'},{id:id}));_this3.onClose()}).catch(_this3.notifyOnError)};this.onPipelineDescriptionChange=function(_ref4){var value=_ref4.target.value;_this3.setState({pipeline:_extends({},_this3.state.pipeline,{description:value})})};this.onPipelineChange=function(e){_this3.setState({pipeline:_extends({},_this3.state.pipeline,{pipeline:e})})};this.handleNumberChange=function(settingName,value){var numberValue=parseInt(value,10);_this3.handleSettingChange(settingName,isNaN(numberValue)?value:numberValue)};this.handleMaxByteNumberChange=function(value){_this3.setState({maxBytesNumber:parseInt(value,10)});_this3.handleSettingChange("queue.max_bytes",value+_this3.state.maxBytesUnit)};this.handleMaxByteUnitChange=function(value){_this3.setState({maxBytesUnit:value});_this3.handleSettingChange("queue.max_bytes",_this3.state.maxBytesNumber+value)};this.handleSettingChange=function(settingName,value){var settings=_extends({},_this3.state.pipeline.settings);settings[settingName]=value;_this3.setState({pipeline:_extends({},_this3.state.pipeline,{settings:settings})})};this.notifyOnError=function(err){var _props3=_this3.props,notifier=_props3.notifier,licenseService=_props3.licenseService;return licenseService.checkValidity().then(function(){return notifier.error(err)})};this.deletePipeline=function(){var _props4=_this3.props,id=_props4.pipeline.id,pipelineService=_props4.pipelineService,toastNotifications=_props4.toastNotifications,intl=_props4.intl;_this3.hideConfirmDeleteModal();return pipelineService.deletePipeline(id).then(function(){toastNotifications.addSuccess(intl.formatMessage({id:"xpack.logstash.pipelineEditor.pipelineSuccessfullyDeletedMessage",defaultMessage:'Deleted "{id}"'},{id:id}));_this3.onClose()}).catch(_this3.notifyOnError)};this.getPipelineHeadingText=function(){var _props5=_this3.props,_props5$routeService$=_props5.routeService.current.params,clone=_props5$routeService$.clone,id=_props5$routeService$.id,isNewPipeline=_props5.isNewPipeline,intl=_props5.intl;if(!!clone&&id){return intl.formatMessage({id:"xpack.logstash.pipelineEditor.clonePipelineTitle",defaultMessage:'Clone Pipeline "{id}"'},{id:id})}if(!isNewPipeline){return intl.formatMessage({id:"xpack.logstash.pipelineEditor.editPipelineTitle",defaultMessage:'Edit Pipeline "{id}"'},{id:_this3.state.pipeline.id})}return intl.formatMessage({id:"xpack.logstash.pipelineEditor.createPipelineTitle",defaultMessage:"Create Pipeline"})}};PipelineEditorUi.propTypes={close:_propTypes.PropTypes.func.isRequired,isNewPipeline:_propTypes.PropTypes.bool.isRequired,licenseService:_propTypes.PropTypes.shape({checkValidity:_propTypes.PropTypes.func.isRequired,isReadOnly:_propTypes.PropTypes.bool.isRequired,message:_propTypes.PropTypes.string}).isRequired,notifier:_propTypes.PropTypes.shape({error:_propTypes.PropTypes.func.isRequired}).isRequired,open:_propTypes.PropTypes.func.isRequired,pipeline:_propTypes.PropTypes.shape({id:_propTypes.PropTypes.string,description:_propTypes.PropTypes.string,pipeline:_propTypes.PropTypes.any,settings:_propTypes.PropTypes.shape({"pipeline.batch.delay":_propTypes.PropTypes.number.isRequired,"pipeline.batch.size":_propTypes.PropTypes.number.isRequired,"pipeline.workers":_propTypes.PropTypes.number,"queue.checkpoint.writes":_propTypes.PropTypes.number.isRequired,"queue.max_bytes":_propTypes.PropTypes.number,"queue.type":_propTypes.PropTypes.string.isRequired})}).isRequired,pipelineService:_propTypes.PropTypes.shape({deletePipeline:_propTypes.PropTypes.func.isRequired,savePipeline:_propTypes.PropTypes.func.isRequired}).isRequired,routeService:_propTypes.PropTypes.shape({current:_propTypes.PropTypes.shape({params:_propTypes.PropTypes.shape({clone:_propTypes.PropTypes.oneOf([true,undefined]),id:_propTypes.PropTypes.string})})}).isRequired,toastNotifications:_propTypes.PropTypes.shape({addWarning:_propTypes.PropTypes.func.isRequired,addSuccess:_propTypes.PropTypes.func.isRequired}).isRequired,username:_propTypes.PropTypes.string};var PipelineEditor=exports.PipelineEditor=(0,_react3.injectI18n)(PipelineEditorUi)},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConfirmDeletePipelineModal=ConfirmDeletePipelineModal;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);var _constants=__webpack_require__(1298);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ConfirmDeletePipelineModal(_ref){var id=_ref.id,cancelDeleteModal=_ref.cancelDeleteModal,confirmDeletePipeline=_ref.confirmDeletePipeline;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{buttonColor:"danger",cancelButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.confirmDeletePipelineModal.cancelButtonText",defaultMessage:"Cancel"}),confirmButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.confirmDeletePipelineModal.confirmButtonText",defaultMessage:"Delete pipeline"}),defaultFocusedButton:_eui.EUI_MODAL_CANCEL_BUTTON,onCancel:cancelDeleteModal,onConfirm:confirmDeletePipeline,title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.confirmDeletePipelineModal.deletePipelineTitle",defaultMessage:"Delete pipeline {id}",values:{id:id}})},_react2.default.createElement("p",null,_constants.PIPELINE_EDITOR.DELETE_PIPELINE_MODAL_MESSAGE)))}ConfirmDeletePipelineModal.propTypes={cancelDeleteModal:_propTypes2.default.func.isRequired,confirmDeletePipeline:_propTypes2.default.func.isRequired,id:_propTypes2.default.string.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FlexItemSetting=FlexItemSetting;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _form_label_with_icon_tip=__webpack_require__(1299);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FlexItemSetting(props){var formRowLabelText=props.formRowLabelText,formRowTooltipText=props.formRowTooltipText;var label=formRowLabelText&&formRowTooltipText?_react2.default.createElement(_form_label_with_icon_tip.FormLabelWithIconTip,{formRowLabelText:formRowLabelText,formRowTooltipText:formRowTooltipText}):null;return _react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFormRow,{label:label,hasEmptyLabelSpace:!label},props.children))}FlexItemSetting.propTypes={formRowLabelText:_propTypes2.default.string,formRowTooltipText:_propTypes2.default.string}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4122)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _xpack_info=__webpack_require__(46);var _logstash_security_service=__webpack_require__(4123);_modules.uiModules.get("xpack/logstash").factory("logstashSecurityService",function($injector){var Private=$injector.get("Private");var xpackInfoService=Private(_xpack_info.XPackInfoProvider);return new _logstash_security_service.LogstashSecurityService(xpackInfoService)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var LogstashSecurityService=exports.LogstashSecurityService=function(){function LogstashSecurityService(xpackInfoService){_classCallCheck(this,LogstashSecurityService);this.xpackInfoService=xpackInfoService}_createClass(LogstashSecurityService,[{key:"isSecurityEnabled",get:function get(){return Boolean(this.xpackInfoService.get("features.security"))}}]);return LogstashSecurityService}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4125)},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _react3=__webpack_require__(3);var _upgrade_failure=__webpack_require__(4126);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("xpack/logstash");app.directive("upgradeFailure",function($injector){var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");return{link:function link(scope,el){var onRetry=function onRetry(){$route.updateParams({retry:true});$route.reload()};var onClose=function onClose(){scope.$evalAsync(kbnUrl.change("management/logstash/pipelines",{}))};var isNewPipeline=(0,_lodash.isEmpty)(scope.pipeline.id);var isManualUpgrade=!!$route.current.params.retry;(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_upgrade_failure.UpgradeFailure,{isNewPipeline:isNewPipeline,isManualUpgrade:isManualUpgrade,onRetry:onRetry,onClose:onClose})),el[0])},restrict:"E",scope:{pipeline:"="}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _upgrade_failure=__webpack_require__(4127);Object.defineProperty(exports,"UpgradeFailure",{enumerable:true,get:function get(){return _upgrade_failure.UpgradeFailure}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpgradeFailure=UpgradeFailure;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _upgrade_failure_title=__webpack_require__(4128);var _upgrade_failure_actions=__webpack_require__(4129);var _constants=__webpack_require__(4130);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function UpgradeFailure(_ref){var isNewPipeline=_ref.isNewPipeline,isManualUpgrade=_ref.isManualUpgrade,onClose=_ref.onClose,onRetry=_ref.onRetry;var titleText=isManualUpgrade?_constants.UPGRADE_FAILURE.TITLE.IS_MANUAL_UPGRADE:_constants.UPGRADE_FAILURE.TITLE.NOT_MANUAL_UPGRADE;var messageText=isNewPipeline?_constants.UPGRADE_FAILURE.MESSAGE.IS_NEW_PIPELINE:_constants.UPGRADE_FAILURE.MESSAGE.NOT_NEW_PIPELINE;var upgradeButtonText=isManualUpgrade?_constants.UPGRADE_FAILURE.UPGRADE_BUTTON_TEXT.IS_MANUAL_UPGRADE:_constants.UPGRADE_FAILURE.UPGRADE_BUTTON_TEXT.NOT_MANUAL_UPGRADE;return _react2.default.createElement(_eui.EuiPage,{"data-test-subj":"pipelineEdit upgradeFailure",style:{minHeight:"100vh"}},_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_eui.EuiEmptyPrompt,{actions:_react2.default.createElement(_upgrade_failure_actions.UpgradeFailureActions,{onClose:onClose,onRetry:onRetry,upgradeButtonText:upgradeButtonText}),title:_react2.default.createElement(_upgrade_failure_title.UpgradeFailureTitle,{titleText:titleText}),body:_react2.default.createElement("p",{style:{textAlign:"left"}},messageText)})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpgradeFailureTitle=UpgradeFailureTitle;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function UpgradeFailureTitle(_ref){var titleText=_ref.titleText;return _react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiIcon,{size:"xl",type:"alert"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,titleText))))}UpgradeFailureTitle.propTypes={titleText:_propTypes2.default.string.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpgradeFailureActions=UpgradeFailureActions;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function UpgradeFailureActions(_ref){var onClose=_ref.onClose,onRetry=_ref.onRetry,upgradeButtonText=_ref.upgradeButtonText;return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{fill:true,onClick:onRetry},upgradeButtonText)),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{color:"primary",onClick:onClose},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.upgradeFailureActions.goBackButtonLabel",defaultMessage:"Go back"}))))}UpgradeFailureActions.propTypes={onClose:_propTypes2.default.func.isRequired,onRetry:_propTypes2.default.func.isRequired,upgradeButtonText:_propTypes2.default.string.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UPGRADE_FAILURE=undefined;var _i18n=__webpack_require__(9);var UPGRADE_FAILURE=exports.UPGRADE_FAILURE={TITLE:{IS_MANUAL_UPGRADE:_i18n.i18n.translate("xpack.logstash.upgradeFailedTitle",{defaultMessage:"Upgrade failed"}),NOT_MANUAL_UPGRADE:_i18n.i18n.translate("xpack.logstash.notManualUpgradeTitle",{defaultMessage:"Time for an upgrade!"})},MESSAGE:{IS_NEW_PIPELINE:_i18n.i18n.translate("xpack.logstash.newPipelineMessage",{defaultMessage:"Before you can add a pipeline, we need to upgrade your configuration."}),NOT_NEW_PIPELINE:_i18n.i18n.translate("xpack.logstash.notNewPipelineMessage",{defaultMessage:"Before you can edit this pipeline, we need to upgrade your configuration."})},UPGRADE_BUTTON_TEXT:{IS_MANUAL_UPGRADE:_i18n.i18n.translate("xpack.logstash.manualUpgradeButtonLabel",{defaultMessage:"Try again"}),NOT_MANUAL_UPGRADE:_i18n.i18n.translate("xpack.logstash.notManualUpgradeButtonLabel",{defaultMessage:"Upgrade"})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _update_logstash_sections=__webpack_require__(4132);Object.defineProperty(exports,"updateLogstashSections",{enumerable:true,get:function get(){return _update_logstash_sections.updateLogstashSections}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateLogstashSections=updateLogstashSections;var _management=__webpack_require__(24);function updateLogstashSections(pipelineId){var editSection=_management.management.getSection("logstash/pipelines/pipeline/edit");var newSection=_management.management.getSection("logstash/pipelines/pipeline/new");newSection.hide();editSection.hide();if(pipelineId){editSection.url="#/management/logstash/pipelines/pipeline/"+pipelineId+"/edit";editSection.show()}else{newSection.show()}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4134);__webpack_require__(4135)},function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(24);var _i18n=__webpack_require__(9);_management.management.getSection("logstash").register("pipelines",{display:_i18n.i18n.translate("xpack.logstash.managementSection.pipelinesTitle",{defaultMessage:"Pipelines"}),order:10,url:"#/management/logstash/pipelines/"});_management.management.getSection("logstash/pipelines").register("pipeline",{visible:false});_management.management.getSection("logstash/pipelines/pipeline").register("edit",{display:_i18n.i18n.translate("xpack.logstash.managementSection.editPipelineTitle",{defaultMessage:"Edit pipeline"}),order:1,visible:false});_management.management.getSection("logstash/pipelines/pipeline").register("new",{display:_i18n.i18n.translate("xpack.logstash.managementSection.createPipelineTitle",{defaultMessage:"Create pipeline"}),order:1,visible:false})},function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _management=__webpack_require__(24);var _pipeline_list_route=__webpack_require__(4136);var _pipeline_list_route2=_interopRequireDefault(_pipeline_list_route);__webpack_require__(4137);__webpack_require__(542);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/management/logstash/pipelines/",{template:_pipeline_list_route2.default});_routes2.default.defaults(/\/management/,{resolve:{logstashManagementSection:function logstashManagementSection($injector){var licenseService=$injector.get("logstashLicenseService");var logstashSection=_management.management.getSection("logstash/pipelines");if(licenseService.enableLinks){logstashSection.show();logstashSection.enable()}else{logstashSection.hide()}}}})},function(module,exports){module.exports='<kbn-management-app section="logstash">\n  <pipeline-list></pipeline-list>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4138)},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _modules=__webpack_require__(4);var _notify=__webpack_require__(10);var _react3=__webpack_require__(3);var _pipeline_list=__webpack_require__(4139);__webpack_require__(4147);__webpack_require__(542);__webpack_require__(1303);__webpack_require__(1302);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("xpack/logstash");app.directive("pipelineList",function($injector){var pipelinesService=$injector.get("pipelinesService");var licenseService=$injector.get("logstashLicenseService");var clusterService=$injector.get("xpackLogstashClusterService");var monitoringService=$injector.get("xpackLogstashMonitoringService");var kbnUrl=$injector.get("kbnUrl");return{restrict:"E",link:function link(scope,el){var openPipeline=function openPipeline(id){return scope.$evalAsync(kbnUrl.change("management/logstash/pipelines/pipeline/"+id+"/edit"))};var createPipeline=function createPipeline(){return scope.$evalAsync(kbnUrl.change("management/logstash/pipelines/new-pipeline"))};var clonePipeline=function clonePipeline(id){return scope.$evalAsync(kbnUrl.change("management/logstash/pipelines/pipeline/"+id+"/edit?clone"))};(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_pipeline_list.PipelineList,{clonePipeline:clonePipeline,clusterService:clusterService,isReadOnly:licenseService.isReadOnly,isForbidden:true,isLoading:false,licenseService:licenseService,monitoringService:monitoringService,openPipeline:openPipeline,createPipeline:createPipeline,pipelinesService:pipelinesService,toastNotifications:_notify.toastNotifications})),el[0])},scope:{},controllerAs:"pipelineList"}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pipeline_list=__webpack_require__(4140);Object.defineProperty(exports,"PipelineList",{enumerable:true,get:function get(){return _pipeline_list.PipelineList}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineList=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _info_alerts=__webpack_require__(4141);var _pipelines_table=__webpack_require__(4145);var _confirm_delete_modal=__webpack_require__(4146);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PipelineListUi=function(_React$Component){_inherits(PipelineListUi,_React$Component);function PipelineListUi(props){_classCallCheck(this,PipelineListUi);var _this=_possibleConstructorReturn(this,(PipelineListUi.__proto__||Object.getPrototypeOf(PipelineListUi)).call(this,props));_this.componentDidMount=function(){var _this$props=_this.props,isReadOnly=_this$props.isReadOnly,licenseService=_this$props.licenseService,toastNotifications=_this$props.toastNotifications;_this.loadPipelines().then(function(){if(isReadOnly){toastNotifications.addWarning(licenseService.message)}});_this.checkMonitoringAccess()};_this.getEmptyPrompt=function(){return _react2.default.createElement(_eui.EuiEmptyPrompt,{title:_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelineList.noPipelinesTitle",defaultMessage:"No pipelines"})),titleSize:"xs",body:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelineList.noPipelinesDescription",defaultMessage:"There are no pipelines defined."})})};_this.getErrorPrompt=function(){return _react2.default.createElement(_eui.EuiEmptyPrompt,{title:_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelineList.pipelinesLoadingErrorTitle",defaultMessage:"Error"})),titleSize:"xs",body:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelineList.pipelinesLoadingErrorDescription",defaultMessage:"Error encountered while loading pipelines."})})};_this.loadPipelines=function(){var _this$props2=_this.props,isReadOnly=_this$props2.isReadOnly,licenseService=_this$props2.licenseService,pipelinesService=_this$props2.pipelinesService,toastNotifications=_this$props2.toastNotifications,intl=_this$props2.intl;_this.setState({message:_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"}),"  ",_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelineList.pipelinesLoadingMessage",defaultMessage:"Loading pipelines…"}))});return pipelinesService.getPipelineList().then(function(pipelines){_this.setState({isLoading:false,isForbidden:false,isSelectable:true,pipelines:pipelines});if(!pipelines.length){_this.setState({columns:[],message:_this.getEmptyPrompt(),isSelectable:false})}}).catch(function(err){_this.setState({isLoading:false,message:_this.getErrorPrompt()});return licenseService.checkValidity().then(function(){if(err.status===403){_this.setState({isLoading:false});if(isReadOnly){_this.setState({isForbidden:false})}else{_this.setState({isForbidden:true})}}else{_this.setState({isForbidden:false});toastNotifications.addDanger(intl.formatMessage({id:"xpack.logstash.pipelineList.pipelineLoadingErrorNotification",defaultMessage:'Couldn\'t load pipeline. Error: "{errStatusText}".'},{errStatusText:err.statusText}))}})})};_this.checkMonitoringAccess=function(){var _this$props3=_this.props,clusterService=_this$props3.clusterService,monitoringService=_this$props3.monitoringService;clusterService.isClusterInfoAvailable().then(function(isAvailable){_this.setState({showAddRoleAlert:!isAvailable,showEnableMonitoringAlert:!monitoringService.isMonitoringEnabled()})})};_this.renderNoPermissionCallOut=function(){var _this$state=_this.state,isForbidden=_this$state.isForbidden,isLoading=_this$state.isLoading;return isForbidden&&!isLoading?_react2.default.createElement(_eui.EuiCallOut,{color:"danger",iconType:"cross",title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelineList.noPermissionToManageTitle",defaultMessage:"You do not have permission to manage Logstash pipelines."})},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelineList.noPermissionToManageDescription",defaultMessage:"Please contact your administrator."}))):null};_this.hideDeletePipelinesModal=function(){_this.setState({showConfirmDeleteModal:false})};_this.showDeletePipelinesModal=function(){_this.setState({showConfirmDeleteModal:true})};_this.cancelDeletePipelines=function(){_this.hideDeletePipelinesModal()};_this.deleteSelectedPipelines=function(){_this.hideDeletePipelinesModal();var _this$props4=_this.props,licenseService=_this$props4.licenseService,pipelinesService=_this$props4.pipelinesService,toastNotifications=_this$props4.toastNotifications,intl=_this$props4.intl;var selection=_this.state.selection;var numPipelinesSelected=selection.length;var pipelineIds=selection.map(function(_ref){var id=_ref.id;return id});return pipelinesService.deletePipelines(pipelineIds).then(function(results){var numSuccesses=results.numSuccesses,numErrors=results.numErrors;if(numSuccesses===1&&numErrors===0){toastNotifications.addSuccess(intl.formatMessage({id:"xpack.logstash.pipelineList.pipelinesSuccessfullyDeletedNotification",defaultMessage:'Deleted "{id}"'},{id:selection[0].id}))}else if(numSuccesses){var text=void 0;if(numErrors){text=intl.formatMessage({id:"xpack.logstash.pipelineList.pipelinesCouldNotBeDeletedDescription",defaultMessage:"But {numErrors, plural, one {# Pipeline} other {# Pipelines}} couldn't be deleted."},{numErrors:numErrors})}toastNotifications.addSuccess({title:intl.formatMessage({id:"xpack.logstash.pipelineList.successfullyDeletedPipelinesNotification",defaultMessage:"Deleted {numSuccesses} out of {numPipelinesSelected, plural, one {# Pipeline} other {# Pipelines}}"},_defineProperty({numSuccesses:numSuccesses,numPipelinesSelected:numPipelinesSelected},"numPipelinesSelected",numPipelinesSelected)),text:text})}else if(numErrors){toastNotifications.addError(intl.formatMessage({id:"xpack.logstash.pipelineList.couldNotDeletePipelinesNotification",defaultMessage:"Failed to delete {numErrors, plural, one {# Pipeline} other {# Pipelines}}"},{numErrors:numErrors}))}_this.loadPipelines()}).catch(function(err){return licenseService.checkValidity().then(function(){return toastNotifications.addDanger(err)})})};_this.onDeleteSelectedPipelines=function(){_this.showDeletePipelinesModal()};_this.onSelectionChange=function(selection){return _this.setState({selection:selection})};_this.state={columns:[],isForbidden:false,isLoading:true,isSelectable:false,pipelines:[],showAddRoleAlert:false,showConfirmDeleteModal:false,showEnableMonitoringAlert:false,selection:[]};return _this}_createClass(PipelineListUi,[{key:"render",value:function render(){var _props=this.props,clonePipeline=_props.clonePipeline,createPipeline=_props.createPipeline,isReadOnly=_props.isReadOnly,openPipeline=_props.openPipeline;var _state=this.state,isSelectable=_state.isSelectable,message=_state.message,pipelines=_state.pipelines,selection=_state.selection,showConfirmDeleteModal=_state.showConfirmDeleteModal;return _react2.default.createElement(_eui.EuiPage,{"data-test-subj":"pipelineList"},_react2.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center"},this.renderNoPermissionCallOut(),_react2.default.createElement(_pipelines_table.PipelinesTable,{clonePipeline:clonePipeline,createPipeline:createPipeline,isReadOnly:isReadOnly,isSelectable:isSelectable,message:message,pipelines:pipelines,selection:selection,onDeleteSelectedPipelines:this.onDeleteSelectedPipelines,onSelectionChange:this.onSelectionChange,openPipeline:openPipeline})),_react2.default.createElement(_confirm_delete_modal.ConfirmDeleteModal,{cancelDeletePipelines:this.cancelDeletePipelines,deleteSelectedPipelines:this.deleteSelectedPipelines,selection:selection,showConfirmDeleteModal:showConfirmDeleteModal}),_react2.default.createElement(_info_alerts.InfoAlerts,{showAddRoleAlert:this.state.showAddRoleAlert,showEnableMonitoringAlert:this.state.showEnableMonitoringAlert}))}}]);return PipelineListUi}(_react2.default.Component);var PipelineList=exports.PipelineList=(0,_react3.injectI18n)(PipelineListUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InfoAlerts=InfoAlerts;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _add_role_alert=__webpack_require__(4142);var _alert_call_out=__webpack_require__(4143);var _enable_monitoring_alert=__webpack_require__(4144);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function InfoAlerts(_ref){var showAddRoleAlert=_ref.showAddRoleAlert,showEnableMonitoringAlert=_ref.showEnableMonitoringAlert;return showAddRoleAlert||showEnableMonitoringAlert?_react2.default.createElement(_alert_call_out.AlertCallOut,null,showAddRoleAlert&&_react2.default.createElement(_add_role_alert.AddRoleAlert,null),showEnableMonitoringAlert&&_react2.default.createElement(_enable_monitoring_alert.EnableMonitoringAlert,null)):null}InfoAlerts.propTypes={showAddRoleAlert:_propTypes2.default.bool.isRequired,showEnableMonitoringAlert:_propTypes2.default.bool.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddRoleAlert=AddRoleAlert;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AddRoleAlert(){return _react2.default.createElement("p",null,_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.addRoleAlert.grantAdditionalPrivilegesTitle",defaultMessage:"Grant additional privileges."})),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.addRoleAlert.grantAdditionalPrivilegesDescription",defaultMessage:"In Kibana Management, assign the {role} role to your Kibana user.",values:{role:_react2.default.createElement(_eui.EuiCode,null,"monitoring_user")}}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertCallOut=AlertCallOut;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);var _constants=__webpack_require__(1300);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AlertCallOut(props){return _react2.default.createElement(_eui.EuiCallOut,{title:_constants.PIPELINE_LIST.INFO_ALERTS.CALL_OUT_TITLE,color:"warning",iconType:"help"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.alertCallOut.howToSeeAdditionalPipelinesDescription",defaultMessage:"How can I see additional pipelines?"})),props.children)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EnableMonitoringAlert=EnableMonitoringAlert;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function EnableMonitoringAlert(){return _react2.default.createElement("p",null,_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.enableMonitoringAlert.enableMonitoringTitle",defaultMessage:"Enable monitoring."})),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.enableMonitoringAlert.enableMonitoringDescription",defaultMessage:"In the {configFileName} file, set {monitoringConfigParam} and {monitoringUiConfigParam} to {trueValue}.",values:{configFileName:_react2.default.createElement(_eui.EuiCode,null,"kibana.yml"),monitoringConfigParam:_react2.default.createElement(_eui.EuiCode,null,"xpack.monitoring.enabled"),monitoringUiConfigParam:_react2.default.createElement(_eui.EuiCode,null,"xpack.monitoring.ui.enabled"),trueValue:_react2.default.createElement(_eui.EuiCode,null,"true")}}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelinesTable=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);var _constants=__webpack_require__(1300);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getColumns(openPipeline,clonePipeline){return[{field:"id",name:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelinesTable.idColumnLabel",defaultMessage:"Id"}),sortable:true,render:function render(id,_ref){var isCentrallyManaged=_ref.isCentrallyManaged;var openPipelineClicked=function openPipelineClicked(){return openPipeline(id)};return isCentrallyManaged?_react2.default.createElement(_eui.EuiLink,{onClick:openPipelineClicked,"data-test-subj":"cellId"},id):_react2.default.createElement("span",null,id,"  ",_react2.default.createElement(_eui.EuiIconTip,{content:_constants.PIPELINE_LIST.PIPELINE_NOT_CENTRALLY_MANAGED_TOOLTIP_TEXT,type:"questionInCircle"}))}},{field:"description",name:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelinesTable.descriptionColumnLabel",defaultMessage:"Description"}),render:function render(description){return _react2.default.createElement("span",{"data-test-subj":"cellDescription"},description)},sortable:true,truncateText:true},{field:"lastModifiedHumanized",name:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelinesTable.lastModifiedColumnLabel",defaultMessage:"Last Modified"}),render:function render(lastModified){return _react2.default.createElement("span",{"data-test-subj":"cellLastModified"},lastModified)},sortable:true},{field:"username",name:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelinesTable.modifiedByColumnLabel",defaultMessage:"Modified By"}),render:function render(username){return _react2.default.createElement("span",{"data-test-subj":"cellUsername"},username)},sortable:true},{field:"id",name:"",render:function render(id,_ref2){var isCentrallyManaged=_ref2.isCentrallyManaged;var cloneClicked=function cloneClicked(){clonePipeline(id)};return isCentrallyManaged?_react2.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"lnkPipelineClone-"+id,iconType:"copy",onClick:cloneClicked,size:"xs"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelinesTable.cloneButtonLabel",defaultMessage:"Clone"})):null},sortable:false,width:"100px"}]}function PipelinesTableUi(_ref3){var clonePipeline=_ref3.clonePipeline,createPipeline=_ref3.createPipeline,isReadOnly=_ref3.isReadOnly,isSelectable=_ref3.isSelectable,message=_ref3.message,onDeleteSelectedPipelines=_ref3.onDeleteSelectedPipelines,onSelectionChange=_ref3.onSelectionChange,openPipeline=_ref3.openPipeline,pipelines=_ref3.pipelines,selection=_ref3.selection,pageIndex=_ref3.pageIndex,intl=_ref3.intl;var pagination={pageIndex:pageIndex,initialPageSize:_constants.PIPELINE_LIST.INITIAL_PAGE_SIZE,totalItemCount:pipelines.length,pageSizeOptions:_constants.PIPELINE_LIST.PAGE_SIZE_OPTIONS};var selectableMessage=function selectableMessage(selectable,_ref4){var id=_ref4.id;return selectable?intl.formatMessage({id:"xpack.logstash.pipelinesTable.selectablePipelineMessage",defaultMessage:'Select pipeline "{id}"'},{id:id}):_constants.PIPELINE_LIST.PIPELINE_NOT_CENTRALLY_MANAGED_TOOLTIP_TEXT};var selectionOptions=isSelectable?{selectable:function selectable(_ref5){var isCentrallyManaged=_ref5.isCentrallyManaged;return isCentrallyManaged},selectableMessage:selectableMessage,onSelectionChange:onSelectionChange}:null;var deleteButton=selection.length&&!isReadOnly?_react2.default.createElement(_eui.EuiButton,{key:"btnDeletePipelines",color:"danger",onClick:onDeleteSelectedPipelines,"data-test-subj":"btnDeletePipeline"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelinesTable.deleteButtonLabel",defaultMessage:"Delete"})):null;var search={box:{incremental:true,"data-test-subj":"filter"},filters:[{type:"field_value_selection",field:"id",name:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelinesTable.filterByIdLabel",defaultMessage:"Filter by ID"}),multiSelect:false,options:pipelines.map(function(_ref6){var id=_ref6.id;return{value:id,name:id,view:id}})}],toolsLeft:deleteButton,toolsRight:_react2.default.createElement(_eui.EuiButton,{isDisabled:isReadOnly,key:"btnAdd",fill:true,onClick:createPipeline,"data-test-subj":"btnAdd"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.pipelinesTable.createPipelineButtonLabel",defaultMessage:"Create pipeline"}))};var columns=getColumns(openPipeline,clonePipeline);return _react2.default.createElement(_eui.EuiInMemoryTable,{columns:columns,"data-test-subj":"pipelineTable",isSelectable:isSelectable,itemId:"id",items:pipelines,message:message,pagination:pagination,search:search,selection:selectionOptions,sorting:true})}var PipelinesTable=exports.PipelinesTable=(0,_react3.injectI18n)(PipelinesTableUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConfirmDeleteModal=ConfirmDeleteModal;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ConfirmDeleteModal(_ref){var cancelDeletePipelines=_ref.cancelDeletePipelines,deleteSelectedPipelines=_ref.deleteSelectedPipelines,selection=_ref.selection,showConfirmDeleteModal=_ref.showConfirmDeleteModal;if(!showConfirmDeleteModal){return null}var numPipelinesSelected=selection.length;var confirmText=numPipelinesSelected===1?{message:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.confirmDeleteModal.deletedPipelineWarningMessage",defaultMessage:"You cannot recover a deleted pipeline"}),button:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.confirmDeleteModal.deletedPipelineConfirmButtonLabel",defaultMessage:"Delete pipeline"}),title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.confirmDeleteModal.deletedPipelineTitle",defaultMessage:'Delete pipeline "{id}"',values:{id:selection[0].id}})}:{message:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.confirmDeleteModal.deletedPipelinesWarningMessage",defaultMessage:"You cannot recover deleted pipelines."}),button:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.confirmDeleteModal.deletedPipelinesConfirmButtonLabel",defaultMessage:"Delete {numPipelinesSelected} pipelines",values:{numPipelinesSelected:numPipelinesSelected}}),title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.confirmDeleteModal.deletedPipelinesTitle",defaultMessage:"Delete {numPipelinesSelected} pipelines",values:{numPipelinesSelected:numPipelinesSelected}})};return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{buttonColor:"danger",cancelButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.logstash.confirmDeleteModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:confirmText.button,defaultFocusedButton:_eui.EUI_MODAL_CANCEL_BUTTON,onCancel:cancelDeletePipelines,onConfirm:deleteSelectedPipelines,title:confirmText.title},_react2.default.createElement("p",null,confirmText.message)))}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4148)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _pipelines_service=__webpack_require__(4149);__webpack_require__(1302);_modules.uiModules.get("xpack/logstash").factory("pipelinesService",function($injector){var $http=$injector.get("$http");var $window=$injector.get("$window");var Promise=$injector.get("Promise");var monitoringService=$injector.get("xpackLogstashMonitoringService");return new _pipelines_service.PipelinesService($http,$window,Promise,monitoringService)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelinesService=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(319);var _pipeline_list_item=__webpack_require__(1301);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var RECENTLY_DELETED_PIPELINE_IDS_STORAGE_KEY="xpack.logstash.recentlyDeletedPipelines";var PipelinesService=exports.PipelinesService=function(){function PipelinesService($http,$window,Promise,monitoringService){_classCallCheck(this,PipelinesService);this.$http=$http;this.$window=$window;this.Promise=Promise;this.monitoringService=monitoringService;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(PipelinesService,[{key:"getPipelineList",value:function getPipelineList(){var _this=this;return this.Promise.all([this.getManagementPipelineList(),this.getMonitoringPipelineList()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),managementPipelines=_ref2[0],monitoringPipelines=_ref2[1];var now=Date.now();var monitoringPipelineIds=monitoringPipelines.map(function(pipeline){return pipeline.id});_this.getRecentlyDeleted().forEach(function(recentlyDeletedPipeline){if(now-recentlyDeletedPipeline.deletedOn<_constants.MONITORING.ACTIVE_PIPELINE_RANGE_S*1e3){return}if(monitoringPipelineIds.includes(recentlyDeletedPipeline.id)){return}_this.removeFromRecentlyDeleted(recentlyDeletedPipeline.id)});var managementPipelineIds=managementPipelines.map(function(pipeline){return pipeline.id});return managementPipelines.concat(monitoringPipelines.filter(function(monitoringPipeline){return!managementPipelineIds.includes(monitoringPipeline.id)&&!_this.isRecentlyDeleted(monitoringPipeline.id)}))})}},{key:"getManagementPipelineList",value:function getManagementPipelineList(){return this.$http.get(this.basePath+"/pipelines").then(function(response){return response.data.pipelines.map(function(pipeline){return _pipeline_list_item.PipelineListItem.fromUpstreamJSON(pipeline)})})}},{key:"getMonitoringPipelineList",value:function getMonitoringPipelineList(){return this.monitoringService.getPipelineList()}},{key:"deletePipelines",value:function deletePipelines(pipelineIds){var _this2=this;var requestOpts={data:{pipelineIds:pipelineIds},headers:{"Content-Type":"application/json"}};return this.$http.delete(this.basePath+"/pipelines",requestOpts).then(function(response){_this2.addToRecentlyDeleted.apply(_this2,_toConsumableArray(pipelineIds));return response.data.results})}},{key:"addToRecentlyDeleted",value:function addToRecentlyDeleted(){var recentlyDeletedPipelines=this.getRecentlyDeleted();var recentlyDeletedPipelineIds=recentlyDeletedPipelines.map(function(pipeline){return pipeline.id});for(var _len=arguments.length,pipelineIds=Array(_len),_key=0;_key<_len;_key++){pipelineIds[_key]=arguments[_key]}pipelineIds.forEach(function(pipelineId){if(!recentlyDeletedPipelineIds.includes(pipelineId)){recentlyDeletedPipelines.push({id:pipelineId,deletedOn:Date.now()})}});this.setRecentlyDeleted(recentlyDeletedPipelines)}},{key:"removeFromRecentlyDeleted",value:function removeFromRecentlyDeleted(){for(var _len2=arguments.length,pipelineIds=Array(_len2),_key2=0;_key2<_len2;_key2++){pipelineIds[_key2]=arguments[_key2]}var recentlyDeletedPipelinesToKeep=this.getRecentlyDeleted().filter(function(recentlyDeletedPipeline){return!pipelineIds.includes(recentlyDeletedPipeline.id)});this.setRecentlyDeleted(recentlyDeletedPipelinesToKeep)}},{key:"isRecentlyDeleted",value:function isRecentlyDeleted(pipelineId){return this.getRecentlyDeleted().map(function(pipeline){return pipeline.id}).includes(pipelineId)}},{key:"getRecentlyDeleted",value:function getRecentlyDeleted(){var recentlyDeletedPipelines=this.$window.localStorage.getItem(RECENTLY_DELETED_PIPELINE_IDS_STORAGE_KEY);if(!recentlyDeletedPipelines){return[]}return JSON.parse(recentlyDeletedPipelines)}},{key:"setRecentlyDeleted",value:function setRecentlyDeleted(recentlyDeletedPipelineIds){this.$window.localStorage.setItem(RECENTLY_DELETED_PIPELINE_IDS_STORAGE_KEY,JSON.stringify(recentlyDeletedPipelineIds))}}]);return PipelinesService}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineListItem=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _get_search_value=__webpack_require__(4151);var _get_moment=__webpack_require__(4153);var _constants=__webpack_require__(319);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var PipelineListItem=exports.PipelineListItem=function(){function PipelineListItem(props){_classCallCheck(this,PipelineListItem);this.id=props.id;this.origin=props.origin;this.description=props.description;this.username=props.username;if(props.lastModified){this.lastModified=(0,_get_moment.getMoment)(props.lastModified);this.lastModifiedHumanized=(0,_lodash.capitalize)(this.lastModified.fromNow())}}_createClass(PipelineListItem,[{key:"searchValue",get:function get(){return(0,_get_search_value.getSearchValue)(this,["id"])}},{key:"isCentrallyManaged",get:function get(){return this.origin===_constants.PIPELINE.ORIGIN.CCM}}],[{key:"fromUpstreamJSON",value:function fromUpstreamJSON(pipelineListItem){var props=(0,_lodash.pick)(pipelineListItem,["id","description","username"]);props.origin=_constants.PIPELINE.ORIGIN.CCM;props.lastModified=pipelineListItem.last_modified;return new PipelineListItem(props)}},{key:"fromUpstreamMonitoringJSON",value:function fromUpstreamMonitoringJSON(pipelineListItem){var props=(0,_lodash.pick)(pipelineListItem,["id"]);props.origin=_constants.PIPELINE.ORIGIN.OTHER;return new PipelineListItem(props)}}]);return PipelineListItem}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_search_value=__webpack_require__(4152);Object.defineProperty(exports,"getSearchValue",{enumerable:true,get:function get(){return _get_search_value.getSearchValue}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSearchValue=getSearchValue;var _lodash=__webpack_require__(1);function getSearchValue(obj,fields){return(0,_lodash.values)((0,_lodash.pick)(obj,fields)).join("\n")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMoment=getMoment;var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getMoment(date){if(!date){return null}return(0,_moment2.default)(date)}},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _monitoring_service=__webpack_require__(4155);__webpack_require__(1303);_modules.uiModules.get("xpack/logstash").factory("xpackLogstashMonitoringService",function($injector){var $http=$injector.get("$http");var Promise=$injector.get("Promise");var monitoringUiEnabled=$injector.has("monitoringUiEnabled")&&$injector.get("monitoringUiEnabled");var clusterService=$injector.get("xpackLogstashClusterService");return new _monitoring_service.MonitoringService($http,Promise,monitoringUiEnabled,clusterService)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringService=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(319);var _pipeline_list_item=__webpack_require__(1301);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var MonitoringService=exports.MonitoringService=function(){function MonitoringService($http,Promise,monitoringUiEnabled,clusterService){_classCallCheck(this,MonitoringService);this.$http=$http;this.Promise=Promise;this.monitoringUiEnabled=monitoringUiEnabled;this.clusterService=clusterService;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.MONITORING_API_ROOT)}_createClass(MonitoringService,[{key:"isMonitoringEnabled",value:function isMonitoringEnabled(){return this.monitoringUiEnabled}},{key:"getPipelineList",value:function getPipelineList(){var _this=this;if(!this.isMonitoringEnabled()){return Promise.resolve([])}return this.clusterService.loadCluster().then(function(cluster){var url=_this.basePath+"/v1/clusters/"+cluster.uuid+"/logstash/pipelines";var now=_moment2.default.utc();var body={timeRange:{max:now.toISOString(),min:now.subtract(_constants.MONITORING.ACTIVE_PIPELINE_RANGE_S,"seconds").toISOString()}};return _this.$http.post(url,body)}).then(function(response){return response.data.pipelines.map(function(pipeline){return _pipeline_list_item.PipelineListItem.fromUpstreamMonitoringJSON(pipeline)})}).catch(function(){return[]})}}]);return MonitoringService}()},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _cluster_service=__webpack_require__(4157);_modules.uiModules.get("xpack/logstash").factory("xpackLogstashClusterService",function($injector){var $http=$injector.get("$http");return new _cluster_service.ClusterService($http)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterService=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(319);var _cluster=__webpack_require__(4158);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var ClusterService=exports.ClusterService=function(){function ClusterService($http){_classCallCheck(this,ClusterService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(ClusterService,[{key:"loadCluster",value:function loadCluster(){return this.$http.get(this.basePath+"/cluster").then(function(response){if(!response.data){return}return _cluster.Cluster.fromUpstreamJSON(response.data.cluster)})}},{key:"isClusterInfoAvailable",value:function isClusterInfoAvailable(){return this.loadCluster().then(function(cluster){return Boolean(cluster)}).catch(function(){return false})}}]);return ClusterService}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _cluster=__webpack_require__(4159);Object.defineProperty(exports,"Cluster",{enumerable:true,get:function get(){return _cluster.Cluster}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Cluster=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Cluster=exports.Cluster=function(){function Cluster(props){_classCallCheck(this,Cluster);this.uuid=(0,_lodash.get)(props,"uuid")}_createClass(Cluster,null,[{key:"fromUpstreamJSON",value:function fromUpstreamJSON(cluster){return new Cluster({uuid:cluster.uuid})}}]);return Cluster}()},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _reactRedux=__webpack_require__(14);var _reactRouterDom=__webpack_require__(37);var _react3=__webpack_require__(3);var _management=__webpack_require__(24);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(250);var _services=__webpack_require__(202);var _app=__webpack_require__(4169);var _main=__webpack_require__(4200);var _main2=_interopRequireDefault(_main);var _store=__webpack_require__(4201);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}if(_chrome2.default.getInjected("remoteClustersUiEnabled")){var esSection=_management.management.getSection("elasticsearch");esSection.register("remote_clusters",{visible:true,display:"Remote Clusters",order:4,url:"#"+_constants.CRUD_APP_BASE_PATH+"/list"});var appElement=void 0;var renderReact=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(elem){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_reactRedux.Provider,{store:_store.remoteClustersStore},_react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_app.App,null)))),elem);case 1:case"end":return _context.stop()}}},_callee,undefined)}));return function renderReact(_x){return _ref.apply(this,arguments)}}();_routes2.default.when(_constants.CRUD_APP_BASE_PATH+"/:view?/:id?",{template:_main2.default,controllerAs:"remoteClusters",controller:function RemoteClustersController($scope,$route,$http,kbnUrl){_classCallCheck(this,RemoteClustersController);if(appElement){(0,_reactDom.unmountComponentAtNode)(appElement)}(0,_services.setHttpClient)($http);(0,_services.setRedirect)(function(path){$scope.$evalAsync(function(){kbnUrl.redirect(path)})});(0,_services.setUserHasLeftApp)(false);$scope.$$postDigest(function(){appElement=document.getElementById("remoteClustersReactRoot");renderReact(appElement);var appRoute=$route.current;var stopListeningForLocationChange=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;var isNavigationInApp=currentRoute.$$route.template===appRoute.$$route.template;if(isNavigationInApp){$route.current=appRoute}else{(0,_services.setUserHasLeftApp)(true)}});$scope.$on("$destroy",function(){stopListeningForLocationChange();(0,_reactDom.unmountComponentAtNode)(appElement)})})}})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var CRUD_APP_BASE_PATH=exports.CRUD_APP_BASE_PATH="/management/elasticsearch/remote_clusters"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.editCluster=exports.addCluster=exports.loadClusters=exports.setHttpClient=undefined;var loadClusters=exports.loadClusters=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return httpClient.get(""+apiPrefix);case 2:response=_context.sent;return _context.abrupt("return",response.data);case 4:case"end":return _context.stop()}}},_callee,this)}));return function loadClusters(){return _ref.apply(this,arguments)}}();var addCluster=exports.addCluster=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(cluster){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return httpClient.post(""+apiPrefix,cluster);case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}},_callee2,this)}));return function addCluster(_x){return _ref2.apply(this,arguments)}}();var editCluster=exports.editCluster=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(cluster){var name,rest;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:name=cluster.name,rest=_objectWithoutProperties(cluster,["name"]);_context3.next=3;return httpClient.put(apiPrefix+"/"+name,rest);case 3:return _context3.abrupt("return",_context3.sent);case 4:case"end":return _context3.stop()}}},_callee3,this)}));return function editCluster(_x2){return _ref3.apply(this,arguments)}}();exports.removeClusterRequest=removeClusterRequest;var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var httpClient=void 0;var setHttpClient=exports.setHttpClient=function setHttpClient(client){httpClient=client};var apiPrefix=_chrome2.default.addBasePath("/api/remote_clusters");function removeClusterRequest(name){return httpClient.delete(apiPrefix+"/"+name)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showApiWarning=showApiWarning;exports.showApiError=showApiError;var _notify=__webpack_require__(10);function createToastConfig(error,errorTitle){if(error&&error.data){var _error$data=error.data,errorString=_error$data.error,statusCode=_error$data.statusCode,message=_error$data.message;return{title:errorTitle,text:statusCode+": "+errorString+". "+message}}}function showApiWarning(error,errorTitle){var toastConfig=createToastConfig(error,errorTitle);if(toastConfig){return _notify.toastNotifications.addWarning(toastConfig)}return(0,_notify.fatalError)(error,errorTitle)}function showApiError(error,errorTitle){var toastConfig=createToastConfig(error,errorTitle);if(toastConfig){return _notify.toastNotifications.addDanger(toastConfig)}(0,_notify.fatalError)(error,errorTitle)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.editBreadcrumb=exports.addBreadcrumb=exports.buildListBreadcrumb=exports.listBreadcrumb=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _i18n=__webpack_require__(9);var _constants=__webpack_require__(250);var listBreadcrumb=exports.listBreadcrumb={text:_i18n.i18n.translate("xpack.remoteClusters.listBreadcrumbTitle",{defaultMessage:"Remote Clusters"}),href:"#"+_constants.CRUD_APP_BASE_PATH+"/list"};var buildListBreadcrumb=exports.buildListBreadcrumb=function buildListBreadcrumb(queryParams){var href=listBreadcrumb.href;return _extends({},listBreadcrumb,{href:""+href+queryParams})};var addBreadcrumb=exports.addBreadcrumb={text:_i18n.i18n.translate("xpack.remoteClusters.addBreadcrumbTitle",{defaultMessage:"Add"})};var editBreadcrumb=exports.editBreadcrumb={text:_i18n.i18n.translate("xpack.remoteClusters.editBreadcrumbTitle",{defaultMessage:"Edit"})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setRedirect=setRedirect;exports.redirect=redirect;var _redirect=void 0;function setRedirect(redirect){_redirect=redirect}function redirect(path){_redirect(path)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isSeedNodeValid=isSeedNodeValid;exports.isSeedNodePortValid=isSeedNodePortValid;function isSeedNodeValid(seedNode){if(!seedNode){return false}var portParts=seedNode.split(":");var parts=portParts[0].split(".");var containsInvalidCharacters=parts.some(function(part){var match=part.match(/[A-Za-z0-9\-]*/)[0];return match!==part||!part});return!containsInvalidCharacters}function isSeedNodePortValid(seedNode){if(!seedNode){return false}var parts=seedNode.split(":");var hasOnePort=parts.length===2;if(!hasOnePort){return false}var port=parts[1];if(!port){return false}var isPortNumeric=port.match(/[0-9]*/)[0]===port;return isPortNumeric}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractQueryParams=extractQueryParams;var _querystring=__webpack_require__(240);function extractQueryParams(queryString){var hrefSplit=queryString.split("?");if(!hrefSplit.length){return{}}return(0,_querystring.parse)(hrefSplit[1])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setUserHasLeftApp=setUserHasLeftApp;exports.getUserHasLeftApp=getUserHasLeftApp;exports.registerRouter=registerRouter;exports.getRouter=getRouter;exports.getRouterLinkProps=getRouterLinkProps;var _history=__webpack_require__(421);var _userHasLeftApp=false;function setUserHasLeftApp(userHasLeftApp){_userHasLeftApp=userHasLeftApp}function getUserHasLeftApp(){return _userHasLeftApp}var isModifiedEvent=function isModifiedEvent(event){return!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey)};var isLeftClickEvent=function isLeftClickEvent(event){return event.button===0};var router=void 0;function registerRouter(reactRouter){router=reactRouter}function getRouter(){return router}function getRouterLinkProps(to){var location=typeof to==="string"?(0,_history.createLocation)(to,null,null,router.history.location):to;var href=router.history.createHref(location);var onClick=function onClick(event){if(event.defaultPrevented){return}if(event.target.getAttribute("target")){return}if(isModifiedEvent(event)||!isLeftClickEvent(event)){return}event.preventDefault();router.history.push(location)};return{href:href,onClick:onClick}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.App=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _reactRouterDom=__webpack_require__(37);var _constants=__webpack_require__(250);var _services=__webpack_require__(202);var _sections=__webpack_require__(4170);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var App=exports.App=function(_Component){_inherits(App,_Component);function App(){var _ref;_classCallCheck(this,App);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var _this=_possibleConstructorReturn(this,(_ref=App.__proto__||Object.getPrototypeOf(App)).call.apply(_ref,[this].concat(args)));_this.registerRouter();return _this}_createClass(App,[{key:"registerRouter",value:function registerRouter(){var router=this.context.router;(0,_services.registerRouter)(router)}},{key:"componentWillUnmount",value:function componentWillUnmount(){(0,_services.setUserHasLeftApp)(true)}},{key:"render",value:function render(){return _react2.default.createElement("div",null,_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Redirect,{exact:true,from:""+_constants.CRUD_APP_BASE_PATH,to:_constants.CRUD_APP_BASE_PATH+"/list"}),_react2.default.createElement(_reactRouterDom.Route,{exact:true,path:_constants.CRUD_APP_BASE_PATH+"/list",component:_sections.RemoteClusterList}),_react2.default.createElement(_reactRouterDom.Route,{exact:true,path:_constants.CRUD_APP_BASE_PATH+"/add",component:_sections.RemoteClusterAdd}),_react2.default.createElement(_reactRouterDom.Route,{exact:true,path:_constants.CRUD_APP_BASE_PATH+"/edit/:name",component:_sections.RemoteClusterEdit}),_react2.default.createElement(_reactRouterDom.Redirect,{from:_constants.CRUD_APP_BASE_PATH+"/:anything",to:_constants.CRUD_APP_BASE_PATH+"/list"})))}}]);return App}(_react.Component);App.contextTypes={router:_propTypes2.default.shape({history:_propTypes2.default.shape({push:_propTypes2.default.func.isRequired,createHref:_propTypes2.default.func.isRequired}).isRequired}).isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _remote_cluster_list=__webpack_require__(4171);Object.defineProperty(exports,"RemoteClusterList",{enumerable:true,get:function get(){return _remote_cluster_list.RemoteClusterList}});var _remote_cluster_add=__webpack_require__(4194);Object.defineProperty(exports,"RemoteClusterAdd",{enumerable:true,get:function get(){return _remote_cluster_add.RemoteClusterAdd}});var _remote_cluster_edit=__webpack_require__(4197);Object.defineProperty(exports,"RemoteClusterEdit",{enumerable:true,get:function get(){return _remote_cluster_edit.RemoteClusterEdit}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _remote_cluster_list=__webpack_require__(4172);Object.defineProperty(exports,"RemoteClusterList",{enumerable:true,get:function get(){return _remote_cluster_list.RemoteClusterList}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RemoteClusterList=undefined;var _reactRedux=__webpack_require__(14);var _selectors=__webpack_require__(429);var _actions=__webpack_require__(368);var _remote_cluster_list=__webpack_require__(4176);var mapStateToProps=function mapStateToProps(state){return{clusters:(0,_selectors.getClustersList)(state),isDetailPanelOpen:(0,_selectors.isDetailPanelOpen)(state),isLoading:(0,_selectors.isLoading)(state),isCopyingCluster:(0,_selectors.isEditingCluster)(state),isRemovingCluster:(0,_selectors.isRemovingCluster)(state),clusterLoadError:(0,_selectors.clusterLoadError)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{loadClusters:function loadClusters(){dispatch((0,_actions.loadClusters)())},refreshClusters:function refreshClusters(){dispatch((0,_actions.refreshClusters)())},openDetailPanel:function openDetailPanel(name){dispatch((0,_actions.openDetailPanel)({name:name}))},closeDetailPanel:function closeDetailPanel(){dispatch((0,_actions.closeDetailPanel)())}}};var RemoteClusterList=exports.RemoteClusterList=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_remote_cluster_list.RemoteClusterList)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.clearAddClusterErrors=exports.addCluster=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _i18n=__webpack_require__(9);var _notify=__webpack_require__(10);var _constants=__webpack_require__(250);var _services=__webpack_require__(202);var _action_types=__webpack_require__(214);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var addCluster=exports.addCluster=function addCluster(cluster){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var newCluster,_ref2,_ref3,statusCode,data,_getRouter,history,search,_extractQueryParams,redirectUrl,decodedRedirect;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:_action_types.ADD_CLUSTER_START});newCluster=void 0;_context.prev=2;_context.next=5;return Promise.all([(0,_services.addCluster)(cluster),new Promise(function(resolve){return setTimeout(resolve,500)})]);case 5:_ref2=_context.sent;_ref3=_slicedToArray(_ref2,1);newCluster=_ref3[0];_context.next=19;break;case 10:_context.prev=10;_context.t0=_context["catch"](2);if(!_context.t0){_context.next=18;break}statusCode=_context.t0.statusCode,data=_context.t0.data;if(!data){_context.next=18;break}if(!((statusCode||data&&data.statusCode)===409)){_context.next=17;break}return _context.abrupt("return",dispatch({type:_action_types.ADD_CLUSTER_FAILURE,payload:{error:{message:_i18n.i18n.translate("xpack.remoteClusters.addAction.clusterNameAlreadyExistsErrorMessage",{defaultMessage:"A cluster with the name '{clusterName}' already exists.",values:{clusterName:cluster.name}})}}}));case 17:return _context.abrupt("return",dispatch({type:_action_types.ADD_CLUSTER_FAILURE,payload:{error:{message:_i18n.i18n.translate("xpack.remoteClusters.addAction.failedDefaultErrorMessage",{defaultMessage:"Request failed with a {statusCode} error. {message}",values:{statusCode:statusCode,message:data.message}}),cause:data.cause}}}));case 18:return _context.abrupt("return",(0,_notify.fatalError)(_context.t0,_i18n.i18n.translate("xpack.remoteClusters.addAction.errorTitle",{defaultMessage:"Error adding cluster"})));case 19:dispatch({type:_action_types.ADD_CLUSTER_SUCCESS,payload:{cluster:newCluster.data}});_getRouter=(0,_services.getRouter)(),history=_getRouter.history,search=_getRouter.route.location.search;_extractQueryParams=(0,_services.extractQueryParams)(search),redirectUrl=_extractQueryParams.redirect;if(redirectUrl){_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.remoteClusters.addAction.successTitle",{defaultMessage:"Added remote cluster '{name}'",values:{name:cluster.name}}));decodedRedirect=decodeURIComponent(redirectUrl);(0,_services.redirect)(decodedRedirect)}else{history.push({pathname:_constants.CRUD_APP_BASE_PATH+"/list",search:"?cluster="+cluster.name})}case 23:case"end":return _context.stop()}}},_callee,undefined,[[2,10]])}));return function(_x){return _ref.apply(this,arguments)}}()};var clearAddClusterErrors=exports.clearAddClusterErrors=function clearAddClusterErrors(){return function(dispatch){dispatch({type:_action_types.CLEAR_ADD_CLUSTER_ERRORS})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.removeClusters=undefined;var _i18n=__webpack_require__(9);var _notify=__webpack_require__(10);var _services=__webpack_require__(202);var _action_types=__webpack_require__(214);var _detail_panel=__webpack_require__(1304);var _refresh_clusters=__webpack_require__(1305);var _selectors=__webpack_require__(429);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var removeClusters=exports.removeClusters=function removeClusters(names){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch,getState){var removalSuccesses,removalErrors,removeClusterRequests,detailPanelClusterName;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:_action_types.REMOVE_CLUSTERS_START});removalSuccesses=[];removalErrors=[];removeClusterRequests=names.map(function(name){(0,_services.removeClusterRequest)(name).then(function(){return removalSuccesses.push(name)}).catch(function(){return removalErrors.push(name)})});_context.next=6;return Promise.all([].concat(_toConsumableArray(removeClusterRequests),[new Promise(function(resolve){return setTimeout(resolve,500)})]));case 6:if(removalErrors.length>0){if(removalErrors.length===1){_notify.toastNotifications.addDanger(_i18n.i18n.translate("xpack.remoteClusters.removeAction.errorSingleNotificationTitle",{defaultMessage:"Error removing remote cluster '{name}'",values:{name:removalErrors[0]}}))}else{_notify.toastNotifications.addDanger(_i18n.i18n.translate("xpack.remoteClusters.removeAction.errorMultipleNotificationTitle",{defaultMessage:"Error removing '{count}' remote clusters",values:{count:removalErrors.length}}))}}if(removalSuccesses.length>0){if(removalSuccesses.length===1){_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.remoteClusters.removeAction.successSingleNotificationTitle",{defaultMessage:"Remote cluster '{name}' was removed",values:{name:removalSuccesses[0]}}))}else{_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.remoteClusters.removeAction.successMultipleNotificationTitle",{defaultMessage:"{count} remote clusters were removed",values:{count:names.length}}))}}detailPanelClusterName=(0,_selectors.getDetailPanelClusterName)(getState());if(detailPanelClusterName&&names.includes(detailPanelClusterName)){dispatch((0,_detail_panel.closeDetailPanel)())}dispatch({type:_action_types.REMOVE_CLUSTERS_FINISH});dispatch((0,_refresh_clusters.refreshClusters)());case 12:case"end":return _context.stop()}}},_callee,undefined)}));return function(_x,_x2){return _ref.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.clearEditClusterErrors=exports.stopEditingCluster=exports.startEditingCluster=exports.editCluster=undefined;var _i18n=__webpack_require__(9);var _notify=__webpack_require__(10);var _constants=__webpack_require__(250);var _load_clusters=__webpack_require__(1306);var _services=__webpack_require__(202);var _action_types=__webpack_require__(214);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var editCluster=exports.editCluster=function editCluster(cluster){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var statusCode,data;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:_action_types.EDIT_CLUSTER_SAVE});_context.prev=1;_context.next=4;return Promise.all([(0,_services.editCluster)(cluster),new Promise(function(resolve){return setTimeout(resolve,500)})]);case 4:_context.next=13;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);if(!_context.t0){_context.next=12;break}statusCode=_context.t0.statusCode,data=_context.t0.data;if(!data){_context.next=12;break}return _context.abrupt("return",dispatch({type:_action_types.EDIT_CLUSTER_FAILURE,payload:{error:{message:_i18n.i18n.translate("xpack.remoteClusters.editAction.failedDefaultErrorMessage",{defaultMessage:"Request failed with a {statusCode} error. {message}",values:{statusCode:statusCode,message:data.message}}),cause:data.cause}}}));case 12:return _context.abrupt("return",(0,_notify.fatalError)(_context.t0,_i18n.i18n.translate("xpack.remoteClusters.editAction.errorTitle",{defaultMessage:"Error editing cluster"})));case 13:dispatch({type:_action_types.EDIT_CLUSTER_SUCCESS});(0,_services.getRouter)().history.push({pathname:_constants.CRUD_APP_BASE_PATH+"/list",search:"?cluster="+cluster.name});case 15:case"end":return _context.stop()}}},_callee,undefined,[[1,6]])}));return function(_x){return _ref.apply(this,arguments)}}()};var startEditingCluster=exports.startEditingCluster=function startEditingCluster(_ref2){var clusterName=_ref2.clusterName;return function(dispatch){dispatch((0,_load_clusters.loadClusters)());dispatch({type:_action_types.EDIT_CLUSTER_START,payload:{clusterName:clusterName}})}};var stopEditingCluster=exports.stopEditingCluster=function stopEditingCluster(){return function(dispatch){dispatch((0,_load_clusters.loadClusters)());dispatch({type:_action_types.EDIT_CLUSTER_STOP})}};var clearEditClusterErrors=exports.clearEditClusterErrors=function clearEditClusterErrors(){return function(dispatch){dispatch({type:_action_types.CLEAR_EDIT_CLUSTER_ERRORS})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RemoteClusterList=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _class,_temp2;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _management=__webpack_require__(24);var _eui=__webpack_require__(2);var _constants=__webpack_require__(250);var _services=__webpack_require__(202);var _remote_cluster_table=__webpack_require__(4177);var _detail_panel=__webpack_require__(4185);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var REFRESH_RATE_MS=3e4;var RemoteClusterList=exports.RemoteClusterList=(0,_react3.injectI18n)((_temp2=_class=function(_Component){_inherits(_class,_Component);function _class(){var _ref;var _temp,_this,_ret;_classCallCheck(this,_class);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=_class.__proto__||Object.getPrototypeOf(_class)).call.apply(_ref,[this].concat(args))),_this),_this.state={},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(_class,[{key:"componentDidMount",value:function componentDidMount(){this.props.loadClusters();this.interval=setInterval(this.props.refreshClusters,REFRESH_RATE_MS);_chrome2.default.breadcrumbs.set([_management.MANAGEMENT_BREADCRUMB,_services.listBreadcrumb])}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.interval)}},{key:"getHeaderSection",value:function getHeaderSection(){return _react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterListTitle",defaultMessage:"Remote clusters"}))))}},{key:"renderBlockingAction",value:function renderBlockingAction(){var _props=this.props,isCopyingCluster=_props.isCopyingCluster,isRemovingCluster=_props.isRemovingCluster;if(isCopyingCluster||isRemovingCluster){return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiLoadingKibana,{size:"xl"}))}return null}},{key:"renderNoPermission",value:function renderNoPermission(){var intl=this.props.intl;var title=intl.formatMessage({id:"xpack.remoteClusters.remoteClusterList.noPermissionTitle",defaultMessage:"Permission error"});return _react2.default.createElement(_react.Fragment,null,this.getHeaderSection(),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCallOut,{title:title,color:"warning",iconType:"help"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.noPermissionText",defaultMessage:"You do not have permission to view or add remote clusters."})))}},{key:"renderError",value:function renderError(error){var _error$data=error.data,statusCode=_error$data.statusCode,errorString=_error$data.error;var intl=this.props.intl;var title=intl.formatMessage({id:"xpack.remoteClusters.remoteClusterList.loadingErrorTitle",defaultMessage:"Error loading remote clusters"});return _react2.default.createElement(_react.Fragment,null,this.getHeaderSection(),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCallOut,{title:title,color:"danger",iconType:"alert"},statusCode," ",errorString))}},{key:"renderEmpty",value:function renderEmpty(){return _react2.default.createElement(_eui.EuiEmptyPrompt,{iconType:"managementApp",title:_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.emptyPromptTitle",defaultMessage:"Add your first remote cluster"})),body:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.emptyPromptDescription",defaultMessage:"Remote clusters create a uni-directional connection from your local cluster to other clusters."}))),actions:_react2.default.createElement(_eui.EuiButton,_extends({},(0,_services.getRouterLinkProps)(_constants.CRUD_APP_BASE_PATH+"/add"),{fill:true,iconType:"plusInCircle"}),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.emptyPrompt.connectButtonLabel",defaultMessage:"Add a remote cluster"}))})}},{key:"renderList",value:function renderList(){var _props2=this.props,isLoading=_props2.isLoading,clusters=_props2.clusters;var table=void 0;if(isLoading){table=_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.loadingTitle",defaultMessage:"Loading remote clusters..."})))))}else{table=_react2.default.createElement(_remote_cluster_table.RemoteClusterTable,{clusters:clusters})}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiPageContentHeader,null,this.getHeaderSection(),_react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiButton,_extends({},(0,_services.getRouterLinkProps)(_constants.CRUD_APP_BASE_PATH+"/add"),{fill:true}),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.connectButtonLabel",defaultMessage:"Add a remote cluster"})))),table,_react2.default.createElement(_detail_panel.DetailPanel,null))}},{key:"render",value:function render(){var _props3=this.props,isLoading=_props3.isLoading,clusters=_props3.clusters,clusterLoadError=_props3.clusterLoadError;var content=void 0;if(clusterLoadError){if(clusterLoadError.status===403){content=this.renderNoPermission()}else{content=this.renderError(clusterLoadError)}}else if(!isLoading&&!clusters.length){content=this.renderEmpty()}else{content=this.renderList()}return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,content,this.renderBlockingAction())))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props){var openDetailPanel=props.openDetailPanel,closeDetailPanel=props.closeDetailPanel,isDetailPanelOpen=props.isDetailPanelOpen,search=props.history.location.search;var _extractQueryParams=(0,_services.extractQueryParams)(search),clusterName=_extractQueryParams.cluster;if(clusterName!=null){openDetailPanel(clusterName)}else if(isDetailPanelOpen){closeDetailPanel()}return null}}]);return _class}(_react.Component),_class.propTypes={loadClusters:_propTypes2.default.func.isRequired,refreshClusters:_propTypes2.default.func.isRequired,openDetailPanel:_propTypes2.default.func.isRequired,closeDetailPanel:_propTypes2.default.func.isRequired,isDetailPanelOpen:_propTypes2.default.bool,clusters:_propTypes2.default.array,isLoading:_propTypes2.default.bool,isCopyingCluster:_propTypes2.default.bool,isRemovingCluster:_propTypes2.default.bool},_temp2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _remote_cluster_table=__webpack_require__(4178);Object.defineProperty(exports,"RemoteClusterTable",{enumerable:true,get:function get(){return _remote_cluster_table.RemoteClusterTable}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RemoteClusterTable=undefined;var _reactRedux=__webpack_require__(14);var _actions=__webpack_require__(368);var _remote_cluster_table=__webpack_require__(4179);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{openDetailPanel:function openDetailPanel(clusterName){dispatch((0,_actions.openDetailPanel)({name:clusterName}))}}};var RemoteClusterTable=exports.RemoteClusterTable=(0,_reactRedux.connect)(undefined,mapDispatchToProps)(_remote_cluster_table.RemoteClusterTable)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RemoteClusterTable=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _class,_temp;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _i18n=__webpack_require__(9);var _eui=__webpack_require__(2);var _constants=__webpack_require__(250);var _components=__webpack_require__(1307);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var RemoteClusterTable=exports.RemoteClusterTable=(0,_react3.injectI18n)((_temp=_class=function(_Component){_inherits(_class,_Component);function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));_this.onSearch=function(_ref){var query=_ref.query;var text=query.text;var normalizedSearchText=text.toLowerCase();_this.setState({queryText:normalizedSearchText})};_this.getFilteredClusters=function(){var clusters=_this.props.clusters;var queryText=_this.state.queryText;if(queryText){return clusters.filter(function(cluster){var name=cluster.name,seeds=cluster.seeds;var normalizedName=name.toLowerCase();if(normalizedName.toLowerCase().includes(queryText)){return true}return seeds.some(function(seed){return seed.includes(queryText)})})}else{return clusters.slice(0)}};_this.state={queryText:undefined,selectedItems:[]};return _this}_createClass(_class,[{key:"render",value:function render(){var _this2=this;var _props=this.props,openDetailPanel=_props.openDetailPanel,intl=_props.intl;var selectedItems=this.state.selectedItems;var columns=[{field:"name",name:intl.formatMessage({id:"xpack.remoteClusters.remoteClusterList.table.nameColumnTitle",defaultMessage:"Name"}),sortable:true,truncateText:false,render:function render(name,_ref2){var isConfiguredByNode=_ref2.isConfiguredByNode;var link=_react2.default.createElement(_eui.EuiLink,{onClick:function onClick(){return openDetailPanel(name)}},name);if(isConfiguredByNode){return _react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},link),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiIconTip,{type:"iInCircle",color:"subdued",content:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.table.isConfiguredByNodeMessage",defaultMessage:"Defined in elasticsearch.yml"})})))}return link}},{field:"seeds",name:intl.formatMessage({id:"xpack.remoteClusters.remoteClusterList.table.seedsColumnTitle",defaultMessage:"Seeds"}),truncateText:true,render:function render(seeds){return seeds.join(", ")}},{field:"isConnected",name:intl.formatMessage({id:"xpack.remoteClusters.remoteClusterList.table.connectedColumnTitle",defaultMessage:"Connection"}),sortable:true,render:function render(isConnected){return _react2.default.createElement(_components.ConnectionStatus,{isConnected:isConnected})},width:"160px"},{field:"connectedNodesCount",name:intl.formatMessage({id:"xpack.remoteClusters.remoteClusterList.table.connectedNodesColumnTitle",defaultMessage:"Connected nodes"}),sortable:true,width:"160px"},{name:intl.formatMessage({id:"xpack.remoteClusters.remoteClusterList.table.actionsColumnTitle",defaultMessage:"Actions"}),width:"100px",actions:[{render:function render(_ref3){var name=_ref3.name,isConfiguredByNode=_ref3.isConfiguredByNode;var label=isConfiguredByNode?_i18n.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionBlockedDeleteDescription",{defaultMessage:"Remote clusters defined in elasticsearch.yml can't be deleted"}):_i18n.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionDeleteDescription",{defaultMessage:"Delete remote cluster"});return _react2.default.createElement(_eui.EuiToolTip,{content:label,delay:"long"},_react2.default.createElement(_components.RemoveClusterButtonProvider,{clusterNames:[name]},function(removeCluster){return _react2.default.createElement(_eui.EuiButtonIcon,{"aria-label":label,iconType:"trash",color:"danger",isDisabled:isConfiguredByNode,onClick:removeCluster})}))}},{render:function render(_ref4){var name=_ref4.name,isConfiguredByNode=_ref4.isConfiguredByNode;var label=isConfiguredByNode?_i18n.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionBlockedEditDescription",{defaultMessage:"Remote clusters defined in elasticsearch.yml can't be edited"}):_i18n.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionEditDescription",{defaultMessage:"Edit remote cluster"});return _react2.default.createElement(_eui.EuiToolTip,{content:label,delay:"long"},_react2.default.createElement(_eui.EuiButtonIcon,{"aria-label":label,iconType:"pencil",color:"primary",isDisabled:isConfiguredByNode,href:"#"+_constants.CRUD_APP_BASE_PATH+"/edit/"+name,disabled:isConfiguredByNode}))}}]}];var sorting={sort:{field:"name",direction:"asc"}};var search={toolsLeft:selectedItems.length?_react2.default.createElement(_components.RemoveClusterButtonProvider,{clusterNames:selectedItems.map(function(_ref5){var name=_ref5.name;return name})},function(removeCluster){return _react2.default.createElement(_eui.EuiButton,{color:"danger",onClick:removeCluster},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.table.removeButtonLabel",defaultMessage:"Remove {count, plural, one {remote cluster} other {{count} remote clusters}}",values:{count:selectedItems.length}}))}):undefined,onChange:this.onSearch,box:{incremental:true}};var pagination={initialPageSize:20,pageSizeOptions:[10,20,50]};var selection={onSelectionChange:function onSelectionChange(selectedItems){return _this2.setState({selectedItems:selectedItems})},selectable:function selectable(_ref6){var isConfiguredByNode=_ref6.isConfiguredByNode;return!isConfiguredByNode}};var filteredClusters=this.getFilteredClusters();return _react2.default.createElement(_eui.EuiInMemoryTable,{items:filteredClusters,itemId:"name",columns:columns,search:search,pagination:pagination,sorting:sorting,selection:selection,isSelectable:true})}}]);return _class}(_react.Component),_class.propTypes={clusters:_propTypes2.default.array,openDetailPanel:_propTypes2.default.func.isRequired},_class.defaultProps={clusters:[]},_temp))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _connection_status=__webpack_require__(4181);Object.defineProperty(exports,"ConnectionStatus",{enumerable:true,get:function get(){return _connection_status.ConnectionStatus}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConnectionStatus=ConnectionStatus;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _i18n=__webpack_require__(9);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ConnectionStatus(_ref){var isConnected=_ref.isConnected;var icon=void 0;var message=void 0;if(isConnected){icon=_react2.default.createElement(_eui.EuiIcon,{type:"check",color:"success"});message=_i18n.i18n.translate("xpack.remoteClusters.connectedStatus.connectedAriaLabel",{defaultMessage:"Connected"})}else{icon=_react2.default.createElement(_eui.EuiIcon,{type:"cross",color:"danger"});message=_i18n.i18n.translate("xpack.remoteClusters.connectedStatus.notConnectedAriaLabel",{defaultMessage:"Not connected"})}return _react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},icon),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiText,null,message)))}ConnectionStatus.propTypes={isConnected:_propTypes2.default.bool}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _remove_cluster_button_provider=__webpack_require__(4183);Object.defineProperty(exports,"RemoveClusterButtonProvider",{enumerable:true,get:function get(){return _remove_cluster_button_provider.RemoveClusterButtonProvider}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RemoveClusterButtonProvider=undefined;var _reactRedux=__webpack_require__(14);var _actions=__webpack_require__(368);var _remove_cluster_button_provider=__webpack_require__(4184);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{removeClusters:function removeClusters(names){dispatch((0,_actions.removeClusters)(names))}}};var RemoveClusterButtonProvider=exports.RemoveClusterButtonProvider=(0,_reactRedux.connect)(undefined,mapDispatchToProps)(_remove_cluster_button_provider.RemoveClusterButtonProvider)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RemoveClusterButtonProvider=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _class,_temp2;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var RemoveClusterButtonProvider=exports.RemoveClusterButtonProvider=(0,_react3.injectI18n)((_temp2=_class=function(_Component){_inherits(_class,_Component);function _class(){var _ref;var _temp,_this,_ret;_classCallCheck(this,_class);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=_class.__proto__||Object.getPrototypeOf(_class)).call.apply(_ref,[this].concat(args))),_this),_this.state={isModalOpen:false},_this.onMouseOverModal=function(event){event.stopPropagation()},_this.showConfirmModal=function(){_this.setState({isModalOpen:true})},_this.closeConfirmModal=function(){_this.setState({isModalOpen:false})},_this.onConfirm=function(){var _this$props=_this.props,removeClusters=_this$props.removeClusters,clusterNames=_this$props.clusterNames;removeClusters(clusterNames);_this.closeConfirmModal()},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(_class,[{key:"render",value:function render(){var _props=this.props,intl=_props.intl,clusterNames=_props.clusterNames,children=_props.children;var isModalOpen=this.state.isModalOpen;var isSingleCluster=clusterNames.length===1;var modal=void 0;if(isModalOpen){var title=isSingleCluster?intl.formatMessage({id:"xpack.remoteClusters.removeButton.confirmModal.deleteSingleClusterTitle",defaultMessage:"Remove remote cluster '{name}'?"},{name:clusterNames[0]}):intl.formatMessage({id:"xpack.remoteClusters.removeButton.confirmModal.multipleDeletionTitle",defaultMessage:"Remove {count} remote clusters?"},{count:clusterNames.length});var content=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.removeButton.confirmModal.multipleDeletionDescription",defaultMessage:"You are about to remove these remote clusters:"})),_react2.default.createElement("ul",null,clusterNames.map(function(name){return _react2.default.createElement("li",{key:name},name)})));modal=_react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:title,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:intl.formatMessage({id:"xpack.remoteClusters.removeButton.confirmModal.cancelButtonText",defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:intl.formatMessage({id:"xpack.remoteClusters.removeButton.confirmModal.confirmButtonText",defaultMessage:"Remove"}),onMouseOver:this.onMouseOverModal},!isSingleCluster&&content))}return _react2.default.createElement(_react.Fragment,null,children(this.showConfirmModal),modal)}}]);return _class}(_react.Component),_class.propTypes={removeClusters:_propTypes2.default.func.isRequired,clusterNames:_propTypes2.default.array.isRequired,children:_propTypes2.default.func.isRequired},_temp2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _detail_panel=__webpack_require__(4186);Object.defineProperty(exports,"DetailPanel",{enumerable:true,get:function get(){return _detail_panel.DetailPanel}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=undefined;var _reactRedux=__webpack_require__(14);var _detail_panel=__webpack_require__(4187);var _selectors=__webpack_require__(429);var _actions=__webpack_require__(368);var mapStateToProps=function mapStateToProps(state){return{isOpen:(0,_selectors.isDetailPanelOpen)(state),isLoading:(0,_selectors.isLoading)(state),cluster:(0,_selectors.getDetailPanelCluster)(state),clusterName:(0,_selectors.getDetailPanelClusterName)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{closeDetailPanel:function closeDetailPanel(){dispatch((0,_actions.closeDetailPanel)())}}};var DetailPanel=exports.DetailPanel=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_detail_panel.DetailPanel)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _class,_temp;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(250);var _components=__webpack_require__(786);var _components2=__webpack_require__(1307);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DetailPanel=exports.DetailPanel=(0,_react3.injectI18n)((_temp=_class=function(_Component){_inherits(_class,_Component);function _class(){_classCallCheck(this,_class);return _possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}_createClass(_class,[{key:"renderSkipUnavailableValue",value:function renderSkipUnavailableValue(skipUnavailable){if(skipUnavailable===true){return _react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableTrueValue",defaultMessage:"Yes"})}if(skipUnavailable===false){return _react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableFalseValue",defaultMessage:"No"})}return _react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableNullValue",defaultMessage:"Default"})}},{key:"renderCluster",value:function renderCluster(){var cluster=this.props.cluster;var isConnected=cluster.isConnected,connectedNodesCount=cluster.connectedNodesCount,skipUnavailable=cluster.skipUnavailable,seeds=cluster.seeds,isConfiguredByNode=cluster.isConfiguredByNode,maxConnectionsPerCluster=cluster.maxConnectionsPerCluster,initialConnectTimeout=cluster.initialConnectTimeout;var configuredByNodeWarning=void 0;if(isConfiguredByNode){configuredByNodeWarning=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_components.ConfiguredByNodeWarning,null),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}))}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlyoutBody,null,configuredByNodeWarning,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.statusTitle",defaultMessage:"Status"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiDescriptionList,null,_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.connectedLabel",defaultMessage:"Connection"}))),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,_react2.default.createElement(_components2.ConnectionStatus,{isConnected:isConnected}))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.connectedNodesLabel",defaultMessage:"Connected nodes"}))),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,connectedNodesCount))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.seedsLabel",defaultMessage:"Seeds"}))),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,seeds.map(function(seed){return _react2.default.createElement(_eui.EuiText,{key:seed},seed)}))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableLabel",defaultMessage:"Skip unavailable"}))),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,this.renderSkipUnavailableValue(skipUnavailable)))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.maxConnectionsPerClusterLabel",defaultMessage:"Maximum number of connections"}))),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,maxConnectionsPerCluster)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.initialConnectTimeoutLabel",defaultMessage:"Initial connect timeout"}))),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,initialConnectTimeout))))))}},{key:"renderContent",value:function renderContent(){var _props=this.props,isLoading=_props.isLoading,cluster=_props.cluster;if(isLoading){return _react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.loadingLabel",defaultMessage:"Loading remote cluster..."}))))))}if(!cluster){return _react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiIcon,{size:"m",type:"alert",color:"danger"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.notFoundLabel",defaultMessage:"Remote cluster not found"}))))))}return this.renderCluster()}},{key:"renderFooter",value:function renderFooter(){var _props2=this.props,cluster=_props2.cluster,clusterName=_props2.clusterName,closeDetailPanel=_props2.closeDetailPanel;if(!cluster||cluster.isConfiguredByNode){return null}return _react2.default.createElement(_eui.EuiFlyoutFooter,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:closeDetailPanel},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.closeButtonLabel",defaultMessage:"Close"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_components2.RemoveClusterButtonProvider,{clusterNames:[clusterName]},function(removeCluster){return _react2.default.createElement(_eui.EuiButtonEmpty,{color:"danger",onClick:removeCluster},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.removeButtonLabel",defaultMessage:"Remove"}))})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{href:"#"+_constants.CRUD_APP_BASE_PATH+"/edit/"+clusterName,fill:true,color:"primary"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.editButtonLabel",defaultMessage:"Edit"})))))))}},{key:"render",value:function render(){var _props3=this.props,isOpen=_props3.isOpen,closeDetailPanel=_props3.closeDetailPanel,clusterName=_props3.clusterName;if(!isOpen){return null}return _react2.default.createElement(_eui.EuiFlyout,{"data-test-subj":"remoteClusterDetailFlyout",onClose:closeDetailPanel,"aria-labelledby":"remoteClusterDetailsFlyoutTitle",size:"m",maxWidth:400},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,{size:"m",id:"remoteClusterDetailsFlyoutTitle"},_react2.default.createElement("h2",null,clusterName))),this.renderContent(),this.renderFooter())}}]);return _class}(_react.Component),_class.propTypes={isOpen:_propTypes2.default.bool.isRequired,isLoading:_propTypes2.default.bool,cluster:_propTypes2.default.object,closeDetailPanel:_propTypes2.default.func.isRequired,clusterName:_propTypes2.default.string},_temp))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _remote_cluster_form=__webpack_require__(4189);Object.defineProperty(exports,"RemoteClusterForm",{enumerable:true,get:function get(){return _remote_cluster_form.RemoteClusterForm}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RemoteClusterForm=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _class,_temp,_initialiseProps;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _react3=__webpack_require__(3);var _i18n=__webpack_require__(9);var _eui=__webpack_require__(2);var _services=__webpack_require__(202);var _documentation_links=__webpack_require__(1308);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var defaultFields={name:"",seeds:[],skipUnavailable:false};var RemoteClusterForm=exports.RemoteClusterForm=(0,_react3.injectI18n)((_temp=_class=function(_Component){_inherits(_class,_Component);function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));_initialiseProps.call(_this);var fields=props.fields,disabledFields=props.disabledFields;var fieldsState=(0,_lodash.merge)({},defaultFields,fields);_this.state={localSeedErrors:[],seedInput:"",fields:fieldsState,disabledFields:disabledFields,fieldsErrors:_this.getFieldsErrors(fieldsState),areErrorsVisible:false};return _this}_createClass(_class,[{key:"getFieldsErrors",value:function getFieldsErrors(fields){var seedInput=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var name=fields.name,seeds=fields.seeds;var errors={};if(!name||!name.trim()){errors.name=_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.form.errors.nameMissing",defaultMessage:"Name is required."})}else if(name.match(/[^a-zA-Z\d\-_]/)){errors.name=_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.form.errors.illegalCharacters",defaultMessage:"Name contains invalid characters."})}if(!seeds.some(function(seed){return Boolean(seed.trim())})){if(!seedInput){errors.seeds=_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.form.errors.seedMissing",defaultMessage:"At least one seed node is required."})}}return errors}},{key:"getAllFields",value:function getAllFields(){var _state$fields=this.state.fields,name=_state$fields.name,seeds=_state$fields.seeds,skipUnavailable=_state$fields.skipUnavailable;return{name:name,seeds:seeds,skipUnavailable:skipUnavailable}}},{key:"renderSeeds",value:function renderSeeds(){var _state=this.state,areErrorsVisible=_state.areErrorsVisible,seeds=_state.fields.seeds,errorsSeeds=_state.fieldsErrors.seeds,localSeedErrors=_state.localSeedErrors;var intl=this.props.intl;var areFormErrorsVisible=Boolean(areErrorsVisible&&errorsSeeds);var showErrors=areFormErrorsVisible||localSeedErrors.length!==0;var errors=areFormErrorsVisible?localSeedErrors.concat(errorsSeeds):localSeedErrors;var formattedSeeds=seeds.map(function(seed){return{label:seed}});return _react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSeedsTitle",defaultMessage:"Seed nodes for cluster discovery"}))),description:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSeedsDescription1",defaultMessage:"A list of remote cluster nodes to query for the cluster state. Specify multiple seed nodes so discovery doesn't fail if a node is unavailable."}))),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldSeedsLabel",defaultMessage:"Seed nodes"}),helpText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSeedsHelpText",defaultMessage:"An IP address or host name, followed by the port."}),isInvalid:showErrors,error:errors,fullWidth:true},_react2.default.createElement(_eui.EuiComboBox,{noSuggestions:true,placeholder:intl.formatMessage({id:"xpack.remoteClusters.remoteClusterForm.fieldSeedsPlaceholder",defaultMessage:"host:port"}),selectedOptions:formattedSeeds,onCreateOption:this.onCreateSeed,onChange:this.onSeedsChange,onSearchChange:this.onSeedsInputChange,isInvalid:showErrors,fullWidth:true})))}},{key:"renderSkipUnavailable",value:function renderSkipUnavailable(){var _this2=this;var skipUnavailable=this.state.fields.skipUnavailable;return _react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableTitle",defaultMessage:"Make remote cluster optional"}))),description:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableDescription",defaultMessage:"By default, a request fails if any of the queried remote clusters are unavailable. To continue sending a request to other remote clusters if this cluster is unavailable, enable {optionName}. {learnMoreLink}",values:{optionName:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableDescription.optionNameLabel",defaultMessage:"Skip if unavailable"})),learnMoreLink:_react2.default.createElement(_eui.EuiLink,{href:_documentation_links.skippingDisconnectedClustersUrl,target:"_blank"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableDescription.learnMoreLinkLabel",defaultMessage:"Learn more."}))}}))),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{className:"remoteClusterSkipIfUnavailableSwitch",hasEmptyLabelSpace:true,fullWidth:true,helpText:skipUnavailable!==defaultFields.skipUnavailable?_react2.default.createElement(_eui.EuiLink,{onClick:function onClick(){_this2.resetToDefault("skipUnavailable")}},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableResetLabel",defaultMessage:"Reset to default"})):null},_react2.default.createElement(_eui.EuiSwitch,{label:_i18n.i18n.translate("xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableLabel",{defaultMessage:"Skip if unavailable"}),checked:skipUnavailable,onChange:this.onSkipUnavailableChange})))}},{key:"renderActions",value:function renderActions(){var _props=this.props,isSaving=_props.isSaving,cancel=_props.cancel;var areErrorsVisible=this.state.areErrorsVisible;if(isSaving){return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"l"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.actions.savingText",defaultMessage:"Saving"}))))}var cancelButton=void 0;if(cancel){cancelButton=_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{color:"primary",onClick:cancel},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.cancelButtonLabel",defaultMessage:"Cancel"})))}var isSaveDisabled=areErrorsVisible&&this.hasErrors();return _react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"m"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{color:"secondary",iconType:"check",onClick:this.save,fill:true,disabled:isSaveDisabled},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.saveButtonLabel",defaultMessage:"Save"}))),cancelButton)}},{key:"renderSavingFeedback",value:function renderSavingFeedback(){if(this.props.isSaving){return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiLoadingKibana,{size:"xl"}))}return null}},{key:"renderSaveErrorFeedback",value:function renderSaveErrorFeedback(){var saveError=this.props.saveError;if(saveError){var message=saveError.message,cause=saveError.cause;var errorBody=void 0;if(cause){if(cause.length===1){errorBody=_react2.default.createElement("p",null,cause[0])}else{errorBody=_react2.default.createElement("ul",null,cause.map(function(causeValue){return _react2.default.createElement("li",{key:causeValue},causeValue)}))}}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:message,icon:"cross",color:"danger"},errorBody),_react2.default.createElement(_eui.EuiSpacer,null))}return null}},{key:"render",value:function render(){var _this3=this;var disabledName=this.props.disabledFields.name;var _state2=this.state,areErrorsVisible=_state2.areErrorsVisible,name=_state2.fields.name,errorClusterName=_state2.fieldsErrors.name;return _react2.default.createElement(_react.Fragment,null,this.renderSaveErrorFeedback(),_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionNameTitle",defaultMessage:"Name"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionNameDescription",defaultMessage:"A unique name for the remote cluster."}),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldNameLabel",defaultMessage:"Name"}),helpText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldNameLabelHelpText",defaultMessage:"Name can only contain letters, numbers, underscores, and dashes."}),error:errorClusterName,isInvalid:Boolean(areErrorsVisible&&errorClusterName),fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{isInvalid:Boolean(areErrorsVisible&&errorClusterName),value:name,onChange:function onChange(e){return _this3.onFieldsChange({name:e.target.value})},fullWidth:true,disabled:disabledName}))),this.renderSeeds(),this.renderSkipUnavailable()),this.renderErrors(),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),this.renderActions(),this.renderSavingFeedback())}}]);return _class}(_react.Component),_class.propTypes={save:_propTypes2.default.func.isRequired,cancel:_propTypes2.default.func,isSaving:_propTypes2.default.bool,saveError:_propTypes2.default.object,fields:_propTypes2.default.object,disabledFields:_propTypes2.default.object},_class.defaultProps={fields:(0,_lodash.merge)({},defaultFields),disabledFields:{}},_initialiseProps=function _initialiseProps(){var _this4=this;this.onFieldsChange=function(changedFields){_this4.setState(function(_ref){var prevFields=_ref.fields,seedInput=_ref.seedInput;var newFields=_extends({},prevFields,changedFields);return{fields:newFields,fieldsErrors:_this4.getFieldsErrors(newFields,seedInput)}})};this.save=function(){var save=_this4.props.save;if(_this4.hasErrors()){_this4.setState({areErrorsVisible:true});return}var cluster=_this4.getAllFields();save(cluster)};this.getLocalSeedErrors=function(seedNode){var intl=_this4.props.intl;var errors=[];if(!seedNode){return errors}var isInvalid=!(0,_services.isSeedNodeValid)(seedNode);if(isInvalid){errors.push(intl.formatMessage({id:"xpack.remoteClusters.remoteClusterForm.localSeedError.invalidCharactersMessage",defaultMessage:"Seed node must use host:port format. Example: 127.0.0.1:9400, localhost:9400.\n            Hosts can only consist of letters, numbers, and dashes."}))}var isPortInvalid=!(0,_services.isSeedNodePortValid)(seedNode);if(isPortInvalid){errors.push(intl.formatMessage({id:"xpack.remoteClusters.remoteClusterForm.localSeedError.invalidPortMessage",defaultMessage:"A port is required."}))}return errors};this.onCreateSeed=function(newSeed){if(!newSeed){return}var localSeedErrors=_this4.getLocalSeedErrors(newSeed);if(localSeedErrors.length!==0){_this4.setState({localSeedErrors:localSeedErrors});return false}var seeds=_this4.state.fields.seeds;var newSeeds=seeds.slice(0);newSeeds.push(newSeed.toLowerCase());_this4.onFieldsChange({seeds:newSeeds})};this.onSeedsInputChange=function(seedInput){if(!seedInput){return}var intl=_this4.props.intl;_this4.setState(function(_ref2){var fields=_ref2.fields,localSeedErrors=_ref2.localSeedErrors;var seeds=fields.seeds;var errors=!seedInput||_this4.getLocalSeedErrors(seedInput).length===0?[]:localSeedErrors;var isDuplicate=seeds.includes(seedInput);if(isDuplicate){errors.push(intl.formatMessage({id:"xpack.remoteClusters.remoteClusterForm.localSeedError.duplicateMessage",defaultMessage:"Duplicate seed nodes aren't allowed."}))}return{localSeedErrors:errors,fieldsErrors:_this4.getFieldsErrors(fields,seedInput),seedInput:seedInput}})};this.onSeedsChange=function(seeds){_this4.onFieldsChange({seeds:seeds.map(function(_ref3){var label=_ref3.label;return label})})};this.onSkipUnavailableChange=function(e){var skipUnavailable=e.target.checked;_this4.onFieldsChange({skipUnavailable:skipUnavailable})};this.resetToDefault=function(fieldName){_this4.onFieldsChange(_defineProperty({},fieldName,defaultFields[fieldName]))};this.hasErrors=function(){var _state3=_this4.state,fieldsErrors=_state3.fieldsErrors,localSeedErrors=_state3.localSeedErrors;var errorValues=Object.values(fieldsErrors);var hasErrors=errorValues.some(function(error){return error!==undefined})||localSeedErrors.length;return hasErrors};this.renderErrors=function(){var areErrorsVisible=_this4.state.areErrorsVisible;var hasErrors=_this4.hasErrors();if(!areErrorsVisible||!hasErrors){return null}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.errorTitle",defaultMessage:"Fix errors before continuing."}),color:"danger",iconType:"cross"}))}},_temp))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _remote_cluster_page_title=__webpack_require__(4191);Object.defineProperty(exports,"RemoteClusterPageTitle",{enumerable:true,get:function get(){return _remote_cluster_page_title.RemoteClusterPageTitle}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RemoteClusterPageTitle=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _documentation_links=__webpack_require__(1308);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RemoteClusterPageTitle=exports.RemoteClusterPageTitle=function RemoteClusterPageTitle(_ref){var title=_ref.title;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react2.default.createElement(_eui.EuiPageContentHeader,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,title))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_documentation_links.remoteClustersUrl,target:"_blank",iconType:"help"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.readDocsButtonLabel",defaultMessage:"Remote cluster docs"}))))))};RemoteClusterPageTitle.propTypes={title:_propTypes2.default.node.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _configured_by_node_warning=__webpack_require__(4193);Object.defineProperty(exports,"ConfiguredByNodeWarning",{enumerable:true,get:function get(){return _configured_by_node_warning.ConfiguredByNodeWarning}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConfiguredByNodeWarning=ConfiguredByNodeWarning;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ConfiguredByNodeWarning(){return _react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.configuredByNodeWarningTitle",defaultMessage:"You can't edit or delete this remote cluster because it's defined in a node's elasticsearch.yml configuration file."}),color:"primary",iconType:"iInCircle"})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _remote_cluster_add=__webpack_require__(4195);Object.defineProperty(exports,"RemoteClusterAdd",{enumerable:true,get:function get(){return _remote_cluster_add.RemoteClusterAdd}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RemoteClusterAdd=undefined;var _reactRedux=__webpack_require__(14);var _remote_cluster_add=__webpack_require__(4196);var _selectors=__webpack_require__(429);var _actions=__webpack_require__(368);var mapStateToProps=function mapStateToProps(state){return{isAddingCluster:(0,_selectors.isAddingCluster)(state),addClusterError:(0,_selectors.getAddClusterError)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addCluster:function addCluster(cluster){dispatch((0,_actions.addCluster)(cluster))},clearAddClusterErrors:function clearAddClusterErrors(){dispatch((0,_actions.clearAddClusterErrors)())}}};var RemoteClusterAdd=exports.RemoteClusterAdd=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_remote_cluster_add.RemoteClusterAdd)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RemoteClusterAdd=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _class,_temp;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _management=__webpack_require__(24);var _eui=__webpack_require__(2);var _constants=__webpack_require__(250);var _services=__webpack_require__(202);var _components=__webpack_require__(786);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var RemoteClusterAdd=exports.RemoteClusterAdd=(0,_react3.injectI18n)((_temp=_class=function(_Component){_inherits(_class,_Component);function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));_this.save=function(clusterConfig){_this.props.addCluster(clusterConfig)};_this.cancel=function(){var history=_this.props.history;history.push(_constants.CRUD_APP_BASE_PATH)};_chrome2.default.breadcrumbs.set([_management.MANAGEMENT_BREADCRUMB,_services.listBreadcrumb,_services.addBreadcrumb]);return _this}_createClass(_class,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.clearAddClusterErrors()}},{key:"render",value:function render(){var _props=this.props,isAddingCluster=_props.isAddingCluster,addClusterError=_props.addClusterError;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center",className:"remoteClusterAddPage"},_react2.default.createElement(_components.RemoteClusterPageTitle,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.addTitle",defaultMessage:"Add remote cluster"})}),_react2.default.createElement(_components.RemoteClusterForm,{isSaving:isAddingCluster,saveError:addClusterError,save:this.save,cancel:this.cancel})))))}}]);return _class}(_react.Component),_class.propTypes={addCluster:_propTypes2.default.func,isAddingCluster:_propTypes2.default.bool,addClusterError:_propTypes2.default.object,clearAddClusterErrors:_propTypes2.default.func},_temp))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _remote_cluster_edit=__webpack_require__(4198);Object.defineProperty(exports,"RemoteClusterEdit",{enumerable:true,get:function get(){return _remote_cluster_edit.RemoteClusterEdit}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RemoteClusterEdit=undefined;var _reactRedux=__webpack_require__(14);var _remote_cluster_edit=__webpack_require__(4199);var _selectors=__webpack_require__(429);var _actions=__webpack_require__(368);var mapStateToProps=function mapStateToProps(state){return{isLoading:(0,_selectors.isLoading)(state),cluster:(0,_selectors.getEditedCluster)(state),isEditingCluster:(0,_selectors.isEditingCluster)(state),getEditClusterError:(0,_selectors.getEditClusterError)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{startEditingCluster:function startEditingCluster(clusterName){dispatch((0,_actions.startEditingCluster)({clusterName:clusterName}))},stopEditingCluster:function stopEditingCluster(){dispatch((0,_actions.stopEditingCluster)())},editCluster:function editCluster(cluster){dispatch((0,_actions.editCluster)(cluster))},clearEditClusterErrors:function clearEditClusterErrors(){dispatch((0,_actions.clearEditClusterErrors)())},openDetailPanel:function openDetailPanel(clusterName){dispatch((0,_actions.openDetailPanel)({name:clusterName}))}}};var RemoteClusterEdit=exports.RemoteClusterEdit=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_remote_cluster_edit.RemoteClusterEdit)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RemoteClusterEdit=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _class,_temp;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _management=__webpack_require__(24);var _eui=__webpack_require__(2);var _constants=__webpack_require__(250);var _services=__webpack_require__(202);var _components=__webpack_require__(786);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var disabledFields={name:true};var RemoteClusterEdit=exports.RemoteClusterEdit=(0,_react3.injectI18n)((_temp=_class=function(_Component){_inherits(_class,_Component);function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));_this.save=function(clusterConfig){_this.props.editCluster(clusterConfig)};_this.cancel=function(){var _this$props=_this.props,history=_this$props.history,openDetailPanel=_this$props.openDetailPanel;var clusterName=_this.state.clusterName;history.push(_constants.CRUD_APP_BASE_PATH);openDetailPanel(clusterName)};var name=props.match.params.name;_chrome2.default.breadcrumbs.set([_management.MANAGEMENT_BREADCRUMB,(0,_services.buildListBreadcrumb)("?cluster="+name),_services.editBreadcrumb]);_this.state={clusterName:name};return _this}_createClass(_class,[{key:"componentDidMount",value:function componentDidMount(){var startEditingCluster=this.props.startEditingCluster;var clusterName=this.state.clusterName;startEditingCluster(clusterName)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.clearEditClusterErrors();this.props.stopEditingCluster()}},{key:"renderContent",value:function renderContent(){var _props=this.props,isLoading=_props.isLoading,cluster=_props.cluster,isEditingCluster=_props.isEditingCluster,getEditClusterError=_props.getEditClusterError;if(isLoading){return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.edit.loadingLabel",defaultMessage:"Loading remote cluster..."})))))}if(!cluster){return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiIcon,{type:"alert",color:"danger"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.edit.notFoundLabel",defaultMessage:"Remote cluster not found"})))))}var isConfiguredByNode=cluster.isConfiguredByNode;if(isConfiguredByNode){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_components.ConfiguredByNodeWarning,null),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiButtonEmpty,{color:"primary",onClick:this.cancel},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.edit.backToRemoteClustersButtonLabel",defaultMessage:"Back to remote clusters"})))}return _react2.default.createElement(_components.RemoteClusterForm,{fields:cluster,disabledFields:disabledFields,isSaving:isEditingCluster,saveError:getEditClusterError,save:this.save,cancel:this.cancel})}},{key:"render",value:function render(){var clusterName=this.state.clusterName;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center",className:"remoteClusterAddPage"},_react2.default.createElement(_components.RemoteClusterPageTitle,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.remoteClusters.editTitle",defaultMessage:"Edit {name}",values:{name:clusterName}})}),this.renderContent()))))}}]);return _class}(_react.Component),_class.propTypes={isLoading:_propTypes2.default.bool,cluster:_propTypes2.default.object,startEditingCluster:_propTypes2.default.func,stopEditingCluster:_propTypes2.default.func,editCluster:_propTypes2.default.func,isEditingCluster:_propTypes2.default.bool,getEditClusterError:_propTypes2.default.string,clearEditClusterErrors:_propTypes2.default.func,openDetailPanel:_propTypes2.default.func},_temp))},function(module,exports){module.exports='<kbn-management-app section="elasticsearch/remote_clusters">\n  <div id="remoteClustersReactRoot"></div>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _store=__webpack_require__(4202);Object.defineProperty(exports,"remoteClustersStore",{enumerable:true,get:function get(){return _store.remoteClustersStore}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.remoteClustersStore=undefined;var _redux=__webpack_require__(28);var _reduxThunk=__webpack_require__(264);var _reduxThunk2=_interopRequireDefault(_reduxThunk);var _reducers=__webpack_require__(4203);var _middleware=__webpack_require__(4209);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function createRemoteClustersStore(){var initialState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var enhancers=[(0,_redux.applyMiddleware)(_reduxThunk2.default,_middleware.detailPanel)];return(0,_redux.createStore)(_reducers.remoteClusters,initialState,_redux.compose.apply(undefined,enhancers))}var remoteClustersStore=exports.remoteClustersStore=createRemoteClustersStore()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.remoteClusters=undefined;var _redux=__webpack_require__(28);var _clusters=__webpack_require__(4204);var _detail_panel=__webpack_require__(4205);var _add_cluster=__webpack_require__(4206);var _remove_cluster=__webpack_require__(4207);var _edit_cluster=__webpack_require__(4208);var remoteClusters=exports.remoteClusters=(0,_redux.combineReducers)({clusters:_clusters.clusters,detailPanel:_detail_panel.detailPanel,addCluster:_add_cluster.addCluster,removeCluster:_remove_cluster.removeCluster,editCluster:_edit_cluster.editCluster})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.clusters=clusters;var _action_types=__webpack_require__(214);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var initialState={isLoading:false,clusterLoadError:null,asList:[],byName:{},allNames:[]};function mapClustersToNames(clusters){var clustersByName={};clusters.forEach(function(cluster){clustersByName[cluster.name]=cluster});return clustersByName}function getClustersNames(clusters){return clusters.map(function(cluster){return cluster.name})}function clusters(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];var type=action.type,payload=action.payload;switch(type){case _action_types.LOAD_CLUSTERS_START:return _extends({},state,{isLoading:true});case _action_types.LOAD_CLUSTERS_SUCCESS:return{asList:[].concat(_toConsumableArray(payload.clusters)),byName:mapClustersToNames(payload.clusters),allNames:getClustersNames(payload.clusters),isLoading:false};case _action_types.REFRESH_CLUSTERS_SUCCESS:return{asList:[].concat(_toConsumableArray(payload.clusters)),byName:mapClustersToNames(payload.clusters),allNames:getClustersNames(payload.clusters)};case _action_types.LOAD_CLUSTERS_FAILURE:return _extends({},state,{isLoading:false,clusterLoadError:payload.error});default:return state}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.detailPanel=detailPanel;var _action_types=__webpack_require__(214);var initialState={isOpen:false,clusterName:undefined};function detailPanel(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];var type=action.type,payload=action.payload;switch(type){case _action_types.OPEN_DETAIL_PANEL:var clusterName=payload.clusterName;return{clusterName:clusterName,isOpen:true};case _action_types.CLOSE_DETAIL_PANEL:return{clusterName:undefined,isOpen:false};default:return state}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.addCluster=addCluster;var _action_types=__webpack_require__(214);var initialState={isAdding:false,error:undefined};function addCluster(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];var type=action.type,payload=action.payload;switch(type){case _action_types.ADD_CLUSTER_START:return{isAdding:true,error:undefined};case _action_types.ADD_CLUSTER_SUCCESS:return _extends({},state,{isAdding:false});case _action_types.ADD_CLUSTER_FAILURE:return _extends({},state,{error:payload.error,isAdding:false});case _action_types.CLEAR_ADD_CLUSTER_ERRORS:return _extends({},state,{error:undefined});default:return state}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.removeCluster=removeCluster;var _action_types=__webpack_require__(214);var initialState={isRemoving:false};function removeCluster(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];var type=action.type;switch(type){case _action_types.REMOVE_CLUSTERS_START:return{isRemoving:true};case _action_types.REMOVE_CLUSTERS_FINISH:return{isRemoving:false};default:return state}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.editCluster=editCluster;var _action_types=__webpack_require__(214);var initialState={clusterName:undefined,isEditing:false,error:undefined};function editCluster(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];var type=action.type,payload=action.payload;switch(type){case _action_types.EDIT_CLUSTER_START:var clusterName=payload.clusterName;return{clusterName:clusterName};case _action_types.EDIT_CLUSTER_STOP:return{clusterName:undefined,isEditing:false,error:undefined};case _action_types.EDIT_CLUSTER_SAVE:return _extends({},state,{isEditing:true});case _action_types.EDIT_CLUSTER_SUCCESS:return _extends({},state,{isEditing:false});case _action_types.EDIT_CLUSTER_FAILURE:return _extends({},state,{error:payload.error,isEditing:false});case _action_types.CLEAR_EDIT_CLUSTER_ERRORS:return _extends({},state,{error:undefined});default:return state}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _detail_panel=__webpack_require__(4210);Object.defineProperty(exports,"detailPanel",{enumerable:true,get:function get(){return _detail_panel.detailPanel}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.detailPanel=undefined;var _services=__webpack_require__(202);var _action_types=__webpack_require__(214);var detailPanel=exports.detailPanel=function detailPanel(){return function(next){return function(action){var type=action.type;switch(type){case _action_types.CLOSE_DETAIL_PANEL:if(!(0,_services.getUserHasLeftApp)()){var _getRouter=(0,_services.getRouter)(),history=_getRouter.history;history.replace({search:""})}break}return next(action)}}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4212)},function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(24);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _xpack_info=__webpack_require__(46);__webpack_require__(4213);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.defaults(/\/management/,{resolve:{reportingManagementSection:function reportingManagementSection(Private,i18n){var xpackInfo=Private(_xpack_info.XPackInfoProvider);var kibanaManagementSection=_management.management.getSection("kibana");var showReportingLinks=xpackInfo.get("features.reporting.management.showLinks");kibanaManagementSection.deregister("reporting");if(showReportingLinks){var enableReportingLinks=xpackInfo.get("features.reporting.management.enableLinks");var tooltipMessage=xpackInfo.get("features.reporting.management.message");var url=void 0;var tooltip=void 0;if(enableReportingLinks){url="#/management/kibana/reporting"}else{tooltip=tooltipMessage}return kibanaManagementSection.register("reporting",{order:15,display:i18n("xpack.reporting.management.reportingTitle",{defaultMessage:"Reporting"}),url:url,tooltip:tooltip})}}}})},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _xpack_info=__webpack_require__(46);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _jobs=__webpack_require__(4214);var _jobs2=_interopRequireDefault(_jobs);var _report_listing=__webpack_require__(4215);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REACT_ANCHOR_DOM_ELEMENT_ID="reportListingAnchor";_routes2.default.when("/management/kibana/reporting",{template:_jobs2.default,controllerAs:"jobsCtrl",controller:function controller($scope,kbnUrl,Private){var xpackInfo=Private(_xpack_info.XPackInfoProvider);$scope.$$postDigest(function(){var node=document.getElementById(REACT_ANCHOR_DOM_ELEMENT_ID);if(!node){return}(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_report_listing.ReportListing,{badLicenseMessage:xpackInfo.get("features.reporting.management.message"),showLinks:xpackInfo.get("features.reporting.management.showLinks"),enableLinks:xpackInfo.get("features.reporting.management.enableLinks"),redirect:kbnUrl.redirect})),node)});$scope.$on("$destroy",function(){var node=document.getElementById(REACT_ANCHOR_DOM_ELEMENT_ID);if(node){(0,_reactDom.unmountComponentAtNode)(node)}})}})},function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <div id="reportListingAnchor"></div>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var i18n_1=__webpack_require__(9);var react_1=__webpack_require__(3);var moment_1=tslib_1.__importDefault(__webpack_require__(13));var react_2=tslib_1.__importStar(__webpack_require__(0));var chrome_1=tslib_1.__importDefault(__webpack_require__(8));var notify_1=__webpack_require__(10);var poller_1=__webpack_require__(853);var job_statuses_1=__webpack_require__(852);var download_report_1=__webpack_require__(854);var job_queue_client_1=__webpack_require__(448);var report_error_button_1=__webpack_require__(4216);var report_info_button_1=__webpack_require__(4217);var eui_1=__webpack_require__(2);var jobStatusLabelsMap=new Map([[job_statuses_1.JobStatuses.PENDING,i18n_1.i18n.translate("xpack.reporting.jobStatuses.pendingText",{defaultMessage:"pending"})],[job_statuses_1.JobStatuses.PROCESSING,i18n_1.i18n.translate("xpack.reporting.jobStatuses.processingText",{defaultMessage:"processing"})],[job_statuses_1.JobStatuses.COMPLETED,i18n_1.i18n.translate("xpack.reporting.jobStatuses.completedText",{defaultMessage:"completed"})],[job_statuses_1.JobStatuses.FAILED,i18n_1.i18n.translate("xpack.reporting.jobStatuses.failedText",{defaultMessage:"failed"})],[job_statuses_1.JobStatuses.CANCELLED,i18n_1.i18n.translate("xpack.reporting.jobStatuses.cancelledText",{defaultMessage:"cancelled"})]]);var ReportListingUi=function(_react_2$Component){_inherits(ReportListingUi,_react_2$Component);function ReportListingUi(props){var _this2=this;_classCallCheck(this,ReportListingUi);var _this=_possibleConstructorReturn(this,(ReportListingUi.__proto__||Object.getPrototypeOf(ReportListingUi)).call(this,props));_this.renderDownloadButton=function(record){if(record.status!==job_statuses_1.JobStatuses.COMPLETED){return}var intl=_this.props.intl;var button=react_2.default.createElement(eui_1.EuiButtonIcon,{onClick:function onClick(){return download_report_1.downloadReport(record.id)},iconType:"importAction","aria-label":intl.formatMessage({id:"xpack.reporting.listing.table.downloadReportAriaLabel",defaultMessage:"Download report"})});if(record.max_size_reached){return react_2.default.createElement(eui_1.EuiToolTip,{position:"top",content:intl.formatMessage({id:"xpack.reporting.listing.table.maxSizeReachedTooltip",defaultMessage:"Max size reached, contains partial data."})},button)}return button};_this.renderReportErrorButton=function(record){if(record.status!==job_statuses_1.JobStatuses.FAILED){return}return react_2.default.createElement(report_error_button_1.ReportErrorButton,{jobId:record.id})};_this.renderInfoButton=function(record){return react_2.default.createElement(report_info_button_1.ReportInfoButton,{jobId:record.id})};_this.onTableChange=function(_ref){var page=_ref.page;var pageIndex=page.index;_this.setState({page:pageIndex},_this.fetchJobs)};_this.fetchJobs=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var jobs,total;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.isInitialJobsFetch){_this.setState({isLoading:true})}jobs=void 0;total=void 0;_context.prev=3;_context.next=6;return job_queue_client_1.jobQueueClient.list(_this.state.page);case 6:jobs=_context.sent;_context.next=9;return job_queue_client_1.jobQueueClient.total();case 9:total=_context.sent;_this.isInitialJobsFetch=false;_context.next=22;break;case 13:_context.prev=13;_context.t0=_context["catch"](3);if(_this.licenseAllowsToShowThisPage()){_context.next=19;break}notify_1.toastNotifications.addDanger(_this.props.badLicenseMessage);_this.props.redirect("/management");return _context.abrupt("return");case 19:if(_context.t0.res.status!==401&&_context.t0.res.status!==403){notify_1.toastNotifications.addDanger(_context.t0.res.statusText||_this.props.intl.formatMessage({id:"xpack.reporting.listing.table.requestFailedErrorMessage",defaultMessage:"Request failed"}))}if(_this.mounted){_this.setState({isLoading:false,jobs:[],total:0})}return _context.abrupt("return");case 22:if(_this.mounted){_this.setState({isLoading:false,total:total,jobs:jobs.map(function(job){return{id:job._id,type:job._source.jobtype,object_type:job._source.payload.type,object_title:job._source.payload.title,created_by:job._source.created_by,created_at:job._source.created_at,started_at:job._source.started_at,completed_at:job._source.completed_at,status:job._source.status,statusLabel:jobStatusLabelsMap.get(job._source.status)||job._source.status,max_size_reached:job._source.output?job._source.output.max_size_reached:false}})})}case 23:case"end":return _context.stop()}}},_callee,_this2,[[3,13]])}));_this.licenseAllowsToShowThisPage=function(){return _this.props.showLinks&&_this.props.enableLinks};_this.state={page:0,total:0,jobs:[],isLoading:false};_this.isInitialJobsFetch=true;return _this}_createClass(ReportListingUi,[{key:"render",value:function render(){return react_2.default.createElement(eui_1.EuiPage,null,react_2.default.createElement(eui_1.EuiPageBody,{restrictWidth:true},react_2.default.createElement(eui_1.EuiPageContent,{horizontalPosition:"center"},react_2.default.createElement(eui_1.EuiTitle,null,react_2.default.createElement("h1",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.reporting.listing.reportsTitle",defaultMessage:"Reports"}))),this.renderTable())))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=false;this.poller.stop()}},{key:"componentDidMount",value:function componentDidMount(){var _this3=this;this.mounted=true;var _chrome_1$default$get=chrome_1.default.getInjected("reportingPollConfig"),jobsRefresh=_chrome_1$default$get.jobsRefresh;this.poller=new poller_1.Poller({functionToPoll:function functionToPoll(){return _this3.fetchJobs()},pollFrequencyInMillis:jobsRefresh.interval,trailing:false,continuePollingOnError:true,pollFrequencyErrorMultiplier:jobsRefresh.intervalErrorMultiplier});this.poller.start()}},{key:"renderTable",value:function renderTable(){var _this4=this;var intl=this.props.intl;var tableColumns=[{field:"object_title",name:intl.formatMessage({id:"xpack.reporting.listing.tableColumns.reportTitle",defaultMessage:"Report"}),render:function render(objectTitle,record){return react_2.default.createElement("div",null,react_2.default.createElement("div",null,objectTitle),react_2.default.createElement(eui_1.EuiText,{size:"s"},react_2.default.createElement(eui_1.EuiTextColor,{color:"subdued"},record.object_type)))}},{field:"created_at",name:intl.formatMessage({id:"xpack.reporting.listing.tableColumns.createdAtTitle",defaultMessage:"Created at"}),render:function render(createdAt,record){if(record.created_by){return react_2.default.createElement("div",null,react_2.default.createElement("div",null,_this4.formatDate(createdAt)),react_2.default.createElement("span",null,record.created_by))}return _this4.formatDate(createdAt)}},{field:"status",name:intl.formatMessage({id:"xpack.reporting.listing.tableColumns.statusTitle",defaultMessage:"Status"}),render:function render(status,record){if(status==="pending"){return react_2.default.createElement("div",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.reporting.listing.tableValue.createdAtDetail.pendingStatusReachedText",defaultMessage:"pending - waiting for job to be processed"}))}var maxSizeReached=void 0;if(record.max_size_reached){maxSizeReached=react_2.default.createElement("span",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.reporting.listing.tableValue.createdAtDetail.maxSizeReachedText",defaultMessage:" - max size reached"}))}var statusTimestamp=void 0;if(status===job_statuses_1.JobStatuses.PROCESSING&&record.started_at){statusTimestamp=_this4.formatDate(record.started_at)}else if(record.completed_at&&(status===job_statuses_1.JobStatuses.COMPLETED||status===job_statuses_1.JobStatuses.FAILED)){statusTimestamp=_this4.formatDate(record.completed_at)}var statusLabel=jobStatusLabelsMap.get(status)||status;if(statusTimestamp){return react_2.default.createElement("div",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.reporting.listing.tableValue.createdAtDetail.statusTimestampText",defaultMessage:"{statusLabel} at {statusTimestamp}",values:{statusLabel:statusLabel,statusTimestamp:react_2.default.createElement("span",{className:"eui-textNoWrap"},statusTimestamp)}}),maxSizeReached)}return react_2.default.createElement("div",null,statusLabel,maxSizeReached)}},{name:intl.formatMessage({id:"xpack.reporting.listing.tableColumns.actionsTitle",defaultMessage:"Actions"}),actions:[{render:function render(record){return react_2.default.createElement("div",null,_this4.renderDownloadButton(record),_this4.renderReportErrorButton(record),_this4.renderInfoButton(record))}}]}];var pagination={pageIndex:this.state.page,pageSize:10,totalItemCount:this.state.total,hidePerPageOptions:true};return react_2.default.createElement(eui_1.EuiBasicTable,{itemId:"id",items:this.state.jobs,loading:this.state.isLoading,columns:tableColumns,noItemsMessage:this.state.isLoading?intl.formatMessage({id:"xpack.reporting.listing.table.loadingReportsDescription",defaultMessage:"Loading reports"}):intl.formatMessage({id:"xpack.reporting.listing.table.noCreatedReportsDescription",defaultMessage:"No reports have been created"}),pagination:pagination,onChange:this.onTableChange})}},{key:"formatDate",value:function formatDate(timestamp){try{return moment_1.default(timestamp).format("YYYY-MM-DD @ hh:mm A")}catch(error){return timestamp}}}]);return ReportListingUi}(react_2.Component);exports.ReportListing=react_1.injectI18n(ReportListingUi)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var job_queue_client_1=__webpack_require__(448);var ReportErrorButtonUi=function(_react_2$Component){_inherits(ReportErrorButtonUi,_react_2$Component);function ReportErrorButtonUi(props){var _this2=this;_classCallCheck(this,ReportErrorButtonUi);var _this=_possibleConstructorReturn(this,(ReportErrorButtonUi.__proto__||Object.getPrototypeOf(ReportErrorButtonUi)).call(this,props));_this.togglePopover=function(){_this.setState(function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}});if(!_this.state.error){_this.loadError()}};_this.closePopover=function(){_this.setState({isPopoverOpen:false})};_this.loadError=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var reportContent;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({isLoading:true});_context.prev=1;_context.next=4;return job_queue_client_1.jobQueueClient.getContent(_this.props.jobId);case 4:reportContent=_context.sent;if(_this.mounted){_this.setState({isLoading:false,error:reportContent.content})}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](1);if(_this.mounted){_this.setState({isLoading:false,calloutTitle:_this.props.intl.formatMessage({id:"xpack.reporting.errorButton.unableToFetchReportContentTitle",defaultMessage:"Unable to fetch report content"}),error:_context.t0.message})}case 11:case"end":return _context.stop()}}},_callee,_this2,[[1,8]])}));_this.state={isLoading:false,isPopoverOpen:false,calloutTitle:props.intl.formatMessage({id:"xpack.reporting.errorButton.unableToGenerateReportTitle",defaultMessage:"Unable to generate report"})};return _this}_createClass(ReportErrorButtonUi,[{key:"render",value:function render(){var button=react_2.default.createElement(eui_1.EuiButtonIcon,{onClick:this.togglePopover,iconType:"alert",color:"danger","aria-label":this.props.intl.formatMessage({id:"xpack.reporting.errorButton.showReportErrorAriaLabel",defaultMessage:"Show report error"})});return react_2.default.createElement(eui_1.EuiPopover,{id:"popover",button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,anchorPosition:"downRight"},react_2.default.createElement(eui_1.EuiCallOut,{color:"danger",title:this.state.calloutTitle},react_2.default.createElement("p",null,this.state.error)))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=false}},{key:"componentDidMount",value:function componentDidMount(){this.mounted=true}}]);return ReportErrorButtonUi}(react_2.Component);exports.ReportErrorButton=react_1.injectI18n(ReportErrorButtonUi)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importStar(__webpack_require__(0));var constants_1=__webpack_require__(570);var job_queue_client_1=__webpack_require__(448);var NA="n/a";var UNKNOWN="unknown";var getDimensions=function getDimensions(info){var defaultDimensions={width:null,height:null};var _lodash_1$get=lodash_1.get(info,"payload.layout.dimensions",defaultDimensions),width=_lodash_1$get.width,height=_lodash_1$get.height;if(width&&height){return react_1.default.createElement(react_1.Fragment,null,"Width: ",width," x Height: ",height)}return NA};var ReportInfoButton=function(_react_1$Component){_inherits(ReportInfoButton,_react_1$Component);function ReportInfoButton(props){var _this2=this;_classCallCheck(this,ReportInfoButton);var _this=_possibleConstructorReturn(this,(ReportInfoButton.__proto__||Object.getPrototypeOf(ReportInfoButton)).call(this,props));_this.loadInfo=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var info;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({isLoading:true});_context.prev=1;_context.next=4;return job_queue_client_1.jobQueueClient.getInfo(_this.props.jobId);case 4:info=_context.sent;if(_this.mounted){_this.setState({isLoading:false,info:info})}_context.next=13;break;case 8:_context.prev=8;_context.t0=_context["catch"](1);if(!_this.mounted){_context.next=13;break}_this.setState({isLoading:false,calloutTitle:"Unable to fetch report info",info:null,error:_context.t0});throw _context.t0;case 13:case"end":return _context.stop()}}},_callee,_this2,[[1,8]])}));_this.closeFlyout=function(){_this.setState({isFlyoutVisible:false,info:null})};_this.showFlyout=function(){_this.setState({isFlyoutVisible:true});if(!_this.state.info){_this.loadInfo()}};_this.state={isLoading:false,isFlyoutVisible:false,calloutTitle:"Job Info",info:null,error:null};_this.closeFlyout=_this.closeFlyout.bind(_this);_this.showFlyout=_this.showFlyout.bind(_this);return _this}_createClass(ReportInfoButton,[{key:"renderInfo",value:function renderInfo(){var _state=this.state,info=_state.info,err=_state.error;if(err){return err.message}if(!info){return null}var jobType=lodash_1.get(info,"jobtype",NA);var jobInfoParts={datetimes:[{title:"Created By",description:lodash_1.get(info,"created_by",NA)},{title:"Created At",description:lodash_1.get(info,"created_at",NA)},{title:"Started At",description:lodash_1.get(info,"started_at",NA)},{title:"Completed At",description:lodash_1.get(info,"completed_at",NA)},{title:"Browser Timezone",description:lodash_1.get(info,"payload.browserTimezone",NA)}],payload:[{title:"Title",description:lodash_1.get(info,"payload.title",NA)},{title:"Type",description:lodash_1.get(info,"payload.type",NA)},{title:"Layout",description:lodash_1.get(info,"meta.layout",NA)},{title:"Dimensions",description:getDimensions(info)},{title:"Job Type",description:jobType},{title:"Content Type",description:lodash_1.get(info,"output.content_type")||NA},{title:"Size in Bytes",description:lodash_1.get(info,"output.size")||NA}],status:[{title:"Attempts",description:lodash_1.get(info,"attempts",NA)},{title:"Max Attempts",description:lodash_1.get(info,"max_attempts",NA)},{title:"Priority",description:lodash_1.get(info,"priority",NA)},{title:"Timeout",description:lodash_1.get(info,"timeout",NA)},{title:"Status",description:lodash_1.get(info,"status",NA)},{title:"Browser Type",description:constants_1.USES_HEADLESS_JOB_TYPES.includes(jobType)?lodash_1.get(info,"browser_type",UNKNOWN):NA}]};return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiDescriptionList,{listItems:jobInfoParts.datetimes,type:"column",align:"center",compressed:true}),react_1.default.createElement(eui_1.EuiSpacer,{size:"s"}),react_1.default.createElement(eui_1.EuiDescriptionList,{listItems:jobInfoParts.payload,type:"column",align:"center",compressed:true}),react_1.default.createElement(eui_1.EuiSpacer,{size:"s"}),react_1.default.createElement(eui_1.EuiDescriptionList,{listItems:jobInfoParts.status,type:"column",align:"center",compressed:true}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=false}},{key:"componentDidMount",value:function componentDidMount(){this.mounted=true}},{key:"render",value:function render(){var flyout=void 0;if(this.state.isFlyoutVisible){flyout=react_1.default.createElement(eui_1.EuiPortal,null,react_1.default.createElement(eui_1.EuiFlyout,{ownFocus:true,onClose:this.closeFlyout,size:"s","aria-labelledby":"flyoutTitle","data-test-subj":"reportInfoFlyout"},react_1.default.createElement(eui_1.EuiFlyoutHeader,{hasBorder:true},react_1.default.createElement(eui_1.EuiTitle,{size:"s"},react_1.default.createElement("h2",{id:"flyoutTitle"},this.state.calloutTitle))),react_1.default.createElement(eui_1.EuiFlyoutBody,null,react_1.default.createElement(eui_1.EuiText,null,this.renderInfo()))))}return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiButtonIcon,{onClick:this.showFlyout,iconType:"iInCircle",color:"primary","data-test-subj":"reportInfoButton","aria-label":"Show report info"}),flyout)}}]);return ReportInfoButton}(react_1.Component);exports.ReportInfoButton=ReportInfoButton},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _feature_catalogue=__webpack_require__(39);var _reactDom=__webpack_require__(15);var _reactRedux=__webpack_require__(14);var _reactRouterDom=__webpack_require__(37);var _react3=__webpack_require__(3);var _management=__webpack_require__(24);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _constants=__webpack_require__(430);var _services=__webpack_require__(52);var _app=__webpack_require__(4233);var _main=__webpack_require__(4299);var _main2=_interopRequireDefault(_main);var _store=__webpack_require__(4300);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var esSection=_management.management.getSection("elasticsearch");esSection.register("rollup_jobs",{visible:true,display:"Rollup Jobs",order:2,url:"#"+_constants.CRUD_APP_BASE_PATH+"/job_list"});var renderReact=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(elem){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_reactRedux.Provider,{store:_store.rollupJobsStore},_react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_app.App,null)))),elem);case 1:case"end":return _context.stop()}}},_callee,undefined)}));return function renderReact(_x){return _ref.apply(this,arguments)}}();_routes2.default.when(_constants.CRUD_APP_BASE_PATH+"/:view?",{template:_main2.default,controllerAs:"rollupJobs",controller:function IndexRollupJobsController($scope,$route,$injector){_classCallCheck(this,IndexRollupJobsController);(0,_services.setHttp)($injector.get("$http"));(0,_services.setUserHasLeftApp)(false);$scope.$$postDigest(function(){var appElement=document.getElementById("rollupJobsReactRoot");renderReact(appElement);var appRoute=$route.current;var stopListeningForLocationChange=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;var isNavigationInApp=currentRoute.$$route.template===appRoute.$$route.template;if(isNavigationInApp){$route.current=appRoute}else{(0,_services.setUserHasLeftApp)(true)}});$scope.$on("$destroy",function(){stopListeningForLocationChange();(0,_reactDom.unmountComponentAtNode)(appElement)})})}});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"rollup_jobs",title:"Rollups",description:"Summarize and store historical data in a smaller index for future analysis.",icon:"indexRollupApp",path:"#"+_constants.CRUD_APP_BASE_PATH+"/job_list",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var CRUD_APP_BASE_PATH=exports.CRUD_APP_BASE_PATH="/management/elasticsearch/rollup_jobs"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateIndexPattern=exports.createJob=exports.deleteJobs=exports.stopJobs=exports.startJobs=exports.loadJobs=undefined;var loadJobs=exports.loadJobs=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _ref2,jobs;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_http_provider.getHttp)().get(apiPrefix+"/jobs");case 2:_ref2=_context.sent;jobs=_ref2.data.jobs;return _context.abrupt("return",jobs);case 5:case"end":return _context.stop()}}},_callee,this)}));return function loadJobs(){return _ref.apply(this,arguments)}}();var startJobs=exports.startJobs=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(jobIds){var body;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:body={jobIds:jobIds};_context2.next=3;return(0,_http_provider.getHttp)().post(apiPrefix+"/start",body);case 3:return _context2.abrupt("return",_context2.sent);case 4:case"end":return _context2.stop()}}},_callee2,this)}));return function startJobs(_x){return _ref3.apply(this,arguments)}}();var stopJobs=exports.stopJobs=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(jobIds){var body;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:body={jobIds:jobIds};_context3.next=3;return(0,_http_provider.getHttp)().post(apiPrefix+"/stop",body);case 3:return _context3.abrupt("return",_context3.sent);case 4:case"end":return _context3.stop()}}},_callee3,this)}));return function stopJobs(_x2){return _ref4.apply(this,arguments)}}();var deleteJobs=exports.deleteJobs=function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(jobIds){var body;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:body={jobIds:jobIds};_context4.next=3;return(0,_http_provider.getHttp)().post(apiPrefix+"/delete",body);case 3:return _context4.abrupt("return",_context4.sent);case 4:case"end":return _context4.stop()}}},_callee4,this)}));return function deleteJobs(_x3){return _ref5.apply(this,arguments)}}();var createJob=exports.createJob=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(job){var body;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:body={job:job};_context5.next=3;return(0,_http_provider.getHttp)().put(apiPrefix+"/create",body);case 3:return _context5.abrupt("return",_context5.sent);case 4:case"end":return _context5.stop()}}},_callee5,this)}));return function createJob(_x4){return _ref6.apply(this,arguments)}}();var validateIndexPattern=exports.validateIndexPattern=function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(indexPattern){return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return(0,_http_provider.getHttp)().get(apiPrefix+"/index_pattern_validity/"+indexPattern);case 2:return _context6.abrupt("return",_context6.sent);case 3:case"end":return _context6.stop()}}},_callee6,this)}));return function validateIndexPattern(_x5){return _ref7.apply(this,arguments)}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _http_provider=__webpack_require__(1309);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var apiPrefix=_chrome2.default.addBasePath("/api/rollup")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showApiWarning=showApiWarning;exports.showApiError=showApiError;var _notify=__webpack_require__(10);function createToastConfig(error,errorTitle){if(error&&error.data){var _error$data=error.data,errorString=_error$data.error,statusCode=_error$data.statusCode,message=_error$data.message;return{title:errorTitle,text:statusCode+": "+errorString+". "+message}}}function showApiWarning(error,errorTitle){var toastConfig=createToastConfig(error,errorTitle);if(toastConfig){return _notify.toastNotifications.addWarning(toastConfig)}return(0,_notify.fatalError)(error,errorTitle)}function showApiError(error,errorTitle){var toastConfig=createToastConfig(error,errorTitle);if(toastConfig){return _notify.toastNotifications.addDanger(toastConfig)}(0,_notify.fatalError)(error,errorTitle)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.cronExpressionToParts=cronExpressionToParts;exports.cronPartsToExpression=cronPartsToExpression;var MINUTE=exports.MINUTE="MINUTE";var HOUR=exports.HOUR="HOUR";var DAY=exports.DAY="DAY";var WEEK=exports.WEEK="WEEK";var MONTH=exports.MONTH="MONTH";var YEAR=exports.YEAR="YEAR";function cronExpressionToParts(expression){var parsedCron={second:undefined,minute:undefined,hour:undefined,day:undefined,date:undefined,month:undefined};var parts=expression.split(" ");if(parts.length>=1){parsedCron.second=parts[0]}if(parts.length>=2){parsedCron.minute=parts[1]}if(parts.length>=3){parsedCron.hour=parts[2]}if(parts.length>=4){parsedCron.date=parts[3]}if(parts.length>=5){parsedCron.month=parts[4]}if(parts.length>=6){parsedCron.day=parts[5]}return parsedCron}function cronPartsToExpression(_ref){var second=_ref.second,minute=_ref.minute,hour=_ref.hour,day=_ref.day,date=_ref.date,month=_ref.month;return second+" "+minute+" "+hour+" "+date+" "+month+" "+day}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.cronUrl=exports.dateHistogramAggregationUrl=exports.metricsDetailsUrl=exports.histogramDetailsUrl=exports.termsDetailsUrl=exports.dateHistogramDetailsUrl=exports.logisticalDetailsUrl=undefined;var _documentation_links=__webpack_require__(65);var esBase=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/elasticsearch/reference/"+_documentation_links.DOC_LINK_VERSION;var xPackBase=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/x-pack/"+_documentation_links.DOC_LINK_VERSION;var logisticalDetailsUrl=exports.logisticalDetailsUrl=esBase+"/rollup-job-config.html#_logistical_details";var dateHistogramDetailsUrl=exports.dateHistogramDetailsUrl=esBase+"/rollup-job-config.html#_date_histogram_2";var termsDetailsUrl=exports.termsDetailsUrl=esBase+"/rollup-job-config.html#_terms_2";var histogramDetailsUrl=exports.histogramDetailsUrl=esBase+"/rollup-job-config.html#_histogram_2";var metricsDetailsUrl=exports.metricsDetailsUrl=esBase+"/rollup-job-config.html#rollup-metrics-config";var dateHistogramAggregationUrl=exports.dateHistogramAggregationUrl=esBase+"/search-aggregations-bucket-datehistogram-aggregation.html";var cronUrl=exports.cronUrl=xPackBase+"/trigger-schedule.html#_cron_expressions"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var filterItems=exports.filterItems=function filterItems(fields){var filter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var items=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var normalizedFilter=filter.toLowerCase();return items.filter(function(item){var actualFields=fields||Object.keys(item);var indexOfMatch=actualFields.findIndex(function(field){var normalizedField=String(item[field]).toLowerCase();return normalizedField.includes(normalizedFilter)});return indexOfMatch!==-1})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var flattenPanelTree=exports.flattenPanelTree=function flattenPanelTree(tree){var array=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];array.push(tree);if(tree.items){tree.items.forEach(function(item){if(item.panel){flattenPanelTree(item.panel,array);item.panel=item.panel.id}})}return array}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatFields=formatFields;function formatFields(fieldNames,type){return fieldNames.map(function(fieldName){return{name:fieldName,type:type}})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getOrdinalValue=getOrdinalValue;exports.getDayName=getDayName;exports.getMonthName=getMonthName;var _i18n=__webpack_require__(9);var dayOrdinalToDayNameMap={0:_i18n.i18n.translate("xpack.rollupJobs.util.day.sunday",{defaultMessage:"Sunday"}),1:_i18n.i18n.translate("xpack.rollupJobs.util.day.monday",{defaultMessage:"Monday"}),2:_i18n.i18n.translate("xpack.rollupJobs.util.day.tuesday",{defaultMessage:"Tuesday"}),3:_i18n.i18n.translate("xpack.rollupJobs.util.day.wednesday",{defaultMessage:"Wednesday"}),4:_i18n.i18n.translate("xpack.rollupJobs.util.day.thursday",{defaultMessage:"Thursday"}),5:_i18n.i18n.translate("xpack.rollupJobs.util.day.friday",{defaultMessage:"Friday"}),6:_i18n.i18n.translate("xpack.rollupJobs.util.day.saturday",{defaultMessage:"Saturday"})};var monthOrdinalToMonthNameMap={0:_i18n.i18n.translate("xpack.rollupJobs.util.month.january",{defaultMessage:"January"}),1:_i18n.i18n.translate("xpack.rollupJobs.util.month.february",{defaultMessage:"February"}),2:_i18n.i18n.translate("xpack.rollupJobs.util.month.march",{defaultMessage:"April"}),3:_i18n.i18n.translate("xpack.rollupJobs.util.month.april",{defaultMessage:"March"}),4:_i18n.i18n.translate("xpack.rollupJobs.util.month.may",{defaultMessage:"May"}),5:_i18n.i18n.translate("xpack.rollupJobs.util.month.june",{defaultMessage:"June"}),6:_i18n.i18n.translate("xpack.rollupJobs.util.month.july",{defaultMessage:"July"}),7:_i18n.i18n.translate("xpack.rollupJobs.util.month.august",{defaultMessage:"August"}),8:_i18n.i18n.translate("xpack.rollupJobs.util.month.september",{defaultMessage:"September"}),9:_i18n.i18n.translate("xpack.rollupJobs.util.month.october",{defaultMessage:"October"}),10:_i18n.i18n.translate("xpack.rollupJobs.util.month.november",{defaultMessage:"November"}),11:_i18n.i18n.translate("xpack.rollupJobs.util.month.december",{defaultMessage:"December"})};function getOrdinalValue(number){var num=number&&number.toString();var lastDigit=num&&num.substr(-1);var ordinal=void 0;if(!lastDigit){return number}lastDigit=parseFloat(lastDigit);switch(lastDigit){case 1:ordinal="st";break;case 2:ordinal="nd";break;case 3:ordinal="rd";break;default:ordinal="th"}return""+num+ordinal}function getDayName(dayOrdinal){return dayOrdinalToDayNameMap[dayOrdinal]}function getMonthName(monthOrdinal){return monthOrdinalToMonthNameMap[monthOrdinal]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.serializeJob=serializeJob;exports.deserializeJob=deserializeJob;exports.deserializeJobs=deserializeJobs;function removeEmptyValues(object){Object.keys(object).forEach(function(key){if(object[key]==null||object[key].trim()===""){delete object[key]}});return object}function serializeJob(jobConfig){var id=jobConfig.id,indexPattern=jobConfig.indexPattern,rollupIndex=jobConfig.rollupIndex,rollupCron=jobConfig.rollupCron,dateHistogramInterval=jobConfig.dateHistogramInterval,rollupDelay=jobConfig.rollupDelay,rollupPageSize=jobConfig.rollupPageSize,dateHistogramTimeZone=jobConfig.dateHistogramTimeZone,dateHistogramField=jobConfig.dateHistogramField,metrics=jobConfig.metrics,terms=jobConfig.terms,histogram=jobConfig.histogram,histogramInterval=jobConfig.histogramInterval;var serializedJob={id:id,index_pattern:indexPattern,rollup_index:rollupIndex,cron:rollupCron,page_size:rollupPageSize,groups:{date_histogram:removeEmptyValues({interval:dateHistogramInterval,delay:rollupDelay,time_zone:dateHistogramTimeZone,field:dateHistogramField})}};if(terms.length){serializedJob.groups.terms={fields:terms.map(function(_ref){var name=_ref.name;return name})}}if(histogram.length){serializedJob.groups.histogram={interval:histogramInterval,fields:histogram.map(function(_ref2){var name=_ref2.name;return name})}}if(metrics.length){serializedJob.metrics=[];metrics.forEach(function(_ref3){var name=_ref3.name,types=_ref3.types;if(types.length){serializedJob.metrics.push({field:name,metrics:types})}})}return serializedJob}function deserializeJob(job){var _job$config=job.config,id=_job$config.id,indexPattern=_job$config.index_pattern,rollupIndex=_job$config.rollup_index,rollupCron=_job$config.cron,metrics=_job$config.metrics,_job$config$groups=_job$config.groups,_job$config$groups$da=_job$config$groups.date_histogram,dateHistogramInterval=_job$config$groups$da.interval,rollupDelay=_job$config$groups$da.delay,dateHistogramTimeZone=_job$config$groups$da.time_zone,dateHistogramField=_job$config$groups$da.field,terms=_job$config$groups.terms,histogram=_job$config$groups.histogram,status=job.status.job_state,_job$stats=job.stats,documentsProcessed=_job$stats.documents_processed,pagesProcessed=_job$stats.pages_processed,rollupsIndexed=_job$stats.rollups_indexed,triggerCount=_job$stats.trigger_count;var json=job;var deserializedJob={id:id,indexPattern:indexPattern,rollupIndex:rollupIndex,rollupCron:rollupCron,dateHistogramInterval:dateHistogramInterval,rollupDelay:rollupDelay,dateHistogramTimeZone:dateHistogramTimeZone,dateHistogramField:dateHistogramField,status:status,metrics:[],terms:[],histogram:[],documentsProcessed:documentsProcessed,pagesProcessed:pagesProcessed,rollupsIndexed:rollupsIndexed,triggerCount:triggerCount,json:json};if(metrics){metrics.forEach(function(_ref4){var field=_ref4.field,metrics=_ref4.metrics;deserializedJob.metrics.push({name:field,types:metrics})})}if(terms){deserializedJob.terms=terms.fields.map(function(name){return{name:name}})}if(histogram){deserializedJob.histogram=histogram.fields.map(function(name){return{name:name}});deserializedJob.histogramInterval=histogram.interval}return deserializedJob}function deserializeJobs(jobs){return jobs.map(deserializeJob)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createNoticeableDelay=createNoticeableDelay;function createNoticeableDelay(promise){var noticeableDelay=new Promise(function(resolve){return setTimeout(function(){resolve()},300)});return Promise.all([promise,noticeableDelay])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();exports.extractQueryParams=extractQueryParams;function extractQueryParams(queryString){if(!queryString||queryString.trim().length===0){return{}}var extractedQueryParams={};var queryParamPairs=queryString.split("?")[1].split("&").map(function(paramString){return paramString.split("=")});queryParamPairs.forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];extractedQueryParams[key]=decodeURIComponent(value)});return extractedQueryParams}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setUserHasLeftApp=setUserHasLeftApp;exports.getUserHasLeftApp=getUserHasLeftApp;exports.registerRouter=registerRouter;exports.getRouter=getRouter;exports.getRouterLinkProps=getRouterLinkProps;var _history=__webpack_require__(421);var _userHasLeftApp=false;function setUserHasLeftApp(userHasLeftApp){_userHasLeftApp=userHasLeftApp}function getUserHasLeftApp(){return _userHasLeftApp}var isModifiedEvent=function isModifiedEvent(event){return!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey)};var isLeftClickEvent=function isLeftClickEvent(event){return event.button===0};var router=void 0;function registerRouter(reactRouter){router=reactRouter}function getRouter(){return router}function getRouterLinkProps(to){var location=typeof to==="string"?(0,_history.createLocation)(to,null,null,router.history.location):to;var href=router.history.createHref(location);var onClick=function onClick(event){if(event.defaultPrevented){return}if(event.target.getAttribute("target")){return}if(isModifiedEvent(event)||!isLeftClickEvent(event)){return}event.preventDefault();router.history.push(location)};return{href:href,onClick:onClick}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sortTable=undefined;var _lodash=__webpack_require__(1);var stringSort=function stringSort(fieldName){return function(item){return item[fieldName]}};var sorters={};var sortTable=exports.sortTable=function sortTable(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var sortField=arguments[1];var isSortAscending=arguments[2];var sorter=sorters[sortField]||stringSort(sortField);var sorted=(0,_lodash.sortBy)(array,sorter);return isSortAscending?sorted:sorted.reverse()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.App=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _reactRouterDom=__webpack_require__(37);var _constants=__webpack_require__(430);var _services=__webpack_require__(52);var _sections=__webpack_require__(4234);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var App=exports.App=function(_Component){_inherits(App,_Component);function App(){var _ref;_classCallCheck(this,App);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var _this=_possibleConstructorReturn(this,(_ref=App.__proto__||Object.getPrototypeOf(App)).call.apply(_ref,[this].concat(args)));_this.registerRouter();return _this}_createClass(App,[{key:"registerRouter",value:function registerRouter(){var router=this.context.router;(0,_services.registerRouter)(router)}},{key:"componentWillUnmount",value:function componentWillUnmount(){(0,_services.setUserHasLeftApp)(true)}},{key:"render",value:function render(){return _react2.default.createElement("div",null,_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Redirect,{exact:true,from:""+_constants.CRUD_APP_BASE_PATH,to:_constants.CRUD_APP_BASE_PATH+"/job_list"}),_react2.default.createElement(_reactRouterDom.Route,{exact:true,path:_constants.CRUD_APP_BASE_PATH+"/job_list",component:_sections.JobList}),_react2.default.createElement(_reactRouterDom.Route,{exact:true,path:_constants.CRUD_APP_BASE_PATH+"/create",component:_sections.JobCreate})))}}]);return App}(_react.Component);App.contextTypes={router:_propTypes2.default.shape({history:_propTypes2.default.shape({push:_propTypes2.default.func.isRequired,createHref:_propTypes2.default.func.isRequired}).isRequired}).isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _job_list=__webpack_require__(4235);Object.defineProperty(exports,"JobList",{enumerable:true,get:function get(){return _job_list.JobList}});var _job_create=__webpack_require__(4264);Object.defineProperty(exports,"JobCreate",{enumerable:true,get:function get(){return _job_create.JobCreate}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _job_list=__webpack_require__(4236);Object.defineProperty(exports,"JobList",{enumerable:true,get:function get(){return _job_list.JobList}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobList=undefined;var _reactRedux=__webpack_require__(14);var _selectors=__webpack_require__(369);var _actions=__webpack_require__(431);var _job_list=__webpack_require__(4242);var mapStateToProps=function mapStateToProps(state){return{jobs:(0,_selectors.getPageOfJobs)(state),isLoading:(0,_selectors.isLoading)(state),jobLoadError:(0,_selectors.jobLoadError)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{loadJobs:function loadJobs(){dispatch((0,_actions.loadJobs)())},refreshJobs:function refreshJobs(){dispatch((0,_actions.refreshJobs)())},openDetailPanel:function openDetailPanel(jobId){dispatch((0,_actions.openDetailPanel)({jobId:jobId}))},closeDetailPanel:function closeDetailPanel(){dispatch((0,_actions.closeDetailPanel)())}}};var JobList=exports.JobList=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_job_list.JobList)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.stopJobs=exports.startJobs=undefined;var _i18n=__webpack_require__(9);var _services=__webpack_require__(52);var _action_types=__webpack_require__(203);var _refresh_jobs=__webpack_require__(787);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var startJobs=exports.startJobs=function startJobs(jobIds){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:_action_types.UPDATE_JOB_START});_context.prev=1;_context.next=4;return(0,_services.createNoticeableDelay)((0,_services.startJobs)(jobIds));case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);dispatch({type:_action_types.UPDATE_JOB_FAILURE});return _context.abrupt("return",(0,_services.showApiError)(_context.t0,_i18n.i18n.translate("xpack.rollupJobs.startJobsAction.errorTitle",{defaultMessage:"Error starting rollup jobs"})));case 10:dispatch({type:_action_types.UPDATE_JOB_SUCCESS});dispatch((0,_refresh_jobs.refreshJobs)());case 12:case"end":return _context.stop()}}},_callee,undefined,[[1,6]])}));return function(_x){return _ref.apply(this,arguments)}}()};var stopJobs=exports.stopJobs=function stopJobs(jobIds){return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(dispatch){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:_action_types.UPDATE_JOB_START});_context2.prev=1;_context2.next=4;return(0,_services.createNoticeableDelay)((0,_services.stopJobs)(jobIds));case 4:_context2.next=10;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](1);dispatch({type:_action_types.UPDATE_JOB_FAILURE});return _context2.abrupt("return",(0,_services.showApiError)(_context2.t0,_i18n.i18n.translate("xpack.rollupJobs.stopJobsAction.errorTitle",{defaultMessage:"Error stopping rollup jobs"})));case 10:dispatch({type:_action_types.UPDATE_JOB_SUCCESS});dispatch((0,_refresh_jobs.refreshJobs)());case 12:case"end":return _context2.stop()}}},_callee2,undefined,[[1,6]])}));return function(_x2){return _ref2.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.clearCreateJobErrors=exports.createJob=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _i18n=__webpack_require__(9);var _notify=__webpack_require__(10);var _constants=__webpack_require__(430);var _services=__webpack_require__(52);var _action_types=__webpack_require__(203);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var createJob=exports.createJob=function createJob(jobConfig){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var newJob,_ref2,_ref3,statusCode,data;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:_action_types.CREATE_JOB_START});newJob=void 0;_context.prev=2;_context.next=5;return Promise.all([(0,_services.createJob)((0,_services.serializeJob)(jobConfig)),new Promise(function(resolve){return setTimeout(resolve,500)})]);case 5:_ref2=_context.sent;_ref3=_slicedToArray(_ref2,1);newJob=_ref3[0];_context.next=19;break;case 10:_context.prev=10;_context.t0=_context["catch"](2);if(!_context.t0){_context.next=18;break}statusCode=_context.t0.statusCode,data=_context.t0.data;if(!data){_context.next=18;break}if(!((statusCode||data&&data.statusCode)===409)){_context.next=17;break}return _context.abrupt("return",dispatch({type:_action_types.CREATE_JOB_FAILURE,payload:{error:{message:_i18n.i18n.translate("xpack.rollupJobs.createAction.jobIdAlreadyExistsErrorMessage",{defaultMessage:"A job with ID '{jobConfigId}' already exists.",values:{jobConfigId:jobConfig.id}})}}}));case 17:return _context.abrupt("return",dispatch({type:_action_types.CREATE_JOB_FAILURE,payload:{error:{message:_i18n.i18n.translate("xpack.rollupJobs.createAction.failedDefaultErrorMessage",{defaultMessage:"Request failed with a {statusCode} error. {message}",values:{statusCode:statusCode,message:data.message}}),cause:data.cause}}}));case 18:return _context.abrupt("return",(0,_notify.fatalError)(_context.t0,_i18n.i18n.translate("xpack.rollupJobs.createAction.errorTitle",{defaultMessage:"Error creating rollup job"})));case 19:dispatch({type:_action_types.CREATE_JOB_SUCCESS,payload:{job:(0,_services.deserializeJob)(newJob.data)}});(0,_services.getRouter)().history.push({pathname:_constants.CRUD_APP_BASE_PATH+"/job_list",search:"?job="+jobConfig.id});case 21:case"end":return _context.stop()}}},_callee,undefined,[[2,10]])}));return function(_x){return _ref.apply(this,arguments)}}()};var clearCreateJobErrors=exports.clearCreateJobErrors=function clearCreateJobErrors(){return function(dispatch){dispatch({type:_action_types.CLEAR_CREATE_JOB_ERRORS})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.deleteJobs=undefined;var _i18n=__webpack_require__(9);var _notify=__webpack_require__(10);var _services=__webpack_require__(52);var _selectors=__webpack_require__(369);var _action_types=__webpack_require__(203);var _refresh_jobs=__webpack_require__(787);var _detail_panel=__webpack_require__(1310);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var deleteJobs=exports.deleteJobs=function deleteJobs(jobIds){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch,getState){var detailPanelJob;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:_action_types.UPDATE_JOB_START});_context.prev=1;_context.next=4;return(0,_services.createNoticeableDelay)((0,_services.deleteJobs)(jobIds));case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);dispatch({type:_action_types.UPDATE_JOB_FAILURE});return _context.abrupt("return",(0,_services.showApiError)(_context.t0,_i18n.i18n.translate("xpack.rollupJobs.deleteAction.errorTitle",{defaultMessage:"Error deleting rollup jobs"})));case 10:if(jobIds.length===1){_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.rollupJobs.deleteAction.successSingleNotificationTitle",{defaultMessage:"Rollup job '{jobId}' was deleted",values:{jobId:jobIds[0]}}))}else{_notify.toastNotifications.addSuccess(_i18n.i18n.translate("xpack.rollupJobs.deleteAction.successMultipleNotificationTitle",{defaultMessage:"{count} rollup jobs were deleted",values:{count:jobIds.length}}))}detailPanelJob=(0,_selectors.getDetailPanelJob)(getState());if(detailPanelJob&&jobIds.includes(detailPanelJob.id)){dispatch((0,_detail_panel.closeDetailPanel)())}dispatch({type:_action_types.UPDATE_JOB_SUCCESS});dispatch((0,_refresh_jobs.refreshJobs)());case 15:case"end":return _context.stop()}}},_callee,undefined,[[1,6]])}));return function(_x,_x2){return _ref.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadJobs=undefined;var _i18n=__webpack_require__(9);var _services=__webpack_require__(52);var _action_types=__webpack_require__(203);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var loadJobs=exports.loadJobs=function loadJobs(){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var jobs;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:_action_types.LOAD_JOBS_START});jobs=void 0;_context.prev=2;_context.next=5;return(0,_services.loadJobs)();case 5:jobs=_context.sent;_context.next=12;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);dispatch({type:_action_types.LOAD_JOBS_FAILURE,payload:{error:_context.t0}});return _context.abrupt("return",(0,_services.showApiError)(_context.t0,_i18n.i18n.translate("xpack.rollupJobs.loadAction.errorTitle",{defaultMessage:"Error loading rollup jobs"})));case 12:dispatch({type:_action_types.LOAD_JOBS_SUCCESS,payload:{jobs:(0,_services.deserializeJobs)(jobs)}});case 13:case"end":return _context.stop()}}},_callee,undefined,[[2,8]])}));return function(_x){return _ref.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sortChanged=exports.pageSizeChanged=exports.pageChanged=exports.filterChanged=undefined;var _action_types=__webpack_require__(203);var filterChanged=exports.filterChanged=function filterChanged(_ref){var filter=_ref.filter;return function(dispatch){dispatch({type:_action_types.FILTER_CHANGED,payload:{filter:filter}})}};var pageChanged=exports.pageChanged=function pageChanged(_ref2){var pageNumber=_ref2.pageNumber;return function(dispatch){dispatch({type:_action_types.PAGE_CHANGED,payload:{pageNumber:pageNumber}})}};var pageSizeChanged=exports.pageSizeChanged=function pageSizeChanged(_ref3){var pageSize=_ref3.pageSize;return function(dispatch){dispatch({type:_action_types.PAGE_SIZE_CHANGED,payload:{pageSize:pageSize}})}};var sortChanged=exports.sortChanged=function sortChanged(_ref4){var sortField=_ref4.sortField,isSortAscending=_ref4.isSortAscending;return function(dispatch){dispatch({type:_action_types.SORT_CHANGED,payload:{sortField:sortField,isSortAscending:isSortAscending}})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobList=exports.JobListUi=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _constants=__webpack_require__(430);var _services=__webpack_require__(52);var _job_table=__webpack_require__(4243);var _detail_panel=__webpack_require__(4261);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var REFRESH_RATE_MS=3e4;var JobListUi=exports.JobListUi=function(_Component){_inherits(JobListUi,_Component);_createClass(JobListUi,null,[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props){var openDetailPanel=props.openDetailPanel,search=props.history.location.search;var _extractQueryParams=(0,_services.extractQueryParams)(search),jobId=_extractQueryParams.job;if(jobId!=null){openDetailPanel(jobId)}return null}}]);function JobListUi(props){_classCallCheck(this,JobListUi);var _this=_possibleConstructorReturn(this,(JobListUi.__proto__||Object.getPrototypeOf(JobListUi)).call(this,props));_this.state={};props.loadJobs();return _this}_createClass(JobListUi,[{key:"componentDidMount",value:function componentDidMount(){this.interval=setInterval(this.props.refreshJobs,REFRESH_RATE_MS)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.interval);this.props.closeDetailPanel()}},{key:"getHeaderSection",value:function getHeaderSection(){return _react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobListTitle",defaultMessage:"Rollup jobs"}))))}},{key:"renderNoPermission",value:function renderNoPermission(){var intl=this.props.intl;var title=intl.formatMessage({id:"xpack.rollupJobs.jobList.noPermissionTitle",defaultMessage:"Permission error"});return _react2.default.createElement(_react.Fragment,null,this.getHeaderSection(),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCallOut,{title:title,color:"warning",iconType:"help"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobList.noPermissionText",defaultMessage:"You do not have permission to view or add rollup jobs."})))}},{key:"renderError",value:function renderError(error){var _error$data=error.data,statusCode=_error$data.statusCode,errorString=_error$data.error;var intl=this.props.intl;var title=intl.formatMessage({id:"xpack.rollupJobs.jobList.loadingErrorTitle",defaultMessage:"Error loading rollup jobs"});return _react2.default.createElement(_react.Fragment,null,this.getHeaderSection(),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCallOut,{title:title,color:"danger",iconType:"alert"},statusCode," ",errorString))}},{key:"renderEmpty",value:function renderEmpty(){return _react2.default.createElement(_eui.EuiEmptyPrompt,{iconType:"indexRollupApp",title:_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobList.emptyPromptTitle",defaultMessage:"Create your first rollup job"})),body:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobList.emptyPromptDescription",defaultMessage:"Rollup jobs summarize and store historical data in a smaller index for future analysis."}))),actions:_react2.default.createElement(_eui.EuiButton,_extends({},(0,_services.getRouterLinkProps)(_constants.CRUD_APP_BASE_PATH+"/create"),{fill:true,iconType:"plusInCircle"}),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobList.emptyPrompt.createButtonLabel",defaultMessage:"Create rollup job"}))})}},{key:"renderList",value:function renderList(){var isLoading=this.props.isLoading;var table=void 0;if(isLoading){table=_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobList.loadingTitle",defaultMessage:"Loading rollup jobs..."})))))}else{table=_react2.default.createElement(_job_table.JobTable,null)}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiPageContentHeader,null,this.getHeaderSection(),_react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiButton,_extends({fill:true},(0,_services.getRouterLinkProps)(_constants.CRUD_APP_BASE_PATH+"/create")),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobList.createButtonLabel",defaultMessage:"Create rollup job"})))),table,_react2.default.createElement(_detail_panel.DetailPanel,null))}},{key:"render",value:function render(){var _props=this.props,isLoading=_props.isLoading,jobs=_props.jobs,jobLoadError=_props.jobLoadError;var content=void 0;if(jobLoadError){if(jobLoadError.status===403){content=this.renderNoPermission()}else{content=this.renderError(jobLoadError)}}else if(!isLoading&&!jobs.length){content=this.renderEmpty()}else{content=this.renderList()}return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,content)))}}]);return JobListUi}(_react.Component);JobListUi.propTypes={loadJobs:_propTypes2.default.func,refreshJobs:_propTypes2.default.func,openDetailPanel:_propTypes2.default.func,jobs:_propTypes2.default.array,isLoading:_propTypes2.default.bool};var JobList=exports.JobList=(0,_react3.injectI18n)(JobListUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _job_table=__webpack_require__(4244);Object.defineProperty(exports,"JobTable",{enumerable:true,get:function get(){return _job_table.JobTable}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobTable=undefined;var _reactRedux=__webpack_require__(14);var _selectors=__webpack_require__(369);var _actions=__webpack_require__(431);var _job_table=__webpack_require__(4245);var mapStateToProps=function mapStateToProps(state){return{jobs:(0,_selectors.getPageOfJobs)(state),pager:(0,_selectors.getPager)(state),filter:(0,_selectors.getFilter)(state),sortField:(0,_selectors.getSortField)(state),isSortAscending:(0,_selectors.isSortAscending)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{closeDetailPanel:function closeDetailPanel(){dispatch((0,_actions.closeDetailPanel)())},filterChanged:function filterChanged(filter){dispatch((0,_actions.filterChanged)({filter:filter}))},pageChanged:function pageChanged(pageNumber){dispatch((0,_actions.pageChanged)({pageNumber:pageNumber}))},pageSizeChanged:function pageSizeChanged(pageSize){dispatch((0,_actions.pageSizeChanged)({pageSize:pageSize}))},sortChanged:function sortChanged(sortField,isSortAscending){dispatch((0,_actions.sortChanged)({sortField:sortField,isSortAscending:isSortAscending}))},openDetailPanel:function openDetailPanel(jobId){dispatch((0,_actions.openDetailPanel)({jobId:jobId}))}}};var JobTable=exports.JobTable=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_job_table.JobTable)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobTable=exports.JobTableUi=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _components=__webpack_require__(370);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var COLUMNS=[{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.nameHeader",{defaultMessage:"ID"}),fieldName:"id"},{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.statusHeader",{defaultMessage:"Status"}),fieldName:"status",render:function render(_ref){var status=_ref.status,rollupCron=_ref.rollupCron;return _react2.default.createElement(_eui.EuiToolTip,{placement:"top",content:"Cron: "+rollupCron},_react2.default.createElement(_components.JobStatus,{status:status}))}},{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.indexPatternHeader",{defaultMessage:"Index pattern"}),truncateText:true,fieldName:"indexPattern"},{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.rollupIndexHeader",{defaultMessage:"Rollup index"}),truncateText:true,fieldName:"rollupIndex"},{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.delayHeader",{defaultMessage:"Delay"}),fieldName:"rollupDelay",render:function render(_ref2){var rollupDelay=_ref2.rollupDelay;return rollupDelay||"None"}},{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.intervalHeader",{defaultMessage:"Interval"}),fieldName:"dateHistogramInterval"},{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.groupsHeader",{defaultMessage:"Groups"}),truncateText:true,render:function render(job){var histogram=job.histogram,terms=job.terms;var humanizedGroupNames=[];if(histogram.length){humanizedGroupNames.push("histogram")}if(terms.length){humanizedGroupNames.push("terms")}if(humanizedGroupNames.length){humanizedGroupNames[0]=humanizedGroupNames[0].replace(/^\w/,function(char){return char.toUpperCase()});return humanizedGroupNames.join(", ")}return""}},{name:_i18n.i18n.translate("xpack.rollupJobs.jobTable.headers.metricsHeader",{defaultMessage:"Metrics"}),truncateText:true,render:function render(job){var metrics=job.metrics;if(metrics.length){return metrics.map(function(metric){return metric.name}).join(", ")}return""}}];var JobTableUi=exports.JobTableUi=function(_Component){_inherits(JobTableUi,_Component);_createClass(JobTableUi,null,[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props,state){var idToSelectedJobMap=state.idToSelectedJobMap;var jobIds=props.jobs.map(function(job){return job.id});var selectedJobIds=Object.keys(idToSelectedJobMap);var missingJobIds=selectedJobIds.filter(function(selectedJobId){return!jobIds.includes(selectedJobId)});if(missingJobIds.length){var newMap=_extends({},idToSelectedJobMap);missingJobIds.forEach(function(missingJobId){return delete newMap[missingJobId]});return{idToSelectedJobMap:newMap}}return null}}]);function JobTableUi(props){_classCallCheck(this,JobTableUi);var _this=_possibleConstructorReturn(this,(JobTableUi.__proto__||Object.getPrototypeOf(JobTableUi)).call(this,props));_this.toggleAll=function(){var allSelected=_this.areAllItemsSelected();if(allSelected){return _this.setState({idToSelectedJobMap:{}})}var jobs=_this.props.jobs;var idToSelectedJobMap={};jobs.forEach(function(_ref3){var id=_ref3.id;idToSelectedJobMap[id]=true});_this.setState({idToSelectedJobMap:idToSelectedJobMap})};_this.toggleItem=function(id){_this.setState(function(_ref4){var idToSelectedJobMap=_ref4.idToSelectedJobMap;var newMap=_extends({},idToSelectedJobMap);if(newMap[id]){delete newMap[id]}else{newMap[id]=true}return{idToSelectedJobMap:newMap}})};_this.resetSelection=function(){_this.setState({idToSelectedJobMap:{}})};_this.deselectItems=function(itemIds){_this.setState(function(_ref5){var idToSelectedJobMap=_ref5.idToSelectedJobMap;var newMap=_extends({},idToSelectedJobMap);itemIds.forEach(function(id){return delete newMap[id]});return{idToSelectedJobMap:newMap}})};_this.areAllItemsSelected=function(){var jobs=_this.props.jobs;var indexOfUnselectedItem=jobs.findIndex(function(job){return!_this.isItemSelected(job.id)});return indexOfUnselectedItem===-1};_this.isItemSelected=function(id){return!!_this.state.idToSelectedJobMap[id]};_this.onSort=function(column){var _this$props=_this.props,sortField=_this$props.sortField,isSortAscending=_this$props.isSortAscending,sortChanged=_this$props.sortChanged;var newIsSortAscending=sortField===column?!isSortAscending:true;sortChanged(column,newIsSortAscending)};_this.state={idToSelectedJobMap:{}};return _this}_createClass(JobTableUi,[{key:"getSelectedJobs",value:function getSelectedJobs(){var jobs=this.props.jobs;var idToSelectedJobMap=this.state.idToSelectedJobMap;return Object.keys(idToSelectedJobMap).map(function(jobId){return jobs.find(function(job){return job.id===jobId})})}},{key:"buildHeader",value:function buildHeader(){var _this2=this;var _props=this.props,sortField=_props.sortField,isSortAscending=_props.isSortAscending;return COLUMNS.map(function(_ref6){var name=_ref6.name,fieldName=_ref6.fieldName;var isSorted=sortField===fieldName;return _react2.default.createElement(_eui.EuiTableHeaderCell,{key:name,onSort:fieldName?function(){return _this2.onSort(fieldName)}:undefined,isSorted:isSorted,isSortAscending:isSortAscending,"data-test-subj":"jobTableHeaderCell-"+name},name)})}},{key:"buildRowCells",value:function buildRowCells(job){var openDetailPanel=this.props.openDetailPanel;return COLUMNS.map(function(_ref7){var name=_ref7.name,fieldName=_ref7.fieldName,render=_ref7.render,truncateText=_ref7.truncateText;var value=render?render(job):job[fieldName];var content=void 0;if(name==="ID"){content=_react2.default.createElement(_eui.EuiLink,{"data-test-subj":"rollupTableJobLink",onClick:function onClick(){openDetailPanel(job.id)}},value)}else{content=_react2.default.createElement("span",null,value)}var wrappedContent=void 0;if(truncateText){wrappedContent=_react2.default.createElement(_eui.EuiToolTip,{content:value},content)}else{wrappedContent=content}return _react2.default.createElement(_eui.EuiTableRowCell,{key:job.id+"-"+name,"data-test-subj":"jobTableCell-"+name,truncateText:truncateText},wrappedContent)})}},{key:"buildRows",value:function buildRows(){var _this3=this;var jobs=this.props.jobs;return jobs.map(function(job){var id=job.id;return _react2.default.createElement(_eui.EuiTableRow,{key:id+"-row"},_react2.default.createElement(_eui.EuiTableRowCellCheckbox,{key:"checkbox-"+id},_react2.default.createElement(_eui.EuiCheckbox,{type:"inList",id:"checkboxSelectIndex-"+id,checked:_this3.isItemSelected(id),onChange:function onChange(){_this3.toggleItem(id)},"data-test-subj":"indexTableRowCheckbox"})),_this3.buildRowCells(job))})}},{key:"renderPager",value:function renderPager(){var _props2=this.props,pager=_props2.pager,pageChanged=_props2.pageChanged,pageSizeChanged=_props2.pageSizeChanged;return _react2.default.createElement(_eui.EuiTablePagination,{activePage:pager.getCurrentPageIndex(),itemsPerPage:pager.itemsPerPage,itemsPerPageOptions:[20,50,100],pageCount:pager.getTotalPages(),onChangeItemsPerPage:pageSizeChanged,onChangePage:pageChanged})}},{key:"render",value:function render(){var _props3=this.props,filterChanged=_props3.filterChanged,filter=_props3.filter,jobs=_props3.jobs,intl=_props3.intl,closeDetailPanel=_props3.closeDetailPanel;var idToSelectedJobMap=this.state.idToSelectedJobMap;var atLeastOneItemSelected=Object.keys(idToSelectedJobMap).length>0;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},atLeastOneItemSelected?_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_components.JobActionMenu,{jobs:this.getSelectedJobs(),closeDetailPanel:closeDetailPanel,resetSelection:this.resetSelection,deselectJobs:this.deselectItems})):null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFieldSearch,{fullWidth:true,value:filter,onChange:function onChange(event){filterChanged(event.target.value)},"data-test-subj":"jobTableFilterInput",placeholder:intl.formatMessage({id:"xpack.rollupJobs.jobTable.searchInputPlaceholder",defaultMessage:"Search"}),"aria-label":"Search jobs"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),jobs.length>0?_react2.default.createElement(_eui.EuiTable,null,_react2.default.createElement(_eui.EuiTableHeader,null,_react2.default.createElement(_eui.EuiTableHeaderCellCheckbox,null,_react2.default.createElement(_eui.EuiCheckbox,{id:"selectAllJobsCheckbox",checked:this.areAllItemsSelected(),onChange:this.toggleAll,type:"inList"})),this.buildHeader()),_react2.default.createElement(_eui.EuiTableBody,null,this.buildRows())):_react2.default.createElement("div",null,"No rollup jobs to show"),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),jobs.length>0?this.renderPager():null)}}]);return JobTableUi}(_react.Component);JobTableUi.propTypes={jobs:_propTypes2.default.array,pager:_propTypes2.default.object.isRequired,filter:_propTypes2.default.string.isRequired,sortField:_propTypes2.default.string.isRequired,isSortAscending:_propTypes2.default.bool.isRequired,closeDetailPanel:_propTypes2.default.func.isRequired,filterChanged:_propTypes2.default.func.isRequired,pageChanged:_propTypes2.default.func.isRequired,pageSizeChanged:_propTypes2.default.func.isRequired,sortChanged:_propTypes2.default.func.isRequired};JobTableUi.defaultProps={jobs:[]};var JobTable=exports.JobTable=(0,_react3.injectI18n)(JobTableUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldList=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FieldList=exports.FieldList=function FieldList(_ref){var columns=_ref.columns,fields=_ref.fields,onRemoveField=_ref.onRemoveField,addButton=_ref.addButton,emptyMessage=_ref.emptyMessage;var message=void 0;if(!fields.length){message=_react2.default.createElement(_eui.EuiEmptyPrompt,{title:emptyMessage,titleSize:"xs"})}var extendedColumns=void 0;if(onRemoveField){extendedColumns=columns.concat({name:"Remove",width:"80px",actions:[{name:"Remove",isPrimary:true,description:"Remove this field",icon:"trash",type:"icon",color:"danger",onClick:function onClick(field){return onRemoveField(field)}}]})}else{extendedColumns=columns}var search={toolsRight:addButton?addButton:undefined,box:{incremental:true,placeholder:"Search"}};var pagination={initialPageSize:200,pageSizeOptions:[20,100,200]};return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiInMemoryTable,{items:fields,itemId:"name",columns:extendedColumns,search:search,pagination:pagination,sorting:true,message:message}))};FieldList.propTypes={columns:_propTypes2.default.array.isRequired,fields:_propTypes2.default.array.isRequired,onRemoveField:_propTypes2.default.func,addButton:_propTypes2.default.node,emptyMessage:_propTypes2.default.node}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _job_action_menu=__webpack_require__(4248);Object.defineProperty(exports,"JobActionMenu",{enumerable:true,get:function get(){return _job_action_menu.JobActionMenu}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobActionMenu=undefined;var _reactRedux=__webpack_require__(14);var _selectors=__webpack_require__(369);var _actions=__webpack_require__(431);var _job_action_menu=__webpack_require__(4249);var mapStateToProps=function mapStateToProps(state){return{isUpdating:(0,_selectors.isUpdating)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch,_ref){var jobs=_ref.jobs;var jobIds=jobs.map(function(job){return job.id});return{startJobs:function startJobs(){dispatch((0,_actions.startJobs)(jobIds))},stopJobs:function stopJobs(){dispatch((0,_actions.stopJobs)(jobIds))},deleteJobs:function deleteJobs(){dispatch((0,_actions.deleteJobs)(jobIds))}}};var JobActionMenu=exports.JobActionMenu=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_job_action_menu.JobActionMenu)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobActionMenu=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _confirm_delete_modal=__webpack_require__(4250);var _services=__webpack_require__(52);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var JobActionMenuUi=function(_Component){_inherits(JobActionMenuUi,_Component);function JobActionMenuUi(props){_classCallCheck(this,JobActionMenuUi);var _this=_possibleConstructorReturn(this,(JobActionMenuUi.__proto__||Object.getPrototypeOf(JobActionMenuUi)).call(this,props));_this.onButtonClick=function(){_this.setState(function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}})};_this.closePopover=function(){_this.setState({isPopoverOpen:false})};_this.closeDeleteConfirmationModal=function(){_this.setState({showDeleteConfirmation:false})};_this.openDeleteConfirmationModal=function(){_this.setState({showDeleteConfirmation:true})};_this.confirmDeleteModal=function(){var showDeleteConfirmation=_this.state.showDeleteConfirmation;if(!showDeleteConfirmation){return null}var _this$props=_this.props,deleteJobs=_this$props.deleteJobs,jobs=_this$props.jobs;var onConfirmDelete=function onConfirmDelete(){_this.closePopover();deleteJobs()};var isSingleSelection=_this.isSingleSelection();return _react2.default.createElement(_confirm_delete_modal.ConfirmDeleteModal,{isSingleSelection:isSingleSelection,jobs:jobs,onConfirm:onConfirmDelete,onCancel:_this.closeDeleteConfirmationModal})};_this.isSingleSelection=function(){return _this.props.jobs.length===1};_this.state={isPopoverOpen:false,showDeleteConfirmation:false};return _this}_createClass(JobActionMenuUi,[{key:"panels",value:function panels(){var _this2=this;var _props=this.props,startJobs=_props.startJobs,stopJobs=_props.stopJobs,intl=_props.intl;var isSingleSelection=this.isSingleSelection()?1:0;var items=[];if(this.canStartJobs()){items.push({name:intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.startJobLabel",defaultMessage:"Start {isSingleSelection, plural, one {job} other {jobs}}"},{isSingleSelection:isSingleSelection}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"play"}),onClick:function onClick(){_this2.closePopover();startJobs()}})}if(this.canStopJobs()){items.push({name:intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.stopJobLabel",defaultMessage:"Stop {isSingleSelection, plural, one {job} other {jobs}}"},{isSingleSelection:isSingleSelection}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"stop"}),onClick:function onClick(){_this2.closePopover();stopJobs()}})}if(this.canDeleteJobs()){items.push({name:intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.deleteJobLabel",defaultMessage:"Delete {isSingleSelection, plural, one {job} other {jobs}}"},{isSingleSelection:isSingleSelection}),icon:_react2.default.createElement(_eui.EuiIcon,{type:"trash"}),onClick:function onClick(){_this2.closePopover();_this2.openDeleteConfirmationModal()}})}var panelTree={id:0,title:intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.panelTitle",defaultMessage:"Job options"}),items:items};return(0,_services.flattenPanelTree)(panelTree)}},{key:"canStartJobs",value:function canStartJobs(){var jobs=this.props.jobs;return jobs.some(function(job){return job.status==="stopped"})}},{key:"canStopJobs",value:function canStopJobs(){var jobs=this.props.jobs;return jobs.some(function(job){return job.status==="started"})}},{key:"canDeleteJobs",value:function canDeleteJobs(){var jobs=this.props.jobs;var areAllJobsStopped=jobs.findIndex(function(job){return job.status==="started"})===-1;return areAllJobsStopped}},{key:"render",value:function render(){var _props2=this.props,intl=_props2.intl,isUpdating=_props2.isUpdating;if(isUpdating){return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"l"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobActionMenu.updatingText",defaultMessage:"Updating"}))))}var jobCount=this.props.jobs.length;var _props3=this.props,iconSide=_props3.iconSide,anchorPosition=_props3.anchorPosition,iconType=_props3.iconType,_props3$label=_props3.label,label=_props3$label===undefined?intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.buttonLabel",defaultMessage:"Manage {jobCount, plural, one {job} other {jobs}}"},{jobCount:jobCount}):_props3$label;var panels=this.panels();var actionsAriaLabel=intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.jobActionMenuButtonAriaLabel",defaultMessage:"Job options"});var button=_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"jobActionMenuButton",iconSide:iconSide,"aria-label":actionsAriaLabel,onClick:this.onButtonClick,iconType:iconType,fill:true},label);return _react2.default.createElement("div",null,this.confirmDeleteModal(),_react2.default.createElement(_eui.EuiPopover,{button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",withTitle:true,anchorPosition:anchorPosition,repositionOnScroll:true},_react2.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:panels})))}}]);return JobActionMenuUi}(_react.Component);JobActionMenuUi.propTypes={startJobs:_propTypes2.default.func.isRequired,stopJobs:_propTypes2.default.func.isRequired,deleteJobs:_propTypes2.default.func.isRequired,isUpdating:_propTypes2.default.bool.isRequired,iconSide:_propTypes2.default.string,anchorPosition:_propTypes2.default.string,label:_propTypes2.default.node,iconType:_propTypes2.default.string,jobs:_propTypes2.default.array};JobActionMenuUi.defaultProps={iconSide:"right",anchorPosition:"rightUp",iconType:"arrowDown",jobs:[]};var JobActionMenu=exports.JobActionMenu=(0,_react3.injectI18n)(JobActionMenuUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _confirm_delete_modal=__webpack_require__(4251);Object.defineProperty(exports,"ConfirmDeleteModal",{enumerable:true,get:function get(){return _confirm_delete_modal.ConfirmDeleteModal}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConfirmDeleteModal=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ConfirmDeleteModalUi=function(_Component){_inherits(ConfirmDeleteModalUi,_Component);function ConfirmDeleteModalUi(){_classCallCheck(this,ConfirmDeleteModalUi);return _possibleConstructorReturn(this,(ConfirmDeleteModalUi.__proto__||Object.getPrototypeOf(ConfirmDeleteModalUi)).apply(this,arguments))}_createClass(ConfirmDeleteModalUi,[{key:"renderJobs",value:function renderJobs(){var _props=this.props,jobs=_props.jobs,intl=_props.intl;var jobItems=jobs.map(function(_ref){var id=_ref.id,status=_ref.status;var startedMessage=intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.startedMessage",defaultMessage:"started"});var statusText=status==="started"?" ("+startedMessage+")":null;return _react2.default.createElement("li",{key:id},id,statusText)});return _react2.default.createElement("ul",null,jobItems)}},{key:"render",value:function render(){var _props2=this.props,isSingleSelection=_props2.isSingleSelection,jobs=_props2.jobs,onCancel=_props2.onCancel,onConfirm=_props2.onConfirm,intl=_props2.intl;var title=void 0;var content=void 0;if(isSingleSelection){var _jobs$=jobs[0],id=_jobs$.id,status=_jobs$.status;title=intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.deleteSingleJobTitle",defaultMessage:"Delete rollup job '{id}'?"},{id:id});if(status==="started"){content=_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.deleteSingleJobDescription",defaultMessage:"This job has been started."}))}}else{title=intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.multipleDeletionTitle",defaultMessage:"Delete {count} rollup jobs?"},{count:jobs.length});content=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.multipleDeletionDescription",defaultMessage:"You are about to delete {isSingleSelection, plural, one {this job} other {these jobs}}",values:{isSingleSelection:isSingleSelection?1:0}})),this.renderJobs())}return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:title,onCancel:onCancel,onConfirm:onConfirm,cancelButtonText:intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.cancelButtonText",defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:intl.formatMessage({id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.confirmButtonText",defaultMessage:"Delete"})},content))}}]);return ConfirmDeleteModalUi}(_react.Component);ConfirmDeleteModalUi.propTypes={isSingleSelection:_propTypes2.default.bool.isRequired,jobs:_propTypes2.default.array.isRequired,onCancel:_propTypes2.default.func.isRequired,onConfirm:_propTypes2.default.func.isRequired};var ConfirmDeleteModal=exports.ConfirmDeleteModal=(0,_react3.injectI18n)(ConfirmDeleteModalUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _job_details=__webpack_require__(4253);Object.defineProperty(exports,"JobDetails",{enumerable:true,get:function get(){return _job_details.JobDetails}});Object.defineProperty(exports,"JOB_DETAILS_TAB_SUMMARY",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_SUMMARY}});Object.defineProperty(exports,"JOB_DETAILS_TAB_TERMS",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_TERMS}});Object.defineProperty(exports,"JOB_DETAILS_TAB_HISTOGRAM",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_HISTOGRAM}});Object.defineProperty(exports,"JOB_DETAILS_TAB_METRICS",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_METRICS}});Object.defineProperty(exports,"JOB_DETAILS_TAB_JSON",{enumerable:true,get:function get(){return _job_details.JOB_DETAILS_TAB_JSON}});Object.defineProperty(exports,"tabToHumanizedMap",{enumerable:true,get:function get(){return _job_details.tabToHumanizedMap}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobDetails=exports.tabToHumanizedMap=exports.JOB_DETAILS_TAB_JSON=exports.JOB_DETAILS_TAB_METRICS=exports.JOB_DETAILS_TAB_HISTOGRAM=exports.JOB_DETAILS_TAB_TERMS=exports.JOB_DETAILS_TAB_SUMMARY=undefined;var _tabToHumanizedMap;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _tabs=__webpack_require__(4254);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var JOB_DETAILS_TAB_SUMMARY=exports.JOB_DETAILS_TAB_SUMMARY="JOB_DETAILS_TAB_SUMMARY";var JOB_DETAILS_TAB_TERMS=exports.JOB_DETAILS_TAB_TERMS="JOB_DETAILS_TAB_TERMS";var JOB_DETAILS_TAB_HISTOGRAM=exports.JOB_DETAILS_TAB_HISTOGRAM="JOB_DETAILS_TAB_HISTOGRAM";var JOB_DETAILS_TAB_METRICS=exports.JOB_DETAILS_TAB_METRICS="JOB_DETAILS_TAB_METRICS";var JOB_DETAILS_TAB_JSON=exports.JOB_DETAILS_TAB_JSON="JOB_DETAILS_TAB_JSON";var tabToHumanizedMap=exports.tabToHumanizedMap=(_tabToHumanizedMap={},_defineProperty(_tabToHumanizedMap,JOB_DETAILS_TAB_SUMMARY,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabSummaryLabel",defaultMessage:"Summary"})),_defineProperty(_tabToHumanizedMap,JOB_DETAILS_TAB_TERMS,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabTermsLabel",defaultMessage:"Terms"})),_defineProperty(_tabToHumanizedMap,JOB_DETAILS_TAB_HISTOGRAM,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabHistogramLabel",defaultMessage:"Histogram"})),_defineProperty(_tabToHumanizedMap,JOB_DETAILS_TAB_METRICS,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabMetricsLabel",defaultMessage:"Metrics"})),_defineProperty(_tabToHumanizedMap,JOB_DETAILS_TAB_JSON,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabJsonLabel",defaultMessage:"JSON"})),_tabToHumanizedMap);var JOB_DETAILS_TABS=[JOB_DETAILS_TAB_SUMMARY,JOB_DETAILS_TAB_TERMS,JOB_DETAILS_TAB_HISTOGRAM,JOB_DETAILS_TAB_METRICS,JOB_DETAILS_TAB_JSON];var JobDetails=exports.JobDetails=function JobDetails(_ref){var _tabToContentMap;var tab=_ref.tab,job=_ref.job,stats=_ref.stats,json=_ref.json;var metrics=job.metrics,terms=job.terms,histogram=job.histogram,histogramInterval=job.histogramInterval;var tabToContentMap=(_tabToContentMap={},_defineProperty(_tabToContentMap,JOB_DETAILS_TAB_SUMMARY,_react2.default.createElement(_tabs.TabSummary,{job:job,stats:stats})),_defineProperty(_tabToContentMap,JOB_DETAILS_TAB_TERMS,_react2.default.createElement(_tabs.TabTerms,{terms:terms})),_defineProperty(_tabToContentMap,JOB_DETAILS_TAB_HISTOGRAM,_react2.default.createElement(_tabs.TabHistogram,{histogram:histogram,histogramInterval:histogramInterval})),_defineProperty(_tabToContentMap,JOB_DETAILS_TAB_METRICS,_react2.default.createElement(_tabs.TabMetrics,{metrics:metrics})),_defineProperty(_tabToContentMap,JOB_DETAILS_TAB_JSON,_react2.default.createElement(_tabs.TabJson,{json:json})),_tabToContentMap);return tabToContentMap[tab]};JobDetails.propTypes={tab:_propTypes2.default.oneOf(JOB_DETAILS_TABS),job:_propTypes2.default.object}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _tab_summary=__webpack_require__(4255);Object.defineProperty(exports,"TabSummary",{enumerable:true,get:function get(){return _tab_summary.TabSummary}});var _tab_terms=__webpack_require__(4257);Object.defineProperty(exports,"TabTerms",{enumerable:true,get:function get(){return _tab_terms.TabTerms}});var _tab_histogram=__webpack_require__(4258);Object.defineProperty(exports,"TabHistogram",{enumerable:true,get:function get(){return _tab_histogram.TabHistogram}});var _tab_metrics=__webpack_require__(4259);Object.defineProperty(exports,"TabMetrics",{enumerable:true,get:function get(){return _tab_metrics.TabMetrics}});var _tab_json=__webpack_require__(4260);Object.defineProperty(exports,"TabJson",{enumerable:true,get:function get(){return _tab_json.TabJson}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabSummary=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _job_status=__webpack_require__(1311);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TabSummary=exports.TabSummary=function(_Component){_inherits(TabSummary,_Component);function TabSummary(){_classCallCheck(this,TabSummary);return _possibleConstructorReturn(this,(TabSummary.__proto__||Object.getPrototypeOf(TabSummary)).apply(this,arguments))}_createClass(TabSummary,[{key:"renderStats",value:function renderStats(){var stats=this.props.stats;if(!stats){return null}var documentsProcessed=stats.documentsProcessed,pagesProcessed=stats.pagesProcessed,rollupsIndexed=stats.rollupsIndexed,triggerCount=stats.triggerCount,status=stats.status;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.sectionStatsTitle",defaultMessage:"Stats"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_job_status.JobStatus,{status:status}),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemDocumentsProcessedLabel",defaultMessage:"Documents processed"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,documentsProcessed)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemPagesProcessedLabel",defaultMessage:"Pages processed"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,pagesProcessed))),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemRollupsIndexedLabel",defaultMessage:"Rollups indexed"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,rollupsIndexed)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemTriggerCountLabel",defaultMessage:"Trigger count"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,triggerCount)))))}},{key:"render",value:function render(){var job=this.props.job;var indexPattern=job.indexPattern,rollupIndex=job.rollupIndex,rollupCron=job.rollupCron,rollupDelay=job.rollupDelay,dateHistogramInterval=job.dateHistogramInterval,dateHistogramTimeZone=job.dateHistogramTimeZone,dateHistogramField=job.dateHistogramField;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.sectionLogisticsLabel",defaultMessage:"Logistics"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemIndexPatternLabel",defaultMessage:"Index pattern"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord"},indexPattern)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemRollupIndexLabel",defaultMessage:"Rollup index"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord"},rollupIndex))),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemCronLabel",defaultMessage:"Cron"})," ",_react2.default.createElement(_eui.EuiIconTip,{content:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemCronTip",defaultMessage:"The frequency with which data is rolled up"})})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,rollupCron)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemDelayLabel",defaultMessage:"Delay"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,rollupDelay||_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemDelay.none",defaultMessage:"None"}))))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.sectionDateHistogramLabel",defaultMessage:"Date histogram"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemTimeFieldLabel",defaultMessage:"Time field"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{className:"eui-textBreakWord"},dateHistogramField)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemTimezoneLabel",defaultMessage:"Timezone"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,dateHistogramTimeZone))),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemIntervalLabel",defaultMessage:"Interval"})," ",_react2.default.createElement(_eui.EuiIconTip,{content:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemIntervalTip",defaultMessage:"The time bucket interval into which data is rolled up"})})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,dateHistogramInterval)))),this.renderStats())}}]);return TabSummary}(_react.Component);TabSummary.propTypes={job:_propTypes2.default.object.isRequired,stats:_propTypes2.default.object}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobStatus=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var statusToHealthMap={stopped:_react2.default.createElement(_eui.EuiHealth,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobStatus.stoppedLabel",defaultMessage:"Stopped"})),started:_react2.default.createElement(_eui.EuiHealth,{color:"success"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobStatus.startedLabel",defaultMessage:"Started"})),indexing:_react2.default.createElement(_eui.EuiHealth,{color:"warning"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobStatus.indexingLabel",defaultMessage:"Indexing"})),abort:_react2.default.createElement(_eui.EuiHealth,{color:"danger"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobStatus.abortingLabel",defaultMessage:"Aborting"}))};var JobStatus=exports.JobStatus=function JobStatus(_ref){var status=_ref.status;return statusToHealthMap[status]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabTerms=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _field_list=__webpack_require__(543);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var columns=[{field:"name",name:"Field",sortable:true}];var TabTerms=exports.TabTerms=function TabTerms(_ref){var terms=_ref.terms;return _react2.default.createElement(_field_list.FieldList,{columns:columns,fields:terms})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabHistogram=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _i18n=__webpack_require__(9);var _eui=__webpack_require__(2);var _field_list=__webpack_require__(543);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var columns=[{field:"name",name:_i18n.i18n.translate("xpack.rollupJobs.jobDetails.tabHistogram.nameColumnLabel",{defaultMessage:"Field"}),sortable:true}];var TabHistogram=exports.TabHistogram=function TabHistogram(_ref){var histogram=_ref.histogram,histogramInterval=_ref.histogramInterval;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiDescriptionList,{textStyle:"reverse"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabHistogram.intervalLabel",defaultMessage:"Histogram interval"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,histogramInterval)),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_field_list.FieldList,{columns:columns,fields:histogram}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabMetrics=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _i18n=__webpack_require__(9);var _field_list=__webpack_require__(543);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var columns=[{field:"name",name:_i18n.i18n.translate("xpack.rollupJobs.jobDetails.tabMetrics.nameColumnLabel",{defaultMessage:"Field"}),sortable:true},{name:_i18n.i18n.translate("xpack.rollupJobs.jobDetails.tabMetrics.typesColumnLabel",{defaultMessage:"Types"}),render:function render(_ref){var types=_ref.types;return types.sort().join(", ")}}];var TabMetrics=exports.TabMetrics=function TabMetrics(_ref2){var metrics=_ref2.metrics;return _react2.default.createElement(_field_list.FieldList,{columns:columns,fields:metrics})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TabJson=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TabJson=exports.TabJson=function TabJson(_ref){var json=_ref.json;var jsonString=JSON.stringify(json,null,2);return _react2.default.createElement(_eui.EuiCodeEditor,{mode:"json",theme:"textmate",isReadOnly:true,setOptions:{maxLines:Infinity},value:jsonString,editorProps:{$blockScrolling:Infinity}})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _detail_panel=__webpack_require__(4262);Object.defineProperty(exports,"DetailPanel",{enumerable:true,get:function get(){return _detail_panel.DetailPanel}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=undefined;var _reactRedux=__webpack_require__(14);var _detail_panel=__webpack_require__(4263);var _selectors=__webpack_require__(369);var _actions=__webpack_require__(431);var mapStateToProps=function mapStateToProps(state){return{isOpen:(0,_selectors.isDetailPanelOpen)(state),isLoading:(0,_selectors.isLoading)(state),job:(0,_selectors.getDetailPanelJob)(state),jobId:(0,_selectors.getDetailPanelJobId)(state),panelType:(0,_selectors.getDetailPanelType)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{closeDetailPanel:function closeDetailPanel(){dispatch((0,_actions.closeDetailPanel)())},openDetailPanel:function openDetailPanel(_ref){var panelType=_ref.panelType,jobId=_ref.jobId;dispatch((0,_actions.openDetailPanel)({panelType:panelType,jobId:jobId}))}}};var DetailPanel=exports.DetailPanel=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_detail_panel.DetailPanel)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=exports.DetailPanelUi=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _components=__webpack_require__(370);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var JOB_DETAILS_TABS=[_components.JOB_DETAILS_TAB_SUMMARY,_components.JOB_DETAILS_TAB_TERMS,_components.JOB_DETAILS_TAB_HISTOGRAM,_components.JOB_DETAILS_TAB_METRICS,_components.JOB_DETAILS_TAB_JSON];var DetailPanelUi=exports.DetailPanelUi=function(_Component){_inherits(DetailPanelUi,_Component);function DetailPanelUi(props){_classCallCheck(this,DetailPanelUi);return _possibleConstructorReturn(this,(DetailPanelUi.__proto__||Object.getPrototypeOf(DetailPanelUi)).call(this,props))}_createClass(DetailPanelUi,[{key:"renderTabs",value:function renderTabs(){var _props=this.props,panelType=_props.panelType,job=_props.job,openDetailPanel=_props.openDetailPanel;if(!job){return}var id=job.id,terms=job.terms,histogram=job.histogram,metrics=job.metrics;var renderedTabs=[];JOB_DETAILS_TABS.map(function(tab,index){if(tab===_components.JOB_DETAILS_TAB_TERMS&&!terms.length){return}if(tab===_components.JOB_DETAILS_TAB_HISTOGRAM&&!histogram.length){return}if(tab===_components.JOB_DETAILS_TAB_METRICS&&!metrics.length){return}var isSelected=tab===panelType;renderedTabs.push(_react2.default.createElement(_eui.EuiTab,{onClick:function onClick(){return openDetailPanel({panelType:tab,jobId:id})},isSelected:isSelected,"data-test-subj":"detailPanelTab"+(isSelected?"Selected":""),key:index},_components.tabToHumanizedMap[tab]))});return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiTabs,null,renderedTabs))}},{key:"renderJob",value:function renderJob(){var _props2=this.props,panelType=_props2.panelType,job=_props2.job,intl=_props2.intl;var status=job.status,documentsProcessed=job.documentsProcessed,pagesProcessed=job.pagesProcessed,rollupsIndexed=job.rollupsIndexed,triggerCount=job.triggerCount,json=job.json;var stats={status:status,documentsProcessed:documentsProcessed,pagesProcessed:pagesProcessed,rollupsIndexed:rollupsIndexed,triggerCount:triggerCount};return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiErrorBoundary,null,_react2.default.createElement(_components.JobDetails,{tab:panelType,job:job,stats:stats,json:json}))),_react2.default.createElement(_eui.EuiFlyoutFooter,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_components.JobActionMenu,{iconSide:"left",jobs:[job],anchorPosition:"upRight",detailPanel:true,iconType:"arrowUp",label:intl.formatMessage({id:"xpack.rollupJobs.detailPanel.jobActionMenu.buttonLabel",defaultMessage:"Manage"})})))))}},{key:"render",value:function render(){var _props3=this.props,isOpen=_props3.isOpen,isLoading=_props3.isLoading,closeDetailPanel=_props3.closeDetailPanel,job=_props3.job,jobId=_props3.jobId;if(!isOpen){return null}var content=void 0;if(isLoading){content=_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.detailPanel.loadingLabel",defaultMessage:"Loading rollup job..."}))))))}else if(job){content=this.renderJob()}else{content=_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiIcon,{size:"m",type:"alert",color:"danger"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.detailPanel.notFoundLabel",defaultMessage:"Rollup job not found"}))))))}return _react2.default.createElement(_eui.EuiFlyout,{"data-test-subj":"rollupJobDetailFlyout",onClose:closeDetailPanel,"aria-labelledby":"rollupJobDetailsFlyoutTitle",size:"m",maxWidth:400},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,{size:"m",id:"rollupJobDetailsFlyoutTitle"},_react2.default.createElement("h2",null,jobId)),this.renderTabs()),content)}}]);return DetailPanelUi}(_react.Component);DetailPanelUi.propTypes={isOpen:_propTypes2.default.bool.isRequired,isLoading:_propTypes2.default.bool,job:_propTypes2.default.object,panelType:_propTypes2.default.oneOf(JOB_DETAILS_TABS),closeDetailPanel:_propTypes2.default.func.isRequired,openDetailPanel:_propTypes2.default.func.isRequired};DetailPanelUi.defaultProps={panelType:JOB_DETAILS_TABS[0]};var DetailPanel=exports.DetailPanel=(0,_react3.injectI18n)(DetailPanelUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _job_create=__webpack_require__(4265);Object.defineProperty(exports,"JobCreate",{enumerable:true,get:function get(){return _job_create.JobCreate}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobCreate=undefined;var _reactRedux=__webpack_require__(14);var _job_create=__webpack_require__(4266);var _selectors=__webpack_require__(369);var _actions=__webpack_require__(431);var mapStateToProps=function mapStateToProps(state){return{isSaving:(0,_selectors.isSaving)(state),saveError:(0,_selectors.getCreateJobError)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{createJob:function createJob(jobConfig){dispatch((0,_actions.createJob)(jobConfig))},clearCreateJobErrors:function clearCreateJobErrors(){dispatch((0,_actions.clearCreateJobErrors)())}}};var JobCreate=exports.JobCreate=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_job_create.JobCreate)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JobCreate=exports.JobCreateUi=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _stepIdToTitleMap;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _mapValues=__webpack_require__(5041);var _mapValues2=_interopRequireDefault(_mapValues);var _cloneDeep=__webpack_require__(1369);var _cloneDeep2=_interopRequireDefault(_cloneDeep);var _debounce=__webpack_require__(5042);var _debounce2=_interopRequireDefault(_debounce);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _notify=__webpack_require__(10);var _constants=__webpack_require__(430);var _services=__webpack_require__(52);var _navigation=__webpack_require__(4269);var _steps=__webpack_require__(4271);var _steps_config=__webpack_require__(4287);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var stepIdToTitleMap=(_stepIdToTitleMap={},_defineProperty(_stepIdToTitleMap,_steps_config.STEP_LOGISTICS,_i18n.i18n.translate("xpack.rollupJobs.create.steps.stepLogisticsTitle",{defaultMessage:"Logistics"})),_defineProperty(_stepIdToTitleMap,_steps_config.STEP_DATE_HISTOGRAM,_i18n.i18n.translate("xpack.rollupJobs.create.steps.stepDateHistogramTitle",{defaultMessage:"Date histogram"})),_defineProperty(_stepIdToTitleMap,_steps_config.STEP_TERMS,_i18n.i18n.translate("xpack.rollupJobs.create.steps.stepTermsTitle",{defaultMessage:"Terms"})),_defineProperty(_stepIdToTitleMap,_steps_config.STEP_HISTOGRAM,_i18n.i18n.translate("xpack.rollupJobs.create.steps.stepHistogramTitle",{defaultMessage:"Histogram"})),_defineProperty(_stepIdToTitleMap,_steps_config.STEP_METRICS,_i18n.i18n.translate("xpack.rollupJobs.create.steps.stepMetricsTitle",{defaultMessage:"Metrics"})),_defineProperty(_stepIdToTitleMap,_steps_config.STEP_REVIEW,_i18n.i18n.translate("xpack.rollupJobs.create.steps.stepReviewTitle",{defaultMessage:"Review and save"})),_stepIdToTitleMap);var JobCreateUi=exports.JobCreateUi=function(_Component){_inherits(JobCreateUi,_Component);function JobCreateUi(props){_classCallCheck(this,JobCreateUi);var _this=_possibleConstructorReturn(this,(JobCreateUi.__proto__||Object.getPrototypeOf(JobCreateUi)).call(this,props));_initialiseProps.call(_this);var stepsFields=(0,_mapValues2.default)(_steps_config.stepIdToStepConfigMap,function(step){return(0,_cloneDeep2.default)(step.defaultFields||{})});_this.state={checkpointStepId:_steps_config.stepIds[0],currentStepId:_steps_config.stepIds[0],nextStepId:_steps_config.stepIds[1],previousStepId:undefined,stepsFieldErrors:_this.getStepsFieldsErrors(stepsFields),areStepErrorsVisible:false,stepsFields:stepsFields,isValidatingIndexPattern:false,indexPatternAsyncErrors:undefined,indexPatternDateFields:[],indexPatternTermsFields:[],indexPatternHistogramFields:[],indexPatternMetricsFields:[]};_this.lastIndexPatternValidationTime=0;return _this}_createClass(JobCreateUi,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){var indexPattern=this.getIndexPattern();if(indexPattern!==this.getIndexPattern(prevState)){if(!indexPattern||!indexPattern.trim()){this.setState({indexPatternAsyncErrors:undefined,indexPatternDateFields:[],isValidatingIndexPattern:false});return}this.setState({isValidatingIndexPattern:true});this.requestIndexPatternValidation()}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;this.props.clearCreateJobErrors()}},{key:"getSteps",value:function getSteps(){var _this2=this;var _state=this.state,currentStepId=_state.currentStepId,checkpointStepId=_state.checkpointStepId;var indexOfCurrentStep=_steps_config.stepIds.indexOf(currentStepId);return _steps_config.stepIds.map(function(stepId,index){return{title:stepIdToTitleMap[stepId],isComplete:index<indexOfCurrentStep,isSelected:index===indexOfCurrentStep,onClick:function onClick(){return _this2.goToStep(stepId)},disabled:!_this2.canGoToStep(stepId)||_steps_config.stepIds.indexOf(stepId)>_steps_config.stepIds.indexOf(checkpointStepId)}})}},{key:"goToStep",value:function goToStep(stepId){if(!this.canGoToStep(stepId)){this.setState({areStepErrorsVisible:true});return}var currentStepIndex=_steps_config.stepIds.indexOf(stepId);this.setState({currentStepId:stepId,nextStepId:_steps_config.stepIds[currentStepIndex+1],previousStepId:_steps_config.stepIds[currentStepIndex-1],areStepErrorsVisible:false,isSaving:false});if(_steps_config.stepIds.indexOf(stepId)>_steps_config.stepIds.indexOf(this.state.checkpointStepId)){this.setState({checkpointStepId:stepId})}}},{key:"canGoToStep",value:function canGoToStep(stepId){var _this3=this;var indexOfStep=_steps_config.stepIds.indexOf(stepId);var prerequisiteSteps=_steps_config.stepIds.slice(0,indexOfStep);return prerequisiteSteps.every(function(prerequisiteStepId){return!_this3.hasStepErrors(prerequisiteStepId)})}},{key:"hasStepErrors",value:function hasStepErrors(stepId){var _state2=this.state,indexPatternAsyncErrors=_state2.indexPatternAsyncErrors,stepsFieldErrors=_state2.stepsFieldErrors;if(stepId===_steps_config.STEP_LOGISTICS){if(Boolean(indexPatternAsyncErrors)){return true}}var stepFieldErrors=stepsFieldErrors[stepId];return Object.values(stepFieldErrors).some(function(error){return error!=null})}},{key:"getStepsFieldsErrors",value:function getStepsFieldsErrors(newStepsFields){return Object.keys(newStepsFields).reduce(function(stepsFieldErrors,stepId){var stepFields=newStepsFields[stepId];var fieldsValidator=_steps_config.stepIdToStepConfigMap[stepId].fieldsValidator;stepsFieldErrors[stepId]=typeof fieldsValidator==="function"?fieldsValidator(stepFields):{};return stepsFieldErrors},{})}},{key:"getAllFields",value:function getAllFields(){var _state$stepsFields=this.state.stepsFields,_state$stepsFields$ST=_state$stepsFields[_steps_config.STEP_LOGISTICS],id=_state$stepsFields$ST.id,indexPattern=_state$stepsFields$ST.indexPattern,rollupIndex=_state$stepsFields$ST.rollupIndex,rollupCron=_state$stepsFields$ST.rollupCron,rollupDelay=_state$stepsFields$ST.rollupDelay,rollupPageSize=_state$stepsFields$ST.rollupPageSize,_state$stepsFields$ST2=_state$stepsFields[_steps_config.STEP_DATE_HISTOGRAM],dateHistogramInterval=_state$stepsFields$ST2.dateHistogramInterval,dateHistogramTimeZone=_state$stepsFields$ST2.dateHistogramTimeZone,dateHistogramField=_state$stepsFields$ST2.dateHistogramField,terms=_state$stepsFields[_steps_config.STEP_TERMS].terms,_state$stepsFields$ST3=_state$stepsFields[_steps_config.STEP_HISTOGRAM],histogram=_state$stepsFields$ST3.histogram,histogramInterval=_state$stepsFields$ST3.histogramInterval,metrics=_state$stepsFields[_steps_config.STEP_METRICS].metrics;return{id:id,indexPattern:indexPattern,rollupIndex:rollupIndex,rollupCron:rollupCron,rollupPageSize:rollupPageSize,rollupDelay:rollupDelay,dateHistogramInterval:dateHistogramInterval,dateHistogramTimeZone:dateHistogramTimeZone,dateHistogramField:dateHistogramField,terms:terms,histogram:histogram,histogramInterval:histogramInterval,metrics:metrics}}},{key:"getIndexPattern",value:function getIndexPattern(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.state;return state.stepsFields[_steps_config.STEP_LOGISTICS].indexPattern}},{key:"render",value:function render(){var _props=this.props,isSaving=_props.isSaving,saveError=_props.saveError;var breadcrumbs=[_extends({text:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.breadcrumbs.jobsText",defaultMessage:"Rollup jobs"})},(0,_services.getRouterLinkProps)(_constants.CRUD_APP_BASE_PATH)),{text:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.breadcrumbs.createText",defaultMessage:"Create"})}];var savingFeedback=void 0;if(isSaving){savingFeedback=_react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiLoadingKibana,{size:"xl"}))}var saveErrorFeedback=void 0;if(saveError){var message=saveError.message,cause=saveError.cause;var errorBody=void 0;if(cause){if(cause.length===1){errorBody=_react2.default.createElement("p",null,cause[0])}else{errorBody=_react2.default.createElement("ul",null,cause.map(function(causeValue){return _react2.default.createElement("li",{key:causeValue},causeValue)}))}}saveErrorFeedback=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:message,icon:"cross",color:"danger"},errorBody),_react2.default.createElement(_eui.EuiSpacer,null))}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center",className:"rollupJobWizardPage"},_react2.default.createElement(_eui.EuiBreadcrumbs,{breadcrumbs:breadcrumbs,responsive:false}),_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react2.default.createElement(_eui.EuiPageContentHeader,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.createTitle",defaultMessage:"Create rollup job"})))),saveErrorFeedback,_react2.default.createElement(_eui.EuiStepsHorizontal,{steps:this.getSteps()}),_react2.default.createElement(_eui.EuiSpacer,null),this.renderCurrentStep(),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),this.renderNavigation()))),savingFeedback)}},{key:"renderCurrentStep",value:function renderCurrentStep(){var _state3=this.state,currentStepId=_state3.currentStepId,stepsFields=_state3.stepsFields,stepsFieldErrors=_state3.stepsFieldErrors,areStepErrorsVisible=_state3.areStepErrorsVisible,isValidatingIndexPattern=_state3.isValidatingIndexPattern,indexPatternDateFields=_state3.indexPatternDateFields,indexPatternAsyncErrors=_state3.indexPatternAsyncErrors,indexPatternTermsFields=_state3.indexPatternTermsFields,indexPatternHistogramFields=_state3.indexPatternHistogramFields,indexPatternMetricsFields=_state3.indexPatternMetricsFields;var currentStepFields=stepsFields[currentStepId];var currentStepFieldErrors=stepsFieldErrors[currentStepId];switch(currentStepId){case _steps_config.STEP_LOGISTICS:return _react2.default.createElement(_steps.StepLogistics,{fields:currentStepFields,onFieldsChange:this.onFieldsChange,fieldErrors:currentStepFieldErrors,hasErrors:(0,_steps_config.hasErrors)(currentStepFieldErrors),areStepErrorsVisible:areStepErrorsVisible,isValidatingIndexPattern:isValidatingIndexPattern,indexPatternAsyncErrors:indexPatternAsyncErrors,hasMatchingIndices:Boolean(indexPatternDateFields.length)});case _steps_config.STEP_DATE_HISTOGRAM:return _react2.default.createElement(_steps.StepDateHistogram,{indexPattern:this.getIndexPattern(),fields:currentStepFields,onFieldsChange:this.onFieldsChange,fieldErrors:currentStepFieldErrors,hasErrors:(0,_steps_config.hasErrors)(currentStepFieldErrors),areStepErrorsVisible:areStepErrorsVisible,dateFields:indexPatternDateFields});case _steps_config.STEP_TERMS:return _react2.default.createElement(_steps.StepTerms,{fields:currentStepFields,onFieldsChange:this.onFieldsChange,termsFields:indexPatternTermsFields});case _steps_config.STEP_HISTOGRAM:return _react2.default.createElement(_steps.StepHistogram,{fields:currentStepFields,onFieldsChange:this.onFieldsChange,fieldErrors:currentStepFieldErrors,hasErrors:(0,_steps_config.hasErrors)(currentStepFieldErrors),areStepErrorsVisible:areStepErrorsVisible,histogramFields:indexPatternHistogramFields});case _steps_config.STEP_METRICS:return _react2.default.createElement(_steps.StepMetrics,{fields:currentStepFields,onFieldsChange:this.onFieldsChange,fieldErrors:currentStepFieldErrors,areStepErrorsVisible:areStepErrorsVisible,metricsFields:indexPatternMetricsFields});case _steps_config.STEP_REVIEW:return _react2.default.createElement(_steps.StepReview,{job:this.getAllFields()});default:return null}}},{key:"renderNavigation",value:function renderNavigation(){var _state4=this.state,isValidatingIndexPattern=_state4.isValidatingIndexPattern,nextStepId=_state4.nextStepId,previousStepId=_state4.previousStepId,areStepErrorsVisible=_state4.areStepErrorsVisible;var isSaving=this.props.isSaving;var hasNextStep=nextStepId!=null;var canGoToNextStep=!isValidatingIndexPattern&&hasNextStep&&(!areStepErrorsVisible||this.canGoToStep(nextStepId));return _react2.default.createElement(_navigation.Navigation,{isSaving:isSaving,hasNextStep:hasNextStep,hasPreviousStep:previousStepId!=null,goToNextStep:this.goToNextStep,goToPreviousStep:this.goToPreviousStep,canGoToNextStep:canGoToNextStep,save:this.save})}}]);return JobCreateUi}(_react.Component);JobCreateUi.propTypes={createJob:_propTypes2.default.func,isSaving:_propTypes2.default.bool,createJobError:_propTypes2.default.node};var _initialiseProps=function _initialiseProps(){var _this4=this;this.requestIndexPatternValidation=(0,_debounce2.default)(function(){var indexPattern=_this4.getIndexPattern();var lastIndexPatternValidationTime=_this4.lastIndexPatternValidationTime=Date.now();(0,_services.validateIndexPattern)(indexPattern).then(function(response){if(!_this4._isMounted){return}if(lastIndexPatternValidationTime!==_this4.lastIndexPatternValidationTime){return}var _response$data=response.data,doesIndexPatternMatchIndices=_response$data.doesMatchIndices,doesIndexPatternMatchRollupIndices=_response$data.doesMatchRollupIndices,indexPatternDateFields=_response$data.dateFields,numericFields=_response$data.numericFields,keywordFields=_response$data.keywordFields;var indexPatternAsyncErrors=void 0;if(doesIndexPatternMatchRollupIndices){indexPatternAsyncErrors=[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternMatchesRollupIndices",defaultMessage:"Index pattern must not match rollup indices."})]}else if(!doesIndexPatternMatchIndices){indexPatternAsyncErrors=[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternNoMatchingIndices",defaultMessage:"Index pattern doesn't match any indices."})]}else if(!indexPatternDateFields.length){indexPatternAsyncErrors=[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternNoTimeFields",defaultMessage:"Index pattern must match indices that contain time fields."})]}var formattedNumericFields=(0,_services.formatFields)(numericFields,"numeric");var formattedKeywordFields=(0,_services.formatFields)(keywordFields,"keyword");var formattedDateFields=(0,_services.formatFields)(indexPatternDateFields,"date");function sortFields(a,b){var nameA=a.name.toUpperCase();var nameB=b.name.toUpperCase();if(nameA<nameB){return-1}if(nameA>nameB){return 1}return 0}var indexPatternTermsFields=[].concat(_toConsumableArray(formattedNumericFields),_toConsumableArray(formattedKeywordFields)).sort(sortFields);var indexPatternHistogramFields=[].concat(_toConsumableArray(formattedNumericFields)).sort(sortFields);var indexPatternMetricsFields=[].concat(_toConsumableArray(formattedNumericFields),_toConsumableArray(formattedDateFields)).sort(sortFields);_this4.setState({indexPatternAsyncErrors:indexPatternAsyncErrors,indexPatternDateFields:indexPatternDateFields,indexPatternTermsFields:indexPatternTermsFields,indexPatternHistogramFields:indexPatternHistogramFields,indexPatternMetricsFields:indexPatternMetricsFields,isValidatingIndexPattern:false});_this4.onFieldsChange({dateHistogramField:indexPatternDateFields.length?indexPatternDateFields[0]:null},_steps_config.STEP_DATE_HISTOGRAM)}).catch(function(error){if(!_this4._isMounted){return}if(lastIndexPatternValidationTime!==_this4.lastIndexPatternValidationTime){return}if(error&&error.data){var _error$data=error.data,errorString=_error$data.error,statusCode=_error$data.statusCode;var indexPatternAsyncErrors=[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternValidationError",defaultMessage:"There was a problem validating this index pattern: {statusCode} {error}",values:{error:errorString,statusCode:statusCode}})];_this4.setState({indexPatternAsyncErrors:indexPatternAsyncErrors,indexPatternDateFields:[],indexPatternTermsFields:[],indexPatternHistogramFields:[],indexPatternMetricsFields:[],isValidatingIndexPattern:false});return}(0,_notify.fatalError)(error,_i18n.i18n.translate("xpack.rollupJobs.create.errors.indexPatternValidationFatalErrorTitle",{defaultMessage:"Rollup Job Wizard index pattern validation"}))})},300);this.goToNextStep=function(){_this4.goToStep(_this4.state.nextStepId)};this.goToPreviousStep=function(){_this4.goToStep(_this4.state.previousStepId)};this.onFieldsChange=function(fields){var currentStepId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_this4.state.currentStepId;var stepsFields=_this4.state.stepsFields;var prevFields=stepsFields[currentStepId];var affectedStepsFields=(0,_steps_config.getAffectedStepsFields)(fields,stepsFields);var newFields=_extends({},prevFields,fields);var newStepsFields=_extends({},affectedStepsFields,_defineProperty({},currentStepId,newFields));_this4.setState({stepsFields:newStepsFields,stepsFieldErrors:_this4.getStepsFieldsErrors(newStepsFields)})};this.save=function(){var createJob=_this4.props.createJob;var jobConfig=_this4.getAllFields();createJob(jobConfig)}};var JobCreate=exports.JobCreate=(0,_react3.injectI18n)(JobCreateUi)},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _navigation=__webpack_require__(4270);Object.defineProperty(exports,"Navigation",{enumerable:true,get:function get(){return _navigation.Navigation}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Navigation=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NavigationUi=function NavigationUi(_ref){var isSaving=_ref.isSaving,hasNextStep=_ref.hasNextStep,hasPreviousStep=_ref.hasPreviousStep,goToNextStep=_ref.goToNextStep,goToPreviousStep=_ref.goToPreviousStep,save=_ref.save,canGoToNextStep=_ref.canGoToNextStep;if(isSaving){return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"l"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.navigation.savingText",defaultMessage:"Saving"}))))}var previousStepButton=void 0;if(hasPreviousStep){previousStepButton=_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{iconType:"arrowLeft",onClick:goToPreviousStep},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.backButton.label",defaultMessage:"Back"})))}var nextStepButton=void 0;if(hasNextStep){nextStepButton=_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{iconType:"arrowRight",iconSide:"right",onClick:goToNextStep,isDisabled:!canGoToNextStep,fill:true},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.nextButton.label",defaultMessage:"Next"})))}else{nextStepButton=_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{color:"secondary",iconType:"check",onClick:save,fill:true},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.saveButton.label",defaultMessage:"Save"})))}return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},previousStepButton,nextStepButton)};NavigationUi.propTypes={hasNextStep:_propTypes2.default.bool.isRequired,hasPreviousStep:_propTypes2.default.bool.isRequired,isSaving:_propTypes2.default.bool.isRequired,goToNextStep:_propTypes2.default.func,goToPreviousStep:_propTypes2.default.func,save:_propTypes2.default.func.isRequired,canGoToNextStep:_propTypes2.default.bool.isRequired};var Navigation=exports.Navigation=(0,_react3.injectI18n)(NavigationUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _step_logistics=__webpack_require__(4272);Object.defineProperty(exports,"StepLogistics",{enumerable:true,get:function get(){return _step_logistics.StepLogistics}});var _step_date_histogram=__webpack_require__(4282);Object.defineProperty(exports,"StepDateHistogram",{enumerable:true,get:function get(){return _step_date_histogram.StepDateHistogram}});var _step_terms=__webpack_require__(4283);Object.defineProperty(exports,"StepTerms",{enumerable:true,get:function get(){return _step_terms.StepTerms}});var _step_histogram=__webpack_require__(4284);Object.defineProperty(exports,"StepHistogram",{enumerable:true,get:function get(){return _step_histogram.StepHistogram}});var _step_metrics=__webpack_require__(4285);Object.defineProperty(exports,"StepMetrics",{enumerable:true,get:function get(){return _step_metrics.StepMetrics}});var _step_review=__webpack_require__(4286);Object.defineProperty(exports,"StepReview",{enumerable:true,get:function get(){return _step_review.StepReview}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepLogistics=exports.StepLogisticsUi=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _index_patterns=__webpack_require__(217);var _indices=__webpack_require__(537);var _services=__webpack_require__(52);var _components=__webpack_require__(432);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var indexPatternIllegalCharacters=_index_patterns.INDEX_PATTERN_ILLEGAL_CHARACTERS_VISIBLE.join(" ");var indexIllegalCharacters=_indices.INDEX_ILLEGAL_CHARACTERS_VISIBLE.join(" ");var StepLogisticsUi=exports.StepLogisticsUi=function(_Component){_inherits(StepLogisticsUi,_Component);function StepLogisticsUi(){var _ref;var _temp,_this,_ret;_classCallCheck(this,StepLogisticsUi);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=StepLogisticsUi.__proto__||Object.getPrototypeOf(StepLogisticsUi)).call.apply(_ref,[this].concat(args))),_this),_this.showAdvancedCron=function(){var onFieldsChange=_this.props.onFieldsChange;onFieldsChange({isAdvancedCronVisible:true})},_this.hideAdvancedCron=function(){var _this$props=_this.props,onFieldsChange=_this$props.onFieldsChange,fields=_this$props.fields;var simpleRollupCron=fields.simpleRollupCron;onFieldsChange({isAdvancedCronVisible:false,rollupCron:simpleRollupCron})},_this.renderErrors=function(){var _this$props2=_this.props,areStepErrorsVisible=_this$props2.areStepErrorsVisible,hasErrors=_this$props2.hasErrors;if(!areStepErrorsVisible||!hasErrors){return null}return _react2.default.createElement(_components.StepError,null)},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(StepLogisticsUi,[{key:"renderIndexPatternHelpText",value:function renderIndexPatternHelpText(){var _props=this.props,isValidatingIndexPattern=_props.isValidatingIndexPattern,hasMatchingIndices=_props.hasMatchingIndices;if(!isValidatingIndexPattern&&hasMatchingIndices){return _react2.default.createElement(_eui.EuiTextColor,{color:"secondary"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpHasMatchesLabel",defaultMessage:"Success! Index pattern has matching indices."})))}var indexPatternValidationStatus=void 0;if(isValidatingIndexPattern){indexPatternValidationStatus=_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpSearchingLabel",defaultMessage:"Looking for matching indices..."}))}else{indexPatternValidationStatus=_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpMustMatchLabel",defaultMessage:"Index pattern must match at least one index that is not a rollup."}))}return _react2.default.createElement(_react.Fragment,null,indexPatternValidationStatus,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpAllowLabel",defaultMessage:"Use a wildcard ({asterisk}) to match multiple indices.",values:{asterisk:_react2.default.createElement("strong",null,"*")}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpDisallowLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:_react2.default.createElement("strong",null,indexPatternIllegalCharacters)}})))}},{key:"renderCronEditor",value:function renderCronEditor(){var _props2=this.props,fields=_props2.fields,onFieldsChange=_props2.onFieldsChange,areStepErrorsVisible=_props2.areStepErrorsVisible,fieldErrors=_props2.fieldErrors;var rollupCron=fields.rollupCron,cronFrequency=fields.cronFrequency,isAdvancedCronVisible=fields.isAdvancedCronVisible,fieldToPreferredValueMap=fields.fieldToPreferredValueMap;var errorRollupCron=fieldErrors.rollupCron;if(isAdvancedCronVisible){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldCronLabel",defaultMessage:"Cron expression"}),error:errorRollupCron,isInvalid:Boolean(areStepErrorsVisible&&errorRollupCron),helpText:_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiLink,{href:_services.cronUrl,target:"_blank"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldCron.helpReferenceLinkLabel",defaultMessage:"Learn more about cron expressions"}))),fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{value:rollupCron,onChange:function onChange(e){return onFieldsChange({rollupCron:e.target.value})},isInvalid:Boolean(areStepErrorsVisible&&errorRollupCron),fullWidth:true})),_react2.default.createElement(_eui.EuiText,{size:"s"},_react2.default.createElement(_eui.EuiLink,{onClick:this.hideAdvancedCron},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionSchedule.buttonBasicLabel",defaultMessage:"Create basic interval"}))))}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_components.CronEditor,{fieldToPreferredValueMap:fieldToPreferredValueMap,cronExpression:rollupCron,frequency:cronFrequency,onChange:function onChange(_ref2){var cronExpression=_ref2.cronExpression,frequency=_ref2.frequency,fieldToPreferredValueMap=_ref2.fieldToPreferredValueMap;return onFieldsChange({rollupCron:cronExpression,simpleRollupCron:cronExpression,cronFrequency:frequency,fieldToPreferredValueMap:fieldToPreferredValueMap})}}),_react2.default.createElement(_eui.EuiText,{size:"s"},_react2.default.createElement(_eui.EuiLink,{onClick:this.showAdvancedCron},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionSchedule.buttonAdvancedLabel",defaultMessage:"Create cron expression"}))))}},{key:"render",value:function render(){var _props3=this.props,fields=_props3.fields,onFieldsChange=_props3.onFieldsChange,areStepErrorsVisible=_props3.areStepErrorsVisible,fieldErrors=_props3.fieldErrors,isValidatingIndexPattern=_props3.isValidatingIndexPattern,indexPatternAsyncErrors=_props3.indexPatternAsyncErrors;var id=fields.id,indexPattern=fields.indexPattern,rollupIndex=fields.rollupIndex,rollupPageSize=fields.rollupPageSize,rollupDelay=fields.rollupDelay;var errorId=fieldErrors.id,errorIndexPattern=fieldErrors.indexPattern,errorRollupIndex=fieldErrors.rollupIndex,errorRollupPageSize=fieldErrors.rollupPageSize,errorRollupDelay=fieldErrors.rollupDelay;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogisticsTitle",defaultMessage:"Logistics"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.logisticsDescription",defaultMessage:"Define how to run the rollup job and when to index the documents."})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_services.logisticalDetailsUrl,target:"_blank",iconType:"help"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.readDocsButtonLabel",defaultMessage:"Logistics docs"})))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionIdTitle",defaultMessage:"Name"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionIdDescription",defaultMessage:"This name will be used as a unique identifier for this rollup job."}),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIdLabel",defaultMessage:"Name"}),error:errorId,isInvalid:Boolean(areStepErrorsVisible&&errorId),fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{isInvalid:Boolean(areStepErrorsVisible&&errorId),value:id,onChange:function onChange(e){return onFieldsChange({id:e.target.value})},fullWidth:true}))),_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionDataFlowTitle",defaultMessage:"Data flow"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionDataFlowDescription",defaultMessage:"Which indices do you want to roll up and where do you want to store the data?"}),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPatternLabel",defaultMessage:"Index pattern"}),error:isValidatingIndexPattern?undefined:errorIndexPattern||indexPatternAsyncErrors,isInvalid:Boolean(areStepErrorsVisible&&errorIndexPattern)||Boolean(indexPatternAsyncErrors),helpText:this.renderIndexPatternHelpText(),fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{value:indexPattern,onChange:function onChange(e){return onFieldsChange({indexPattern:e.target.value})},isInvalid:Boolean(areStepErrorsVisible&&errorIndexPattern)||Boolean(indexPatternAsyncErrors),isLoading:isValidatingIndexPattern,fullWidth:true})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldRollupIndexLabel",defaultMessage:"Rollup index name"}),error:errorRollupIndex,isInvalid:Boolean(areStepErrorsVisible&&errorRollupIndex),helpText:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldRollupIndex.helpDisallowLabel",defaultMessage:"Spaces, commas, and the characters {characterList} are not allowed.",values:{characterList:_react2.default.createElement("strong",null,indexIllegalCharacters)}}),fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{value:rollupIndex,onChange:function onChange(e){return onFieldsChange({rollupIndex:e.target.value})},isInvalid:Boolean(areStepErrorsVisible&&errorRollupIndex),fullWidth:true}))),_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionScheduleTitle",defaultMessage:"Schedule"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionScheduleDescription",defaultMessage:"How often do you want to roll up the data?"}),fullWidth:true},this.renderCronEditor()),_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement("h5",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionPageSizeTitle",defaultMessage:"How many documents do you want to roll up at a time?"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionPageSizeDescription",defaultMessage:"A larger page size will roll up data quicker, but requires more memory."}),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldPageSizeLabel",defaultMessage:"Page size"}),error:errorRollupPageSize,isInvalid:Boolean(areStepErrorsVisible&&errorRollupPageSize),fullWidth:true},_react2.default.createElement(_eui.EuiFieldNumber,{value:rollupPageSize?Number(rollupPageSize):"",onChange:function onChange(e){return onFieldsChange({rollupPageSize:e.target.value})},isInvalid:Boolean(areStepErrorsVisible&&errorRollupPageSize),fullWidth:true,min:0}))),_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement("h5",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionDelayTitle",defaultMessage:"How long should the rollup job wait before rolling up new data?"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionDelayDescription",defaultMessage:"A latency buffer will delay rolling up data. This will yield a higher-fidelity rollup by allowing for variable ingest latency. By default, the rollup job attempts to roll up all data that is available."}),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldDelayLabel",defaultMessage:"Latency buffer (optional)"}),error:errorRollupDelay,isInvalid:Boolean(areStepErrorsVisible&&errorRollupDelay),helpText:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldDelay.helpExampleLabel",defaultMessage:"Example values: 30s, 20m, 24h, 2d, 1w, 1M"}))),fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{value:rollupDelay||"",onChange:function onChange(e){return onFieldsChange({rollupDelay:e.target.value})},isInvalid:Boolean(areStepErrorsVisible&&errorRollupDelay),fullWidth:true})))),this.renderErrors())}}]);return StepLogisticsUi}(_react.Component);StepLogisticsUi.propTypes={fields:_propTypes2.default.object.isRequired,onFieldsChange:_propTypes2.default.func.isRequired,fieldErrors:_propTypes2.default.object.isRequired,hasErrors:_propTypes2.default.bool.isRequired,areStepErrorsVisible:_propTypes2.default.bool.isRequired,isValidatingIndexPattern:_propTypes2.default.bool.isRequired,hasMatchingIndices:_propTypes2.default.bool.isRequired,indexPatternAsyncErrors:_propTypes2.default.array};var StepLogistics=exports.StepLogistics=(0,_react3.injectI18n)(StepLogisticsUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldChooser=undefined;var _FieldChooser$propTyp;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FieldChooser=exports.FieldChooser=function(_Component){_inherits(FieldChooser,_Component);function FieldChooser(props){_classCallCheck(this,FieldChooser);var _this=_possibleConstructorReturn(this,(FieldChooser.__proto__||Object.getPrototypeOf(FieldChooser)).call(this,props));_this.onSearch=function(e){_this.setState({searchValue:e.target.value})};_this.onButtonClick=function(){_this.setState(function(state){return{isOpen:!state.isOpen}})};_this.close=function(){_this.setState({isOpen:false})};_this.state={isOpen:false,searchValue:""};return _this}_createClass(FieldChooser,[{key:"render",value:function render(){var _props=this.props,buttonLabel=_props.buttonLabel,columns=_props.columns,fields=_props.fields,selectedFields=_props.selectedFields,prompt=_props.prompt,onSelectField=_props.onSelectField;var _state=this.state,isOpen=_state.isOpen,searchValue=_state.searchValue;var getRowProps=function getRowProps(item){return{onClick:function onClick(){onSelectField(item)}}};var flyout=void 0;if(isOpen){var selectedFieldNames=selectedFields.map(function(_ref){var name=_ref.name;return name});var unselectedFields=fields.filter(function(_ref2){var name=_ref2.name;return!selectedFieldNames.includes(name)});var searchedItems=searchValue?unselectedFields.filter(function(item){var normalizedSearchValue=searchValue.trim().toLowerCase();return item.name.toLowerCase().includes(normalizedSearchValue)||item.type.toLowerCase().includes(normalizedSearchValue)}):unselectedFields;flyout=_react2.default.createElement(_eui.EuiFlyout,{onClose:this.close,"aria-labelledby":"fieldChooserFlyoutTitle",size:"m",maxWidth:400},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,{size:"m",id:"fieldChooserFlyoutTitle"},_react2.default.createElement("h2",null,buttonLabel)),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFieldSearch,{placeholder:prompt,value:searchValue,onChange:this.onSearch,"aria-label":prompt,fullWidth:true})),_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiBasicTable,{items:searchedItems,columns:columns,rowProps:getRowProps,responsive:false})))}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiButton,{onClick:this.onButtonClick},buttonLabel),flyout)}}]);return FieldChooser}(_react.Component);FieldChooser.propTypes=(_FieldChooser$propTyp={buttonLabel:_propTypes2.default.node.isRequired,columns:_propTypes2.default.array.isRequired,fields:_propTypes2.default.array.isRequired,selectedFields:_propTypes2.default.array.isRequired,onSelectField:_propTypes2.default.func.isRequired},_defineProperty(_FieldChooser$propTyp,"columns",_propTypes2.default.array.isRequired),_defineProperty(_FieldChooser$propTyp,"prompt",_propTypes2.default.string),_FieldChooser$propTyp);FieldChooser.defaultProps={prompt:"Search"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _cron_editor=__webpack_require__(4275);Object.defineProperty(exports,"CronEditor",{enumerable:true,get:function get(){return _cron_editor.CronEditor}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CronEditor=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _frequencyToFieldsMap,_frequencyToBaselineF;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _services=__webpack_require__(52);var _cron_hourly=__webpack_require__(4276);var _cron_daily=__webpack_require__(4277);var _cron_weekly=__webpack_require__(4278);var _cron_monthly=__webpack_require__(4279);var _cron_yearly=__webpack_require__(4280);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function makeSequence(min,max){var values=[];for(var i=min;i<=max;i++){values.push(i)}return values}var MINUTE_OPTIONS=makeSequence(0,59).map(function(value){return{value:value.toString(),text:(0,_lodash.padLeft)(value,2,"0")}});var HOUR_OPTIONS=makeSequence(0,23).map(function(value){return{value:value.toString(),text:(0,_lodash.padLeft)(value,2,"0")}});var DAY_OPTIONS=makeSequence(1,7).map(function(value){return{value:value.toString(),text:(0,_services.getDayName)(value-1)}});var DATE_OPTIONS=makeSequence(1,31).map(function(value){return{value:value.toString(),text:(0,_services.getOrdinalValue)(value)}});var MONTH_OPTIONS=makeSequence(1,12).map(function(value){return{value:value.toString(),text:(0,_services.getMonthName)(value-1)}});var UNITS=[{value:_services.MINUTE,text:"minute"},{value:_services.HOUR,text:"hour"},{value:_services.DAY,text:"day"},{value:_services.WEEK,text:"week"},{value:_services.MONTH,text:"month"},{value:_services.YEAR,text:"year"}];var frequencyToFieldsMap=(_frequencyToFieldsMap={},_defineProperty(_frequencyToFieldsMap,_services.MINUTE,{}),_defineProperty(_frequencyToFieldsMap,_services.HOUR,{minute:true}),_defineProperty(_frequencyToFieldsMap,_services.DAY,{hour:true,minute:true}),_defineProperty(_frequencyToFieldsMap,_services.WEEK,{day:true,hour:true,minute:true}),_defineProperty(_frequencyToFieldsMap,_services.MONTH,{date:true,hour:true,minute:true}),_defineProperty(_frequencyToFieldsMap,_services.YEAR,{month:true,date:true,hour:true,minute:true}),_frequencyToFieldsMap);var frequencyToBaselineFieldsMap=(_frequencyToBaselineF={},_defineProperty(_frequencyToBaselineF,_services.MINUTE,{second:"0",minute:"*",hour:"*",date:"*",month:"*",day:"?"}),_defineProperty(_frequencyToBaselineF,_services.HOUR,{second:"0",minute:"0",hour:"*",date:"*",month:"*",day:"?"}),_defineProperty(_frequencyToBaselineF,_services.DAY,{second:"0",minute:"0",hour:"0",date:"*",month:"*",day:"?"}),_defineProperty(_frequencyToBaselineF,_services.WEEK,{second:"0",minute:"0",hour:"0",date:"?",month:"*",day:"7"}),_defineProperty(_frequencyToBaselineF,_services.MONTH,{second:"0",minute:"0",hour:"0",date:"1",month:"*",day:"?"}),_defineProperty(_frequencyToBaselineF,_services.YEAR,{second:"0",minute:"0",hour:"0",date:"1",month:"1",day:"?"}),_frequencyToBaselineF);var CronEditor=exports.CronEditor=function(_Component){_inherits(CronEditor,_Component);_createClass(CronEditor,null,[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props){var cronExpression=props.cronExpression;return(0,_services.cronExpressionToParts)(cronExpression)}}]);function CronEditor(props){_classCallCheck(this,CronEditor);var _this=_possibleConstructorReturn(this,(CronEditor.__proto__||Object.getPrototypeOf(CronEditor)).call(this,props));_this.onChangeFrequency=function(frequency){var _this$props=_this.props,onChange=_this$props.onChange,fieldToPreferredValueMap=_this$props.fieldToPreferredValueMap;var editableFields=Object.keys(frequencyToFieldsMap[frequency]);var inheritedFields=editableFields.reduce(function(baselineFields,field){if(fieldToPreferredValueMap[field]!=null){baselineFields[field]=fieldToPreferredValueMap[field]}return baselineFields},_extends({},frequencyToBaselineFieldsMap[frequency]));var newCronExpression=(0,_services.cronPartsToExpression)(inheritedFields);onChange({frequency:frequency,cronExpression:newCronExpression,fieldToPreferredValueMap:fieldToPreferredValueMap})};_this.onChangeFields=function(fields){var _this$props2=_this.props,onChange=_this$props2.onChange,frequency=_this$props2.frequency,fieldToPreferredValueMap=_this$props2.fieldToPreferredValueMap;var editableFields=Object.keys(frequencyToFieldsMap[frequency]);var newFieldToPreferredValueMap={};var editedFields=editableFields.reduce(function(accumFields,field){if(fields[field]!==undefined){accumFields[field]=fields[field];newFieldToPreferredValueMap[field]=fields[field]}else{accumFields[field]=_this.state[field]}return accumFields},_extends({},frequencyToBaselineFieldsMap[frequency]));var newCronExpression=(0,_services.cronPartsToExpression)(editedFields);onChange({frequency:frequency,cronExpression:newCronExpression,fieldToPreferredValueMap:_extends({},fieldToPreferredValueMap,newFieldToPreferredValueMap)})};var cronExpression=props.cronExpression;var parsedCron=(0,_services.cronExpressionToParts)(cronExpression);_this.state=_extends({},parsedCron);return _this}_createClass(CronEditor,[{key:"renderForm",value:function renderForm(){var frequency=this.props.frequency;var _state=this.state,minute=_state.minute,hour=_state.hour,day=_state.day,date=_state.date,month=_state.month;switch(frequency){case _services.MINUTE:return;case _services.HOUR:return _react2.default.createElement(_cron_hourly.CronHourly,{minute:minute,minuteOptions:MINUTE_OPTIONS,onChange:this.onChangeFields});case _services.DAY:return _react2.default.createElement(_cron_daily.CronDaily,{minute:minute,minuteOptions:MINUTE_OPTIONS,hour:hour,hourOptions:HOUR_OPTIONS,onChange:this.onChangeFields});case _services.WEEK:return _react2.default.createElement(_cron_weekly.CronWeekly,{minute:minute,minuteOptions:MINUTE_OPTIONS,hour:hour,hourOptions:HOUR_OPTIONS,day:day,dayOptions:DAY_OPTIONS,onChange:this.onChangeFields});case _services.MONTH:return _react2.default.createElement(_cron_monthly.CronMonthly,{minute:minute,minuteOptions:MINUTE_OPTIONS,hour:hour,hourOptions:HOUR_OPTIONS,date:date,dateOptions:DATE_OPTIONS,onChange:this.onChangeFields});case _services.YEAR:return _react2.default.createElement(_cron_yearly.CronYearly,{minute:minute,minuteOptions:MINUTE_OPTIONS,hour:hour,hourOptions:HOUR_OPTIONS,date:date,dateOptions:DATE_OPTIONS,month:month,monthOptions:MONTH_OPTIONS,onChange:this.onChangeFields});default:return}}},{key:"render",value:function render(){var _this2=this;var frequency=this.props.frequency;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.fieldFrequencyLabel",defaultMessage:"Frequency"}),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{options:UNITS,value:frequency,onChange:function onChange(e){return _this2.onChangeFrequency(e.target.value)},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.textEveryLabel",defaultMessage:"Every"})))})),this.renderForm())}}]);return CronEditor}(_react.Component);CronEditor.propTypes={fieldToPreferredValueMap:_propTypes2.default.object.isRequired,frequency:_propTypes2.default.string.isRequired,cronExpression:_propTypes2.default.string.isRequired,onChange:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CronHourly=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CronHourly=exports.CronHourly=function CronHourly(_ref){var minute=_ref.minute,minuteOptions=_ref.minuteOptions,_onChange=_ref.onChange;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronHourly.fieldTimeLabel",defaultMessage:"Minute"}),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{options:minuteOptions,value:minute,onChange:function onChange(e){return _onChange({minute:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronHourly.fieldMinute.textAtLabel",defaultMessage:"At"})))})))};CronHourly.propTypes={minute:_propTypes2.default.string.isRequired,minuteOptions:_propTypes2.default.array.isRequired,onChange:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CronDaily=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CronDaily=exports.CronDaily=function CronDaily(_ref){var minute=_ref.minute,minuteOptions=_ref.minuteOptions,hour=_ref.hour,hourOptions=_ref.hourOptions,_onChange=_ref.onChange;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronDaily.fieldTimeLabel",defaultMessage:"Time"}),fullWidth:true},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiSelect,{options:hourOptions,value:hour,onChange:function onChange(e){return _onChange({hour:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronDaily.fieldHour.textAtLabel",defaultMessage:"At"})))})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiSelect,{options:minuteOptions,value:minute,onChange:function onChange(e){return _onChange({minute:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,":"))})))))};CronDaily.propTypes={minute:_propTypes2.default.string.isRequired,minuteOptions:_propTypes2.default.array.isRequired,hour:_propTypes2.default.string.isRequired,hourOptions:_propTypes2.default.array.isRequired,onChange:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CronWeekly=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CronWeekly=exports.CronWeekly=function CronWeekly(_ref){var minute=_ref.minute,minuteOptions=_ref.minuteOptions,hour=_ref.hour,hourOptions=_ref.hourOptions,day=_ref.day,dayOptions=_ref.dayOptions,_onChange=_ref.onChange;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronWeekly.fieldDateLabel",defaultMessage:"Day"}),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{options:dayOptions,value:day,onChange:function onChange(e){return _onChange({day:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronWeekly.textOnLabel",defaultMessage:"On"})))})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronWeekly.fieldTimeLabel",defaultMessage:"Time"}),fullWidth:true},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiSelect,{options:hourOptions,value:hour,onChange:function onChange(e){return _onChange({hour:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronWeekly.fieldHour.textAtLabel",defaultMessage:"At"})))})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiSelect,{options:minuteOptions,value:minute,onChange:function onChange(e){return _onChange({minute:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,":"))})))))};CronWeekly.propTypes={minute:_propTypes2.default.string.isRequired,minuteOptions:_propTypes2.default.array.isRequired,hour:_propTypes2.default.string.isRequired,hourOptions:_propTypes2.default.array.isRequired,day:_propTypes2.default.string.isRequired,dayOptions:_propTypes2.default.array.isRequired,onChange:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CronMonthly=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CronMonthly=exports.CronMonthly=function CronMonthly(_ref){var minute=_ref.minute,minuteOptions=_ref.minuteOptions,hour=_ref.hour,hourOptions=_ref.hourOptions,date=_ref.date,dateOptions=_ref.dateOptions,_onChange=_ref.onChange;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronMonthly.fieldDateLabel",defaultMessage:"Date"}),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{options:dateOptions,value:date,onChange:function onChange(e){return _onChange({date:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronMonthly.textOnTheLabel",defaultMessage:"On the"})))})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronMonthly.fieldTimeLabel",defaultMessage:"Time"}),fullWidth:true},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiSelect,{options:hourOptions,value:hour,onChange:function onChange(e){return _onChange({hour:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronMonthly.fieldHour.textAtLabel",defaultMessage:"At"})))})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiSelect,{options:minuteOptions,value:minute,onChange:function onChange(e){return _onChange({minute:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,":"))})))))};CronMonthly.propTypes={minute:_propTypes2.default.string.isRequired,minuteOptions:_propTypes2.default.array.isRequired,hour:_propTypes2.default.string.isRequired,hourOptions:_propTypes2.default.array.isRequired,date:_propTypes2.default.string.isRequired,dateOptions:_propTypes2.default.array.isRequired,onChange:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CronYearly=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CronYearly=exports.CronYearly=function CronYearly(_ref){var minute=_ref.minute,minuteOptions=_ref.minuteOptions,hour=_ref.hour,hourOptions=_ref.hourOptions,date=_ref.date,dateOptions=_ref.dateOptions,month=_ref.month,monthOptions=_ref.monthOptions,_onChange=_ref.onChange;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronYearly.fieldMonthLabel",defaultMessage:"Month"}),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{options:monthOptions,value:month,onChange:function onChange(e){return _onChange({month:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronYearly.fieldMonth.textInLabel",defaultMessage:"In"})))})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronYearly.fieldDateLabel",defaultMessage:"Date"}),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{options:dateOptions,value:date,onChange:function onChange(e){return _onChange({date:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronYearly.fieldDate.textOnTheLabel",defaultMessage:"On the"})))})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronYearly.fieldTimeLabel",defaultMessage:"Time"}),fullWidth:true},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiSelect,{options:hourOptions,value:hour,onChange:function onChange(e){return _onChange({hour:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.cronEditor.cronYearly.fieldHour.textAtLabel",defaultMessage:"At"})))})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiSelect,{options:minuteOptions,value:minute,onChange:function onChange(e){return _onChange({minute:e.target.value})},fullWidth:true,prepend:_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,":"))})))))};CronYearly.propTypes={minute:_propTypes2.default.string.isRequired,minuteOptions:_propTypes2.default.array.isRequired,hour:_propTypes2.default.string.isRequired,hourOptions:_propTypes2.default.array.isRequired,date:_propTypes2.default.string.isRequired,dateOptions:_propTypes2.default.array.isRequired,month:_propTypes2.default.string.isRequired,monthOptions:_propTypes2.default.array.isRequired,onChange:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepError=StepError;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StepError(_ref){var _ref$title=_ref.title,title=_ref$title===undefined?_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepErrorTitle",defaultMessage:"Fix errors before continuing."}):_ref$title;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCallOut,{title:title,color:"danger",iconType:"cross"}))}StepError.propTypes={title:_propTypes2.default.node}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepDateHistogram=exports.StepDateHistogramUi=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _momentTimezone=__webpack_require__(191);var _momentTimezone2=_interopRequireDefault(_momentTimezone);var _eui=__webpack_require__(2);var _parse_es_interval=__webpack_require__(330);var _services=__webpack_require__(52);var _components=__webpack_require__(432);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var timeZoneOptions=_momentTimezone2.default.tz.names().map(function(name){return{value:name,text:name}});var StepDateHistogramUi=exports.StepDateHistogramUi=function(_Component){_inherits(StepDateHistogramUi,_Component);_createClass(StepDateHistogramUi,null,[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props){var dateFields=props.dateFields;var dateHistogramFieldOptions=dateFields.map(function(dateField){return{value:dateField,text:dateField}});return{dateHistogramFieldOptions:dateHistogramFieldOptions}}}]);function StepDateHistogramUi(props){_classCallCheck(this,StepDateHistogramUi);var _this=_possibleConstructorReturn(this,(StepDateHistogramUi.__proto__||Object.getPrototypeOf(StepDateHistogramUi)).call(this,props));_this.renderErrors=function(){var _this$props=_this.props,areStepErrorsVisible=_this$props.areStepErrorsVisible,hasErrors=_this$props.hasErrors;if(!areStepErrorsVisible||!hasErrors){return null}return _react2.default.createElement(_components.StepError,null)};_this.state={dateHistogramFieldOptions:[]};return _this}_createClass(StepDateHistogramUi,[{key:"renderIntervalHelpText",value:function renderIntervalHelpText(){var fields=this.props.fields;var dateHistogramInterval=fields.dateHistogramInterval;var preferFixedWarning=void 0;try{var _parseEsInterval=(0,_parse_es_interval.parseEsInterval)(dateHistogramInterval),value=_parseEsInterval.value,unit=_parseEsInterval.unit;if(value===1){switch(unit){case"d":preferFixedWarning=_react2.default.createElement(_eui.EuiTextColor,{color:"warning"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningDayLabel",defaultMessage:"Consider using 24h instead of 1d. This allows for more flexible queries."})));break;case"h":preferFixedWarning=_react2.default.createElement(_eui.EuiTextColor,{color:"warning"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningHourLabel",defaultMessage:"Consider using 60m instead of 1h. This allows for more flexible queries."})));break}}switch(unit){case"y":preferFixedWarning=_react2.default.createElement(_eui.EuiTextColor,{color:"warning"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningYearLabel",defaultMessage:"Consider using the d unit instead of y. This allows for more flexible queries."})));break;case"M":preferFixedWarning=_react2.default.createElement(_eui.EuiTextColor,{color:"warning"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningMonthLabel",defaultMessage:"Consider using the d unit instead of M. This allows for more flexible queries."})));break;case"w":preferFixedWarning=_react2.default.createElement(_eui.EuiTextColor,{color:"warning"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningWeekLabel",defaultMessage:"Consider using the d unit instead of w. This allows for more flexible queries."})));break}}catch(error){}return _react2.default.createElement(_react.Fragment,null,preferFixedWarning,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.helpExampleLabel",defaultMessage:"Example sizes: 1000ms, 30s, 20m, 24h, 2d, 1w, 1M, 1y"})))}},{key:"render",value:function render(){var _props=this.props,fields=_props.fields,onFieldsChange=_props.onFieldsChange,areStepErrorsVisible=_props.areStepErrorsVisible,fieldErrors=_props.fieldErrors;var dateHistogramInterval=fields.dateHistogramInterval,dateHistogramField=fields.dateHistogramField,dateHistogramTimeZone=fields.dateHistogramTimeZone;var errorDateHistogramInterval=fieldErrors.dateHistogramInterval,errorDateHistogramField=fieldErrors.dateHistogramField,errorDateHistogramTimeZone=fieldErrors.dateHistogramTimeZone;var dateHistogramFieldOptions=this.state.dateHistogramFieldOptions;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogramTitle",defaultMessage:"Date histogram"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_services.dateHistogramDetailsUrl,target:"_blank",iconType:"help"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.readDocsButtonLabel",defaultMessage:"Date histogram docs"})))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement("div",null),description:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogramDescription",defaultMessage:"Define how {link} will operate on your rollup data.",values:{link:_react2.default.createElement(_eui.EuiLink,{href:_services.dateHistogramAggregationUrl,target:"_blank"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogramDescription.aggregationsLinkLabel",defaultMessage:"date histogram aggregations"}))}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.sectionDataSourceDescription",defaultMessage:"Note that smaller time buckets take up proportionally more space."}))),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldDateFieldLabel",defaultMessage:"Date field"}),error:errorDateHistogramField,isInvalid:Boolean(areStepErrorsVisible&&errorDateHistogramField),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{isInvalid:Boolean(areStepErrorsVisible&&errorDateHistogramField),options:dateHistogramFieldOptions,value:dateHistogramField,onChange:function onChange(e){return onFieldsChange({dateHistogramField:e.target.value})},fullWidth:true})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldIntervalLabel",defaultMessage:"Time bucket size"}),error:errorDateHistogramInterval,isInvalid:Boolean(areStepErrorsVisible&&errorDateHistogramInterval),helpText:this.renderIntervalHelpText(),fullWidth:true},_react2.default.createElement(_eui.EuiFieldText,{value:dateHistogramInterval||"",onChange:function onChange(e){return onFieldsChange({dateHistogramInterval:e.target.value})},isInvalid:Boolean(areStepErrorsVisible&&errorDateHistogramInterval),fullWidth:true})),_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldTimeZoneLabel",defaultMessage:"Time zone"}),error:errorDateHistogramTimeZone||"",isInvalid:Boolean(areStepErrorsVisible&&errorDateHistogramTimeZone),fullWidth:true},_react2.default.createElement(_eui.EuiSelect,{options:timeZoneOptions,value:dateHistogramTimeZone,onChange:function onChange(e){return onFieldsChange({dateHistogramTimeZone:e.target.value})},fullWidth:true})))),this.renderErrors())}}]);return StepDateHistogramUi}(_react.Component);StepDateHistogramUi.propTypes={fields:_propTypes2.default.object.isRequired,onFieldsChange:_propTypes2.default.func.isRequired,fieldErrors:_propTypes2.default.object.isRequired,hasErrors:_propTypes2.default.bool.isRequired,areStepErrorsVisible:_propTypes2.default.bool.isRequired,dateFields:_propTypes2.default.array.isRequired};var StepDateHistogram=exports.StepDateHistogram=(0,_react3.injectI18n)(StepDateHistogramUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepTerms=exports.StepTermsUi=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _services=__webpack_require__(52);var _components=__webpack_require__(370);var _components2=__webpack_require__(432);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var StepTermsUi=exports.StepTermsUi=function(_Component){_inherits(StepTermsUi,_Component);function StepTermsUi(){var _ref;var _temp,_this,_ret;_classCallCheck(this,StepTermsUi);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=StepTermsUi.__proto__||Object.getPrototypeOf(StepTermsUi)).call.apply(_ref,[this].concat(args))),_this),_this.onSelectField=function(field){var _this$props=_this.props,terms=_this$props.fields.terms,onFieldsChange=_this$props.onFieldsChange;onFieldsChange({terms:terms.concat(field)})},_this.onRemoveField=function(field){var _this$props2=_this.props,terms=_this$props2.fields.terms,onFieldsChange=_this$props2.onFieldsChange;onFieldsChange({terms:terms.filter(function(term){return term!==field})})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(StepTermsUi,[{key:"render",value:function render(){var _props=this.props,fields=_props.fields,termsFields=_props.termsFields;var terms=fields.terms;var columns=[{field:"name",name:"Field",sortable:true},{field:"type",name:"Type",truncateText:true,sortable:true,width:"180px"}];return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepTermsTitle",defaultMessage:"Terms (optional)"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepTermsDescription",defaultMessage:"Select the fields you want to bucket using terms aggregations. This can be costly for high-cardinality fields such as IP addresses, if the time bucket is sparse."})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"rollupJobWizardStepActions"},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_services.termsDetailsUrl,target:"_blank",iconType:"help"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepTerms.readDocsButtonLabel",defaultMessage:"Terms docs"})))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_components.FieldList,{columns:columns,fields:terms,onRemoveField:this.onRemoveField,emptyMessage:_react2.default.createElement("p",null,"No terms fields added"),addButton:_react2.default.createElement(_components2.FieldChooser,{buttonLabel:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepTerms.fieldsChooserLabel",defaultMessage:"Add terms fields"}),columns:columns,fields:termsFields,selectedFields:terms,onSelectField:this.onSelectField})}))}}]);return StepTermsUi}(_react.Component);StepTermsUi.propTypes={fields:_propTypes2.default.object.isRequired,onFieldsChange:_propTypes2.default.func.isRequired,termsFields:_propTypes2.default.array.isRequired};var StepTerms=exports.StepTerms=(0,_react3.injectI18n)(StepTermsUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepHistogram=exports.StepHistogramUi=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _services=__webpack_require__(52);var _components=__webpack_require__(370);var _components2=__webpack_require__(432);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var StepHistogramUi=exports.StepHistogramUi=function(_Component){_inherits(StepHistogramUi,_Component);function StepHistogramUi(){var _ref;var _temp,_this,_ret;_classCallCheck(this,StepHistogramUi);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=StepHistogramUi.__proto__||Object.getPrototypeOf(StepHistogramUi)).call.apply(_ref,[this].concat(args))),_this),_this.onSelectField=function(field){var _this$props=_this.props,histogram=_this$props.fields.histogram,onFieldsChange=_this$props.onFieldsChange;onFieldsChange({histogram:histogram.concat(field)})},_this.onRemoveField=function(field){var _this$props2=_this.props,histogram=_this$props2.fields.histogram,onFieldsChange=_this$props2.onFieldsChange;onFieldsChange({histogram:histogram.filter(function(histogramField){return histogramField!==field})})},_this.renderErrors=function(){var _this$props3=_this.props,areStepErrorsVisible=_this$props3.areStepErrorsVisible,hasErrors=_this$props3.hasErrors;if(!areStepErrorsVisible||!hasErrors){return null}return _react2.default.createElement(_components2.StepError,null)},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(StepHistogramUi,[{key:"render",value:function render(){var _props=this.props,fields=_props.fields,histogramFields=_props.histogramFields;var histogram=fields.histogram;var columns=[{field:"name",name:"Field",sortable:true}];return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogramTitle",defaultMessage:"Histogram (optional)"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.histogramDescription",defaultMessage:"Select the fields you want to bucket using numeric intervals."})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"rollupJobWizardStepActions"},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_services.histogramDetailsUrl,target:"_blank",iconType:"help"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.readDocsButtonLabel",defaultMessage:"Histogram docs"})))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_components.FieldList,{columns:columns,fields:histogram,onRemoveField:this.onRemoveField,emptyMessage:_react2.default.createElement("p",null,"No histogram fields added"),addButton:_react2.default.createElement(_components2.FieldChooser,{buttonLabel:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.fieldsChooserLabel",defaultMessage:"Add histogram fields"}),columns:columns,fields:histogramFields,selectedFields:histogram,onSelectField:this.onSelectField})}),this.renderInterval(),this.renderErrors())}},{key:"renderInterval",value:function renderInterval(){var _props2=this.props,fields=_props2.fields,onFieldsChange=_props2.onFieldsChange,areStepErrorsVisible=_props2.areStepErrorsVisible,fieldErrors=_props2.fieldErrors;var histogram=fields.histogram,histogramInterval=fields.histogramInterval;var errorHistogramInterval=fieldErrors.histogramInterval;if(!histogram.length){return null}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiDescribedFormGroup,{title:_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.sectionHistogramIntervalTitle",defaultMessage:"Histogram interval"}))),description:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.sectionHistogramIntervalDescription",defaultMessage:"This is the interval of histogram buckets to be generated when rolling up, e.g. 5 will create buckets that are five units wide (0-5, 5-10, etc). Note that only one interval can be specified in the histogram group, meaning that all fields being grouped via the histogram must share the same interval."}),fullWidth:true},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.fieldHistogramIntervalLabel",defaultMessage:"Interval"}),error:errorHistogramInterval,isInvalid:Boolean(areStepErrorsVisible&&errorHistogramInterval),fullWidth:true},_react2.default.createElement(_eui.EuiFieldNumber,{value:!histogramInterval&&histogramInterval!==0?"":Number(histogramInterval),onChange:function onChange(e){return onFieldsChange({histogramInterval:e.target.value})},isInvalid:Boolean(areStepErrorsVisible&&errorHistogramInterval),fullWidth:true}))))}}]);return StepHistogramUi}(_react.Component);StepHistogramUi.propTypes={fields:_propTypes2.default.object.isRequired,onFieldsChange:_propTypes2.default.func.isRequired,fieldErrors:_propTypes2.default.object.isRequired,hasErrors:_propTypes2.default.bool.isRequired,areStepErrorsVisible:_propTypes2.default.bool.isRequired,histogramFields:_propTypes2.default.array.isRequired};var StepHistogram=exports.StepHistogram=(0,_react3.injectI18n)(StepHistogramUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepMetrics=exports.StepMetricsUi=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _services=__webpack_require__(52);var _components=__webpack_require__(370);var _components2=__webpack_require__(432);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var whiteListedMetricByFieldType={numeric:{avg:true,max:true,min:true,sum:true,value_count:true},date:{max:true,min:true,value_count:true}};var StepMetricsUi=exports.StepMetricsUi=function(_Component){_inherits(StepMetricsUi,_Component);function StepMetricsUi(props){_classCallCheck(this,StepMetricsUi);var _this=_possibleConstructorReturn(this,(StepMetricsUi.__proto__||Object.getPrototypeOf(StepMetricsUi)).call(this,props));_this.onSelectField=function(field){var _this$props=_this.props,metrics=_this$props.fields.metrics,onFieldsChange=_this$props.onFieldsChange;var newMetrics=metrics.concat(_extends({},field,{types:[]}));onFieldsChange({metrics:newMetrics})};_this.onRemoveField=function(field){var _this$props2=_this.props,metrics=_this$props2.fields.metrics,onFieldsChange=_this$props2.onFieldsChange;var newMetrics=metrics.filter(function(_ref){var name=_ref.name;return name!==field.name});onFieldsChange({metrics:newMetrics})};_this.setMetric=function(fieldName,metricType,isSelected){var _this$props3=_this.props,metrics=_this$props3.fields.metrics,onFieldsChange=_this$props3.onFieldsChange;var newMetrics=[].concat(_toConsumableArray(metrics));var _newMetrics$find=newMetrics.find(function(_ref2){var name=_ref2.name;return name===fieldName}),updatedTypes=_newMetrics$find.types;if(isSelected){updatedTypes.push(metricType)}else{updatedTypes.splice(updatedTypes.indexOf(metricType),1)}onFieldsChange({metrics:newMetrics})};_this.renderErrors=function(){var _this$props4=_this.props,areStepErrorsVisible=_this$props4.areStepErrorsVisible,fieldErrors=_this$props4.fieldErrors;var errorMetrics=fieldErrors.metrics;if(!areStepErrorsVisible||!errorMetrics){return null}return _react2.default.createElement(_components2.StepError,{title:errorMetrics})};_this.chooserColumns=[{field:"name",name:"Field",sortable:true,width:"240px"},{field:"type",name:"Type",truncateText:true,sortable:true,width:"100px"}];var metricTypesConfig=[{type:"avg",label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.checkboxAverageLabel",defaultMessage:"Average"})},{type:"max",label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.checkboxMaxLabel",defaultMessage:"Maximum"})},{type:"min",label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.checkboxMinLabel",defaultMessage:"Minimum"})},{type:"sum",label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.checkboxSumLabel",defaultMessage:"Sum"})},{type:"value_count",label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.checkboxValueCountLabel",defaultMessage:"Value count"})}];_this.listColumns=_this.chooserColumns.concat({type:"metrics",name:"Metrics",render:function render(_ref3){var fieldName=_ref3.name,fieldType=_ref3.type,types=_ref3.types;var checkboxes=metricTypesConfig.map(function(_ref4){var type=_ref4.type,label=_ref4.label;var isAllowed=whiteListedMetricByFieldType[fieldType][type];if(!isAllowed){return}var isSelected=types.includes(type);return _react2.default.createElement(_eui.EuiFlexItem,{grow:false,key:fieldName+"-"+type+"-checkbox"},_react2.default.createElement(_eui.EuiCheckbox,{id:fieldName+"-"+type+"-checkbox",label:label,checked:isSelected,onChange:function onChange(){return _this.setMetric(fieldName,type,!isSelected)}}))}).filter(function(checkbox){return checkbox!==undefined});return _react2.default.createElement(_eui.EuiFlexGroup,{wrap:true,gutterSize:"m"},checkboxes)}});return _this}_createClass(StepMetricsUi,[{key:"render",value:function render(){var _props=this.props,fields=_props.fields,metricsFields=_props.metricsFields;var metrics=fields.metrics;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetricsTitle",defaultMessage:"Metrics (optional)"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetricsDescription",defaultMessage:"Select the metrics to collect while rolling up data. By default, only doc_counts are collected for each group."})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"rollupJobWizardStepActions"},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",flush:"right",href:_services.metricsDetailsUrl,target:"_blank",iconType:"help"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.readDocsButtonLabel",defaultMessage:"Metrics docs"})))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_components.FieldList,{columns:this.listColumns,fields:metrics,onRemoveField:this.onRemoveField,emptyMessage:_react2.default.createElement("p",null,"No metrics fields added"),addButton:_react2.default.createElement(_components2.FieldChooser,{buttonLabel:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.fieldsChooserLabel",defaultMessage:"Add metrics fields"}),columns:this.chooserColumns,fields:metricsFields,selectedFields:metrics,onSelectField:this.onSelectField})}),this.renderErrors())}}]);return StepMetricsUi}(_react.Component);StepMetricsUi.propTypes={fields:_propTypes2.default.object.isRequired,onFieldsChange:_propTypes2.default.func.isRequired,fieldErrors:_propTypes2.default.object.isRequired,areStepErrorsVisible:_propTypes2.default.bool.isRequired,metricsFields:_propTypes2.default.array.isRequired};var StepMetrics=exports.StepMetrics=(0,_react3.injectI18n)(StepMetricsUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepReview=exports.StepReviewUi=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _services=__webpack_require__(52);var _components=__webpack_require__(370);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var JOB_DETAILS_TABS=[_components.JOB_DETAILS_TAB_SUMMARY,_components.JOB_DETAILS_TAB_TERMS,_components.JOB_DETAILS_TAB_HISTOGRAM,_components.JOB_DETAILS_TAB_METRICS,_components.JOB_DETAILS_TAB_JSON];var StepReviewUi=exports.StepReviewUi=function(_Component){_inherits(StepReviewUi,_Component);function StepReviewUi(props){_classCallCheck(this,StepReviewUi);var _this=_possibleConstructorReturn(this,(StepReviewUi.__proto__||Object.getPrototypeOf(StepReviewUi)).call(this,props));_this.selectTab=function(tab){_this.setState({selectedTab:tab})};_this.state={selectedTab:JOB_DETAILS_TABS[0]};return _this}_createClass(StepReviewUi,[{key:"renderTabs",value:function renderTabs(){var _this2=this;var selectedTab=this.state.selectedTab;var job=this.props.job;var renderedTabs=[];JOB_DETAILS_TABS.forEach(function(tab,index){if(tab===_components.JOB_DETAILS_TAB_TERMS&&!job.terms.length){return}if(tab===_components.JOB_DETAILS_TAB_HISTOGRAM&&!job.histogram.length){return}if(tab===_components.JOB_DETAILS_TAB_METRICS&&!job.metrics.length){return}var isSelected=tab===selectedTab;renderedTabs.push(_react2.default.createElement(_eui.EuiTab,{onClick:function onClick(){return _this2.selectTab(tab)},isSelected:isSelected,"data-test-subj":"stepReviewTab"+(isSelected?"Selected":""),key:index},_components.tabToHumanizedMap[tab]))});if(!renderedTabs.length===1){return null}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTabs,null,renderedTabs),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))}},{key:"render",value:function render(){var job=this.props.job;var selectedTab=this.state.selectedTab;var json=(0,_services.serializeJob)(job);return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.stepReviewTitle",defaultMessage:"Review details for '{jobId}'",values:{jobId:job.id}}))),this.renderTabs(),_react2.default.createElement(_eui.EuiErrorBoundary,null,_react2.default.createElement(_components.JobDetails,{job:job,json:json,tab:selectedTab})))}}]);return StepReviewUi}(_react.Component);StepReviewUi.propTypes={job:_propTypes2.default.object.isRequired};var StepReview=exports.StepReview=(0,_react3.injectI18n)(StepReviewUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.stepIdToStepConfigMap=exports.stepIds=exports.STEP_REVIEW=exports.STEP_METRICS=exports.STEP_HISTOGRAM=exports.STEP_TERMS=exports.STEP_DATE_HISTOGRAM=exports.STEP_LOGISTICS=undefined;var _stepIdToStepConfigMa;exports.getAffectedStepsFields=getAffectedStepsFields;exports.hasErrors=hasErrors;var _cloneDeep=__webpack_require__(1369);var _cloneDeep2=_interopRequireDefault(_cloneDeep);var _services=__webpack_require__(52);var _validate_id=__webpack_require__(4288);var _validate_index_pattern=__webpack_require__(4289);var _validate_rollup_index=__webpack_require__(4290);var _validate_rollup_cron=__webpack_require__(4291);var _validate_rollup_page_size=__webpack_require__(4293);var _validate_rollup_delay=__webpack_require__(4294);var _validate_date_histogram_field=__webpack_require__(4295);var _validate_date_histogram_interval=__webpack_require__(4296);var _validate_histogram_interval=__webpack_require__(4297);var _validate_metrics=__webpack_require__(4298);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var STEP_LOGISTICS=exports.STEP_LOGISTICS="STEP_LOGISTICS";var STEP_DATE_HISTOGRAM=exports.STEP_DATE_HISTOGRAM="STEP_DATE_HISTOGRAM";var STEP_TERMS=exports.STEP_TERMS="STEP_TERMS";var STEP_HISTOGRAM=exports.STEP_HISTOGRAM="STEP_HISTOGRAM";var STEP_METRICS=exports.STEP_METRICS="STEP_METRICS";var STEP_REVIEW=exports.STEP_REVIEW="STEP_REVIEW";var stepIds=exports.stepIds=[STEP_LOGISTICS,STEP_DATE_HISTOGRAM,STEP_TERMS,STEP_HISTOGRAM,STEP_METRICS,STEP_REVIEW];var stepIdToStepConfigMap=exports.stepIdToStepConfigMap=(_stepIdToStepConfigMa={},_defineProperty(_stepIdToStepConfigMa,STEP_LOGISTICS,{defaultFields:{id:"",indexPattern:"",rollupIndex:"",rollupCron:"0 0 0 ? * 7",simpleRollupCron:"0 0 0 ? * 7",rollupPageSize:1e3,rollupDelay:"1d",cronFrequency:_services.WEEK,isAdvancedCronVisible:false,fieldToPreferredValueMap:{}},fieldsValidator:function fieldsValidator(fields){var id=fields.id,indexPattern=fields.indexPattern,rollupIndex=fields.rollupIndex,rollupCron=fields.rollupCron,rollupPageSize=fields.rollupPageSize,rollupDelay=fields.rollupDelay;var errors={id:(0,_validate_id.validateId)(id),indexPattern:(0,_validate_index_pattern.validateIndexPattern)(indexPattern,rollupIndex),rollupIndex:(0,_validate_rollup_index.validateRollupIndex)(rollupIndex,indexPattern),rollupCron:(0,_validate_rollup_cron.validateRollupCron)(rollupCron),rollupPageSize:(0,_validate_rollup_page_size.validateRollupPageSize)(rollupPageSize),rollupDelay:(0,_validate_rollup_delay.validateRollupDelay)(rollupDelay)};return errors}}),_defineProperty(_stepIdToStepConfigMa,STEP_DATE_HISTOGRAM,{defaultFields:{dateHistogramField:null,dateHistogramInterval:null,dateHistogramTimeZone:"UTC"},fieldsValidator:function fieldsValidator(fields){var dateHistogramField=fields.dateHistogramField,dateHistogramInterval=fields.dateHistogramInterval;var errors={dateHistogramField:(0,_validate_date_histogram_field.validateDateHistogramField)(dateHistogramField),dateHistogramInterval:(0,_validate_date_histogram_interval.validateDateHistogramInterval)(dateHistogramInterval)};return errors}}),_defineProperty(_stepIdToStepConfigMa,STEP_TERMS,{defaultFields:{terms:[]}}),_defineProperty(_stepIdToStepConfigMa,STEP_HISTOGRAM,{defaultFields:{histogram:[],histogramInterval:undefined},fieldsValidator:function fieldsValidator(fields){var histogram=fields.histogram,histogramInterval=fields.histogramInterval;var errors={histogramInterval:(0,_validate_histogram_interval.validateHistogramInterval)(histogram,histogramInterval)};return errors}}),_defineProperty(_stepIdToStepConfigMa,STEP_METRICS,{defaultFields:{metrics:[]},fieldsValidator:function fieldsValidator(fields){var metrics=fields.metrics;var errors={metrics:(0,_validate_metrics.validateMetrics)(metrics)};return errors}}),_defineProperty(_stepIdToStepConfigMa,STEP_REVIEW,{}),_stepIdToStepConfigMa);function getAffectedStepsFields(fields,stepsFields){var indexPattern=fields.indexPattern;var affectedStepsFields=(0,_cloneDeep2.default)(stepsFields);if(indexPattern){affectedStepsFields[STEP_DATE_HISTOGRAM].dateHistogramField=undefined;affectedStepsFields[STEP_TERMS].terms=[];affectedStepsFields[STEP_HISTOGRAM].histogram=[];affectedStepsFields[STEP_METRICS].metrics=[]}return affectedStepsFields}function hasErrors(fieldErrors){var errorValues=Object.values(fieldErrors);return errorValues.some(function(error){return error!==undefined})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateId=validateId;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateId(id){if(!id||!id.trim()){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.idMissing",defaultMessage:"Name is required."})]}return undefined}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateIndexPattern=validateIndexPattern;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _index_patterns=__webpack_require__(217);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateIndexPattern(indexPattern,rollupIndex){if(!indexPattern||!indexPattern.trim()){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternMissing",defaultMessage:"Index pattern is required."})]}if(indexPattern===rollupIndex){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternSameAsRollupIndex",defaultMessage:"Index pattern cannot have the same as the rollup index."})]}var illegalCharacters=_index_patterns.INDEX_PATTERN_ILLEGAL_CHARACTERS_VISIBLE.reduce(function(chars,char){if(indexPattern.includes(char)){chars.push(char)}return chars},[]);if(illegalCharacters.length){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternIllegalCharacters",defaultMessage:"Remove the characters {characterList} from your index pattern.",values:{characterList:_react2.default.createElement("strong",null,illegalCharacters.join(" "))}})]}if(indexPattern.includes(" ")){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternSpaces",defaultMessage:"Remove the spaces from your index pattern."})]}return undefined}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateRollupIndex=validateRollupIndex;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _indices=__webpack_require__(537);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateRollupIndex(rollupIndex,indexPattern){if(!rollupIndex||!rollupIndex.trim()){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexMissing",defaultMessage:"Rollup index is required."})]}if(rollupIndex===indexPattern){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexSameAsIndexPattern",defaultMessage:"Rollup index cannot have the same as the index pattern."})]}var illegalCharacters=_indices.INDEX_ILLEGAL_CHARACTERS_VISIBLE.reduce(function(chars,char){if(rollupIndex.includes(char)){chars.push(char)}return chars},[]);if(illegalCharacters.length){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexIllegalCharacters",defaultMessage:"Remove the characters {characterList} from your rollup index name.",values:{characterList:_react2.default.createElement("strong",null,illegalCharacters.join(" "))}})]}if(rollupIndex.includes(",")){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexCommas",defaultMessage:"Remove the commas from your rollup index name."})]}if(rollupIndex.includes(" ")){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexSpaces",defaultMessage:"Remove the spaces from your rollup index name."})]}if(rollupIndex[0]==="."){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexBeginningPeriod",defaultMessage:"Index names cannot begin with periods."})]}return undefined}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateRollupCron=validateRollupCron;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _cronstrue=__webpack_require__(5043);var _cronstrue2=_interopRequireDefault(_cronstrue);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateRollupCron(rollupCron){if(!rollupCron||!rollupCron.trim()){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupCronMissing",defaultMessage:"Cron pattern or basic interval is required."})]}try{_cronstrue2.default.toString(rollupCron)}catch(error){var prefix="Error: ";var prefixIndex=error.indexOf(prefix);return error.substring(prefixIndex+prefix.length)}return undefined}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateRollupPageSize=validateRollupPageSize;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateRollupPageSize(rollupPageSize){if(!rollupPageSize||!rollupPageSize.toString().trim()){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupPageSizeMissing",defaultMessage:"Page size is required."})]}if(rollupPageSize<=0){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupPageSizeGreaterThanZero",defaultMessage:"Page size must be greater than zero."})]}return undefined}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateRollupDelay=validateRollupDelay;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _parse_es_interval=__webpack_require__(330);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateRollupDelay(rollupDelay){if(!rollupDelay||!rollupDelay.trim()){return undefined}try{(0,_parse_es_interval.parseEsInterval)(rollupDelay)}catch(error){if(error instanceof _parse_es_interval.InvalidEsIntervalFormatError){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupDelayInvalidFormat",defaultMessage:"Invalid delay format."})]}if(error instanceof _parse_es_interval.InvalidEsCalendarIntervalError){var unit=error.unit;return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupDelayInvalidCalendarInterval",defaultMessage:"The '{unit}' unit only allows values of 1. Try {suggestion}.",values:{unit:unit,suggestion:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupDelayInvalidCalendarIntervalSuggestion",defaultMessage:"1{unit}",values:{unit:unit}}))}})]}throw error}return undefined}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateDateHistogramField=validateDateHistogramField;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateDateHistogramField(dateHistogramField){if(!dateHistogramField||!dateHistogramField.trim()){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.dateHistogramFieldMissing",defaultMessage:"Date field is required."})]}return undefined}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateDateHistogramInterval=validateDateHistogramInterval;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _parse_es_interval=__webpack_require__(330);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateDateHistogramInterval(dateHistogramInterval){if(!dateHistogramInterval||!dateHistogramInterval.trim()){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalMissing",defaultMessage:"Interval is required."})]}try{(0,_parse_es_interval.parseEsInterval)(dateHistogramInterval)}catch(error){if(error instanceof _parse_es_interval.InvalidEsIntervalFormatError){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalInvalidFormat",defaultMessage:"Invalid interval format."})]}if(error instanceof _parse_es_interval.InvalidEsCalendarIntervalError){var unit=error.unit;return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalInvalidCalendarInterval",defaultMessage:"The '{unit}' unit only allows values of 1. Try {suggestion}.",values:{unit:unit,suggestion:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalInvalidCalendarIntervalSuggestion",defaultMessage:"1{unit}",values:{unit:unit}}))}})]}throw error}return undefined}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateHistogramInterval=validateHistogramInterval;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateHistogramInterval(histogram,histogramInterval){if(!histogram.length){return undefined}if(histogramInterval<=0){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.histogramIntervalZero",defaultMessage:"Interval must be greater than zero."})]}if(Math.round(histogramInterval)!==Number(histogramInterval)){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.histogramIntervalWholeNumber",defaultMessage:"Interval must be a whole number."})]}if(!histogramInterval){return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.histogramIntervalMissing",defaultMessage:"An interval is required to roll up these histogram fields."})]}return undefined}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.validateMetrics=validateMetrics;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validateMetrics(metrics){var missingTypes=metrics.reduce(function(accumMissingTypes,_ref){var name=_ref.name,types=_ref.types;if(!types.length){accumMissingTypes.push(name)}return accumMissingTypes},[]);if(missingTypes.length){var allMissingTypes=missingTypes.join(", ");return[_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.rollupJobs.create.errors.metricsTypesMissing",key:"xpack.rollupJobs.create.errors.metricsTypesMissing",defaultMessage:"Select metrics types for these fields or remove them: {allMissingTypes}.",values:{allMissingTypes:allMissingTypes}})]}return undefined}},function(module,exports){module.exports='<kbn-management-app section="elasticsearch/rollup_jobs">\n  <div id="rollupJobsReactRoot"></div>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _store=__webpack_require__(4301);Object.defineProperty(exports,"rollupJobsStore",{enumerable:true,get:function get(){return _store.rollupJobsStore}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rollupJobsStore=undefined;var _redux=__webpack_require__(28);var _reduxThunk=__webpack_require__(264);var _reduxThunk2=_interopRequireDefault(_reduxThunk);var _reducers=__webpack_require__(4302);var _middleware=__webpack_require__(4308);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function createRollupJobsStore(){var initialState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var enhancers=[(0,_redux.applyMiddleware)(_reduxThunk2.default,_middleware.detailPanel)];window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());return(0,_redux.createStore)(_reducers.rollupJobs,initialState,_redux.compose.apply(undefined,enhancers))}var rollupJobsStore=exports.rollupJobsStore=createRollupJobsStore()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rollupJobs=undefined;var _redux=__webpack_require__(28);var _jobs=__webpack_require__(4303);var _table_state=__webpack_require__(4304);var _detail_panel=__webpack_require__(4305);var _create_job=__webpack_require__(4306);var _update_job=__webpack_require__(4307);var rollupJobs=exports.rollupJobs=(0,_redux.combineReducers)({jobs:_jobs.jobs,tableState:_table_state.tableState,detailPanel:_detail_panel.detailPanel,createJob:_create_job.createJob,updateJob:_update_job.updateJob})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.jobs=jobs;var _action_types=__webpack_require__(203);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var initialState={isLoading:false,byId:{},allIds:[]};function mapJobsToIds(jobs){var jobsById={};jobs.forEach(function(job){jobsById[job.id]=job});return jobsById}function getJobsIds(jobs){return jobs.map(function(job){return job.id})}function jobs(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];var type=action.type,payload=action.payload;switch(type){case _action_types.LOAD_JOBS_START:return _extends({},state,{isLoading:true});case _action_types.LOAD_JOBS_SUCCESS:return{byId:mapJobsToIds(payload.jobs),allIds:getJobsIds(payload.jobs),isLoading:false};case _action_types.REFRESH_JOBS_SUCCESS:return{byId:mapJobsToIds(payload.jobs),allIds:getJobsIds(payload.jobs)};case _action_types.LOAD_JOBS_FAILURE:return _extends({},state,{isLoading:false,jobLoadError:payload.error});case _action_types.CREATE_JOB_SUCCESS:var job=payload.job;return{byId:_extends({},state.byId,_defineProperty({},job.id,job)),allIds:state.allIds.concat(job.id)};default:return state}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.tableState=tableState;var _action_types=__webpack_require__(203);var initialState={filter:"",pageSize:20,currentPage:0,sortField:"job.id",isSortAscending:true};function tableState(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];var type=action.type,payload=action.payload;switch(type){case _action_types.FILTER_CHANGED:var filter=payload.filter;return _extends({},state,{filter:filter,currentPage:0});case _action_types.SORT_CHANGED:var sortField=payload.sortField,isSortAscending=payload.isSortAscending;return _extends({},state,{sortField:sortField,isSortAscending:isSortAscending});case _action_types.PAGE_CHANGED:var pageNumber=payload.pageNumber;return _extends({},state,{currentPage:pageNumber});case _action_types.PAGE_SIZE_CHANGED:var pageSize=payload.pageSize;return _extends({},state,{pageSize:pageSize});default:return state}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.detailPanel=detailPanel;var _action_types=__webpack_require__(203);var initialState={isOpen:false,panelType:undefined,jobId:undefined};function detailPanel(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];var type=action.type,payload=action.payload;switch(type){case _action_types.OPEN_DETAIL_PANEL:var panelType=payload.panelType,jobId=payload.jobId;return{panelType:panelType||state.panelType,jobId:jobId,isOpen:true};case _action_types.CLOSE_DETAIL_PANEL:return{panelType:undefined,jobId:undefined,isOpen:false};default:return state}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.createJob=createJob;var _action_types=__webpack_require__(203);var initialState={isSaving:false,error:undefined};function createJob(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];var type=action.type,payload=action.payload;switch(type){case _action_types.CREATE_JOB_START:return{isSaving:true,error:undefined};case _action_types.CREATE_JOB_SUCCESS:return _extends({},state,{isSaving:false});case _action_types.CREATE_JOB_FAILURE:return _extends({},state,{error:payload.error,isSaving:false});case _action_types.CLEAR_CREATE_JOB_ERRORS:return _extends({},state,{error:undefined});default:return state}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateJob=updateJob;var _action_types=__webpack_require__(203);var initialState={isUpdating:false,error:undefined};function updateJob(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];var type=action.type;switch(type){case _action_types.UPDATE_JOB_START:return{isUpdating:true};case _action_types.UPDATE_JOB_SUCCESS:return{isUpdating:false};case _action_types.UPDATE_JOB_FAILURE:return{isUpdating:false};default:return state}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _detail_panel=__webpack_require__(4309);Object.defineProperty(exports,"detailPanel",{enumerable:true,get:function get(){return _detail_panel.detailPanel}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.detailPanel=undefined;var _services=__webpack_require__(52);var _action_types=__webpack_require__(203);var detailPanel=exports.detailPanel=function detailPanel(){return function(next){return function(action){var type=action.type;switch(type){case _action_types.CLOSE_DETAIL_PANEL:if(!(0,_services.getUserHasLeftApp)()){var _getRouter=(0,_services.getRouter)(),history=_getRouter.history;history.replace({search:""})}break}return next(action)}}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4311)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(848);__webpack_require__(4312);__webpack_require__(4314);__webpack_require__(4318);__webpack_require__(4321);__webpack_require__(4325);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _xpack_info=__webpack_require__(46);__webpack_require__(325);var _management_urls=__webpack_require__(320);var _management=__webpack_require__(24);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.defaults(/\/management/,{resolve:{securityManagementSection:function securityManagementSection(ShieldUser,Private,esDataIsTribe){var xpackInfo=Private(_xpack_info.XPackInfoProvider);var showSecurityLinks=xpackInfo.get("features.security.showLinks");var tribeTooltip="Not available when using a tribe node.";function deregisterSecurity(){_management.management.deregister("security")}function ensureSecurityRegistered(){var registerSecurity=function registerSecurity(){return _management.management.register("security",{display:_i18n.i18n.translate("xpack.security.management.securityTitle",{defaultMessage:"Security"}),order:10,icon:"securityApp"})};var getSecurity=function getSecurity(){return _management.management.getSection("security")};var security=_management.management.hasItem("security")?getSecurity():registerSecurity();if(!security.hasItem("users")){security.register("users",{name:"securityUsersLink",order:10,display:_i18n.i18n.translate("xpack.security.management.usersTitle",{defaultMessage:"Users"}),url:esDataIsTribe?undefined:"#"+_management_urls.USERS_PATH,tooltip:esDataIsTribe?tribeTooltip:undefined})}if(!security.hasItem("roles")){security.register("roles",{name:"securityRolesLink",order:20,display:_i18n.i18n.translate("xpack.security.management.rolesTitle",{defaultMessage:"Roles"}),url:esDataIsTribe?undefined:"#"+_management_urls.ROLES_PATH,tooltip:esDataIsTribe?tribeTooltip:undefined})}}deregisterSecurity();if(!showSecurityLinks)return;return ShieldUser.getCurrent().$promise.then(ensureSecurityRegistered).catch(deregisterSecurity)}}})},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _password_form=__webpack_require__(4313);var _password_form2=_interopRequireDefault(_password_form);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("security",["kibana"]);_module.directive("kbnPasswordForm",function(){return{template:_password_form2.default,scope:{password:"="},restrict:"E",replace:true,controllerAs:"passwordController",controller:function controller(){this.confirmation=null}}})},function(module,exports){module.exports='<ng-form name="passwordForm">\n  \x3c!-- Password --\x3e\n  <div class="kuiFormSection">\n    <label\n      class="kuiFormLabel"\n      i18n-id="xpack.security.management.passwordForm.passwordLabel"\n      i18n-default-message="Password"\n    ></label>\n    <input\n      type="password"\n      class="kuiTextInput fullWidth"\n      id="password"\n      name="password"\n      ng-model="password"\n      required\n      minlength="6"\n      data-test-subj="passwordInput"\n    />\n\n    \x3c!-- Errors --\x3e\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="passwordForm.password.$touched && (passwordForm.password.$error.required || passwordForm.password.$error.minlength)"\n      i18n-id="xpack.security.management.passwordForm.passwordLengthDescription"\n      i18n-default-message="Password must be at least 6 characters"\n    ></div>\n  </div>\n\n  \x3c!-- Confirm password --\x3e\n  <div class="kuiFormSection">\n    <label\n      class="kuiFormLabel"\n      i18n-id="xpack.security.management.passwordForm.confirmPasswordLabel"\n      i18n-default-message="Confirm password"\n    ></label>\n    <input\n      type="password"\n      class="kuiTextInput fullWidth"\n      name="confirmation"\n      ng-model="passwordController.confirmation"\n      required\n      data-test-subj="passwordConfirmationInput"\n    />\n\n    \x3c!-- Errors --\x3e\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="passwordForm.confirmation.$touched && (password !== passwordController.confirmation)"\n      i18n-id="xpack.security.management.passwordForm.passwordDontMatchDescription"\n      i18n-default-message="Passwords do not match"\n    ></div>\n  </div>\n</ng-form>\n'},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _users=__webpack_require__(4315);var _users2=_interopRequireDefault(_users);__webpack_require__(325);var _management_urls=__webpack_require__(320);var _users3=__webpack_require__(1313);var _api=__webpack_require__(1315);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when(_management_urls.SECURITY_PATH,{redirectTo:_management_urls.USERS_PATH});var renderReact=function renderReact(elem,httpClient,changeUrl){(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_users3.Users,{changeUrl:changeUrl,apiClient:(0,_api.createApiClient)(httpClient)})),elem)};_routes2.default.when(_management_urls.USERS_PATH,{template:_users2.default,controller:function controller($scope,$route,$q,confirmModal,$http,kbnUrl){$scope.$on("$destroy",function(){var elem=document.getElementById("usersReactRoot");if(elem)(0,_reactDom.unmountComponentAtNode)(elem)});$scope.$$postDigest(function(){var elem=document.getElementById("usersReactRoot");var changeUrl=function changeUrl(url){kbnUrl.change(url);$scope.$apply()};renderReact(elem,$http,changeUrl)})}})},function(module,exports){module.exports='<kbn-management-app section="security">\n  <div id="usersReactRoot" />\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Users=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _notify=__webpack_require__(10);var _confirm_delete=__webpack_require__(1314);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var UsersUI=function(_Component){_inherits(UsersUI,_Component);function UsersUI(props){_classCallCheck(this,UsersUI);var _this=_possibleConstructorReturn(this,(UsersUI.__proto__||Object.getPrototypeOf(UsersUI)).call(this,props));_this.handleDelete=function(usernames,errors){var users=_this.state.users;_this.setState({selection:[],showDeleteConfirmation:false,users:users.filter(function(_ref){var username=_ref.username;return!usernames.includes(username)||errors.includes(username)})})};_this.onCancelDelete=function(){_this.setState({showDeleteConfirmation:false})};_this.state={users:[],selection:[],showDeleteConfirmation:false};return _this}_createClass(UsersUI,[{key:"componentDidMount",value:function componentDidMount(){this.loadUsers()}},{key:"loadUsers",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var apiClient,users;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:apiClient=this.props.apiClient;_context.prev=1;_context.next=4;return apiClient.getUsers();case 4:users=_context.sent;this.setState({users:users});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](1);if(_context.t0.status===403){this.setState({permissionDenied:true})}else{_notify.toastNotifications.addDanger(this.props.intl.formatMessage({id:"xpack.security.management.users.fetchingUsersErrorMessage",defaultMessage:"Error fetching users: {message}"},{message:_context.t0.data.message}))}case 11:case"end":return _context.stop()}}},_callee,this,[[1,8]])}));function loadUsers(){return _ref2.apply(this,arguments)}return loadUsers}()},{key:"renderToolsLeft",value:function renderToolsLeft(){var _this2=this;var selection=this.state.selection;if(selection.length===0){return}var numSelected=selection.length;return _react2.default.createElement(_eui.EuiButton,{"data-test-subj":"deleteUserButton",color:"danger",onClick:function onClick(){return _this2.setState({showDeleteConfirmation:true})}},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.deleteUsersButtonLabel",defaultMessage:"Delete {numSelected} user{numSelected, plural, one { } other {s}}",values:{numSelected:numSelected}}))}},{key:"render",value:function render(){var _this3=this;var _state=this.state,users=_state.users,filter=_state.filter,permissionDenied=_state.permissionDenied,showDeleteConfirmation=_state.showDeleteConfirmation,selection=_state.selection;var _props=this.props,apiClient=_props.apiClient,intl=_props.intl;if(permissionDenied){return _react2.default.createElement(_eui.EuiPage,{className:"mgtUsersListingPage"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center"},_react2.default.createElement(_eui.EuiEmptyPrompt,{iconType:"securityApp",iconColor:null,title:_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.deniedPermissionTitle",defaultMessage:"Permission denied"})),body:_react2.default.createElement("p",{"data-test-subj":"permissionDeniedMessage"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.permissionDeniedToManageUsersDescription",defaultMessage:"You do not have permission to manage users."}))}))))}var path="#/management/security/";var columns=[{field:"full_name",name:intl.formatMessage({id:"xpack.security.management.users.fullNameColumnName",defaultMessage:"Full Name"}),sortable:true,truncateText:true,render:function render(fullName){return _react2.default.createElement("div",{"data-test-subj":"userRowFullName"},fullName)}},{field:"username",name:intl.formatMessage({id:"xpack.security.management.users.userNameColumnName",defaultMessage:"User Name"}),sortable:true,truncateText:true,render:function render(username){return _react2.default.createElement(_eui.EuiLink,{"data-test-subj":"userRowUserName",href:path+"users/edit/"+username},username)}},{field:"email",name:intl.formatMessage({id:"xpack.security.management.users.emailAddressColumnName",defaultMessage:"Email Address"}),sortable:true,truncateText:true},{field:"roles",name:intl.formatMessage({id:"xpack.security.management.users.rolesColumnName",defaultMessage:"Roles"}),render:function render(rolenames){var roleLinks=rolenames.map(function(rolename,index){return _react2.default.createElement(_react.Fragment,{key:rolename},_react2.default.createElement(_eui.EuiLink,{href:path+"roles/edit/"+rolename},rolename),index===rolenames.length-1?null:", ")});return _react2.default.createElement("div",{"data-test-subj":"userRowRoles"},roleLinks)}},{field:"metadata._reserved",name:intl.formatMessage({id:"xpack.security.management.users.reservedColumnName",defaultMessage:"Reserved"}),sortable:false,width:"100px",align:"right",description:intl.formatMessage({id:"xpack.security.management.users.reservedColumnDescription",defaultMessage:"Reserved users are built-in and cannot be removed. Only the password can be changed."}),render:function render(reserved){return reserved?_react2.default.createElement(_eui.EuiIcon,{"aria-label":"Reserved user","data-test-subj":"reservedUser",type:"check"}):null}}];var pagination={initialPageSize:20,pageSizeOptions:[10,20,50,100]};var selectionConfig={itemId:"username",selectable:function selectable(user){return!user.metadata._reserved},selectableMessage:function selectableMessage(selectable){return!selectable?"User is a system user":undefined},onSelectionChange:function onSelectionChange(selection){return _this3.setState({selection:selection})}};var search={toolsLeft:this.renderToolsLeft(),box:{incremental:true},onChange:function onChange(query){_this3.setState({filter:query.queryText})}};var sorting={sort:{field:"full_name",direction:"asc"}};var rowProps=function rowProps(){return{"data-test-subj":"userRow"}};var usersToShow=filter?users.filter(function(_ref3){var username=_ref3.username,roles=_ref3.roles,_ref3$full_name=_ref3.full_name,fullName=_ref3$full_name===undefined?"":_ref3$full_name,_ref3$email=_ref3.email,email=_ref3$email===undefined?"":_ref3$email;var normalized=(username+" "+roles.join(" ")+" "+fullName+" "+email).toLowerCase();var normalizedQuery=filter.toLowerCase();return normalized.indexOf(normalizedQuery)!==-1}):users;return _react2.default.createElement(_eui.EuiPage,{className:"mgtUsersListingPage"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{className:"mgtUsersListingPage__content"},_react2.default.createElement(_eui.EuiPageContentHeader,null,_react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.usersTitle",defaultMessage:"Users"})))),_react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"createUserButton",href:"#/management/security/users/edit"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.createNewUserButtonLabel",defaultMessage:"Create new user"})))),_react2.default.createElement(_eui.EuiPageContentBody,null,showDeleteConfirmation?_react2.default.createElement(_confirm_delete.ConfirmDelete,{onCancel:this.onCancelDelete,apiClient:apiClient,usersToDelete:selection.map(function(user){return user.username}),callback:this.handleDelete}):null,_react2.default.createElement(_eui.EuiInMemoryTable,{itemId:"username",columns:columns,selection:selectionConfig,pagination:pagination,items:usersToShow,loading:users.length===0,search:search,sorting:sorting,rowProps:rowProps,isSelectable:true})))))}}]);return UsersUI}(_react.Component);var Users=exports.Users=(0,_react3.injectI18n)(UsersUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditUser=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _notify=__webpack_require__(10);var _management_urls=__webpack_require__(320);var _confirm_delete=__webpack_require__(1314);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var validEmailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var validUsernameRegex=/[a-zA-Z_][a-zA-Z0-9_@\-\$\.]*/;var EditUserUI=function(_Component){_inherits(EditUserUI,_Component);function EditUserUI(props){var _this2=this;_classCallCheck(this,EditUserUI);var _this=_possibleConstructorReturn(this,(EditUserUI.__proto__||Object.getPrototypeOf(EditUserUI)).call(this,props));_this.handleDelete=function(usernames,errors){if(errors.length===0){var changeUrl=_this.props.changeUrl;changeUrl(_management_urls.USERS_PATH)}};_this.passwordError=function(){var password=_this.state.password;if(password!==null&&password.length<6){return _this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.passwordLengthErrorMessage",defaultMessage:"Password must be at least 6 characters"})}};_this.currentPasswordError=function(){var currentPasswordError=_this.state.currentPasswordError;if(currentPasswordError){return _this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.incorrectPasswordErrorMessage",defaultMessage:"The current password you entered is incorrect"})}};_this.confirmPasswordError=function(){var _this$state=_this.state,password=_this$state.password,confirmPassword=_this$state.confirmPassword;if(password&&confirmPassword!==null&&password!==confirmPassword){return _this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.passwordDoNotMatchErrorMessage",defaultMessage:"Passwords do not match"})}};_this.usernameError=function(){var username=_this.state.user.username;if(username!==null&&!username){return _this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.requiredUsernameErrorMessage",defaultMessage:"Username is required"})}else if(username&&!username.match(validUsernameRegex)){return _this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.usernameAllowedCharactersErrorMessage",defaultMessage:"Username must begin with a letter or underscore and contain only letters, underscores, and numbers"})}};_this.emailError=function(){var email=_this.state.user.email;if(email!==null&&email!==""&&!email.match(validEmailRegex)){return _this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.validEmailRequiredErrorMessage",defaultMessage:"Email address is invalid"})}};_this.changePassword=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var apiClient,_this$state2,user,password,currentPassword;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:apiClient=_this.props.apiClient;_this$state2=_this.state,user=_this$state2.user,password=_this$state2.password,currentPassword=_this$state2.currentPassword;_context.prev=2;_context.next=5;return apiClient.changePassword(user.username,password,currentPassword);case 5:_notify.toastNotifications.addSuccess(_this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.passwordSuccessfullyChangedNotificationMessage",defaultMessage:"Password changed."}));_context.next=15;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);if(!(_context.t0.status===401)){_context.next=14;break}return _context.abrupt("return",_this.setState({currentPasswordError:true}));case 14:_notify.toastNotifications.addDanger(_this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.settingPasswordErrorMessage",defaultMessage:"Error setting password: {message}"},{message:_context.t0.data.message}));case 15:_this.clearPasswordForm();case 16:case"end":return _context.stop()}}},_callee,_this2,[[2,8]])}));_this.saveUser=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _this$props,apiClient,changeUrl,_this$state3,user,password,selectedRoles,userToSave;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$props=_this.props,apiClient=_this$props.apiClient,changeUrl=_this$props.changeUrl;_this$state3=_this.state,user=_this$state3.user,password=_this$state3.password,selectedRoles=_this$state3.selectedRoles;userToSave=_extends({},user);userToSave.roles=selectedRoles.map(function(selectedRole){return selectedRole.label});if(password){userToSave.password=password}_context2.prev=5;_context2.next=8;return apiClient.saveUser(userToSave);case 8:_notify.toastNotifications.addSuccess(_this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.userSuccessfullySavedNotificationMessage",defaultMessage:"Saved user {message}"},{message:user.username}));changeUrl(_management_urls.USERS_PATH);_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2["catch"](5);_notify.toastNotifications.addDanger(_this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.savingUserErrorMessage",defaultMessage:"Error saving user: {message}"},{message:_context2.t0.data.message}));case 15:case"end":return _context2.stop()}}},_callee2,_this2,[[5,12]])}));_this.clearPasswordForm=function(){_this.setState({showChangePasswordForm:false,password:null,confirmPassword:null})};_this.passwordFields=function(){var _this$state4=_this.state,user=_this$state4.user,currentUser=_this$state4.currentUser;var userIsLoggedInUser=user.username&&user.username===currentUser.username;return _react2.default.createElement(_react.Fragment,null,userIsLoggedInUser?_react2.default.createElement(_eui.EuiFormRow,{label:_this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.currentPasswordFormRowLabel",defaultMessage:"Current password"}),isInvalid:!!_this.currentPasswordError(),error:_this.currentPasswordError()},_react2.default.createElement(_eui.EuiFieldText,{name:"currentPassword",type:"password",onChange:function onChange(event){return _this.setState({currentPassword:event.target.value})}})):null,_react2.default.createElement(_eui.EuiFormRow,{label:userIsLoggedInUser?_this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.newPasswordFormRowLabel",defaultMessage:"New password"}):_this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.passwordFormRowLabel",defaultMessage:"Password"}),isInvalid:!!_this.passwordError(),error:_this.passwordError()},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"passwordInput",name:"password",type:"password",onChange:function onChange(event){return _this.setState({password:event.target.value})},onBlur:function onBlur(event){return _this.setState({password:event.target.value||""})}})),_react2.default.createElement(_eui.EuiFormRow,{label:_this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.confirmPasswordFormRowLabel",defaultMessage:"Confirm password"}),isInvalid:!!_this.confirmPasswordError(),error:_this.confirmPasswordError()},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"passwordConfirmationInput",onChange:function onChange(event){return _this.setState({confirmPassword:event.target.value})},onBlur:function onBlur(event){return _this.setState({confirmPassword:event.target.value||""})},name:"confirm_password",type:"password"})))};_this.changePasswordForm=function(){var _this$state5=_this.state,showChangePasswordForm=_this$state5.showChangePasswordForm,password=_this$state5.password,confirmPassword=_this$state5.confirmPassword,username=_this$state5.user.username;if(!showChangePasswordForm){return null}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiHorizontalRule,null),_this.passwordFields(),username==="kibana"?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:_this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.changePasswordExtraStepTitle",defaultMessage:"Extra step needed"}),color:"warning",iconType:"help"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.editUser.changePasswordUpdateKibanaTitle",defaultMessage:"After you change the password for the kibana user, you must update the {kibana} file and restart Kibana.",values:{kibana:"kibana.yml"}}))),_react2.default.createElement(_eui.EuiSpacer,null)):null,_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{size:"s",fill:true,disabled:!password||!confirmPassword||_this.passwordError()||_this.confirmPasswordError(),onClick:function onClick(){_this.changePassword(password)}},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.editUser.savePasswordButtonLabel",defaultMessage:"Save password"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",onClick:function onClick(){_this.clearPasswordForm()}},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.editUser.savePasswordCancelButtonLabel",defaultMessage:"Cancel"})))))};_this.toggleChangePasswordForm=function(){var showChangePasswordForm=_this.state.showChangePasswordForm;_this.setState({showChangePasswordForm:!showChangePasswordForm})};_this.onRolesChange=function(selectedRoles){_this.setState({selectedRoles:selectedRoles})};_this.cannotSaveUser=function(){var _this$state6=_this.state,user=_this$state6.user,isNewUser=_this$state6.isNewUser;return!user.username||_this.emailError()||isNewUser&&(_this.passwordError()||_this.confirmPasswordError())};_this.onCancelDelete=function(){_this.setState({showDeleteConfirmation:false})};_this.state={isLoaded:false,isNewUser:true,currentUser:{},showDeleteConfirmation:false,user:{email:null,username:null,full_name:null,roles:[]},roles:[],selectedRoles:[],password:null,confirmPassword:null};return _this}_createClass(EditUserUI,[{key:"componentDidMount",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var _props,apiClient,username,_state,user,currentUser,roles;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_props=this.props,apiClient=_props.apiClient,username=_props.username;_state=this.state,user=_state.user,currentUser=_state.currentUser;if(!username){_context3.next=16;break}_context3.prev=3;_context3.next=6;return apiClient.getUser(username);case 6:user=_context3.sent;_context3.next=9;return apiClient.getCurrentUser();case 9:currentUser=_context3.sent;_context3.next=16;break;case 12:_context3.prev=12;_context3.t0=_context3["catch"](3);_notify.toastNotifications.addDanger({title:this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.errorLoadingUserTitle",defaultMessage:"Error loading user"}),text:(0,_lodash.get)(_context3.t0,"data.message")||_context3.t0.message});return _context3.abrupt("return");case 16:roles=void 0;_context3.prev=17;_context3.next=20;return apiClient.getRoles();case 20:roles=_context3.sent;_context3.next=27;break;case 23:_context3.prev=23;_context3.t1=_context3["catch"](17);_notify.toastNotifications.addDanger({title:this.props.intl.formatMessage({id:"xpack.security.management.users.editUser.errorLoadingRolesTitle",defaultMessage:"Error loading roles"}),text:(0,_lodash.get)(_context3.t1,"data.message")||_context3.t1.message});return _context3.abrupt("return");case 27:this.setState({isLoaded:true,isNewUser:!username,currentUser:currentUser,user:user,roles:roles,selectedRoles:user.roles.map(function(role){return{label:role}})||[]});case 28:case"end":return _context3.stop()}}},_callee3,this,[[3,12],[17,23]])}));function componentDidMount(){return _ref3.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){var _this3=this;var _props2=this.props,changeUrl=_props2.changeUrl,apiClient=_props2.apiClient,intl=_props2.intl;var _state2=this.state,user=_state2.user,roles=_state2.roles,selectedRoles=_state2.selectedRoles,showChangePasswordForm=_state2.showChangePasswordForm,isNewUser=_state2.isNewUser,showDeleteConfirmation=_state2.showDeleteConfirmation;var reserved=user.metadata&&user.metadata._reserved;if(!user||!roles){return null}if(!this.state.isLoaded){return null}return _react2.default.createElement(_eui.EuiPage,{className:"mgtUsersEditPage"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{className:"mgtUsersEditPage__content"},_react2.default.createElement(_eui.EuiPageContentHeader,null,_react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,isNewUser?_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.editUser.newUserTitle",defaultMessage:"New user"}):_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.editUser.editUserTitle",defaultMessage:"Edit {userName} user",values:{userName:user.username}})))),reserved&&_react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiIcon,{type:"lock",size:"l",color:"subdued"}))),_react2.default.createElement(_eui.EuiPageContentBody,null,reserved&&_react2.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.editUser.modifyingReservedUsersDescription",defaultMessage:"Reserved users are built-in and cannot be removed or modified. Only the password may be changed."}))),showDeleteConfirmation?_react2.default.createElement(_confirm_delete.ConfirmDelete,{onCancel:this.onCancelDelete,apiClient:apiClient,usersToDelete:[user.username],callback:this.handleDelete}):null,_react2.default.createElement("form",{onSubmit:function onSubmit(event){event.preventDefault()}},_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFormRow,{isInvalid:!!this.usernameError(),error:this.usernameError(),helpText:!isNewUser&&!reserved?intl.formatMessage({id:"xpack.security.management.users.editUser.changingUserNameAfterCreationDescription",defaultMessage:"Username's cannot be changed after creation."}):null,label:intl.formatMessage({id:"xpack.security.management.users.editUser.usernameFormRowLabel",defaultMessage:"Username"})},_react2.default.createElement(_eui.EuiFieldText,{onBlur:function onBlur(event){return _this3.setState({user:_extends({},_this3.state.user,{username:event.target.value||""})})},value:user.username||"",name:"username","data-test-subj":"userFormUserNameInput",disabled:!isNewUser,onChange:function onChange(event){_this3.setState({user:_extends({},_this3.state.user,{username:event.target.value})})}})),isNewUser?this.passwordFields():null,reserved?null:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"xpack.security.management.users.editUser.fullNameFormRowLabel",defaultMessage:"Full name"})},_react2.default.createElement(_eui.EuiFieldText,{onBlur:function onBlur(event){return _this3.setState({user:_extends({},_this3.state.user,{full_name:event.target.value||""})})},"data-test-subj":"userFormFullNameInput",name:"full_name",value:user.full_name||"",onChange:function onChange(event){_this3.setState({user:_extends({},_this3.state.user,{full_name:event.target.value})})}})),_react2.default.createElement(_eui.EuiFormRow,{isInvalid:!!this.emailError(),error:this.emailError(),label:intl.formatMessage({id:"xpack.security.management.users.editUser.emailAddressFormRowLabel",defaultMessage:"Email address"})},_react2.default.createElement(_eui.EuiFieldText,{onBlur:function onBlur(event){return _this3.setState({user:_extends({},_this3.state.user,{email:event.target.value||""})})},"data-test-subj":"userFormEmailInput",name:"email",value:user.email||"",onChange:function onChange(event){_this3.setState({user:_extends({},_this3.state.user,{email:event.target.value})})}}))),_react2.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"xpack.security.management.users.editUser.rolesFormRowLabel",defaultMessage:"Roles"})},_react2.default.createElement(_eui.EuiComboBox,{"data-test-subj":"userFormRolesDropdown",placeholder:intl.formatMessage({id:"xpack.security.management.users.editUser.addRolesPlaceholder",defaultMessage:"Add roles"}),onChange:this.onRolesChange,isDisabled:reserved,name:"roles",options:roles.map(function(role){return{"data-test-subj":"roleOption-"+role.name,label:role.name}}),selectedOptions:selectedRoles})),isNewUser||showChangePasswordForm?null:_react2.default.createElement(_eui.EuiFormRow,{label:"Password"},_react2.default.createElement(_eui.EuiLink,{onClick:this.toggleChangePasswordForm},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.editUser.changePasswordButtonLabel",defaultMessage:"Change password"}))),this.changePasswordForm(),_react2.default.createElement(_eui.EuiHorizontalRule,null),reserved&&_react2.default.createElement(_eui.EuiButton,{onClick:function onClick(){return changeUrl(_management_urls.USERS_PATH)}},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.editUser.returnToUserListButtonLabel",defaultMessage:"Return to user list"})),reserved?null:_react2.default.createElement(_eui.EuiFlexGroup,{responsive:false},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{disabled:this.cannotSaveUser(),fill:true,"data-test-subj":"userFormSaveButton",onClick:function onClick(){return _this3.saveUser()}},isNewUser?_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.editUser.createUserButtonLabel",defaultMessage:"Create user"}):_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.editUser.updateUserButtonLabel",defaultMessage:"Update user"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"userFormCancelButton",onClick:function onClick(){return changeUrl(_management_urls.USERS_PATH)}},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.editUser.cancelButtonLabel",defaultMessage:"Cancel"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:true}),isNewUser||reserved?null:_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{onClick:function onClick(){_this3.setState({showDeleteConfirmation:true})},"data-test-subj":"userFormDeleteButton",color:"danger"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.security.management.users.editUser.deleteUserButtonLabel",defaultMessage:"Delete user"}))))))))))}}]);return EditUserUI}(_react.Component);var EditUser=exports.EditUser=(0,_react3.injectI18n)(EditUserUI)},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(10);var _util=__webpack_require__(4319);var _role=__webpack_require__(286);var _roles=__webpack_require__(4320);var _roles2=_interopRequireDefault(_roles);__webpack_require__(788);var _check_license_error=__webpack_require__(1316);var _gate_keeper=__webpack_require__(849);var _management_urls=__webpack_require__(320);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when(_management_urls.ROLES_PATH,{template:_roles2.default,resolve:{tribeRedirect:function tribeRedirect(Private){var gateKeeper=Private(_gate_keeper.GateKeeperProvider);gateKeeper.redirectAndNotifyIfTribe()},roles:function roles(ShieldRole,kbnUrl,Promise,Private){return ShieldRole.query().$promise.catch((0,_check_license_error.checkLicenseError)(kbnUrl,Promise,Private)).catch(_lodash2.default.identity)}},controller:function controller($scope,$route,$q,confirmModal,i18n){$scope.roles=$route.current.locals.roles;$scope.forbidden=!_lodash2.default.isArray($scope.roles);$scope.selectedRoles=[];$scope.sort={orderBy:"name",reverse:false};$scope.editRolesHref="#"+_management_urls.EDIT_ROLES_PATH;$scope.getEditRoleHref=function(role){return"#"+_management_urls.EDIT_ROLES_PATH+"/"+role};$scope.deleteRoles=function(){var doDelete=function doDelete(){$q.all($scope.selectedRoles.map(function(role){return role.$delete()})).then(function(){return _notify.toastNotifications.addSuccess(i18n("xpack.security.management.roles.deleteRoleTitle",{defaultMessage:"Deleted {value, plural, one {role} other {roles}}",values:{value:$scope.selectedRoles.length}}))}).then(function(){$scope.selectedRoles.map(function(role){var i=$scope.roles.indexOf(role);$scope.roles.splice(i,1)});$scope.selectedRoles.length=0})};var confirmModalOptions={confirmButtonText:i18n("xpack.security.management.roles.deleteRoleConfirmButtonLabel",{defaultMessage:"Delete role(s)"}),onConfirm:doDelete};confirmModal(i18n("xpack.security.management.roles.deletingRolesWarningMessage",{defaultMessage:"Are you sure you want to delete the selected role(s)? This action is irreversible!"}),confirmModalOptions)};$scope.getSortArrowClass=function(field){if($scope.sort.orderBy===field){return $scope.sort.reverse?"fa-long-arrow-down":"fa-long-arrow-up"}return"fa-long-arrow-up"};$scope.toggleAll=function(){if($scope.allSelected()){$scope.selectedRoles.length=0}else{$scope.selectedRoles=getActionableRoles().slice()}};$scope.allSelected=function(){var roles=getActionableRoles();return roles.length&&roles.length===$scope.selectedRoles.length};$scope.isRoleEnabled=_role.isRoleEnabled;$scope.toggle=_util.toggle;$scope.includes=_lodash2.default.includes;$scope.toggleSort=_util.toggleSort;function getActionableRoles(){return $scope.roles.filter(function(role){return!role.metadata._reserved})}$scope.reversedTooltip=i18n("xpack.security.management.roles.reversedTooltip",{defaultMessage:"Reserved roles are built-in and cannot be removed or modified. Only the password may be changed."});$scope.reversedAriaLabel=i18n("xpack.security.management.roles.reversedAriaLabel",{defaultMessage:"Reserved roles are built-in and cannot be removed or modified. Only the password may be changed."})}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toggle=toggle;exports.toggleSort=toggleSort;function toggle(collection,item){var i=collection.indexOf(item);if(i>=0)collection.splice(i,1);else collection.push(item)}function toggleSort(sort,orderBy){if(sort.orderBy===orderBy)sort.reverse=!sort.reverse;else{sort.orderBy=orderBy;sort.reverse=false}}},function(module,exports){module.exports='<kbn-management-app section="security">\n  <div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">\n    <div class="kuiInfoPanel kuiInfoPanel--error" ng-if="forbidden">\n      <div class="kuiInfoPanelHeader">\n        <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n        <span\n          class="kuiInfoPanelHeader__title"\n          i18n-id="xpack.security.management.roles.noPermissionToManageRolesDescription"\n          i18n-default-message="You do not have permission to manage roles."\n        ></span>\n      </div>\n\n      <div class="kuiInfoPanelBody">\n        <div\n          class="kuiInfoPanelBody__message"\n          i18n-id="xpack.security.management.roles.contactAdministratorDescription"\n          i18n-default-message="Please contact your administrator."\n        ></div>\n      </div>\n    </div>\n\n    <div ng-if="!forbidden">\n      \x3c!-- ControlledTable --\x3e\n      <div class="kuiControlledTable">\n        \x3c!-- ToolBar --\x3e\n        <div class="kuiToolBar">\n          <div class="kuiToolBarSearch">\n            <div class="kuiToolBarSearchBox">\n              <div class="kuiToolBarSearchBox__icon kuiIcon fa-search"></div>\n              <input\n                class="kuiToolBarSearchBox__input"\n                type="text"\n                placeholder="Search..."\n                aria-label="Filter"\n                ng-model="query"\n              >\n             </div>\n          </div>\n\n          <div class="kuiToolBarSection">\n            \x3c!-- Delete roles button --\x3e\n            <button\n              ng-click="deleteRoles()"\n              class="kuiButton kuiButton--danger kuiButton--iconText"\n              ng-if="selectedRoles.length"\n            >\n              <span class="kuiButton__inner">\n                <span class="kuiButton__icon kuiIcon fa-trash"></span>\n                <span\n                  i18n-id="xpack.security.management.roles.deleteButtonLabel"\n                  i18n-default-message="Delete"\n                ></span>\n              </span>\n            </button>\n\n            \x3c!-- Create role button --\x3e\n            <a\n              ng-href="{{editRolesHref}}"\n              ng-click="newRole()"\n              class="kuiButton kuiButton--primary kuiButton--iconText"\n              ng-if="!selectedRoles.length"\n              data-test-subj="createRoleButton"\n            >\n              <span class="kuiButton__icon kuiIcon fa-plus"></span>\n              <span\n                i18n-id="xpack.security.management.roles.createRoleButtonLabel"\n                i18n-default-message="Create role"\n              ></span>\n            </a>\n          </div>\n\n          <div class="kuiToolBarSection">\n            \x3c!-- We need an empty section for the buttons to be positioned consistently. --\x3e\n          </div>\n        </div>\n\n        \x3c!-- NoResults --\x3e\n        <div class="kuiPanel kuiPanel--centered" ng-if="!(roles | filter:query).length">\n          <div\n            class="kuiNoItems"\n          >\n            <span\n              ng-if="query"\n              i18n-id="xpack.security.management.roles.noMatchingResultsLabel"\n              i18n-default-message="No matching roles found"\n            ></span>\n            <span\n              ng-if="!query"\n              i18n-id="xpack.security.management.roles.noResultsLabel"\n              i18n-default-message="No roles found"\n            ></span>\n          </div>\n        </div>\n\n        \x3c!-- Table --\x3e\n        <table class="kuiTable" ng-show="(roles | filter:query).length">\n          <thead>\n            <tr>\n              <th scope="col" class="kuiTableHeaderCell kuiTableHeaderCell--checkBox">\n                <div class="kuiTableHeaderCell__liner">\n                  <input\n                    type="checkbox"\n                    class="kuiCheckBox"\n                    ng-checked="allSelected()"\n                    ng-click="toggleAll()"\n                    aria-label="{{allSelected() ? \'Deselect all rows\' : \'Select all rows\'}}"\n                  >\n                </div>\n              </th>\n\n              <th\n                class="kuiTableHeaderCell"\n                scope="col"\n              >\n                <button\n                  class="kuiTableHeaderCellButton"\n                  ng-class="{\'kuiTableHeaderCellButton-isSorted\': sort.orderBy == \'name\'}"\n                  ng-click="toggleSort(sort, \'name\')"\n                  aria-label="{{sort.reverse ? \'Sort role ascending\' : \'Sort role descending\'}}"\n                >\n                  <span class="kuiTableHeaderCell__liner">\n                    <span\n                      i18n-id="xpack.security.management.roles.roleTitle"\n                      i18n-default-message="Role"\n                    ></span>\n                    <span\n                      aria-hidden="true"\n                      class="kuiTableSortIcon kuiIcon"\n                      ng-class="getSortArrowClass(\'name\')"\n                    ></span>\n                  </span>\n                </button>\n              </th>\n\n              <th scope="col" class="kuiTableHeaderCell">\n                <span\n                  class="kuiTableHeaderCell__liner"\n                  i18n-id="xpack.security.management.roles.reversedTitle"\n                  i18n-default-message="Reserved"\n                ></span>\n                <span class="kuiIcon fa-question-circle" tooltip={{reversedTooltip}} aria-label={{reversedAriaLabel}} ></span>\n              </th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr\n              ng-repeat="role in roles | orderBy:\'name\' | filter:query | orderBy:sort.orderBy:sort.reverse"\n              data-test-subj="roleRow"\n              class="kuiTableRow"\n            >\n              <td class="kuiTableRowCell kuiTableRowCell--checkBox">\n                <div class="kuiTableRowCell__liner">\n                  <input\n                    type="checkbox"\n                    class="kuiCheckBox"\n                    ng-click="toggle(selectedRoles, role)"\n                    ng-checked="includes(selectedRoles, role)"\n                    ng-disabled="role.metadata._reserved"\n                  >\n                </div>\n              </td>\n\n              <td class="kuiTableRowCell">\n                <div class="kuiTableRowCell__liner">\n                  <a\n                    class="kuiLink"\n                    ng-href="{{getEditRoleHref(role.name)}}"\n                    data-test-subj="roleRowName"\n                  >\n                    {{ role.name }}\n                    <span\n                      ng-if="!isRoleEnabled(role)"\n                      class="euiBadge euiBadge--default"\n                      tooltip="This role is currently disabled. You may only view or delete it."\n                      aria-label="This role is currently disabled. You may only view or delete it."\n                      i18n-id="xpack.security.management.roles.disableTitle"\n                      i18n-default-message="{icon} Disabled"\n                      i18n-values="{\n                        html_icon: \'<span class=\\\'kuiIcon fa-warning\\\'></span>\'\n                      }"\n                    >\n                      <span class="kuiIcon fa-warning"></span>\n                    </span>\n                  </a>\n                </div>\n              </td>\n\n              <td class="kuiTableRowCell">\n                <div class="kuiTableRowCell__liner">\n                  <div\n                    ng-if="role.metadata._reserved"\n                    class="kuiIcon fa-check"\n                    data-test-subj="roleRowReserved"\n                  ></div>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        \x3c!-- ToolBarFooter --\x3e\n        <div class="kuiToolBarFooter">\n          <div class="kuiToolBarFooterSection">\n            <div\n              class="kuiToolBarText"\n              ng-hide="selectedRoles.length === 0"\n              i18n-id="xpack.security.management.roles.selectedRolesTitle"\n              i18n-default-message="{selectedRolesLength} roles selected"\n              i18n-values="{ selectedRolesLength:  selectedRoles.length }"\n            ></div>\n          </div>\n          <div class="kuiToolBarFooterSection">\n            \x3c!-- We need an empty section for the buttons to be positioned consistently. --\x3e\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _edit_user=__webpack_require__(4322);var _edit_user2=_interopRequireDefault(_edit_user);__webpack_require__(464);__webpack_require__(1317);__webpack_require__(325);__webpack_require__(788);var _management_urls=__webpack_require__(320);var _users=__webpack_require__(1313);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _api=__webpack_require__(1315);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var renderReact=function renderReact(elem,httpClient,changeUrl,username){(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_users.EditUser,{changeUrl:changeUrl,apiClient:(0,_api.createApiClient)(httpClient),username:username})),elem)};_routes2.default.when(_management_urls.EDIT_USERS_PATH+"/:username?",{template:_edit_user2.default,controllerAs:"editUser",controller:function controller($scope,$route,kbnUrl,Notifier,confirmModal,$http){$scope.$on("$destroy",function(){var elem=document.getElementById("editUserReactRoot");if(elem){(0,_reactDom.unmountComponentAtNode)(elem)}});$scope.$$postDigest(function(){var elem=document.getElementById("editUserReactRoot");var username=$route.current.params.username;var changeUrl=function changeUrl(url){kbnUrl.change(url);$scope.$apply()};renderReact(elem,$http,changeUrl,username)})}})},function(module,exports){module.exports='<kbn-management-app section="security" omit-breadcrumb-pages="[\'edit\']">\n  <div id="editUserReactRoot" />\n</kbn-management-app>\n'},,function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(10);var _edit_role=__webpack_require__(4326);var _edit_role2=_interopRequireDefault(_edit_role);__webpack_require__(1317);__webpack_require__(4327);__webpack_require__(325);__webpack_require__(788);__webpack_require__(4328);__webpack_require__(4329);var _index_patterns=__webpack_require__(582);var _xpack_info=__webpack_require__(46);var _lib=__webpack_require__(4330);var _user_profile=__webpack_require__(568);var _check_license_error=__webpack_require__(1316);var _management_urls=__webpack_require__(320);var _components=__webpack_require__(4331);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _kibana_privilege=__webpack_require__(4352);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when(_management_urls.EDIT_ROLES_PATH+"/:name?",{template:_edit_role2.default,resolve:{role:function role($route,ShieldRole,kbnUrl,Promise,Notifier){var name=$route.current.params.name;var role=void 0;if(name!=null){role=ShieldRole.get({name:name}).$promise.catch(function(response){if(response.status!==404){return(0,_notify.fatalError)(response)}var notifier=new Notifier;notifier.error('No "'+name+'" role found.');kbnUrl.redirect(_management_urls.ROLES_PATH);return Promise.halt()})}else{role=Promise.resolve(new ShieldRole({elasticsearch:{cluster:[],indices:[],run_as:[]},kibana:{global:[],space:{}},_unrecognized_applications:[]}))}return role.then(function(res){return res.toJSON()})},users:function users(ShieldUser,kbnUrl,Promise,Private){return ShieldUser.query().$promise.then(function(users){return _lodash2.default.map(users,"username")}).catch((0,_check_license_error.checkLicenseError)(kbnUrl,Promise,Private))},indexPatterns:function indexPatterns(Private){var indexPatterns=Private(_index_patterns.IndexPatternsProvider);return indexPatterns.getTitles()},spaces:function spaces($http,chrome,spacesEnabled){if(spacesEnabled){return new _lib.SpacesManager($http,chrome).getSpaces()}return[]}},controllerAs:"editRole",controller:function controller($injector,$scope,$http,enableSpaceAwarePrivileges){var $route=$injector.get("$route");var Private=$injector.get("Private");var role=$route.current.locals.role;var xpackInfo=Private(_xpack_info.XPackInfoProvider);var userProfile=Private(_user_profile.UserProfileProvider);var allowDocumentLevelSecurity=xpackInfo.get("features.security.allowRoleDocumentLevelSecurity");var allowFieldLevelSecurity=xpackInfo.get("features.security.allowRoleFieldLevelSecurity");var rbacApplication=_chrome2.default.getInjected("rbacApplication");if(role.elasticsearch.indices.length===0){var emptyOption={names:[],privileges:[]};if(allowFieldLevelSecurity){emptyOption.field_security={grant:["*"]}}if(allowDocumentLevelSecurity){emptyOption.query=""}role.elasticsearch.indices.push(emptyOption)}var _$route$current$local=$route.current.locals,users=_$route$current$local.users,indexPatterns=_$route$current$local.indexPatterns,spaces=_$route$current$local.spaces;$scope.$$postDigest(function(){var domNode=document.getElementById("editRoleReactRoot");(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_components.EditRolePage,{runAsUsers:users,role:role,kibanaAppPrivileges:_kibana_privilege.KibanaAppPrivileges,indexPatterns:indexPatterns,rbacEnabled:true,rbacApplication:rbacApplication,httpClient:$http,allowDocumentLevelSecurity:allowDocumentLevelSecurity,allowFieldLevelSecurity:allowFieldLevelSecurity,spaces:spaces,spacesEnabled:enableSpaceAwarePrivileges,userProfile:userProfile})),domNode);$scope.$on("$destroy",function(){(0,_reactDom.unmountComponentAtNode)(domNode)})})}})},function(module,exports){module.exports='<kbn-management-app section="security" omit-breadcrumb-pages="[\'edit\']">\n  <div id="editRoleReactRoot" />\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(464);var _modules=__webpack_require__(4);var _module=_modules.uiModules.get("security",["ngResource"]);_module.service("ApplicationPrivileges",function($resource,chrome){var baseUrl=chrome.addBasePath("/api/security/v1/privileges");return $resource(baseUrl,null,{query:{isArray:false}})})},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _module=_modules.uiModules.get("security",[]);_module.constant("shieldPrivileges",{cluster:["all","monitor","manage","manage_security","manage_index_templates","manage_pipeline","manage_ingest_pipelines","transport_client","manage_ml","monitor_ml","manage_watcher","monitor_watcher","read_ccr","manage_ccr","manage_ilm","read_ilm","monitor_rollup","manage_rollup","manage_token","manage_saml"],indices:["all","manage","monitor","read","index","create","delete","write","delete_index","create_index","view_index_metadata","read_cross_cluster","manage_follow_index"],applications:[]})},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _module=_modules.uiModules.get("security",[]);_module.service("shieldIndices",function($http,chrome){return{getFields:function getFields(query){return $http.get(chrome.addBasePath("/api/security/v1/fields/"+query)).then(function(response){return response.data})}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var spaces_manager_1=__webpack_require__(446);exports.SpacesManager=spaces_manager_1.SpacesManager},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var edit_role_page_1=__webpack_require__(4332);exports.EditRolePage=edit_role_page_1.EditRolePage},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var lodash_1=__webpack_require__(1);var react_2=tslib_1.__importStar(__webpack_require__(0));var notify_1=__webpack_require__(10);var role_1=__webpack_require__(286);var objects_1=__webpack_require__(1318);var management_urls_1=__webpack_require__(320);var validate_role_1=__webpack_require__(4335);var delete_role_button_1=__webpack_require__(4336);var privileges_1=__webpack_require__(4337);var reserved_role_badge_1=__webpack_require__(4351);var EditRolePageUI=function(_react_2$Component){_inherits(EditRolePageUI,_react_2$Component);function EditRolePageUI(props){_classCallCheck(this,EditRolePageUI);var _this=_possibleConstructorReturn(this,(EditRolePageUI.__proto__||Object.getPrototypeOf(EditRolePageUI)).call(this,props));_this.getFormTitle=function(){var titleText=void 0;var props={tabIndex:0};if(role_1.isReservedRole(_this.props.role)){titleText=react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRole.viewingRoleTitle",defaultMessage:"Viewing role"});props["aria-describedby"]="reservedRoleDescription"}else if(_this.editingExistingRole()){titleText=react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRole.editRoleTitle",defaultMessage:"Edit role"})}else{titleText=react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRole.createRoleTitle",defaultMessage:"Create role"})}return react_2.default.createElement(eui_1.EuiTitle,{size:"l"},react_2.default.createElement("h1",Object.assign({},props),titleText," ",react_2.default.createElement(reserved_role_badge_1.ReservedRoleBadge,{role:_this.props.role})))};_this.getActionButton=function(){if(_this.editingExistingRole()&&!role_1.isReservedRole(_this.props.role)){return react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(delete_role_button_1.DeleteRoleButton,{canDelete:true,onDelete:_this.handleDeleteRole}))}return null};_this.getRoleName=function(){return react_2.default.createElement(eui_1.EuiPanel,null,react_2.default.createElement(eui_1.EuiFormRow,Object.assign({label:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRole.roleNameFormRowTitle",defaultMessage:"Role name"}),helpText:!role_1.isReservedRole(_this.props.role)&&_this.editingExistingRole()?react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRole.roleNameFormRowHelpText",defaultMessage:"A role's name cannot be changed once it has been created."}):undefined},_this.validator.validateRoleName(_this.state.role)),react_2.default.createElement(eui_1.EuiFieldText,{name:"name",value:_this.state.role.name||"",onChange:_this.onNameChange,"data-test-subj":"roleFormNameInput",readOnly:role_1.isReservedRole(_this.props.role)||_this.editingExistingRole()})))};_this.onNameChange=function(e){var rawValue=e.target.value;var name=rawValue.replace(/\s/g,"_");_this.setState({role:_extends({},_this.state.role,{name:name})})};_this.onRoleChange=function(role){_this.setState({role:role})};_this.getKibanaPrivileges=function(){return react_2.default.createElement("div",null,react_2.default.createElement(eui_1.EuiSpacer,null),react_2.default.createElement(privileges_1.KibanaPrivileges,{kibanaAppPrivileges:_this.props.kibanaAppPrivileges,spaces:_this.props.spaces,spacesEnabled:_this.props.spacesEnabled,userProfile:_this.props.userProfile,editable:!role_1.isReservedRole(_this.state.role),role:_this.state.role,onChange:_this.onRoleChange,validator:_this.validator}))};_this.getFormButtons=function(){if(role_1.isReservedRole(_this.props.role)){return react_2.default.createElement(eui_1.EuiButton,{onClick:_this.backToRoleList},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRole.returnToRoleListButtonLabel",defaultMessage:"Return to role list"}))}var saveText=_this.editingExistingRole()?react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRole.updateRoleText",defaultMessage:"Update role"}):react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRole.createRoleText",defaultMessage:"Create role"});return react_2.default.createElement(eui_1.EuiFlexGroup,{responsive:false},react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiButton,{"data-test-subj":"roleFormSaveButton",fill:true,onClick:_this.saveRole,disabled:role_1.isReservedRole(_this.props.role)},saveText)),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiButtonEmpty,{"data-test-subj":"roleFormCancelButton",onClick:_this.backToRoleList},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRole.cancelButtonLabel",defaultMessage:"Cancel"}))),react_2.default.createElement(eui_1.EuiFlexItem,{grow:true}),_this.getActionButton())};_this.editingExistingRole=function(){return!!_this.props.role.name};_this.isPlaceholderPrivilege=function(indexPrivilege){return indexPrivilege.names.length===0};_this.saveRole=function(){_this.validator.enableValidation();var result=_this.validator.validateForSave(_this.state.role);if(result.isInvalid){_this.setState({formError:result})}else{_this.setState({formError:null});var _this$props=_this.props,httpClient=_this$props.httpClient,intl=_this$props.intl;var role=_extends({},_this.state.role);role.elasticsearch.indices=role.elasticsearch.indices.filter(function(i){return!_this.isPlaceholderPrivilege(i)});role.elasticsearch.indices.forEach(function(index){return index.query||delete index.query});objects_1.saveRole(httpClient,role).then(function(){notify_1.toastNotifications.addSuccess(intl.formatMessage({id:"xpack.security.management.editRole.roleSuccessfullySavedNotificationMessage",defaultMessage:"Saved role"}));_this.backToRoleList()}).catch(function(error){notify_1.toastNotifications.addDanger(lodash_1.get(error,"data.message"))})}};_this.handleDeleteRole=function(){var _this$props2=_this.props,httpClient=_this$props2.httpClient,role=_this$props2.role,intl=_this$props2.intl;objects_1.deleteRole(httpClient,role.name).then(function(){notify_1.toastNotifications.addSuccess(intl.formatMessage({id:"xpack.security.management.editRole.roleSuccessfullyDeletedNotificationMessage",defaultMessage:"Deleted role"}));_this.backToRoleList()}).catch(function(error){notify_1.toastNotifications.addDanger(lodash_1.get(error,"data.message"))})};_this.backToRoleList=function(){window.location.hash=management_urls_1.ROLES_PATH};_this.state={role:props.role,formError:null};_this.validator=new validate_role_1.RoleValidator({shouldValidate:false});return _this}_createClass(EditRolePageUI,[{key:"render",value:function render(){var description=this.props.spacesEnabled?react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRole.setPrivilegesToKibanaSpacesDescription",defaultMessage:"Set privileges on your Elasticsearch data and control access to your Kibana spaces."}):react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRole.setPrivilegesToKibanaDescription",defaultMessage:"Set privileges on your Elasticsearch data and control access to Kibana."});return react_2.default.createElement(eui_1.EuiPage,{className:"editRolePage",restrictWidth:true},react_2.default.createElement(eui_1.EuiPageBody,null,react_2.default.createElement(eui_1.EuiForm,Object.assign({},this.state.formError),this.getFormTitle(),react_2.default.createElement(eui_1.EuiSpacer,null),react_2.default.createElement(eui_1.EuiText,{size:"s"},description),role_1.isReservedRole(this.props.role)&&react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiSpacer,{size:"s"}),react_2.default.createElement(eui_1.EuiText,{size:"s",color:"subdued"},react_2.default.createElement("p",{id:"reservedRoleDescription",tabIndex:0},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRole.modifyingReversedRolesDescription",defaultMessage:"Reserved roles are built-in and cannot be removed or modified."})))),react_2.default.createElement(eui_1.EuiSpacer,null),this.getRoleName(),this.getElasticsearchPrivileges(),this.getKibanaPrivileges(),react_2.default.createElement(eui_1.EuiSpacer,null),this.getFormButtons())))}},{key:"getElasticsearchPrivileges",value:function getElasticsearchPrivileges(){return react_2.default.createElement("div",null,react_2.default.createElement(eui_1.EuiSpacer,null),react_2.default.createElement(privileges_1.ElasticsearchPrivileges,{role:this.state.role,editable:!role_1.isReservedRole(this.state.role),httpClient:this.props.httpClient,onChange:this.onRoleChange,runAsUsers:this.props.runAsUsers,validator:this.validator,indexPatterns:this.props.indexPatterns,allowDocumentLevelSecurity:this.props.allowDocumentLevelSecurity,allowFieldLevelSecurity:this.props.allowFieldLevelSecurity}))}}]);return EditRolePageUI}(react_2.Component);exports.EditRolePage=react_1.injectI18n(EditRolePageUI)},function(module,exports,__webpack_require__){"use strict";var saveRole=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee($http,role){var data;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=lodash_1.omit(role,"name","transient_metadata","_unrecognized_applications");_context.next=3;return $http.put(apiBase+"/"+role.name,data);case 3:return _context.abrupt("return",_context.sent);case 4:case"end":return _context.stop()}}},_callee,this)}));return function saveRole(_x,_x2){return _ref.apply(this,arguments)}}();var deleteRole=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2($http,name){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return $http.delete(apiBase+"/"+name);case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}},_callee2,this)}));return function deleteRole(_x3,_x4){return _ref2.apply(this,arguments)}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var lodash_1=__webpack_require__(1);var chrome_1=tslib_1.__importDefault(__webpack_require__(8));var apiBase=chrome_1.default.addBasePath("/api/security/role");exports.saveRole=saveRole;exports.deleteRole=deleteRole},function(module,exports,__webpack_require__){"use strict";var getFields=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee($http,query){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return $http.get(apiBase+"/"+query).then(function(response){return response.data||[]});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}},_callee,this)}));return function getFields(_x,_x2){return _ref.apply(this,arguments)}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var chrome_1=tslib_1.__importDefault(__webpack_require__(8));var apiBase=chrome_1.default.addBasePath("/api/security/v1/fields");exports.getFields=getFields},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var i18n_1=__webpack_require__(9);var RoleValidator=function(){function RoleValidator(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,RoleValidator);this.inProgressSpacePrivileges=[];this.shouldValidate=options.shouldValidate}_createClass(RoleValidator,[{key:"enableValidation",value:function enableValidation(){this.shouldValidate=true}},{key:"disableValidation",value:function disableValidation(){this.shouldValidate=false}},{key:"validateRoleName",value:function validateRoleName(role){if(!this.shouldValidate){return valid()}if(!role.name){return invalid(i18n_1.i18n.translate("xpack.security.management.editRoles.validateRole.provideRoleNameWarningMessage",{defaultMessage:"Please provide a role name"}))}if(role.name.length>1024){return invalid(i18n_1.i18n.translate("xpack.security.management.editRoles.validateRole.nameLengthWarningMessage",{defaultMessage:"Name must not exceed 1024 characters"}))}if(!role.name.match(/^[a-zA-Z_][a-zA-Z0-9_@\-\$\.]*$/)){return invalid(i18n_1.i18n.translate("xpack.security.management.editRoles.validateRole.nameAllowedCharactersWarningMessage",{defaultMessage:"Name must begin with a letter or underscore and contain only letters, underscores, and numbers."}))}return valid()}},{key:"validateIndexPrivileges",value:function validateIndexPrivileges(role){var _this=this;if(!this.shouldValidate){return valid()}if(!Array.isArray(role.elasticsearch.indices)){throw new TypeError(i18n_1.i18n.translate("xpack.security.management.editRoles.validateRole.indicesTypeErrorMessage",{defaultMessage:"Expected {elasticIndices} to be an array",values:{elasticIndices:'"role.elasticsearch.indices"'}}))}var areIndicesValid=role.elasticsearch.indices.map(function(indexPriv){return _this.validateIndexPrivilege(indexPriv)}).find(function(result){return result.isInvalid})==null;if(areIndicesValid){return valid()}return invalid()}},{key:"validateIndexPrivilege",value:function validateIndexPrivilege(indexPrivilege){if(!this.shouldValidate){return valid()}if(indexPrivilege.names.length&&!indexPrivilege.privileges.length){return invalid(i18n_1.i18n.translate("xpack.security.management.editRoles.validateRole.onePrivilegeRequiredWarningMessage",{defaultMessage:"At least one privilege is required"}))}return valid()}},{key:"validateSelectedSpaces",value:function validateSelectedSpaces(spaceIds,privilege){if(!this.shouldValidate){return valid()}if(!privilege){return valid()}if(Array.isArray(spaceIds)&&spaceIds.length>0){return valid()}return invalid(i18n_1.i18n.translate("xpack.security.management.editRoles.validateRole.oneSpaceRequiredWarningMessage",{defaultMessage:"At least one space is required"}))}},{key:"validateSelectedPrivilege",value:function validateSelectedPrivilege(spaceIds,privilege){if(!this.shouldValidate){return valid()}if(!spaceIds||spaceIds.length===0){return valid()}if(privilege){return valid()}return invalid(i18n_1.i18n.translate("xpack.security.management.editRoles.validateRole.privilegeRequiredWarningMessage",{defaultMessage:"Privilege is required"}))}},{key:"setInProgressSpacePrivileges",value:function setInProgressSpacePrivileges(inProgressSpacePrivileges){this.inProgressSpacePrivileges=[].concat(_toConsumableArray(inProgressSpacePrivileges))}},{key:"validateInProgressSpacePrivileges",value:function validateInProgressSpacePrivileges(role){var _this2=this;var global=role.kibana.global;var shouldValidate=this.shouldValidate&&!global.includes("all");if(!shouldValidate){return valid()}var allInProgressValid=this.inProgressSpacePrivileges.every(function(_ref){var spaces=_ref.spaces,privilege=_ref.privilege;return!_this2.validateSelectedSpaces(spaces,privilege).isInvalid&&!_this2.validateSelectedPrivilege(spaces,privilege).isInvalid});if(allInProgressValid){return valid()}return invalid()}},{key:"validateSpacePrivileges",value:function validateSpacePrivileges(role){if(!this.shouldValidate){return valid()}var privileges=Object.values(role.kibana.space||{});var arePrivilegesValid=privileges.every(function(assignedPrivilege){return!!assignedPrivilege});var areInProgressPrivilegesValid=!this.validateInProgressSpacePrivileges(role).isInvalid;if(arePrivilegesValid&&areInProgressPrivilegesValid){return valid()}return invalid()}},{key:"validateForSave",value:function validateForSave(role){var _validateRoleName=this.validateRoleName(role),isNameInvalid=_validateRoleName.isInvalid;var _validateIndexPrivile=this.validateIndexPrivileges(role),areIndicesInvalid=_validateIndexPrivile.isInvalid;var _validateSpacePrivile=this.validateSpacePrivileges(role),areSpacePrivilegesInvalid=_validateSpacePrivile.isInvalid;if(isNameInvalid||areIndicesInvalid||areSpacePrivilegesInvalid){return invalid()}return valid()}}]);return RoleValidator}();exports.RoleValidator=RoleValidator;function invalid(error){return{isInvalid:true,error:error}}function valid(){return{isInvalid:false}}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var DeleteRoleButton=function(_react_2$Component){_inherits(DeleteRoleButton,_react_2$Component);function DeleteRoleButton(){_classCallCheck(this,DeleteRoleButton);var _this=_possibleConstructorReturn(this,(DeleteRoleButton.__proto__||Object.getPrototypeOf(DeleteRoleButton)).apply(this,arguments));_this.state={showModal:false};_this.maybeShowModal=function(){if(!_this.state.showModal){return null}return react_2.default.createElement(eui_1.EuiOverlayMask,null,react_2.default.createElement(eui_1.EuiConfirmModal,{title:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.deleteRoleButton.deleteRoleTitle",defaultMessage:"Delete Role"}),onCancel:_this.closeModal,onConfirm:_this.onConfirmDelete,cancelButtonText:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.deleteRoleButton.cancelButtonLabel",defaultMessage:"No, don't delete"}),confirmButtonText:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.deleteRoleButton.confirmButtonLabel",defaultMessage:"Yes, delete role"}),buttonColor:"danger"},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.deleteRoleButton.deletingRoleConfirmationText",defaultMessage:"Are you sure you want to delete this role?"})),react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.deleteRoleButton.deletingRoleWarningText",defaultMessage:"This action cannot be undone!"}))))};_this.closeModal=function(){_this.setState({showModal:false})};_this.showModal=function(){_this.setState({showModal:true})};_this.onConfirmDelete=function(){_this.closeModal();_this.props.onDelete()};return _this}_createClass(DeleteRoleButton,[{key:"render",value:function render(){if(!this.props.canDelete){return null}return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiButtonEmpty,{color:"danger",onClick:this.showModal},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.deleteRoleButton.deleteRoleButtonLabel",defaultMessage:"Delete role"})),this.maybeShowModal())}}]);return DeleteRoleButton}(react_2.Component);exports.DeleteRoleButton=DeleteRoleButton},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var elasticsearch_privileges_1=__webpack_require__(4338);exports.ElasticsearchPrivileges=elasticsearch_privileges_1.ElasticsearchPrivileges;var kibana_privileges_1=__webpack_require__(4343);exports.KibanaPrivileges=kibana_privileges_1.KibanaPrivileges},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var documentation_links_1=__webpack_require__(4339);var collapsible_panel_1=__webpack_require__(1319);var cluster_privileges_1=__webpack_require__(4340);var index_privileges_1=__webpack_require__(4341);var ElasticsearchPrivilegesUI=function(_react_2$Component){_inherits(ElasticsearchPrivilegesUI,_react_2$Component);function ElasticsearchPrivilegesUI(){_classCallCheck(this,ElasticsearchPrivilegesUI);var _this=_possibleConstructorReturn(this,(ElasticsearchPrivilegesUI.__proto__||Object.getPrototypeOf(ElasticsearchPrivilegesUI)).apply(this,arguments));_this.getForm=function(){var _this$props=_this.props,role=_this$props.role,httpClient=_this$props.httpClient,validator=_this$props.validator,onChange=_this$props.onChange,indexPatterns=_this$props.indexPatterns,allowDocumentLevelSecurity=_this$props.allowDocumentLevelSecurity,allowFieldLevelSecurity=_this$props.allowFieldLevelSecurity,intl=_this$props.intl;var indexProps={role:role,httpClient:httpClient,validator:validator,indexPatterns:indexPatterns,allowDocumentLevelSecurity:allowDocumentLevelSecurity,allowFieldLevelSecurity:allowFieldLevelSecurity,onChange:onChange};return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiDescribedFormGroup,{title:react_2.default.createElement("h3",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.elasticSearchPrivileges.clusterPrivilegesTitle",defaultMessage:"Cluster privileges"})),description:react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.elasticSearchPrivileges.manageRoleActionsDescription",defaultMessage:"Manage the actions this role can perform against your cluster. "}),_this.learnMore(documentation_links_1.documentationLinks.esClusterPrivileges))},react_2.default.createElement(eui_1.EuiFormRow,{fullWidth:true,hasEmptyLabelSpace:true},react_2.default.createElement(cluster_privileges_1.ClusterPrivileges,{role:_this.props.role,onChange:_this.onClusterPrivilegesChange}))),react_2.default.createElement(eui_1.EuiSpacer,null),react_2.default.createElement(eui_1.EuiDescribedFormGroup,{title:react_2.default.createElement("h3",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.elasticSearchPrivileges.runAsPrivilegesTitle",defaultMessage:"Run As privileges"})),description:react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.elasticSearchPrivileges.howToBeSubmittedOnBehalfOfOtherUsersDescription",defaultMessage:"Allow requests to be submitted on the behalf of other users. "}),_this.learnMore(documentation_links_1.documentationLinks.esRunAsPrivileges))},react_2.default.createElement(eui_1.EuiFormRow,{hasEmptyLabelSpace:true},react_2.default.createElement(eui_1.EuiComboBox,{placeholder:_this.props.editable?intl.formatMessage({id:"xpack.security.management.editRoles.elasticSearchPrivileges.addUserTitle",defaultMessage:"Add a user…"}):undefined,options:_this.props.runAsUsers.map(function(username){return{id:username,label:username,isGroupLabelOption:false}}),selectedOptions:_this.props.role.elasticsearch.run_as.map(function(u){return{label:u}}),onChange:_this.onRunAsUserChange,isDisabled:!_this.props.editable}))),react_2.default.createElement(eui_1.EuiSpacer,null),react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h3",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.elasticSearchPrivileges.indexPrivilegesTitle",defaultMessage:"Index privileges"}))),react_2.default.createElement(eui_1.EuiSpacer,{size:"s"}),react_2.default.createElement(eui_1.EuiText,{size:"s",color:"subdued"},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.elasticSearchPrivileges.controlAccessToClusterDataDescription",defaultMessage:"Control access to the data in your cluster. "}),_this.learnMore(documentation_links_1.documentationLinks.esIndicesPrivileges))),react_2.default.createElement(index_privileges_1.IndexPrivileges,Object.assign({},indexProps)),react_2.default.createElement(eui_1.EuiHorizontalRule,null),_this.props.editable&&react_2.default.createElement(eui_1.EuiButton,{size:"s",iconType:"plusInCircle",onClick:_this.addIndexPrivilege},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.elasticSearchPrivileges.addIndexPrivilegesButtonLabel",defaultMessage:"Add index privilege"})))};_this.learnMore=function(href){return react_2.default.createElement(eui_1.EuiLink,{className:"editRole__learnMore",href:href,target:"_blank"},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.elasticSearchPrivileges.learnMoreLinkText",defaultMessage:"Learn more"}))};_this.addIndexPrivilege=function(){var role=_this.props.role;var newIndices=[].concat(_toConsumableArray(role.elasticsearch.indices),[{names:[],privileges:[],field_security:{grant:["*"]}}]);_this.props.onChange(_extends({},_this.props.role,{elasticsearch:_extends({},_this.props.role.elasticsearch,{indices:newIndices})}))};_this.onClusterPrivilegesChange=function(cluster){var role=_extends({},_this.props.role,{elasticsearch:_extends({},_this.props.role.elasticsearch,{cluster:cluster})});_this.props.onChange(role)};_this.onRunAsUserChange=function(users){var role=_extends({},_this.props.role,{elasticsearch:_extends({},_this.props.role.elasticsearch,{run_as:users.map(function(u){return u.label})})});_this.props.onChange(role)};return _this}_createClass(ElasticsearchPrivilegesUI,[{key:"render",value:function render(){return react_2.default.createElement(react_1.I18nProvider,null,react_2.default.createElement(collapsible_panel_1.CollapsiblePanel,{iconType:"logoElasticsearch",title:"Elasticsearch"},this.getForm()))}}]);return ElasticsearchPrivilegesUI}(react_2.Component);exports.ElasticsearchPrivileges=react_1.injectI18n(ElasticsearchPrivilegesUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.documentationLinks=undefined;var _documentation_links=__webpack_require__(65);var STACK_OVERVIEW_URL=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/elastic-stack-overview/"+_documentation_links.DOC_LINK_VERSION;var documentationLinks=exports.documentationLinks={dashboardViewMode:_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/kibana/"+_documentation_links.DOC_LINK_VERSION+"/xpack-view-modes.html",esClusterPrivileges:STACK_OVERVIEW_URL+"/security-privileges.html#privileges-list-cluster",esIndicesPrivileges:STACK_OVERVIEW_URL+"/security-privileges.html#privileges-list-indices",esRunAsPrivileges:STACK_OVERVIEW_URL+"/security-privileges.html#_run_as_privilege"}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var role_1=__webpack_require__(286);var role_privileges_1=__webpack_require__(1320);var ClusterPrivileges=function(_react_1$Component){_inherits(ClusterPrivileges,_react_1$Component);function ClusterPrivileges(){_classCallCheck(this,ClusterPrivileges);var _this=_possibleConstructorReturn(this,(ClusterPrivileges.__proto__||Object.getPrototypeOf(ClusterPrivileges)).apply(this,arguments));_this.buildComboBox=function(items){var role=_this.props.role;var options=items.map(function(i){return{label:i,isGroupLabelOption:false}});var selectedOptions=(role.elasticsearch.cluster||[]).map(function(k){return{label:k}});return react_1.default.createElement(eui_1.EuiFlexItem,{key:"clusterPrivs"},react_1.default.createElement(eui_1.EuiComboBox,{options:options,selectedOptions:selectedOptions,onChange:_this.onClusterPrivilegesChange,isDisabled:role_1.isReservedRole(role)}))};_this.onClusterPrivilegesChange=function(selectedPrivileges){_this.props.onChange(selectedPrivileges.map(function(priv){return priv.label}))};return _this}_createClass(ClusterPrivileges,[{key:"render",value:function render(){var clusterPrivileges=role_privileges_1.getClusterPrivileges();return react_1.default.createElement(eui_1.EuiFlexGroup,null,this.buildComboBox(clusterPrivileges))}}]);return ClusterPrivileges}(react_1.Component);exports.ClusterPrivileges=ClusterPrivileges},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var lodash_1=tslib_1.__importDefault(__webpack_require__(1));var react_1=tslib_1.__importStar(__webpack_require__(0));var role_1=__webpack_require__(286);var objects_1=__webpack_require__(1318);var index_privilege_form_1=__webpack_require__(4342);var IndexPrivileges=function(_react_1$Component){_inherits(IndexPrivileges,_react_1$Component);function IndexPrivileges(props){var _this2=this;_classCallCheck(this,IndexPrivileges);var _this=_possibleConstructorReturn(this,(IndexPrivileges.__proto__||Object.getPrototypeOf(IndexPrivileges)).call(this,props));_this.addIndexPrivilege=function(){var role=_this.props.role;var newIndices=[].concat(_toConsumableArray(role.elasticsearch.indices),[{names:[],privileges:[],field_security:{grant:["*"]}}]);_this.props.onChange(_extends({},_this.props.role,{elasticsearch:_extends({},_this.props.role.elasticsearch,{indices:newIndices})}))};_this.onIndexPrivilegeChange=function(privilegeIndex){return function(updatedPrivilege){var role=_this.props.role;var indices=role.elasticsearch.indices;var newIndices=[].concat(_toConsumableArray(indices));newIndices[privilegeIndex]=updatedPrivilege;_this.props.onChange(_extends({},_this.props.role,{elasticsearch:_extends({},_this.props.role.elasticsearch,{indices:newIndices})}));_this.loadAvailableFields(newIndices)}};_this.onIndexPrivilegeDelete=function(privilegeIndex){return function(){var role=_this.props.role;var newIndices=[].concat(_toConsumableArray(role.elasticsearch.indices));newIndices.splice(privilegeIndex,1);_this.props.onChange(_extends({},_this.props.role,{elasticsearch:_extends({},_this.props.role.elasticsearch,{indices:newIndices})}))}};_this.isPlaceholderPrivilege=function(indexPrivilege){return indexPrivilege.names.length===0};_this.loadFieldsForPattern=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(pattern){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(pattern){_context.next=2;break}return _context.abrupt("return",_defineProperty({},pattern,[]));case 2:_context.prev=2;_context.t0=_defineProperty;_context.t1={};_context.t2=pattern;_context.next=8;return objects_1.getFields(_this.props.httpClient,pattern);case 8:_context.t3=_context.sent;return _context.abrupt("return",(0,_context.t0)(_context.t1,_context.t2,_context.t3));case 12:_context.prev=12;_context.t4=_context["catch"](2);return _context.abrupt("return",_defineProperty({},pattern,[]));case 15:case"end":return _context.stop()}}},_callee,_this2,[[2,12]])}));return function(_x){return _ref.apply(this,arguments)}}();_this.state={availableFields:{}};return _this}_createClass(IndexPrivileges,[{key:"componentDidMount",value:function componentDidMount(){this.loadAvailableFields(this.props.role.elasticsearch.indices)}},{key:"render",value:function render(){var _this3=this;var _props$role$elasticse=this.props.role.elasticsearch.indices,indices=_props$role$elasticse===undefined?[]:_props$role$elasticse;var _props=this.props,indexPatterns=_props.indexPatterns,allowDocumentLevelSecurity=_props.allowDocumentLevelSecurity,allowFieldLevelSecurity=_props.allowFieldLevelSecurity;var props={indexPatterns:indexPatterns,allowDocumentLevelSecurity:allowDocumentLevelSecurity||!role_1.isRoleEnabled(this.props.role),allowFieldLevelSecurity:allowFieldLevelSecurity||!role_1.isRoleEnabled(this.props.role),isReservedRole:role_1.isReservedRole(this.props.role)};var forms=indices.map(function(indexPrivilege,idx){return react_1.default.createElement(index_privilege_form_1.IndexPrivilegeForm,Object.assign({key:idx},props,{formIndex:idx,validator:_this3.props.validator,allowDelete:!props.isReservedRole,indexPrivilege:indexPrivilege,availableFields:_this3.state.availableFields[indexPrivilege.names.join(",")],onChange:_this3.onIndexPrivilegeChange(idx),onDelete:_this3.onIndexPrivilegeDelete(idx)}))});return forms}},{key:"loadAvailableFields",value:function loadAvailableFields(privileges){var _this4=this;if(role_1.isReservedRole(this.props.role)){return}var patterns=privileges.map(function(index){return index.names.join(",")});var cachedPatterns=Object.keys(this.state.availableFields);var patternsToFetch=lodash_1.default.difference(patterns,cachedPatterns);var fetchRequests=patternsToFetch.map(this.loadFieldsForPattern);Promise.all(fetchRequests).then(function(response){_this4.setState({availableFields:_extends({},_this4.state.availableFields,response.reduce(function(acc,o){return _extends({},acc,o)},{}))})})}}]);return IndexPrivileges}(react_1.Component);exports.IndexPrivileges=IndexPrivileges},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var role_privileges_1=__webpack_require__(1320);var fromOption=function fromOption(option){return option.label};var toOption=function toOption(value){return{label:value,isGroupLabelOption:false}};var IndexPrivilegeFormUI=function(_react_2$Component){_inherits(IndexPrivilegeFormUI,_react_2$Component);function IndexPrivilegeFormUI(props){_classCallCheck(this,IndexPrivilegeFormUI);var _this=_possibleConstructorReturn(this,(IndexPrivilegeFormUI.__proto__||Object.getPrototypeOf(IndexPrivilegeFormUI)).call(this,props));_this.getPrivilegeForm=function(){return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiFormRow,Object.assign({label:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.indexPrivilegeForm.indicesFormRowLabel",defaultMessage:"Indices"}),fullWidth:true},_this.props.validator.validateIndexPrivilege(_this.props.indexPrivilege)),react_2.default.createElement(eui_1.EuiComboBox,{"data-test-subj":"indicesInput"+_this.props.formIndex,options:_this.props.indexPatterns.map(toOption),selectedOptions:_this.props.indexPrivilege.names.map(toOption),onCreateOption:_this.onCreateIndexPatternOption,onChange:_this.onIndexPatternsChange,isDisabled:_this.props.isReservedRole}))),react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiFormRow,{label:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.indexPrivilegeForm.privilegesFormRowLabel",defaultMessage:"Privileges"}),fullWidth:true},react_2.default.createElement(eui_1.EuiComboBox,{"data-test-subj":"privilegesInput"+_this.props.formIndex,options:role_privileges_1.getIndexPrivileges().map(toOption),selectedOptions:_this.props.indexPrivilege.privileges.map(toOption),onChange:_this.onPrivilegeChange,isDisabled:_this.props.isReservedRole}))),_this.getGrantedFieldsControl()),react_2.default.createElement(eui_1.EuiSpacer,null),_this.getGrantedDocumentsControl())};_this.getGrantedFieldsControl=function(){var _this$props=_this.props,allowFieldLevelSecurity=_this$props.allowFieldLevelSecurity,availableFields=_this$props.availableFields,indexPrivilege=_this$props.indexPrivilege,isReservedRole=_this$props.isReservedRole;if(!allowFieldLevelSecurity){return null}var _ref=indexPrivilege.field_security||{},_ref$grant=_ref.grant,grant=_ref$grant===undefined?[]:_ref$grant;if(allowFieldLevelSecurity){return react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiFormRow,{label:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.indexPrivilegeForm.grantedFieldsFormRowLabel",defaultMessage:"Granted fields (optional)"}),fullWidth:true,className:"indexPrivilegeForm__grantedFieldsRow",helpText:!isReservedRole&&grant.length===0?react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.indexPrivilegeForm.grantedFieldsFormRowHelpText",defaultMessage:"If no fields are granted, then users assigned to this role will not be able to see any data for this index."}):undefined},react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiComboBox,{"data-test-subj":"fieldInput"+_this.props.formIndex,options:availableFields?availableFields.map(toOption):[],selectedOptions:grant.map(toOption),onCreateOption:_this.onCreateGrantedField,onChange:_this.onGrantedFieldsChange,isDisabled:_this.props.isReservedRole}))))}return null};_this.getGrantedDocumentsControl=function(){var _this$props2=_this.props,allowDocumentLevelSecurity=_this$props2.allowDocumentLevelSecurity,indexPrivilege=_this$props2.indexPrivilege;if(!allowDocumentLevelSecurity){return null}return react_2.default.createElement(eui_1.EuiFlexGroup,{direction:"column"},!_this.props.isReservedRole&&react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiSwitch,{"data-test-subj":"restrictDocumentsQuery"+_this.props.formIndex,label:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.indexPrivilegeForm.grantReadPrivilegesLabel",defaultMessage:"Grant read privileges to specific documents"}),compressed:true,checked:_this.state.queryExpanded,onChange:_this.toggleDocumentQuery})),_this.state.queryExpanded&&react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiFormRow,{label:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.indexPrivilegeForm.grantedDocumentsQueryFormRowLabel",defaultMessage:"Granted documents query"}),fullWidth:true},react_2.default.createElement(eui_1.EuiTextArea,{"data-test-subj":"queryInput"+_this.props.formIndex,style:{resize:"none"},fullWidth:true,value:indexPrivilege.query,onChange:_this.onQueryChange,readOnly:_this.props.isReservedRole}))))};_this.toggleDocumentQuery=function(){var willToggleOff=_this.state.queryExpanded;var willToggleOn=!willToggleOff;_this.setState({queryExpanded:!_this.state.queryExpanded,documentQuery:willToggleOff?_this.props.indexPrivilege.query:_this.state.documentQuery});if(willToggleOff){_this.props.onChange(_extends({},_this.props.indexPrivilege,{query:""}))}if(willToggleOn&&!_this.props.indexPrivilege.query&&_this.state.documentQuery){_this.props.onChange(_extends({},_this.props.indexPrivilege,{query:_this.state.documentQuery}))}};_this.onCreateIndexPatternOption=function(option){var newIndexPatterns=_this.props.indexPrivilege.names.concat([option]);_this.props.onChange(_extends({},_this.props.indexPrivilege,{names:newIndexPatterns}))};_this.onIndexPatternsChange=function(newPatterns){_this.props.onChange(_extends({},_this.props.indexPrivilege,{names:newPatterns.map(fromOption)}))};_this.onPrivilegeChange=function(newPrivileges){_this.props.onChange(_extends({},_this.props.indexPrivilege,{privileges:newPrivileges.map(fromOption)}))};_this.onQueryChange=function(e){_this.props.onChange(_extends({},_this.props.indexPrivilege,{query:e.target.value}))};_this.onCreateGrantedField=function(grant){if(!_this.props.indexPrivilege.field_security||!_this.props.indexPrivilege.field_security.grant){return}var newGrants=_this.props.indexPrivilege.field_security.grant.concat([grant]);_this.props.onChange(_extends({},_this.props.indexPrivilege,{field_security:_extends({},_this.props.indexPrivilege.field_security,{grant:newGrants})}))};_this.onGrantedFieldsChange=function(grantedFields){_this.props.onChange(_extends({},_this.props.indexPrivilege,{field_security:_extends({},_this.props.indexPrivilege.field_security,{grant:grantedFields.map(fromOption)})}))};_this.state={queryExpanded:!!props.indexPrivilege.query,documentQuery:props.indexPrivilege.query};return _this}_createClass(IndexPrivilegeFormUI,[{key:"render",value:function render(){var intl=this.props.intl;return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiHorizontalRule,null),react_2.default.createElement(eui_1.EuiFlexGroup,{className:"index-privilege-form"},react_2.default.createElement(eui_1.EuiFlexItem,null,this.getPrivilegeForm()),this.props.allowDelete&&react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiFormRow,{hasEmptyLabelSpace:true},react_2.default.createElement(eui_1.EuiButtonIcon,{"aria-label":intl.formatMessage({id:"xpack.security.management.editRoles.indexPrivilegeForm.deleteSpacePrivilegeAriaLabel",defaultMessage:"Delete index privilege"}),color:"danger",onClick:this.props.onDelete,iconType:"trash"})))))}}]);return IndexPrivilegeFormUI}(react_2.Component);exports.IndexPrivilegeForm=react_1.injectI18n(IndexPrivilegeFormUI)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importStar(__webpack_require__(0));var collapsible_panel_1=__webpack_require__(1319);var simple_privilege_form_1=__webpack_require__(4344);var space_aware_privilege_form_1=__webpack_require__(4345);var KibanaPrivileges=function(_react_1$Component){_inherits(KibanaPrivileges,_react_1$Component);function KibanaPrivileges(){_classCallCheck(this,KibanaPrivileges);var _this=_possibleConstructorReturn(this,(KibanaPrivileges.__proto__||Object.getPrototypeOf(KibanaPrivileges)).apply(this,arguments));_this.getForm=function(){var _this$props=_this.props,kibanaAppPrivileges=_this$props.kibanaAppPrivileges,role=_this$props.role,spacesEnabled=_this$props.spacesEnabled,_this$props$spaces=_this$props.spaces,spaces=_this$props$spaces===undefined?[]:_this$props$spaces,userProfile=_this$props.userProfile,onChange=_this$props.onChange,editable=_this$props.editable,validator=_this$props.validator;if(spacesEnabled){return react_1.default.createElement(space_aware_privilege_form_1.SpaceAwarePrivilegeForm,{kibanaAppPrivileges:kibanaAppPrivileges,role:role,spaces:spaces,userProfile:userProfile,onChange:onChange,editable:editable,validator:validator})}else{return react_1.default.createElement(simple_privilege_form_1.SimplePrivilegeForm,{kibanaAppPrivileges:kibanaAppPrivileges,role:role,onChange:onChange,editable:editable})}};return _this}_createClass(KibanaPrivileges,[{key:"render",value:function render(){return react_1.default.createElement(collapsible_panel_1.CollapsiblePanel,{iconType:"logoKibana",title:"Kibana"},this.getForm())}}]);return KibanaPrivileges}(react_1.Component);exports.KibanaPrivileges=KibanaPrivileges},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var role_1=__webpack_require__(286);var constants_1=__webpack_require__(371);var copy_role_1=__webpack_require__(1321);var privilege_selector_1=__webpack_require__(544);var SimplePrivilegeForm=function(_react_2$Component){_inherits(SimplePrivilegeForm,_react_2$Component);function SimplePrivilegeForm(){_classCallCheck(this,SimplePrivilegeForm);var _this=_possibleConstructorReturn(this,(SimplePrivilegeForm.__proto__||Object.getPrototypeOf(SimplePrivilegeForm)).apply(this,arguments));_this.onKibanaPrivilegeChange=function(privilege){var role=copy_role_1.copyRole(_this.props.role);role.kibana.global=[];if(privilege!==constants_1.NO_PRIVILEGE_VALUE){role.kibana.global=[privilege]}_this.props.onChange(role)};return _this}_createClass(SimplePrivilegeForm,[{key:"render",value:function render(){var _props=this.props,kibanaAppPrivileges=_props.kibanaAppPrivileges,role=_props.role;var assignedPrivileges=role.kibana;var kibanaPrivilege=assignedPrivileges.global.length>0?assignedPrivileges.global[0]:constants_1.NO_PRIVILEGE_VALUE;var description=react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.simplePrivilegeForm.specifyPrivilegeForRoleDescription",defaultMessage:"Specifies the Kibana privilege for this role."}));return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiDescribedFormGroup,{title:react_2.default.createElement("h3",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.simplePrivilegeForm.kibanaPrivilegesTitle",defaultMessage:"Kibana privileges"})),description:description},react_2.default.createElement(eui_1.EuiFormRow,{hasEmptyLabelSpace:true},react_2.default.createElement(privilege_selector_1.PrivilegeSelector,{"data-test-subj":"kibanaPrivilege",availablePrivileges:kibanaAppPrivileges,value:kibanaPrivilege,disabled:role_1.isReservedRole(role),allowNone:true,onChange:this.onKibanaPrivilegeChange}))))}}]);return SimplePrivilegeForm}(react_2.Component);exports.SimplePrivilegeForm=SimplePrivilegeForm},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var role_1=__webpack_require__(286);var constants_1=__webpack_require__(371);var copy_role_1=__webpack_require__(1321);var get_available_privileges_1=__webpack_require__(4346);var impacted_spaces_flyout_1=__webpack_require__(4347);var privilege_callout_warning_1=__webpack_require__(4348);var privilege_selector_1=__webpack_require__(544);var privilege_space_form_1=__webpack_require__(4349);var privilege_space_table_1=__webpack_require__(1322);var SpaceAwarePrivilegeFormUI=function(_react_2$Component){_inherits(SpaceAwarePrivilegeFormUI,_react_2$Component);function SpaceAwarePrivilegeFormUI(props){_classCallCheck(this,SpaceAwarePrivilegeFormUI);var _this=_possibleConstructorReturn(this,(SpaceAwarePrivilegeFormUI.__proto__||Object.getPrototypeOf(SpaceAwarePrivilegeFormUI)).call(this,props));_this.renderSpacePrivileges=function(basePrivilege,availablePrivileges){var _this$props=_this.props,role=_this$props.role,spaces=_this$props.spaces;var spacePrivileges=_this.state.spacePrivileges;var availableSpaces=_this.getAvailableSpaces();var canAssignSpacePrivileges=basePrivilege!=="all";var hasAssignedSpacePrivileges=Object.keys(_this.state.spacePrivileges).length>0;var showAddPrivilegeButton=canAssignSpacePrivileges&&_this.props.editable&&availableSpaces.length>0;return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h3",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.spaceAwarePrivilegeForm.higherPrivilegesForIndividualSpacesTitle",defaultMessage:"Higher privileges for individual spaces"}))),react_2.default.createElement(eui_1.EuiSpacer,{size:"s"}),react_2.default.createElement(eui_1.EuiText,{grow:false,size:"s",color:"subdued"},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.spaceAwarePrivilegeForm.grantMorePrivilegesTitle",defaultMessage:"Grant more privileges on a per space basis. For example, if the privileges are\n              {read} for all spaces, you can set the privileges to {all}\n              for an individual space.",values:{read:react_2.default.createElement("strong",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.spaceAwarePrivilegeForm.readText",defaultMessage:"read"})),all:react_2.default.createElement("strong",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.spaceAwarePrivilegeForm.allText",defaultMessage:"all"}))}}))),react_2.default.createElement(eui_1.EuiSpacer,{size:"s"}),(basePrivilege!==constants_1.NO_PRIVILEGE_VALUE||role_1.isReservedRole(_this.props.role))&&react_2.default.createElement(privilege_callout_warning_1.PrivilegeCalloutWarning,{basePrivilege:basePrivilege,isReservedRole:role_1.isReservedRole(_this.props.role)}),basePrivilege==="read"&&_this.props.editable&&react_2.default.createElement(eui_1.EuiSpacer,null),canAssignSpacePrivileges&&react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(privilege_space_table_1.PrivilegeSpaceTable,{role:role,spaces:spaces,availablePrivileges:availablePrivileges,spacePrivileges:spacePrivileges,onChange:_this.onExistingSpacePrivilegesChange}),hasAssignedSpacePrivileges&&react_2.default.createElement(eui_1.EuiSpacer,null),_this.getSpaceForms(basePrivilege)),react_2.default.createElement(eui_1.EuiFlexGroup,{alignItems:"baseline"},showAddPrivilegeButton&&react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiButton,{"data-test-subj":"addSpacePrivilegeButton",size:"s",iconType:"plusInCircle",onClick:_this.addSpacePrivilege},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.spaceAwarePrivilegeForm.addSpacePrivilegeTitle",defaultMessage:"Add space privilege"}))),react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(impacted_spaces_flyout_1.ImpactedSpacesFlyout,{role:role,spaces:spaces,userProfile:_this.props.userProfile}))))};_this.getSpaceForms=function(basePrivilege){if(!_this.props.editable){return null}return _this.state.privilegeForms.map(function(form,index){return _this.getSpaceForm(form,index,basePrivilege)})};_this.addSpacePrivilege=function(){_this.setState({privilegeForms:[].concat(_toConsumableArray(_this.state.privilegeForms),[{spaces:[],privilege:null}])})};_this.getAvailableSpaces=function(omitIndex){var spacePrivileges=_this.state.spacePrivileges;return _this.props.spaces.filter(function(space){var alreadyAssigned=Object.keys(spacePrivileges).indexOf(space.id)>=0;if(alreadyAssigned){return false}var otherForms=[].concat(_toConsumableArray(_this.state.privilegeForms));if(typeof omitIndex==="number"){otherForms.splice(omitIndex,1)}var inAnotherForm=otherForms.some(function(_ref){var spaces=_ref.spaces;return spaces.indexOf(space.id)>=0});return!inAnotherForm})};_this.getSpaceForm=function(form,index,basePrivilege){var selectedSpaceIds=form.spaces,privilege=form.privilege;var availableSpaces=_this.getAvailableSpaces(index);return react_2.default.createElement(react_2.Fragment,{key:index},react_2.default.createElement(privilege_space_form_1.PrivilegeSpaceForm,{key:index,availableSpaces:availableSpaces,selectedSpaceIds:selectedSpaceIds,availablePrivileges:get_available_privileges_1.getAvailablePrivileges(basePrivilege),selectedPrivilege:privilege,onChange:_this.onPrivilegeSpacePermissionChange(index),onDelete:_this.onPrivilegeSpacePermissionDelete(index),validator:_this.props.validator}),react_2.default.createElement(eui_1.EuiSpacer,null))};_this.onPrivilegeSpacePermissionChange=function(index){return function(form){var existingPrivilegeForm=_extends({},_this.state.privilegeForms[index]);var updatedPrivileges=[].concat(_toConsumableArray(_this.state.privilegeForms));updatedPrivileges[index]={spaces:form.spaces,privilege:form.privilege};_this.setState({privilegeForms:updatedPrivileges});var role=copy_role_1.copyRole(_this.props.role);existingPrivilegeForm.spaces.forEach(function(spaceId){role.kibana.space[spaceId]=[]});if(form.spaces.length){var privilege=form.privilege;if(privilege){form.spaces.forEach(function(spaceId){role.kibana.space[spaceId]=[privilege]})}}_this.props.validator.setInProgressSpacePrivileges(updatedPrivileges);_this.props.onChange(role)}};_this.onPrivilegeSpacePermissionDelete=function(index){return function(){var updatedPrivileges=[].concat(_toConsumableArray(_this.state.privilegeForms));var removedPrivilege=updatedPrivileges.splice(index,1)[0];_this.setState({privilegeForms:updatedPrivileges});var role=copy_role_1.copyRole(_this.props.role);removedPrivilege.spaces.forEach(function(spaceId){delete role.kibana.space[spaceId]});_this.props.validator.setInProgressSpacePrivileges(updatedPrivileges);_this.props.onChange(role)}};_this.onExistingSpacePrivilegesChange=function(assignedPrivileges){var role=copy_role_1.copyRole(_this.props.role);role.kibana.space=_extends({},assignedPrivileges);_this.state.privilegeForms.forEach(function(inProgressForm){var privilege=inProgressForm.privilege;if(privilege){inProgressForm.spaces.forEach(function(spaceId){role.kibana.space[spaceId]=[privilege]})}});_this.setState({spacePrivileges:assignedPrivileges});_this.props.onChange(role)};_this.onKibanaBasePrivilegeChange=function(privilege){var role=copy_role_1.copyRole(_this.props.role);role.kibana.global=[];if(privilege!==constants_1.NO_PRIVILEGE_VALUE){role.kibana.global=[privilege]}_this.props.onChange(role)};var role=props.role;var assignedPrivileges=role.kibana;var spacePrivileges=_extends({},assignedPrivileges.space);_this.state={spacePrivileges:spacePrivileges,privilegeForms:[]};return _this}_createClass(SpaceAwarePrivilegeFormUI,[{key:"render",value:function render(){var _props=this.props,kibanaAppPrivileges=_props.kibanaAppPrivileges,role=_props.role,userProfile=_props.userProfile,intl=_props.intl;if(!userProfile.hasCapability("manageSpaces")){return react_2.default.createElement(eui_1.EuiCallOut,{title:react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.spaceAwarePrivilegeForm.insufficientPrivilegesDescription",defaultMessage:"Insufficient Privileges"})),iconType:"alert",color:"danger"},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.spaceAwarePrivilegeForm.howToViewAllAvailableSpacesDescription",defaultMessage:"You are not authorized to view all available spaces."})),react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.spaceAwarePrivilegeForm.ensureAccountHasAllPrivilegesGrantedDescription",defaultMessage:"Please ensure your account has all privileges granted by the\n              {kibanaUser} role, and try again.",values:{kibanaUser:react_2.default.createElement("strong",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.spaceAwarePrivilegeForm.kibanaUserTitle",defaultMessage:"kibana_user"}))}})))}var assignedPrivileges=role.kibana;var basePrivilege=assignedPrivileges.global.length>0?assignedPrivileges.global[0]:constants_1.NO_PRIVILEGE_VALUE;var description=react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.spaceAwarePrivilegeForm.minimumActionsUserCanPerformInYourSpacesDescription",defaultMessage:"Specify the minimum actions users can perform in your spaces."}));var helptext=void 0;if(basePrivilege===constants_1.NO_PRIVILEGE_VALUE){helptext=intl.formatMessage({id:"xpack.security.management.editRoles.spaceAwarePrivilegeForm.noAccessToSpacesHelpText",defaultMessage:"No access to spaces"})}else if(basePrivilege==="all"){helptext=intl.formatMessage({id:"xpack.security.management.editRoles.spaceAwarePrivilegeForm.viewEditShareAppsWithinAllSpacesHelpText",defaultMessage:"View, edit, and share objects and apps within all spaces"})}else if(basePrivilege==="read"){helptext=intl.formatMessage({id:"xpack.security.management.editRoles.spaceAwarePrivilegeForm.viewObjectsAndAppsWithinAllSpacesHelpText",defaultMessage:"View objects and apps within all spaces"})}return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiDescribedFormGroup,{title:react_2.default.createElement("h3",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.spaceAwarePrivilegeForm.minPrivilegesForAllSpacesTitle",defaultMessage:"Minimum privileges for all spaces"})),description:description},react_2.default.createElement(eui_1.EuiFormRow,{hasEmptyLabelSpace:true,helpText:helptext},react_2.default.createElement(privilege_selector_1.PrivilegeSelector,{"data-test-subj":"kibanaMinimumPrivilege",availablePrivileges:kibanaAppPrivileges,value:basePrivilege,disabled:role_1.isReservedRole(role),allowNone:true,onChange:this.onKibanaBasePrivilegeChange}))),react_2.default.createElement(eui_1.EuiSpacer,null),this.renderSpacePrivileges(basePrivilege,kibanaAppPrivileges))}}]);return SpaceAwarePrivilegeFormUI}(react_2.Component);exports.SpaceAwarePrivilegeForm=react_1.injectI18n(SpaceAwarePrivilegeFormUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var constants_1=__webpack_require__(371);function getAvailablePrivileges(minimumPrivilege){switch(minimumPrivilege){case constants_1.NO_PRIVILEGE_VALUE:return["read","all"];case"read":return["read","all"];case"all":return["all"];default:throw new Error("Unexpected minimumPrivilege value: "+minimumPrivilege)}}exports.getAvailablePrivileges=getAvailablePrivileges},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var privilege_space_table_1=__webpack_require__(1322);var components_1=__webpack_require__(254);var constants_1=__webpack_require__(371);var ImpactedSpacesFlyoutUI=function(_react_2$Component){_inherits(ImpactedSpacesFlyoutUI,_react_2$Component);function ImpactedSpacesFlyoutUI(props){_classCallCheck(this,ImpactedSpacesFlyoutUI);var _this=_possibleConstructorReturn(this,(ImpactedSpacesFlyoutUI.__proto__||Object.getPrototypeOf(ImpactedSpacesFlyoutUI)).call(this,props));_this.toggleShowImpactedSpaces=function(){_this.setState({showImpactedSpaces:!_this.state.showImpactedSpaces})};_this.getFlyout=function(){if(!_this.state.showImpactedSpaces){return null}var _this$props=_this.props,role=_this$props.role,spaces=_this$props.spaces;var assignedPrivileges=role.kibana;var basePrivilege=assignedPrivileges.global.length?assignedPrivileges.global[0]:constants_1.NO_PRIVILEGE_VALUE;var allSpacePrivileges=spaces.reduce(function(acc,space){var spacePrivilege=assignedPrivileges.space[space.id]?assignedPrivileges.space[space.id][0]:basePrivilege;var actualPrivilege=_this.getHighestPrivilege(spacePrivilege,basePrivilege);return _extends({},acc,_defineProperty({},space.id,[actualPrivilege]))},_extends({},role.kibana.space));return react_2.default.createElement(eui_1.EuiFlyout,{onClose:_this.toggleShowImpactedSpaces,"aria-labelledby":"showImpactedSpacesTitle",size:"s"},react_2.default.createElement(eui_1.EuiFlyoutHeader,{hasBorder:true},react_2.default.createElement(eui_1.EuiTitle,{size:"m"},react_2.default.createElement("h1",{id:"showImpactedSpacesTitle"},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.impactedSpacesFlyout.spacePrivilegesSummaryTitle",defaultMessage:"Summary of space privileges"})))),react_2.default.createElement(eui_1.EuiFlyoutBody,null,react_2.default.createElement(privilege_space_table_1.PrivilegeSpaceTable,{readonly:true,role:role,spaces:spaces,spacePrivileges:allSpacePrivileges})),react_2.default.createElement(eui_1.EuiFlyoutFooter,{className:"showImpactedSpaces--flyout--footer"},react_2.default.createElement(components_1.ManageSpacesButton,{userProfile:_this.props.userProfile})))};_this.state={showImpactedSpaces:false};return _this}_createClass(ImpactedSpacesFlyoutUI,[{key:"render",value:function render(){var flyout=this.getFlyout();return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement("div",{className:"showImpactedSpaces"},react_2.default.createElement(eui_1.EuiLink,{onClick:this.toggleShowImpactedSpaces},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.impactedSpacesFlyout.viewSpacesPrivilegesSummaryLinkText",defaultMessage:"View summary of spaces privileges"}))),flyout)}},{key:"getHighestPrivilege",value:function getHighestPrivilege(){var intl=this.props.intl;for(var _len=arguments.length,privileges=Array(_len),_key=0;_key<_len;_key++){privileges[_key]=arguments[_key]}if(privileges.indexOf("all")>=0){return intl.formatMessage({id:"xpack.security.management.editRoles.impactedSpacesFlyout.allLabel",defaultMessage:"all"})}if(privileges.indexOf("read")>=0){return intl.formatMessage({id:"xpack.security.management.editRoles.impactedSpacesFlyout.readLabel",defaultMessage:"read"})}return intl.formatMessage({id:"xpack.security.management.editRoles.impactedSpacesFlyout.noneLabel",defaultMessage:"none"})}}]);return ImpactedSpacesFlyoutUI}(react_2.Component);exports.ImpactedSpacesFlyout=react_1.injectI18n(ImpactedSpacesFlyoutUI)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var constants_1=__webpack_require__(371);var PrivilegeCalloutWarning=function(_react_2$Component){_inherits(PrivilegeCalloutWarning,_react_2$Component);function PrivilegeCalloutWarning(){_classCallCheck(this,PrivilegeCalloutWarning);var _this=_possibleConstructorReturn(this,(PrivilegeCalloutWarning.__proto__||Object.getPrototypeOf(PrivilegeCalloutWarning)).apply(this,arguments));_this.state={showImpactedSpaces:false};return _this}_createClass(PrivilegeCalloutWarning,[{key:"render",value:function render(){var _props=this.props,basePrivilege=_props.basePrivilege,isReservedRole=_props.isReservedRole;var callout=null;if(basePrivilege==="all"){if(isReservedRole){callout=react_2.default.createElement(eui_1.EuiCallOut,{color:"warning",iconType:"iInCircle",title:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeCalloutWarning.notPossibleToCustomizeReservedRoleSpacePrivilegesTitle",defaultMessage:"Cannot customize a reserved role's space privileges"})},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeCalloutWarning.howToCustomizePrivilegesDescription",defaultMessage:"This role always grants full access to all spaces. To customize privileges for\n                individual spaces, you must create a new role."})))}else{callout=react_2.default.createElement(eui_1.EuiCallOut,{color:"warning",iconType:"iInCircle",title:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeCalloutWarning.minimumPrivilegeTitle",defaultMessage:"Minimum privilege is too high to customize individual spaces"})},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeCalloutWarning.howToCustomizePrivilegesForIndividualSpacesDescription",defaultMessage:"Setting the minimum privilege to {allText} grants full access to all\n                spaces. To customize privileges for individual spaces, the minimum privilege must be\n                either {readText} or {noneText}.",values:{allText:react_2.default.createElement("strong",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeCalloutWarning.allText",defaultMessage:"all"})),readText:react_2.default.createElement("strong",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeCalloutWarning.readText",defaultMessage:"read"})),noneText:react_2.default.createElement("strong",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeCalloutWarning.noneText",defaultMessage:"none"}))}})))}}if(basePrivilege==="read"){if(isReservedRole){callout=react_2.default.createElement(eui_1.EuiCallOut,{color:"warning",iconType:"iInCircle",title:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeCalloutWarning.notPossibleToCustomizeReservedRoleSpacePrivilegesTitle",defaultMessage:"Cannot customize a reserved role's space privileges"})},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeCalloutWarning.alwaysGrantReadAccessToAllSpacesTitle",defaultMessage:"This role always grants read access to all spaces. To customize privileges for\n                individual spaces, you must create a new role."})))}else{callout=react_2.default.createElement(eui_1.EuiCallOut,{color:"primary",iconType:"iInCircle",title:react_2.default.createElement("span",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeCalloutWarning.minimalPossiblePrivilageTitle",defaultMessage:"The minimal possible privilege is {readText}.",values:{readText:react_2.default.createElement("strong",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeCalloutWarning.readText",defaultMessage:"read"}))}}))})}}if(basePrivilege===constants_1.NO_PRIVILEGE_VALUE&&isReservedRole){callout=react_2.default.createElement(eui_1.EuiCallOut,{color:"warning",iconType:"iInCircle",title:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeCalloutWarning.notPossibleToCustomizeReservedRoleSpacePrivilegesTitle",defaultMessage:"Cannot customize a reserved role's space privileges"})},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeCalloutWarning.neverGrantReadAccessToAllSpacesTitle",defaultMessage:"This role never grants access to any spaces within Kibana. To customize privileges for\n              individual spaces, you must create a new role."})))}return callout}}]);return PrivilegeCalloutWarning}(react_2.Component);exports.PrivilegeCalloutWarning=PrivilegeCalloutWarning},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var privilege_selector_1=__webpack_require__(544);var space_selector_1=__webpack_require__(4350);var PrivilegeSpaceFormUI=function(_react_2$Component){_inherits(PrivilegeSpaceFormUI,_react_2$Component);function PrivilegeSpaceFormUI(){_classCallCheck(this,PrivilegeSpaceFormUI);var _this=_possibleConstructorReturn(this,(PrivilegeSpaceFormUI.__proto__||Object.getPrototypeOf(PrivilegeSpaceFormUI)).apply(this,arguments));_this.onSelectedSpacesChange=function(selectedSpaceIds){_this.props.onChange({spaces:selectedSpaceIds,privilege:_this.props.selectedPrivilege})};_this.onPrivilegeChange=function(privilege){_this.props.onChange({spaces:_this.props.selectedSpaceIds,privilege:privilege})};return _this}_createClass(PrivilegeSpaceFormUI,[{key:"render",value:function render(){var _props=this.props,availableSpaces=_props.availableSpaces,selectedSpaceIds=_props.selectedSpaceIds,availablePrivileges=_props.availablePrivileges,selectedPrivilege=_props.selectedPrivilege,validator=_props.validator,intl=_props.intl;return react_2.default.createElement(eui_1.EuiFlexGroup,{responsive:false},react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiFormRow,Object.assign({label:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeSpaceForm.spacesFormRowLabel",defaultMessage:"Spaces"})},validator.validateSelectedSpaces(selectedSpaceIds,selectedPrivilege)),react_2.default.createElement(space_selector_1.SpaceSelector,{spaces:availableSpaces,selectedSpaceIds:selectedSpaceIds,onChange:this.onSelectedSpacesChange}))),react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiFormRow,Object.assign({label:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.security.management.editRoles.privilegeSpaceForm.privilegeFormRowLabel",defaultMessage:"Privilege"})},validator.validateSelectedPrivilege(selectedSpaceIds,selectedPrivilege)),react_2.default.createElement(privilege_selector_1.PrivilegeSelector,{"data-test-subj":"space-form-priv-selector",availablePrivileges:availablePrivileges,value:selectedPrivilege,onChange:this.onPrivilegeChange}))),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiFormRow,{hasEmptyLabelSpace:true},react_2.default.createElement(eui_1.EuiButtonIcon,{"aria-label":intl.formatMessage({id:"xpack.security.management.editRoles.privilegeSpaceForm.deleteSpacePrivilegeAriaLabel",defaultMessage:"Delete space privilege"}),color:"danger",onClick:this.props.onDelete,iconType:"trash"}))))}}]);return PrivilegeSpaceFormUI}(react_2.Component);exports.PrivilegeSpaceForm=react_1.injectI18n(PrivilegeSpaceFormUI)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=tslib_1.__importStar(__webpack_require__(0));var space_attributes_1=__webpack_require__(566);var spaceToOption=function spaceToOption(space){if(!space){return{label:"",isGroupLabelOption:false}}return{id:space.id,label:space.name,color:space_attributes_1.getSpaceColor(space),isGroupLabelOption:false}};var spaceIdToOption=function spaceIdToOption(spaces){return function(s){return spaceToOption(spaces.find(function(space){return space.id===s}))}};var SpaceSelector=function(_react_1$Component){_inherits(SpaceSelector,_react_1$Component);function SpaceSelector(){_classCallCheck(this,SpaceSelector);var _this=_possibleConstructorReturn(this,(SpaceSelector.__proto__||Object.getPrototypeOf(SpaceSelector)).apply(this,arguments));_this.onChange=function(selectedSpaces){_this.props.onChange(selectedSpaces.map(function(s){return s.id}))};return _this}_createClass(SpaceSelector,[{key:"render",value:function render(){var renderOption=function renderOption(option,searchValue,contentClassName){var color=option.color,label=option.label;return react_1.default.createElement(eui_1.EuiHealth,{color:color},react_1.default.createElement("span",{className:contentClassName},react_1.default.createElement(eui_1.EuiHighlight,{search:searchValue},label)))};return react_1.default.createElement(eui_1.EuiComboBox,{options:this.props.spaces.map(spaceToOption),renderOption:renderOption,selectedOptions:this.props.selectedSpaceIds.map(spaceIdToOption(this.props.spaces)),isDisabled:this.props.disabled,onChange:this.onChange})}}]);return SpaceSelector}(react_1.Component);exports.SpaceSelector=SpaceSelector},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_2=__webpack_require__(3);var role_1=__webpack_require__(286);exports.ReservedRoleBadge=function(props){var role=props.role;if(role_1.isReservedRole(role)){return react_1.default.createElement(eui_1.EuiToolTip,{content:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.security.management.editRoles.reversedRoleBadget.reversedRolesCanNotBeRemovedTooltip",defaultMessage:"Reserved roles are built-in and cannot be removed or modified."})},react_1.default.createElement(eui_1.EuiIcon,{style:{verticalAlign:"super"},type:"lock"}))}return null}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KibanaAppPrivileges=["read","all"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var i18n_1=__webpack_require__(9);__webpack_require__(4354);var react_1=tslib_1.__importDefault(__webpack_require__(0));var management_1=__webpack_require__(24);var routes_1=tslib_1.__importDefault(__webpack_require__(12));var advanced_settings_subtitle_1=__webpack_require__(4366);var advanced_settings_title_1=__webpack_require__(4368);var MANAGE_SPACES_KEY="manage_spaces";routes_1.default.defaults(/\/management/,{resolve:{spacesManagementSection:function spacesManagementSection(activeSpace){function getKibanaSection(){return management_1.management.getSection("kibana")}function deregisterSpaces(){getKibanaSection().deregister(MANAGE_SPACES_KEY)}function ensureSpagesRegistered(){var kibanaSection=getKibanaSection();if(!kibanaSection.hasItem(MANAGE_SPACES_KEY)){kibanaSection.register(MANAGE_SPACES_KEY,{name:"spacesManagementLink",order:10,display:i18n_1.i18n.translate("xpack.spaces.displayName",{defaultMessage:"Spaces"}),url:"#/management/spaces/list"})}var PageTitle=function PageTitle(){return react_1.default.createElement(advanced_settings_title_1.AdvancedSettingsTitle,{space:activeSpace.space})};management_1.registerSettingsComponent(management_1.PAGE_TITLE_COMPONENT,PageTitle,true);var SubTitle=function SubTitle(){return react_1.default.createElement(advanced_settings_subtitle_1.AdvancedSettingsSubtitle,{space:activeSpace.space})};management_1.registerSettingsComponent(management_1.PAGE_SUBTITLE_COMPONENT,SubTitle,true)}deregisterSpaces();ensureSpagesRegistered()}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(3);var template_html_1=tslib_1.__importDefault(__webpack_require__(4355));var user_profile_1=__webpack_require__(568);__webpack_require__(255);var react_2=tslib_1.__importDefault(__webpack_require__(0));var react_dom_1=__webpack_require__(15);var routes_1=tslib_1.__importDefault(__webpack_require__(12));var spaces_manager_1=__webpack_require__(446);var edit_space_1=__webpack_require__(4356);var spaces_grid_1=__webpack_require__(4364);var reactRootNodeId="manageSpacesReactRoot";routes_1.default.when("/management/spaces/list",{template:template_html_1.default,controller:function controller($scope,$http,chrome,Private,spacesNavState,spaceSelectorURL){var userProfile=Private(user_profile_1.UserProfileProvider);$scope.$$postDigest(function(){var domNode=document.getElementById(reactRootNodeId);var spacesManager=new spaces_manager_1.SpacesManager($http,chrome,spaceSelectorURL);react_dom_1.render(react_2.default.createElement(react_1.I18nProvider,null,react_2.default.createElement(spaces_grid_1.SpacesGridPage,{spacesManager:spacesManager,spacesNavState:spacesNavState,userProfile:userProfile})),domNode);$scope.$on("$destroy",function(){if(domNode){react_dom_1.unmountComponentAtNode(domNode)}})})}});routes_1.default.when("/management/spaces/create",{template:template_html_1.default,controller:function controller($scope,$http,chrome,Private,spacesNavState,spaceSelectorURL){var userProfile=Private(user_profile_1.UserProfileProvider);$scope.$$postDigest(function(){var domNode=document.getElementById(reactRootNodeId);var spacesManager=new spaces_manager_1.SpacesManager($http,chrome,spaceSelectorURL);react_dom_1.render(react_2.default.createElement(react_1.I18nProvider,null,react_2.default.createElement(edit_space_1.ManageSpacePage,{spacesManager:spacesManager,spacesNavState:spacesNavState,userProfile:userProfile})),domNode);$scope.$on("$destroy",function(){if(domNode){react_dom_1.unmountComponentAtNode(domNode)}})})}});routes_1.default.when("/management/spaces/edit",{redirectTo:"/management/spaces/list"});routes_1.default.when("/management/spaces/edit/:spaceId",{template:template_html_1.default,controller:function controller($scope,$http,$route,chrome,Private,spacesNavState,spaceSelectorURL){var userProfile=Private(user_profile_1.UserProfileProvider);$scope.$$postDigest(function(){var domNode=document.getElementById(reactRootNodeId);var spaceId=$route.current.params.spaceId;var spacesManager=new spaces_manager_1.SpacesManager($http,chrome,spaceSelectorURL);react_dom_1.render(react_2.default.createElement(react_1.I18nProvider,null,react_2.default.createElement(edit_space_1.ManageSpacePage,{spaceId:spaceId,spacesManager:spacesManager,spacesNavState:spacesNavState,userProfile:userProfile})),domNode);$scope.$on("$destroy",function(){if(domNode){react_dom_1.unmountComponentAtNode(domNode)}})})}})},function(module,exports){module.exports='<kbn-management-app section="kibana" omit-breadcrumb-pages="[\'edit\']">\n  <div id="manageSpacesReactRoot" />\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var manage_space_page_1=__webpack_require__(4357);exports.ManageSpacePage=manage_space_page_1.ManageSpacePage},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var notify_1=__webpack_require__(10);var common_1=__webpack_require__(447);var components_1=__webpack_require__(254);var secure_space_message_1=__webpack_require__(1323);var unauthorized_prompt_1=__webpack_require__(1324);var lib_1=__webpack_require__(4359);var validate_space_1=__webpack_require__(1326);var customize_space_avatar_1=__webpack_require__(4360);var delete_spaces_button_1=__webpack_require__(4361);var reserved_space_badge_1=__webpack_require__(4362);var space_identifier_1=__webpack_require__(4363);var ManageSpacePageUI=function(_react_2$Component){_inherits(ManageSpacePageUI,_react_2$Component);function ManageSpacePageUI(props){_classCallCheck(this,ManageSpacePageUI);var _this=_possibleConstructorReturn(this,(ManageSpacePageUI.__proto__||Object.getPrototypeOf(ManageSpacePageUI)).call(this,props));_this.getLoadingIndicator=function(){return react_2.default.createElement("div",null,react_2.default.createElement(eui_1.EuiLoadingSpinner,{size:"xl"})," ",react_2.default.createElement(eui_1.EuiTitle,null,react_2.default.createElement("h1",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.manageSpacePage.loadingTitle",defaultMessage:"Loading…"}))))};_this.getForm=function(){var _this$props=_this.props,userProfile=_this$props.userProfile,intl=_this$props.intl;if(!userProfile.hasCapability("manageSpaces")){return react_2.default.createElement(unauthorized_prompt_1.UnauthorizedPrompt,null)}var _this$state$space=_this.state.space,_this$state$space$nam=_this$state$space.name,name=_this$state$space$nam===undefined?"":_this$state$space$nam,_this$state$space$des=_this$state$space.description,description=_this$state$space$des===undefined?"":_this$state$space$des;return react_2.default.createElement(eui_1.EuiForm,null,_this.getFormHeading(),react_2.default.createElement(eui_1.EuiSpacer,null),react_2.default.createElement(eui_1.EuiFormRow,Object.assign({label:intl.formatMessage({id:"xpack.spaces.management.manageSpacePage.nameFormRowLabel",defaultMessage:"Name"})},_this.validator.validateSpaceName(_this.state.space),{fullWidth:true}),react_2.default.createElement(eui_1.EuiFieldText,{name:"name",placeholder:intl.formatMessage({id:"xpack.spaces.management.manageSpacePage.awesomeSpacePlaceholder",defaultMessage:"Awesome space"}),value:name,onChange:_this.onNameChange,fullWidth:true})),name&&react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiFlexGroup,{responsive:false},react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiFormRow,{label:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.manageSpacePage.avatarLabel",defaultMessage:"Avatar"})},react_2.default.createElement(components_1.SpaceAvatar,{space:_this.state.space,size:"l"}))),react_2.default.createElement(customize_space_avatar_1.CustomizeSpaceAvatar,{space:_this.state.space,onChange:_this.onAvatarChange})),react_2.default.createElement(eui_1.EuiSpacer,null)),_this.state.space&&common_1.isReservedSpace(_this.state.space)?null:react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(space_identifier_1.SpaceIdentifier,{space:_this.state.space,editable:!_this.editingExistingSpace(),onChange:_this.onSpaceIdentifierChange,validator:_this.validator})),react_2.default.createElement(eui_1.EuiFormRow,Object.assign({label:intl.formatMessage({id:"xpack.spaces.management.editSpace.manageSpacePage.optionalDescriptionFormRowLabel",defaultMessage:"Description (optional)"})},_this.validator.validateSpaceDescription(_this.state.space),{fullWidth:true}),react_2.default.createElement(eui_1.EuiFieldText,{name:"description",placeholder:intl.formatMessage({id:"xpack.spaces.management.manageSpacePage.hereMagicHappensPlaceholder",defaultMessage:"This is where the magic happens."}),value:description,onChange:_this.onDescriptionChange,fullWidth:true})),react_2.default.createElement(eui_1.EuiHorizontalRule,null),_this.getFormButtons())};_this.getFormHeading=function(){return react_2.default.createElement(eui_1.EuiTitle,{size:"l"},react_2.default.createElement("h1",null,_this.getTitle()," ",react_2.default.createElement(reserved_space_badge_1.ReservedSpaceBadge,{space:_this.state.space})))};_this.getTitle=function(){if(_this.editingExistingSpace()){return react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.manageSpacePage.editSpaceTitle",defaultMessage:"Edit space"})}return react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.manageSpacePage.createSpaceTitle",defaultMessage:"Create a space"})};_this.maybeGetSecureSpacesMessage=function(){if(_this.editingExistingSpace()){return react_2.default.createElement(secure_space_message_1.SecureSpaceMessage,{userProfile:_this.props.userProfile})}return null};_this.getFormButtons=function(){var saveText=_this.editingExistingSpace()?react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.manageSpacePage.updateSpaceButtonLabel",defaultMessage:"Update space"}):react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.manageSpacePage.createSpaceButtonLabel",defaultMessage:"Create space"});return react_2.default.createElement(eui_1.EuiFlexGroup,{responsive:false},react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiButton,{fill:true,onClick:_this.saveSpace,"data-test-subj":"save-space-button"},saveText)),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiButtonEmpty,{onClick:_this.backToSpacesList,"data-test-subj":"cancel-space-button"},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.manageSpacePage.cancelButtonLabel",defaultMessage:"Cancel"}))),react_2.default.createElement(eui_1.EuiFlexItem,{grow:true}),_this.getActionButton())};_this.getActionButton=function(){if(_this.state.space&&_this.editingExistingSpace()&&!common_1.isReservedSpace(_this.state.space)){return react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(delete_spaces_button_1.DeleteSpacesButton,{"data-test-subj":"delete-space-button",space:_this.state.space,spacesManager:_this.props.spacesManager,spacesNavState:_this.props.spacesNavState,onDelete:_this.backToSpacesList}))}return null};_this.onNameChange=function(e){if(!_this.state.space){return}var canUpdateId=!_this.editingExistingSpace();var id=_this.state.space.id;if(canUpdateId){id=lib_1.toSpaceIdentifier(e.target.value)}_this.setState({space:_extends({},_this.state.space,{name:e.target.value,id:id})})};_this.onDescriptionChange=function(e){_this.setState({space:_extends({},_this.state.space,{description:e.target.value})})};_this.onSpaceIdentifierChange=function(e){_this.setState({space:_extends({},_this.state.space,{id:lib_1.toSpaceIdentifier(e.target.value)})})};_this.onAvatarChange=function(space){_this.setState({space:space})};_this.saveSpace=function(){_this.validator.enableValidation();var result=_this.validator.validateForSave(_this.state.space);if(result.isInvalid){_this.setState({formError:result});return}_this.performSave()};_this.performSave=function(){var intl=_this.props.intl;if(!_this.state.space){return}var name=_this.state.space.name||"";var _this$state$space2=_this.state.space,_this$state$space2$id=_this$state$space2.id,id=_this$state$space2$id===undefined?lib_1.toSpaceIdentifier(name):_this$state$space2$id,description=_this$state$space2.description,initials=_this$state$space2.initials,color=_this$state$space2.color;var params={name:name,id:id,description:description,initials:initials,color:color};var action=void 0;if(_this.editingExistingSpace()){action=_this.props.spacesManager.updateSpace(params)}else{action=_this.props.spacesManager.createSpace(params)}action.then(function(){_this.props.spacesNavState.refreshSpacesList();notify_1.toastNotifications.addSuccess(intl.formatMessage({id:"xpack.spaces.management.manageSpacePage.spaceSuccessfullySavedNotificationMessage",defaultMessage:"Space {name} was saved."},{name:"'"+name+"'"}));window.location.hash="#/management/spaces/list"}).catch(function(error){var _ref=error.data||{},_ref$message=_ref.message,message=_ref$message===undefined?"":_ref$message;notify_1.toastNotifications.addDanger(intl.formatMessage({id:"xpack.spaces.management.manageSpacePage.errorSavingSpaceTitle",defaultMessage:"Error saving space: {message}"},{message:message}))})};_this.backToSpacesList=function(){window.location.hash="#/management/spaces/list"};_this.editingExistingSpace=function(){return!!_this.props.spaceId};_this.validator=new validate_space_1.SpaceValidator({shouldValidate:false});_this.state={isLoading:true,space:{}};return _this}_createClass(ManageSpacePageUI,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;var _props=this.props,spaceId=_props.spaceId,spacesManager=_props.spacesManager,intl=_props.intl;if(spaceId){spacesManager.getSpace(spaceId).then(function(result){if(result.data){_this2.setState({space:result.data,isLoading:false})}}).catch(function(error){var _ref2=error.data||{},_ref2$message=_ref2.message,message=_ref2$message===undefined?"":_ref2$message;notify_1.toastNotifications.addDanger(intl.formatMessage({id:"xpack.spaces.management.manageSpacePage.errorLoadingSpaceTitle",defaultMessage:"Error loading space: {message}"},{message:message}));_this2.backToSpacesList()})}else{this.setState({isLoading:false})}}},{key:"render",value:function render(){var content=this.state.isLoading?this.getLoadingIndicator():this.getForm();return react_2.default.createElement(eui_1.EuiPage,{className:"spcManagePage"},react_2.default.createElement(eui_1.EuiPageBody,null,react_2.default.createElement(eui_1.EuiPageContent,{className:"spcManagePage__content"},react_2.default.createElement(eui_1.EuiPageContentBody,null,content)),this.maybeGetSecureSpacesMessage()))}}]);return ManageSpacePageUI}(react_2.Component);exports.ManageSpacePage=react_1.injectI18n(ManageSpacePageUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));exports.SecureSpaceMessage=function(props){if(props.userProfile.hasCapability("manageSecurity")){return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiSpacer,null),react_2.default.createElement(eui_1.EuiText,{className:"eui-textCenter"},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.secureSpaceMessage.howToAssignRoleToSpaceDescription",defaultMessage:"Want to assign a role to a space? Go to Management and select {rolesLink}.",values:{rolesLink:react_2.default.createElement(eui_1.EuiLink,{href:"#/management/security/roles"},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.secureSpaceMessage.rolesLinkText",defaultMessage:"Roles"}))}}))))}return null}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var space_identifier_utils_1=__webpack_require__(1325);exports.toSpaceIdentifier=space_identifier_utils_1.toSpaceIdentifier;exports.isValidSpaceIdentifier=space_identifier_utils_1.isValidSpaceIdentifier;var validate_space_1=__webpack_require__(1326);exports.SpaceValidator=validate_space_1.SpaceValidator},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var constants_1=__webpack_require__(383);var space_attributes_1=__webpack_require__(566);var CustomizeSpaceAvatarUI=function(_react_2$Component){_inherits(CustomizeSpaceAvatarUI,_react_2$Component);function CustomizeSpaceAvatarUI(props){_classCallCheck(this,CustomizeSpaceAvatarUI);var _this=_possibleConstructorReturn(this,(CustomizeSpaceAvatarUI.__proto__||Object.getPrototypeOf(CustomizeSpaceAvatarUI)).call(this,props));_this.initialsRef=null;_this.getCustomizeFields=function(){var _this$props=_this.props,space=_this$props.space,intl=_this$props.intl;var _this$state=_this.state,initialsHasFocus=_this$state.initialsHasFocus,pendingInitials=_this$state.pendingInitials;return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiFormRow,{label:intl.formatMessage({id:"xpack.spaces.management.customizeSpaceAvatar.initialItemsFormRowLabel",defaultMessage:"Initials (2 max)"})},react_2.default.createElement(eui_1.EuiFieldText,{inputRef:_this.initialsInputRef,name:"spaceInitials",value:initialsHasFocus?pendingInitials||"":space_attributes_1.getSpaceInitials(space),onChange:_this.onInitialsChange}))),react_2.default.createElement(eui_1.EuiFlexItem,{grow:true},react_2.default.createElement(eui_1.EuiFormRow,{label:intl.formatMessage({id:"xpack.spaces.management.customizeSpaceAvatar.colorFormRowLabel",defaultMessage:"Color"})},react_2.default.createElement(eui_1.EuiColorPicker,{color:space_attributes_1.getSpaceColor(space),onChange:_this.onColorChange}))))};_this.initialsInputRef=function(ref){if(ref){_this.initialsRef=ref;_this.initialsRef.addEventListener("focus",_this.onInitialsFocus);_this.initialsRef.addEventListener("blur",_this.onInitialsBlur)}else{if(_this.initialsRef){_this.initialsRef.removeEventListener("focus",_this.onInitialsFocus);_this.initialsRef.removeEventListener("blur",_this.onInitialsBlur);_this.initialsRef=null}}};_this.onInitialsFocus=function(){_this.setState({initialsHasFocus:true,pendingInitials:space_attributes_1.getSpaceInitials(_this.props.space)})};_this.onInitialsBlur=function(){_this.setState({initialsHasFocus:false,pendingInitials:null})};_this.getCustomizeLink=function(){return react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiFormRow,{hasEmptyLabelSpace:true},react_2.default.createElement(eui_1.EuiLink,{name:"customize_space_link",onClick:_this.showFields},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.customizeSpaceAvatar.customizeLinkText",defaultMessage:"Customize"}))))};_this.showFields=function(){_this.setState({expanded:true})};_this.onInitialsChange=function(e){var initials=(e.target.value||"").substring(0,constants_1.MAX_SPACE_INITIALS);_this.setState({pendingInitials:initials});_this.props.onChange(_extends({},_this.props.space,{initials:initials}))};_this.onColorChange=function(color){_this.props.onChange(_extends({},_this.props.space,{color:color}))};_this.state={expanded:false,initialsHasFocus:false};return _this}_createClass(CustomizeSpaceAvatarUI,[{key:"render",value:function render(){return this.state.expanded?this.getCustomizeFields():this.getCustomizeLink()}}]);return CustomizeSpaceAvatarUI}(react_2.Component);exports.CustomizeSpaceAvatar=react_1.injectI18n(CustomizeSpaceAvatarUI)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var notify_1=__webpack_require__(10);var confirm_delete_modal_1=__webpack_require__(1327);var DeleteSpacesButtonUI=function(_react_2$Component){_inherits(DeleteSpacesButtonUI,_react_2$Component);function DeleteSpacesButtonUI(){var _this2=this;_classCallCheck(this,DeleteSpacesButtonUI);var _this=_possibleConstructorReturn(this,(DeleteSpacesButtonUI.__proto__||Object.getPrototypeOf(DeleteSpacesButtonUI)).apply(this,arguments));_this.state={showConfirmDeleteModal:false,showConfirmRedirectModal:false};_this.onDeleteClick=function(){_this.setState({showConfirmDeleteModal:true})};_this.getConfirmDeleteModal=function(){if(!_this.state.showConfirmDeleteModal){return null}var _this$props=_this.props,spacesNavState=_this$props.spacesNavState,spacesManager=_this$props.spacesManager;return react_2.default.createElement(confirm_delete_modal_1.ConfirmDeleteModal,{space:_this.props.space,spacesNavState:spacesNavState,spacesManager:spacesManager,onCancel:function onCancel(){_this.setState({showConfirmDeleteModal:false})},onConfirm:_this.deleteSpaces})};_this.deleteSpaces=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props2,spacesManager,space,spacesNavState,intl,_ref2,_ref2$message,errorMessage,message;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props2=_this.props,spacesManager=_this$props2.spacesManager,space=_this$props2.space,spacesNavState=_this$props2.spacesNavState,intl=_this$props2.intl;_context.prev=1;_context.next=4;return spacesManager.deleteSpace(space);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_ref2=_context.t0.data||{},_ref2$message=_ref2.message,errorMessage=_ref2$message===undefined?"":_ref2$message;notify_1.toastNotifications.addDanger(intl.formatMessage({id:"xpack.spaces.management.deleteSpacesButton.deleteSpaceErrorTitle",defaultMessage:"Error deleting space: {errorMessage}"},{errorMessage:errorMessage}));case 10:_this.setState({showConfirmDeleteModal:false});message=intl.formatMessage({id:"xpack.spaces.management.deleteSpacesButton.spaceSuccessfullyDeletedNotificationMessage",defaultMessage:"Deleted {spaceName} space."},{spaceName:space.name});notify_1.toastNotifications.addSuccess(message);if(_this.props.onDelete){_this.props.onDelete()}spacesNavState.refreshSpacesList();case 15:case"end":return _context.stop()}}},_callee,_this2,[[1,6]])}));return _this}_createClass(DeleteSpacesButtonUI,[{key:"render",value:function render(){var buttonText=react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.deleteSpacesButton.deleteSpaceButtonLabel",defaultMessage:"Delete space"});var intl=this.props.intl;var ButtonComponent=eui_1.EuiButton;var extraProps={};if(this.props.style==="icon"){ButtonComponent=eui_1.EuiButtonIcon;extraProps.iconType="trash"}return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(ButtonComponent,Object.assign({color:"danger",onClick:this.onDeleteClick,"aria-label":intl.formatMessage({id:"xpack.spaces.management.deleteSpacesButton.deleteSpaceAriaLabel",defaultMessage:"Delete this space"})},extraProps),buttonText),this.getConfirmDeleteModal())}}]);return DeleteSpacesButtonUI}(react_2.Component);exports.DeleteSpacesButton=react_1.injectI18n(DeleteSpacesButtonUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_2=__webpack_require__(3);var common_1=__webpack_require__(447);exports.ReservedSpaceBadge=function(props){var space=props.space;if(space&&common_1.isReservedSpace(space)){return react_1.default.createElement(eui_1.EuiToolTip,{content:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.spaces.management.reversedSpaceBadge.reversedSpacesCanBePartiallyModifiedTooltip",defaultMessage:"Reserved spaces are built-in and can only be partially modified."})},react_1.default.createElement(eui_1.EuiIcon,{style:{verticalAlign:"super"},type:"lock"}))}return null}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var SpaceIdentifierUI=function(_react_2$Component){_inherits(SpaceIdentifierUI,_react_2$Component);function SpaceIdentifierUI(props){_classCallCheck(this,SpaceIdentifierUI);var _this=_possibleConstructorReturn(this,(SpaceIdentifierUI.__proto__||Object.getPrototypeOf(SpaceIdentifierUI)).call(this,props));_this.textFieldRef=null;_this.getLabel=function(){if(!_this.props.editable){return react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.spaceIdentifier.urlIdentifierTitle",defaultMessage:"URL identifier"}))}var editLinkText=_this.state.editing?react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.spaceIdentifier.stopEditingSpaceNameLinkText",defaultMessage:"[stop editing]"}):react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.spaceIdentifier.editSpaceLinkText",defaultMessage:"[edit]"});return react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.spaceIdentifier.urlIdentifierLabel",defaultMessage:"URL identifier"}),react_2.default.createElement(eui_1.EuiLink,{onClick:_this.onEditClick},editLinkText))};_this.getHelpText=function(){return react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.spaceIdentifier.kibanaURLForEngineeringIdentifierDescription",defaultMessage:"If the identifier is {engineeringIdentifier}, the Kibana URL is{nextLine}\n          {engineeringKibanaUrl}.",values:{engineeringIdentifier:react_2.default.createElement("strong",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.spaceIdentifier.engineeringText",defaultMessage:"engineering"})),nextLine:react_2.default.createElement("br",null),engineeringKibanaUrl:react_2.default.createElement(react_2.default.Fragment,null,"https://my-kibana.example",react_2.default.createElement("strong",null,"/s/engineering/"),"app/kibana")}}))};_this.onEditClick=function(){_this.setState({editing:!_this.state.editing},function(){if(_this.textFieldRef&&_this.state.editing){_this.textFieldRef.focus()}})};_this.onChange=function(e){if(!_this.state.editing){return}_this.props.onChange(e)};_this.state={editing:false};return _this}_createClass(SpaceIdentifierUI,[{key:"render",value:function render(){var _this2=this;var intl=this.props.intl;var _props$space$id=this.props.space.id,id=_props$space$id===undefined?"":_props$space$id;return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiFormRow,Object.assign({label:this.getLabel(),helpText:this.getHelpText()},this.props.validator.validateURLIdentifier(this.props.space),{fullWidth:true}),react_2.default.createElement(eui_1.EuiFieldText,{readOnly:!this.state.editing,placeholder:this.state.editing||!this.props.editable?undefined:intl.formatMessage({id:"xpack.spaces.management.spaceIdentifier.urlIdentifierGeneratedFromSpaceNameTooltip",defaultMessage:"The URL identifier is generated from the space name."}),value:id,onChange:this.onChange,inputRef:function inputRef(ref){return _this2.textFieldRef=ref},fullWidth:true})))}}]);return SpaceIdentifierUI}(react_2.Component);exports.SpaceIdentifier=react_1.injectI18n(SpaceIdentifierUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var spaces_grid_page_1=__webpack_require__(4365);exports.SpacesGridPage=spaces_grid_page_1.SpacesGridPage},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importStar(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_2=__webpack_require__(3);var notify_1=__webpack_require__(10);var common_1=__webpack_require__(447);var components_1=__webpack_require__(254);var confirm_delete_modal_1=__webpack_require__(1327);var secure_space_message_1=__webpack_require__(1323);var unauthorized_prompt_1=__webpack_require__(1324);var SpacesGridPageUI=function(_react_1$Component){_inherits(SpacesGridPageUI,_react_1$Component);function SpacesGridPageUI(props){var _this2=this;_classCallCheck(this,SpacesGridPageUI);var _this=_possibleConstructorReturn(this,(SpacesGridPageUI.__proto__||Object.getPrototypeOf(SpacesGridPageUI)).call(this,props));_this.getConfirmDeleteModal=function(){if(!_this.state.showConfirmDeleteModal||!_this.state.selectedSpace){return null}var _this$props=_this.props,spacesNavState=_this$props.spacesNavState,spacesManager=_this$props.spacesManager;return react_1.default.createElement(confirm_delete_modal_1.ConfirmDeleteModal,{space:_this.state.selectedSpace,spacesNavState:spacesNavState,spacesManager:spacesManager,onCancel:function onCancel(){_this.setState({showConfirmDeleteModal:false})},onConfirm:_this.deleteSpace})};_this.deleteSpace=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var intl,_this$props2,spacesManager,spacesNavState,space,_ref2,_ref2$message,errorMessage,message;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:intl=_this.props.intl;_this$props2=_this.props,spacesManager=_this$props2.spacesManager,spacesNavState=_this$props2.spacesNavState;space=_this.state.selectedSpace;if(space){_context.next=5;break}return _context.abrupt("return");case 5:_context.prev=5;_context.next=8;return spacesManager.deleteSpace(space);case 8:_context.next=14;break;case 10:_context.prev=10;_context.t0=_context["catch"](5);_ref2=_context.t0.data||{},_ref2$message=_ref2.message,errorMessage=_ref2$message===undefined?"":_ref2$message;notify_1.toastNotifications.addDanger(intl.formatMessage({id:"xpack.spaces.management.spacesGridPage.errorDeletingSpaceErrorMessage",defaultMessage:"Error deleting space: {errorMessage}"},{errorMessage:errorMessage}));case 14:_this.setState({showConfirmDeleteModal:false});_this.loadGrid();message=intl.formatMessage({id:"xpack.spaces.management.spacesGridPage.spaceSuccessfullyDeletedNotificationMessage",defaultMessage:'Deleted "{spaceName}" space.'},{spaceName:space.name});notify_1.toastNotifications.addSuccess(message);spacesNavState.refreshSpacesList();case 19:case"end":return _context.stop()}}},_callee,_this2,[[5,10]])}));_this.loadGrid=function(){var spacesManager=_this.props.spacesManager;_this.setState({loading:true,spaces:[]});var setSpaces=function setSpaces(spaces){_this.setState({loading:false,spaces:spaces})};spacesManager.getSpaces().then(function(spaces){setSpaces(spaces)}).catch(function(error){_this.setState({loading:false,error:error})})};_this.onEditSpaceClick=function(space){window.location.hash="#/management/spaces/edit/"+encodeURIComponent(space.id)};_this.onDeleteSpaceClick=function(space){_this.setState({selectedSpace:space,showConfirmDeleteModal:true})};_this.state={spaces:[],loading:true,showConfirmDeleteModal:false,selectedSpace:null,error:null};return _this}_createClass(SpacesGridPageUI,[{key:"componentDidMount",value:function componentDidMount(){this.loadGrid()}},{key:"render",value:function render(){return react_1.default.createElement(eui_1.EuiPage,{restrictWidth:true,className:"spcGridPage"},react_1.default.createElement(eui_1.EuiPageBody,null,react_1.default.createElement(eui_1.EuiPageContent,{horizontalPosition:"center"},this.getPageContent()),react_1.default.createElement(secure_space_message_1.SecureSpaceMessage,{userProfile:this.props.userProfile})),this.getConfirmDeleteModal())}},{key:"getPageContent",value:function getPageContent(){var intl=this.props.intl;if(!this.props.userProfile.hasCapability("manageSpaces")){return react_1.default.createElement(unauthorized_prompt_1.UnauthorizedPrompt,null)}return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"spaceBetween"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement("h1",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.spaces.management.spacesGridPage.spacesTitle",defaultMessage:"Spaces"})))),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},this.getPrimaryActionButton())),react_1.default.createElement(eui_1.EuiSpacer,{size:"xl"}),react_1.default.createElement(eui_1.EuiInMemoryTable,{itemId:"id",items:this.state.spaces,columns:this.getColumnConfig(),hasActions:true,pagination:true,search:{box:{placeholder:intl.formatMessage({id:"xpack.spaces.management.spacesGridPage.searchPlaceholder",defaultMessage:"Search"})}},loading:this.state.loading,message:this.state.loading?react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.spaces.management.spacesGridPage.loadingTitle",defaultMessage:"loading…"}):undefined}))}},{key:"getPrimaryActionButton",value:function getPrimaryActionButton(){return react_1.default.createElement(eui_1.EuiButton,{fill:true,onClick:function onClick(){window.location.hash="#/management/spaces/create"}},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.spaces.management.spacesGridPage.createSpaceButtonLabel",defaultMessage:"Create a space"}))}},{key:"getColumnConfig",value:function getColumnConfig(){var _this3=this;var intl=this.props.intl;return[{field:"name",name:"",width:"50px",sortable:true,render:function render(value,record){return react_1.default.createElement(eui_1.EuiLink,{onClick:function onClick(){_this3.onEditSpaceClick(record)}},react_1.default.createElement(components_1.SpaceAvatar,{space:record,size:"s"}))}},{field:"name",name:intl.formatMessage({id:"xpack.spaces.management.spacesGridPage.spaceColumnName",defaultMessage:"Space"}),sortable:true,render:function render(value,record){return react_1.default.createElement(eui_1.EuiLink,{onClick:function onClick(){_this3.onEditSpaceClick(record)}},value)}},{field:"id",name:intl.formatMessage({id:"xpack.spaces.management.spacesGridPage.identifierColumnName",defaultMessage:"Identifier"}),sortable:true},{field:"description",name:intl.formatMessage({id:"xpack.spaces.management.spacesGridPage.descriptionColumnName",defaultMessage:"Description"}),sortable:true},{name:intl.formatMessage({id:"xpack.spaces.management.spacesGridPage.actionsColumnName",defaultMessage:"Actions"}),actions:[{name:intl.formatMessage({id:"xpack.spaces.management.spacesGridPage.editSpaceActionName",defaultMessage:"Edit"}),description:intl.formatMessage({id:"xpack.spaces.management.spacesGridPage.editSpaceActionDescription",defaultMessage:"Edit this space."}),onClick:this.onEditSpaceClick,type:"icon",icon:"pencil",color:"primary"},{available:function available(record){return!common_1.isReservedSpace(record)},name:intl.formatMessage({id:"xpack.spaces.management.spacesGridPage.deleteActionName",defaultMessage:"Delete"}),description:intl.formatMessage({id:"xpack.spaces.management.spacesGridPage.deleteThisSpaceActionDescription",defaultMessage:"Delete this space."}),onClick:this.onDeleteSpaceClick,type:"icon",icon:"trash",color:"danger"}]}]}}]);return SpacesGridPageUI}(react_1.Component);exports.SpacesGridPage=react_2.injectI18n(SpacesGridPageUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var advanced_settings_subtitle_1=__webpack_require__(4367);exports.AdvancedSettingsSubtitle=advanced_settings_subtitle_1.AdvancedSettingsSubtitle},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));exports.AdvancedSettingsSubtitle=function(props){return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiSpacer,{size:"m"}),react_2.default.createElement(eui_1.EuiCallOut,{color:"primary",iconType:"spacesApp",title:react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.advancedSettingsSubtitle.applyingSettingsOnPageToSpaceDescription",defaultMessage:"The settings on this page apply to the {spaceName} space, unless otherwise specified.",values:{spaceName:react_2.default.createElement("strong",null,props.space.name)}}))}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var advanced_settings_title_1=__webpack_require__(4369);exports.AdvancedSettingsTitle=advanced_settings_title_1.AdvancedSettingsTitle},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(2);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var components_1=__webpack_require__(254);exports.AdvancedSettingsTitle=function(props){return react_2.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"s",responsive:false,alignItems:"center"},react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(components_1.SpaceAvatar,{space:props.space})),react_2.default.createElement(eui_1.EuiFlexItem,{style:{marginLeft:"10px"}},react_2.default.createElement(eui_1.EuiText,null,react_2.default.createElement("h1",{"data-test-subj":"managementSettingsTitle"},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.spaces.management.advancedSettingsTitle.settingsTitle",defaultMessage:"Settings"})))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var i18n_1=__webpack_require__(9);var management_1=__webpack_require__(24);var modules_1=__webpack_require__(4);var routes_1=tslib_1.__importDefault(__webpack_require__(12));var version_1=__webpack_require__(372);var app_1=__webpack_require__(4372);var BASE_PATH="/management/elasticsearch/upgrade_assistant";function startApp(){management_1.management.getSection("elasticsearch").register("upgrade_assistant",{visible:true,display:i18n_1.i18n.translate("xpack.upgradeAssistant.appTitle",{defaultMessage:"{version} Upgrade Assistant",values:{version:version_1.NEXT_MAJOR_VERSION+".0"}}),order:100,url:"#"+BASE_PATH});modules_1.uiModules.get("kibana").directive("upgradeAssistant",function(reactDirective){return reactDirective(app_1.RootComponent)});routes_1.default.when(BASE_PATH+"/:view?",{template:"<upgrade-assistant />"})}startApp()},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_2=__webpack_require__(3);var version_1=__webpack_require__(372);var tabs_1=__webpack_require__(4373);exports.RootComponentUI=function(){return react_1.default.createElement(eui_1.EuiPage,{restrictWidth:true,"data-test-subj":"upgradeAssistantRoot"},react_1.default.createElement(eui_1.EuiPageBody,null,react_1.default.createElement(eui_1.EuiPageHeader,null,react_1.default.createElement(eui_1.EuiPageHeaderSection,null,react_1.default.createElement(eui_1.EuiTitle,{size:"l"},react_1.default.createElement("h1",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.appTitle",defaultMessage:"{version} Upgrade Assistant",values:{version:version_1.NEXT_MAJOR_VERSION+".0"}}))))),react_1.default.createElement(tabs_1.UpgradeAssistantTabs,null)))};exports.RootComponent=react_2.injectI18nProvider(exports.RootComponentUI)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var axios_1=tslib_1.__importDefault(__webpack_require__(506));var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_2=__webpack_require__(3);var chrome_1=tslib_1.__importDefault(__webpack_require__(8));var latest_minor_banner_1=__webpack_require__(4374);var checkup_1=__webpack_require__(4375);var overview_1=__webpack_require__(4386);var types_1=__webpack_require__(287);var UpgradeAssistantTabsUI=function(_react_1$default$Comp){_inherits(UpgradeAssistantTabsUI,_react_1$default$Comp);function UpgradeAssistantTabsUI(props){var _this2=this;_classCallCheck(this,UpgradeAssistantTabsUI);var _this=_possibleConstructorReturn(this,(UpgradeAssistantTabsUI.__proto__||Object.getPrototypeOf(UpgradeAssistantTabsUI)).call(this,props));_this.onTabClick=function(selectedTab){var selectedTabIndex=lodash_1.findIndex(_this.tabs,{id:selectedTab.id});if(selectedTabIndex===-1){throw new Error("Clicked tab did not exist in tabs array")}_this.setSelectedTabIndex(selectedTabIndex)};_this.setSelectedTabIndex=function(selectedTabIndex){_this.setState({selectedTabIndex:selectedTabIndex})};_this.loadData=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var resp;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_this.setState({loadingState:types_1.LoadingState.Loading});_context.next=4;return axios_1.default.get(chrome_1.default.addBasePath("/api/upgrade_assistant/status"));case 4:resp=_context.sent;_this.setState({loadingState:types_1.LoadingState.Success,checkupData:resp.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);_this.setState({loadingState:types_1.LoadingState.Error});case 11:case"end":return _context.stop()}}},_callee,_this2,[[0,8]])}));_this.state={loadingState:types_1.LoadingState.Loading,selectedTabIndex:0};return _this}_createClass(UpgradeAssistantTabsUI,[{key:"componentDidMount",value:function componentDidMount(){this.loadData()}},{key:"render",value:function render(){var selectedTabIndex=this.state.selectedTabIndex;var tabs=this.tabs;return react_1.default.createElement(eui_1.EuiTabbedContent,{tabs:tabs,onTabClick:this.onTabClick,selectedTab:tabs[selectedTabIndex]})}},{key:"tabs",get:function get(){var intl=this.props.intl;var _state=this.state,loadingState=_state.loadingState,checkupData=_state.checkupData;var commonProps={loadingState:loadingState,refreshCheckupData:this.loadData,setSelectedTabIndex:this.setSelectedTabIndex,alertBanner:react_1.default.createElement(latest_minor_banner_1.LatestMinorBanner,null)};return[{id:"overview",name:intl.formatMessage({id:"xpack.upgradeAssistant.overviewTab.overviewTabTitle",defaultMessage:"Overview"}),content:react_1.default.createElement(overview_1.OverviewTab,Object.assign({checkupData:checkupData},commonProps))},{id:"cluster",name:intl.formatMessage({id:"xpack.upgradeAssistant.checkupTab.clusterTabLabel",defaultMessage:"Cluster"}),content:react_1.default.createElement(checkup_1.CheckupTab,Object.assign({key:"cluster",deprecations:checkupData?checkupData.cluster:undefined,checkupLabel:intl.formatMessage({id:"xpack.upgradeAssistant.tabs.checkupTab.clusterLabel",defaultMessage:"cluster"})},commonProps))},{id:"indices",name:intl.formatMessage({id:"xpack.upgradeAssistant.checkupTab.indicesTabLabel",defaultMessage:"Indices"}),content:react_1.default.createElement(checkup_1.CheckupTab,Object.assign({key:"indices",deprecations:checkupData?checkupData.indices:undefined,checkupLabel:intl.formatMessage({id:"xpack.upgradeAssistant.checkupTab.indexLabel",defaultMessage:"index"}),showBackupWarning:true},commonProps))}]}}]);return UpgradeAssistantTabsUI}(react_1.default.Component);exports.UpgradeAssistantTabsUI=UpgradeAssistantTabsUI;exports.UpgradeAssistantTabs=react_2.injectI18n(UpgradeAssistantTabsUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_2=__webpack_require__(3);var version_1=__webpack_require__(372);exports.LatestMinorBanner=function(){return react_1.default.createElement(eui_1.EuiCallOut,{title:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.tabs.incompleteCallout.calloutTitle",defaultMessage:"Issues list might be incomplete"}),color:"warning",iconType:"help"},react_1.default.createElement("p",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.tabs.incompleteCallout.calloutBody.calloutDetail",defaultMessage:"The complete list of {breakingChangesDocButton} in Elasticsearch {nextEsVersion}\n            will be available in the final {currentEsVersion} minor release. When the list\n            is complete, this warning will go away.",values:{breakingChangesDocButton:react_1.default.createElement(eui_1.EuiLink,{href:"https://www.elastic.co/guide/en/elasticsearch/reference/master/breaking-changes.html",target:"_blank"},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.tabs.incompleteCallout.calloutBody.breackingChangesDocButtonLabel",defaultMessage:"deprecations and breaking changes"})),nextEsVersion:version_1.NEXT_MAJOR_VERSION+".x",currentEsVersion:version_1.CURRENT_MAJOR_VERSION+".x"}})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var checkup_tab_1=__webpack_require__(4376);exports.CheckupTab=checkup_tab_1.CheckupTab},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importStar(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_2=__webpack_require__(3);var version_1=__webpack_require__(372);var types_1=__webpack_require__(287);var controls_1=__webpack_require__(4377);var grouped_1=__webpack_require__(4380);var CheckupTab=function(_types_1$UpgradeAssis){_inherits(CheckupTab,_types_1$UpgradeAssis);function CheckupTab(props){_classCallCheck(this,CheckupTab);var _this=_possibleConstructorReturn(this,(CheckupTab.__proto__||Object.getPrototypeOf(CheckupTab)).call(this,props));_this.changeFilter=function(filter){_this.setState({currentFilter:filter})};_this.changeSearch=function(search){_this.setState({search:search})};_this.changeGroupBy=function(groupBy){_this.setState({currentGroupBy:groupBy})};_this.state={currentFilter:types_1.LevelFilterOption.all,search:"",currentGroupBy:types_1.GroupByOption.message};return _this}_createClass(CheckupTab,[{key:"render",value:function render(){var _props=this.props,alertBanner=_props.alertBanner,checkupLabel=_props.checkupLabel,deprecations=_props.deprecations,loadingState=_props.loadingState,refreshCheckupData=_props.refreshCheckupData,setSelectedTabIndex=_props.setSelectedTabIndex,_props$showBackupWarn=_props.showBackupWarning,showBackupWarning=_props$showBackupWarn===undefined?false:_props$showBackupWarn;var _state=this.state,currentFilter=_state.currentFilter,search=_state.search,currentGroupBy=_state.currentGroupBy;return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiText,{grow:false},react_1.default.createElement("p",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.tabDetail",defaultMessage:"These {strongCheckupLabel} issues need your attention. Resolve them before upgrading to Elasticsearch {nextEsVersion}.",values:{strongCheckupLabel:react_1.default.createElement("strong",null,checkupLabel),nextEsVersion:version_1.NEXT_MAJOR_VERSION+".x"}}))),react_1.default.createElement(eui_1.EuiSpacer,null),alertBanner&&react_1.default.createElement(react_1.Fragment,null,alertBanner,react_1.default.createElement(eui_1.EuiSpacer,null)),showBackupWarning&&react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiCallOut,{title:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.backUpCallout.calloutTitle",defaultMessage:"Back up your indices now"}),color:"warning",iconType:"help"},react_1.default.createElement("p",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.backUpCallout.calloutBody.calloutDetail",defaultMessage:"Back up your data using the {snapshotRestoreDocsButton}.",values:{snapshotRestoreDocsButton:react_1.default.createElement(eui_1.EuiLink,{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-snapshots.html",target:"_blank"},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.backUpCallout.calloutBody.snapshotRestoreDocsButtonLabel",defaultMessage:"snapshot and restore APIs"}))}}))),react_1.default.createElement(eui_1.EuiSpacer,null)),react_1.default.createElement(eui_1.EuiPageContent,null,react_1.default.createElement(eui_1.EuiPageContentBody,null,loadingState===types_1.LoadingState.Error?react_1.default.createElement(eui_1.EuiCallOut,{title:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.errorCallout.calloutTitle",defaultMessage:"A network error occurred while retrieving the checkup results."}),color:"danger",iconType:"cross"}):deprecations&&deprecations.length>0?react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(controls_1.CheckupControls,{allDeprecations:deprecations,loadingState:loadingState,loadData:refreshCheckupData,currentFilter:currentFilter,onFilterChange:this.changeFilter,search:search,onSearchChange:this.changeSearch,availableGroupByOptions:this.availableGroupByOptions(),currentGroupBy:currentGroupBy,onGroupByChange:this.changeGroupBy}),react_1.default.createElement(eui_1.EuiSpacer,null),this.renderCheckupData()):react_1.default.createElement(eui_1.EuiEmptyPrompt,{iconType:"faceHappy",title:react_1.default.createElement("h2",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.noIssues.noIssuesTitle",defaultMessage:"All clear!"})),body:react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement("p",{"data-test-subj":"upgradeAssistantIssueSummary"},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.noIssues.noIssuesLabel",defaultMessage:"You have no {strongCheckupLabel} issues.",values:{strongCheckupLabel:react_1.default.createElement("strong",null,checkupLabel)}})),react_1.default.createElement("p",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.noIssues.nextStepsDetail",defaultMessage:"Check the {overviewTabButton} for next steps.",values:{overviewTabButton:react_1.default.createElement(eui_1.EuiLink,{onClick:function onClick(){return setSelectedTabIndex(0)}},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.noIssues.nextStepsDetail.overviewTabButtonLabel",defaultMessage:"Overview tab"}))}})))}))))}},{key:"availableGroupByOptions",value:function availableGroupByOptions(){var deprecations=this.props.deprecations;if(!deprecations){return[]}return Object.keys(types_1.GroupByOption).filter(function(opt){return lodash_1.find(deprecations,opt)})}},{key:"renderCheckupData",value:function renderCheckupData(){var deprecations=this.props.deprecations;var _state2=this.state,currentFilter=_state2.currentFilter,currentGroupBy=_state2.currentGroupBy,search=_state2.search;return react_1.default.createElement(grouped_1.GroupedDeprecations,{currentGroupBy:currentGroupBy,currentFilter:currentFilter,search:search,allDeprecations:deprecations})}}]);return CheckupTab}(types_1.UpgradeAssistantTabComponent);exports.CheckupTab=CheckupTab},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_2=__webpack_require__(3);var types_1=__webpack_require__(287);var filter_bar_1=__webpack_require__(4378);var group_by_bar_1=__webpack_require__(4379);exports.CheckupControlsUI=function(_ref){var allDeprecations=_ref.allDeprecations,loadingState=_ref.loadingState,loadData=_ref.loadData,currentFilter=_ref.currentFilter,onFilterChange=_ref.onFilterChange,search=_ref.search,onSearchChange=_ref.onSearchChange,availableGroupByOptions=_ref.availableGroupByOptions,currentGroupBy=_ref.currentGroupBy,onGroupByChange=_ref.onGroupByChange,intl=_ref.intl;return react_1.default.createElement(eui_1.EuiFlexGroup,{alignItems:"center",wrap:true,responsive:false},react_1.default.createElement(eui_1.EuiFlexItem,{grow:true},react_1.default.createElement(eui_1.EuiFieldSearch,{placeholder:intl.formatMessage({id:"xpack.upgradeAssistant.checkupTab.controls.searchBarPlaceholder",defaultMessage:"Filter"}),value:search,onChange:function onChange(e){return onSearchChange(e.target.value)}})),react_1.default.createElement(filter_bar_1.FilterBar,Object.assign({},{allDeprecations:allDeprecations,currentFilter:currentFilter,onFilterChange:onFilterChange})),react_1.default.createElement(group_by_bar_1.GroupByBar,Object.assign({},{availableGroupByOptions:availableGroupByOptions,currentGroupBy:currentGroupBy,onGroupByChange:onGroupByChange})),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButton,{fill:true,onClick:loadData,iconType:"refresh",isLoading:loadingState===types_1.LoadingState.Loading},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.controls.refreshButtonLabel",defaultMessage:"Refresh"}))))};exports.CheckupControls=react_2.injectI18n(exports.CheckupControlsUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var i18n_1=__webpack_require__(9);var types_1=__webpack_require__(287);var LocalizedOptions={all:i18n_1.i18n.translate("xpack.upgradeAssistant.checkupTab.controls.filterBar.allButtonLabel",{defaultMessage:"all"}),critical:i18n_1.i18n.translate("xpack.upgradeAssistant.checkupTab.controls.filterBar.criticalButtonLabel",{defaultMessage:"critical"})};var allFilterOptions=Object.keys(types_1.LevelFilterOption);exports.FilterBar=function(_ref){var _ref$allDeprecations=_ref.allDeprecations,allDeprecations=_ref$allDeprecations===undefined?[]:_ref$allDeprecations,currentFilter=_ref.currentFilter,onFilterChange=_ref.onFilterChange;var levelGroups=lodash_1.groupBy(allDeprecations,"level");var levelCounts=Object.keys(levelGroups).reduce(function(counts,level){counts[level]=levelGroups[level].length;return counts},{});var allCount=allDeprecations.length;return react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiFilterGroup,null,allFilterOptions.map(function(option){return react_1.default.createElement(eui_1.EuiFilterButton,{key:option,onClick:onFilterChange.bind(null,option),hasActiveFilters:currentFilter===option,numFilters:option===types_1.LevelFilterOption.all?allCount:levelCounts[option]||undefined},LocalizedOptions[option])})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var i18n_1=__webpack_require__(9);var LocalizedOptions={message:i18n_1.i18n.translate("xpack.upgradeAssistant.checkupTab.controls.groupByBar.byIssueLabel",{defaultMessage:"by issue"}),index:i18n_1.i18n.translate("xpack.upgradeAssistant.checkupTab.controls.groupByBar.byIndexLabel",{defaultMessage:"by index"})};exports.GroupByBar=function(_ref){var availableGroupByOptions=_ref.availableGroupByOptions,currentGroupBy=_ref.currentGroupBy,onGroupByChange=_ref.onGroupByChange;if(availableGroupByOptions.length<=1){return null}return react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiFilterGroup,null,availableGroupByOptions.map(function(option){return react_1.default.createElement(eui_1.EuiFilterButton,{key:option,onClick:onGroupByChange.bind(null,option),hasActiveFilters:currentGroupBy===option},LocalizedOptions[option])})))}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importStar(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_2=__webpack_require__(3);var types_1=__webpack_require__(287);var count_summary_1=__webpack_require__(4381);var health_1=__webpack_require__(4382);var list_1=__webpack_require__(4383);exports.filterDeps=function(level){var search=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var conditions=[];if(level!==types_1.LevelFilterOption.all){conditions.push(function(dep){return dep.level===level})}if(search.length>0){conditions.push(function(dep){try{var searchReg=new RegExp(search.toLowerCase());return Boolean(dep.message.toLowerCase().match(searchReg)||dep.details&&dep.details.match(searchReg))}catch(e){return true}})}return function(dep){return conditions.map(function(c){return c(dep)}).every(function(t){return t})}};exports.DeprecationAccordion=function(_ref){var id=_ref.id,deprecations=_ref.deprecations,title=_ref.title,currentGroupBy=_ref.currentGroupBy,forceExpand=_ref.forceExpand;var hasIndices=Boolean(currentGroupBy===types_1.GroupByOption.message&&deprecations.filter(function(d){return d.index}).length);var numIndices=hasIndices?deprecations.length:null;return react_1.default.createElement(eui_1.EuiAccordion,{id:id,className:"upgDeprecations__item",initialIsOpen:forceExpand,buttonContent:react_1.default.createElement("span",{className:"upgDeprecations__itemName"},title),extraAction:react_1.default.createElement("div",null,hasIndices&&react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiBadge,{color:"hollow"},react_1.default.createElement("span",{"data-test-subj":"indexCount"},numIndices)," ",react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.indicesBadgeLabel",defaultMessage:"{numIndices, plural, one {index} other {indices}}",values:{numIndices:numIndices}}))," "),react_1.default.createElement(health_1.DeprecationHealth,{single:currentGroupBy===types_1.GroupByOption.message,deprecations:deprecations}))},react_1.default.createElement(list_1.DeprecationList,{deprecations:deprecations,currentGroupBy:currentGroupBy}))};var PER_PAGE=25;var CalcFields={filteredDeprecations:function filteredDeprecations(props){var _props$allDeprecation=props.allDeprecations,allDeprecations=_props$allDeprecation===undefined?[]:_props$allDeprecation,currentFilter=props.currentFilter,search=props.search;return allDeprecations.filter(exports.filterDeps(currentFilter,search))},groups:function groups(props){var currentGroupBy=props.currentGroupBy;return lodash_1.groupBy(CalcFields.filteredDeprecations(props),currentGroupBy)},numPages:function numPages(props){return Math.ceil(Object.keys(CalcFields.groups(props)).length/PER_PAGE)}};var GroupedDeprecations=function(_react_1$default$Comp){_inherits(GroupedDeprecations,_react_1$default$Comp);function GroupedDeprecations(){_classCallCheck(this,GroupedDeprecations);var _this=_possibleConstructorReturn(this,(GroupedDeprecations.__proto__||Object.getPrototypeOf(GroupedDeprecations)).apply(this,arguments));_this.state={forceExpand:false,expandNumber:0,currentPage:0};_this.setExpand=function(forceExpand){_this.setState({forceExpand:forceExpand,expandNumber:_this.state.expandNumber+1})};_this.setPage=function(currentPage){return _this.setState({currentPage:currentPage})};return _this}_createClass(GroupedDeprecations,[{key:"render",value:function render(){var _this2=this;var _props=this.props,currentGroupBy=_props.currentGroupBy,_props$allDeprecation2=_props.allDeprecations,allDeprecations=_props$allDeprecation2===undefined?[]:_props$allDeprecation2;var _state=this.state,forceExpand=_state.forceExpand,expandNumber=_state.expandNumber,currentPage=_state.currentPage;var filteredDeprecations=CalcFields.filteredDeprecations(this.props);var groups=CalcFields.groups(this.props);return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiFlexGroup,{responsive:false,alignItems:"center"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButtonEmpty,{flush:"left",size:"s",onClick:function onClick(){return _this2.setExpand(true)},"data-test-subj":"expandAll"},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.controls.expandAllButtonLabel",defaultMessage:"Expand all"}))),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButtonEmpty,{flush:"left",size:"s",onClick:function onClick(){return _this2.setExpand(false)},"data-test-subj":"collapseAll"},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.controls.collapseAllButtonLabel",defaultMessage:"Collapse all"}))),react_1.default.createElement(eui_1.EuiFlexItem,null),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(count_summary_1.DeprecationCountSummary,{allDeprecations:allDeprecations,deprecations:filteredDeprecations}))),react_1.default.createElement(eui_1.EuiSpacer,{size:"s"}),react_1.default.createElement("div",{className:"upgDeprecations"},Object.keys(groups).sort().slice(currentPage*PER_PAGE,(currentPage+1)*PER_PAGE).map(function(groupName){return[react_1.default.createElement(exports.DeprecationAccordion,Object.assign({key:expandNumber,id:"depgroup-"+groupName,title:groupName,deprecations:groups[groupName]},{currentGroupBy:currentGroupBy,forceExpand:forceExpand}))]}),Object.keys(groups).length>PER_PAGE&&react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"spaceAround"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiPagination,{pageCount:CalcFields.numPages(this.props),activePage:currentPage,onPageClick:this.setPage}))))))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,_ref2){var currentPage=_ref2.currentPage;if(currentPage>=CalcFields.numPages(nextProps)){return{currentPage:0}}else{return null}}}]);return GroupedDeprecations}(react_1.default.Component);exports.GroupedDeprecations=GroupedDeprecations},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importStar(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_2=__webpack_require__(3);exports.DeprecationCountSummary=function(_ref){var deprecations=_ref.deprecations,allDeprecations=_ref.allDeprecations;return react_1.default.createElement(eui_1.EuiText,{size:"s"},allDeprecations.length?react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.numDeprecationsShownLabel",defaultMessage:"Showing {numShown} of {total}",values:{numShown:deprecations.length,total:allDeprecations.length}}):react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.noDeprecationsLabel",defaultMessage:"No deprecations"}),deprecations.length!==allDeprecations.length&&react_1.default.createElement(react_1.Fragment,null,". ",react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.changeFiltersShowMoreLabel",description:"Explains how to show all deprecations if there are more available.",defaultMessage:"Change filter to show more."})))}},function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var i18n_1=__webpack_require__(9);var constants_1=__webpack_require__(1328);var LocalizedLevels={warning:i18n_1.i18n.translate("xpack.upgradeAssistant.checkupTab.deprecations.warningLabel",{defaultMessage:"warning"}),critical:i18n_1.i18n.translate("xpack.upgradeAssistant.checkupTab.deprecations.criticalLabel",{defaultMessage:"critical"})};exports.LocalizedActions={warning:i18n_1.i18n.translate("xpack.upgradeAssistant.checkupTab.deprecations.warningActionTooltip",{defaultMessage:"Resolving this issue before upgrading is advised, but not required."}),critical:i18n_1.i18n.translate("xpack.upgradeAssistant.checkupTab.deprecations.criticalActionTooltip",{defaultMessage:"Resolve this issue before upgrading."})};var SingleHealth=function SingleHealth(_ref){var level=_ref.level,label=_ref.label;return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(eui_1.EuiToolTip,{content:exports.LocalizedActions[level]},react_1.default.createElement(eui_1.EuiBadge,{color:constants_1.COLOR_MAP[level]},label))," ")};exports.DeprecationHealth=function(_ref2){var deprecations=_ref2.deprecations,_ref2$single=_ref2.single,single=_ref2$single===undefined?false:_ref2$single;if(deprecations.length===0){return react_1.default.createElement("span",null)}var levels=deprecations.map(function(d){return constants_1.LEVEL_MAP[d.level]});if(single){var highest=Math.max.apply(Math,_toConsumableArray(levels));var highestLevel=constants_1.REVERSE_LEVEL_MAP[highest];return react_1.default.createElement(SingleHealth,{level:highestLevel,label:LocalizedLevels[highestLevel]})}var countByLevel=lodash_1.countBy(levels);return react_1.default.createElement(react_1.default.Fragment,null,Object.keys(countByLevel).map(function(k){return parseInt(k,10)}).sort().map(function(level){return[level,constants_1.REVERSE_LEVEL_MAP[level]]}).map(function(_ref3){var _ref4=_slicedToArray(_ref3,2),numLevel=_ref4[0],stringLevel=_ref4[1];return react_1.default.createElement(SingleHealth,{key:stringLevel,level:stringLevel,label:countByLevel[numLevel]+" "+LocalizedLevels[stringLevel]})}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var types_1=__webpack_require__(287);var constants_1=__webpack_require__(1328);var cell_1=__webpack_require__(4384);var index_table_1=__webpack_require__(4385);var sortByLevelDesc=function sortByLevelDesc(a,b){return-1*(constants_1.LEVEL_MAP[a.level]-constants_1.LEVEL_MAP[b.level])};var MessageDeprecation=function MessageDeprecation(_ref){var deprecation=_ref.deprecation;var items=[];if(deprecation.details){items.push({body:deprecation.details})}return react_1.default.createElement(cell_1.DeprecationCell,{headline:deprecation.message,healthColor:constants_1.COLOR_MAP[deprecation.level],actions:deprecation.actions,docUrl:deprecation.url,items:items})};var SimpleMessageDeprecation=function SimpleMessageDeprecation(_ref2){var deprecation=_ref2.deprecation;var items=[];if(deprecation.details){items.push({body:deprecation.details})}return react_1.default.createElement(cell_1.DeprecationCell,{items:items,docUrl:deprecation.url})};var IndexDeprecation=function IndexDeprecation(_ref3){var deprecation=_ref3.deprecation,indices=_ref3.indices;return react_1.default.createElement(cell_1.DeprecationCell,{docUrl:deprecation.url},react_1.default.createElement(index_table_1.IndexDeprecationTable,{indices:indices}))};exports.DeprecationList=function(_ref4){var deprecations=_ref4.deprecations,currentGroupBy=_ref4.currentGroupBy;if(currentGroupBy===types_1.GroupByOption.message&&deprecations[0].index!==undefined){var indices=deprecations.map(function(dep){return{index:dep.index,details:dep.details,actions:dep.actions}});return react_1.default.createElement(IndexDeprecation,{indices:indices,deprecation:deprecations[0]})}else if(currentGroupBy===types_1.GroupByOption.index){return react_1.default.createElement("div",null,deprecations.sort(sortByLevelDesc).map(function(dep){return react_1.default.createElement(MessageDeprecation,{deprecation:dep,key:dep.message})}))}else{return react_1.default.createElement("div",null,deprecations.sort(sortByLevelDesc).map(function(dep){return react_1.default.createElement(SimpleMessageDeprecation,{deprecation:dep,key:dep.message})}))}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_2=__webpack_require__(3);exports.DeprecationCell=function(_ref){var headline=_ref.headline,healthColor=_ref.healthColor,actions=_ref.actions,docUrl=_ref.docUrl,_ref$items=_ref.items,items=_ref$items===undefined?[]:_ref$items,children=_ref.children;return react_1.default.createElement("div",{className:"upgDeprecationCell"},react_1.default.createElement(eui_1.EuiFlexGroup,{responsive:false,wrap:true,alignItems:"baseline"},healthColor&&react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiIcon,{type:"dot",color:healthColor})),react_1.default.createElement(eui_1.EuiFlexItem,{grow:true},headline&&react_1.default.createElement(eui_1.EuiTitle,{size:"xxs"},react_1.default.createElement("h2",null,headline)),docUrl&&react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiLink,{href:docUrl,target:"_blank"},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.checkupTab.deprecations.documentationButtonLabel",defaultMessage:"Documentation"})),react_1.default.createElement(eui_1.EuiSpacer,{size:"s"})),items.map(function(item){return react_1.default.createElement("div",{key:item.title||item.body},react_1.default.createElement(eui_1.EuiText,null,item.title&&react_1.default.createElement("h6",null,item.title),react_1.default.createElement("p",null,item.body)))})),actions&&actions.map(function(button){return react_1.default.createElement(eui_1.EuiFlexItem,{key:button.url,grow:false},react_1.default.createElement(eui_1.EuiButton,{size:"s",href:button.url,target:"_blank"},button.label))})),react_1.default.createElement(eui_1.EuiSpacer,{size:"s"}),children)}},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var lodash_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_2=__webpack_require__(3);var PAGE_SIZES=[10,25,50,100,250,500,1e3];var IndexDeprecationTableUI=function(_react_1$default$Comp){_inherits(IndexDeprecationTableUI,_react_1$default$Comp);function IndexDeprecationTableUI(props){_classCallCheck(this,IndexDeprecationTableUI);var _this=_possibleConstructorReturn(this,(IndexDeprecationTableUI.__proto__||Object.getPrototypeOf(IndexDeprecationTableUI)).call(this,props));_this.onTableChange=function(tableProps){_this.setState({sortField:tableProps.sort.field,sortDirection:tableProps.sort.direction,pageIndex:tableProps.page.index,pageSize:tableProps.page.size})};_this.state={sortField:"index",sortDirection:"asc",pageIndex:0,pageSize:10};return _this}_createClass(IndexDeprecationTableUI,[{key:"render",value:function render(){var intl=this.props.intl;var _state=this.state,pageIndex=_state.pageIndex,pageSize=_state.pageSize,sortField=_state.sortField,sortDirection=_state.sortDirection;var columns=[{field:"index",name:intl.formatMessage({id:"xpack.upgradeAssistant.checkupTab.deprecations.indexTable.indexColumnLabel",defaultMessage:"Index"}),sortable:true},{field:"details",name:intl.formatMessage({id:"xpack.upgradeAssistant.checkupTab.deprecations.indexTable.detailsColumnLabel",defaultMessage:"Details"})}];if(this.actionsColumn){columns.push(this.actionsColumn)}var sorting={sort:{field:sortField,direction:sortDirection}};var pagination=_extends({pageIndex:pageIndex,pageSize:pageSize},this.pageSizeOptions());return react_1.default.createElement(eui_1.EuiBasicTable,{items:this.getRows(),columns:columns,sorting:sorting,pagination:pagination,onChange:this.onTableChange,hasActions:false})}},{key:"getRows",value:function getRows(){var _state2=this.state,sortField=_state2.sortField,sortDirection=_state2.sortDirection,pageIndex=_state2.pageIndex,pageSize=_state2.pageSize;var indices=this.props.indices;var sorted=lodash_1.sortBy(indices,sortField);if(sortDirection==="desc"){sorted=sorted.reverse()}var start=pageIndex*pageSize;return sorted.slice(start,start+pageSize)}},{key:"pageSizeOptions",value:function pageSizeOptions(){var indices=this.props.indices;var totalItemCount=indices.length;if(totalItemCount<=PAGE_SIZES[0]){return{totalItemCount:totalItemCount,pageSizeOptions:[],hidePerPageOptions:true}}var pageSizeOptions=PAGE_SIZES.filter(function(perPage,idx){return idx===0||totalItemCount>PAGE_SIZES[idx-1]});return{totalItemCount:totalItemCount,pageSizeOptions:pageSizeOptions,hidePerPageOptions:false}}},{key:"actionsColumn",get:function get(){var indices=this.props.indices;if(!indices.find(function(i){return i.actions!==undefined})){return null}var actions=indices[0].actions;return{actions:actions.map(function(action,idx){return{render:function render(index){var _index$actions$idx=index.actions[idx],url=_index$actions$idx.url,label=_index$actions$idx.label;return react_1.default.createElement(eui_1.EuiButton,{size:"s",href:url,target:"_blank"},label)}}})}}}]);return IndexDeprecationTableUI}(react_1.default.Component);exports.IndexDeprecationTableUI=IndexDeprecationTableUI;exports.IndexDeprecationTable=react_2.injectI18n(IndexDeprecationTableUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importStar(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_2=__webpack_require__(3);var version_1=__webpack_require__(372);var types_1=__webpack_require__(287);var steps_1=__webpack_require__(4387);exports.OverviewTab=function(props){return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiText,{grow:false},react_1.default.createElement("p",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.overviewTab.tabDetail",defaultMessage:"This assistant checks your cluster and indices and identifies the changes\n             you need to make before upgrading to Elasticsearch {nextEsVersion}.",values:{nextEsVersion:version_1.NEXT_MAJOR_VERSION+".x"}}))),react_1.default.createElement(eui_1.EuiSpacer,null),props.alertBanner&&react_1.default.createElement(react_1.Fragment,null,props.alertBanner,react_1.default.createElement(eui_1.EuiSpacer,null)),react_1.default.createElement(eui_1.EuiPageContent,null,react_1.default.createElement(eui_1.EuiPageContentBody,null,props.loadingState===types_1.LoadingState.Success?react_1.default.createElement(steps_1.Steps,Object.assign({},props)):react_1.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"center"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiLoadingSpinner,null))))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importStar(__webpack_require__(0));var eui_1=__webpack_require__(2);var i18n_1=__webpack_require__(9);var react_2=__webpack_require__(3);var chrome_1=tslib_1.__importDefault(__webpack_require__(8));var version_1=__webpack_require__(372);var deprecation_logging_toggle_1=__webpack_require__(4388);var WAIT_FOR_RELEASE_STEP={title:i18n_1.i18n.translate("xpack.upgradeAssistant.overviewTab.steps.waitForReleaseStep.stepTitle",{defaultMessage:"Wait for the Elasticsearch {nextEsVersion} release",values:{nextEsVersion:version_1.NEXT_MAJOR_VERSION+".0"}}),children:react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiText,{grow:false},react_1.default.createElement("p",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.overviewTab.steps.waitForReleaseStep.stepDetail",defaultMessage:"Once the release is out, upgrade to the latest {currentEsMajorVersion} version, and then\n              return here to proceed with your {nextEsMajorVersion} upgrade.",values:{currentEsMajorVersion:version_1.CURRENT_MAJOR_VERSION+".x",nextEsMajorVersion:version_1.NEXT_MAJOR_VERSION+".0"}}))))};var START_UPGRADE_STEP={title:i18n_1.i18n.translate("xpack.upgradeAssistant.overviewTab.steps.startUpgradeStep.stepTitle",{defaultMessage:"Start your upgrade"}),children:react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiText,{grow:false},react_1.default.createElement("p",null,chrome_1.default.getInjected("isCloudEnabled",false)?react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.overviewTab.steps.startUpgradeStepCloud.stepDetail.goToCloudDashboardDetail",defaultMessage:"Go to the Deployments section on the Elastic Cloud dashboard to start your upgrade."}):react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.overviewTab.steps.startUpgradeStepOnPrem.stepDetail.followInstructionsDetail",defaultMessage:"Follow {instructionButton} to start your upgrade.",values:{instructionButton:react_1.default.createElement(eui_1.EuiLink,{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/setup-upgrade.html",target:"_blank"},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.overviewTab.steps.startUpgradeStepOnPrem.stepDetail.instructionButtonLabel",defaultMessage:"these instructions"}))}}))))};exports.StepsUI=function(_ref){var checkupData=_ref.checkupData,setSelectedTabIndex=_ref.setSelectedTabIndex,intl=_ref.intl;var countByType=Object.keys(checkupData).reduce(function(counts,checkupType){counts[checkupType]=checkupData[checkupType].length;return counts},{});return react_1.default.createElement(eui_1.EuiSteps,{className:"upgSteps",headingElement:"h2",steps:[{title:countByType.cluster?intl.formatMessage({id:"xpack.upgradeAssistant.overviewTab.steps.clusterStep.issuesRemainingStepTitle",defaultMessage:"Check for issues with your cluster"}):intl.formatMessage({id:"xpack.upgradeAssistant.overviewTab.steps.clusterStep.noIssuesRemainingStepTitle",defaultMessage:"Your cluster settings are ready"}),status:countByType.cluster?"warning":"complete",children:react_1.default.createElement(eui_1.EuiText,null,countByType.cluster?react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement("p",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.overviewTab.steps.clusterStep.todo.todoDetail",defaultMessage:"Go to the {clusterTabButton} to update the deprecated settings.",values:{clusterTabButton:react_1.default.createElement(eui_1.EuiLink,{onClick:function onClick(){return setSelectedTabIndex(1)}},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.overviewTab.steps.clusterStep.todo.clusterTabButtonLabel",defaultMessage:"Cluster tab"}))}})),react_1.default.createElement("p",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.overviewTab.steps.clusterStep.remainingIssuesDetail",defaultMessage:"{numIssues} issues must be resolved.",values:{numIssues:react_1.default.createElement(eui_1.EuiNotificationBadge,null,countByType.cluster)}}))):react_1.default.createElement("p",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.overviewTab.steps.clusterStep.noRemainingIssuesLabel",defaultMessage:"No remaining deprecated settings."})))},{title:countByType.indices?intl.formatMessage({id:"xpack.upgradeAssistant.overviewTab.steps.indicesStep.issuesRemainingStepTitle",defaultMessage:"Check for issues with your indices"}):intl.formatMessage({id:"xpack.upgradeAssistant.overviewTab.steps.indicesStep.noIssuesRemainingStepTitle",defaultMessage:"Your index settings are ready"}),status:countByType.indices?"warning":"complete",children:react_1.default.createElement(eui_1.EuiText,null,countByType.indices?react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement("p",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.overviewTab.steps.indicesStep.todo.todoDetail",defaultMessage:"Go to the {indicesTabButton} to update the deprecated settings.",values:{indicesTabButton:react_1.default.createElement(eui_1.EuiLink,{onClick:function onClick(){return setSelectedTabIndex(2)}},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.overviewTab.steps.indicesStep.todo.indicesTabButtonLabel",defaultMessage:"Indices tab"}))}})),react_1.default.createElement("p",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.overviewTab.steps.indicesStep.remainingIssuesDetail",defaultMessage:"{numIssues} issues must be resolved.",values:{numIssues:react_1.default.createElement(eui_1.EuiNotificationBadge,null,countByType.indices)}}))):react_1.default.createElement("p",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.overviewTab.steps.indicesStep.noRemainingIssuesLabel",defaultMessage:"No remaining deprecated settings."})))},{title:intl.formatMessage({id:"xpack.upgradeAssistant.overviewTab.steps.deprecationLogsStep.stepTitle",defaultMessage:"Review the Elasticsearch deprecation logs"}),children:react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiText,{grow:false},react_1.default.createElement("p",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.overviewTab.steps.deprecationLogsStep.deprecationLogs.logsDetail",defaultMessage:"Read the {deprecationLogsDocButton} to see if your applications\n                      are using functionality that is not available in {nextEsVersion}. You may need to enable deprecation logging.",values:{deprecationLogsDocButton:react_1.default.createElement(eui_1.EuiLink,{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/logging.html#deprecation-logging",target:"_blank"},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.upgradeAssistant.overviewTab.steps.deprecationLogsStep.deprecationLogs.deprecationLogsDocButtonLabel",defaultMessage:"deprecation logs"})),nextEsVersion:version_1.NEXT_MAJOR_VERSION+".0"}}))),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiFormRow,{label:intl.formatMessage({id:"xpack.upgradeAssistant.overviewTab.steps.deprecationLogsStep.enableDeprecationLoggingLabel",defaultMessage:"Enable deprecation logging?"}),describedByIds:["deprecation-logging"]},react_1.default.createElement(deprecation_logging_toggle_1.DeprecationLoggingToggle,null)))},WAIT_FOR_RELEASE_STEP]})};exports.Steps=react_2.injectI18n(exports.StepsUI)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var axios_1=tslib_1.__importDefault(__webpack_require__(506));var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(2);var react_2=__webpack_require__(3);var chrome_1=tslib_1.__importDefault(__webpack_require__(8));var types_1=__webpack_require__(287);var DeprecationLoggingToggleUI=function(_react_1$default$Comp){_inherits(DeprecationLoggingToggleUI,_react_1$default$Comp);function DeprecationLoggingToggleUI(props){var _this2=this;_classCallCheck(this,DeprecationLoggingToggleUI);var _this=_possibleConstructorReturn(this,(DeprecationLoggingToggleUI.__proto__||Object.getPrototypeOf(DeprecationLoggingToggleUI)).call(this,props));_this.loadData=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var resp;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_this.setState({loadingState:types_1.LoadingState.Loading});_context.next=4;return axios_1.default.get(chrome_1.default.addBasePath("/api/upgrade_assistant/deprecation_logging"));case 4:resp=_context.sent;_this.setState({loadingState:types_1.LoadingState.Success,loggingEnabled:resp.data.isEnabled});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);_this.setState({loadingState:types_1.LoadingState.Error});case 11:case"end":return _context.stop()}}},_callee,_this2,[[0,8]])}));_this.toggleLogging=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var newEnabled,resp;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;newEnabled=!_this.state.loggingEnabled;_this.setState({loadingState:types_1.LoadingState.Loading,loggingEnabled:newEnabled});_context2.next=5;return axios_1.default.put(chrome_1.default.addBasePath("/api/upgrade_assistant/deprecation_logging"),{isEnabled:newEnabled},{headers:{"kbn-xsrf":chrome_1.default.getXsrfToken()}});case 5:resp=_context2.sent;_this.setState({loadingState:types_1.LoadingState.Success,loggingEnabled:resp.data.isEnabled});_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2["catch"](0);_this.setState({loadingState:types_1.LoadingState.Error});case 12:case"end":return _context2.stop()}}},_callee2,_this2,[[0,9]])}));_this.state={loadingState:types_1.LoadingState.Loading};return _this}_createClass(DeprecationLoggingToggleUI,[{key:"componentWillMount",value:function componentWillMount(){this.loadData()}},{key:"render",value:function render(){var _state=this.state,loggingEnabled=_state.loggingEnabled,loadingState=_state.loadingState;if(loadingState===types_1.LoadingState.Loading&&loggingEnabled===undefined){return react_1.default.createElement(eui_1.EuiLoadingSpinner,{size:"l"})}return react_1.default.createElement(eui_1.EuiSwitch,{"data-test-subj":"upgradeAssistantDeprecationToggle",label:this.renderLoggingState(),checked:loggingEnabled,onChange:this.toggleLogging,disabled:loadingState===types_1.LoadingState.Loading||loadingState===types_1.LoadingState.Error})}},{key:"renderLoggingState",value:function renderLoggingState(){var intl=this.props.intl;var _state2=this.state,loggingEnabled=_state2.loggingEnabled,loadingState=_state2.loadingState;if(loadingState===types_1.LoadingState.Error){return intl.formatMessage({id:"xpack.upgradeAssistant.overviewTab.steps.deprecationLogsStep.enableDeprecationLoggingToggleSwitch.errorLabel",defaultMessage:"Could not load logging state"})}else if(loggingEnabled){return intl.formatMessage({id:"xpack.upgradeAssistant.overviewTab.steps.deprecationLogsStep.enableDeprecationLoggingToggleSwitch.enabledLabel",defaultMessage:"On"})}else{return intl.formatMessage({id:"xpack.upgradeAssistant.overviewTab.steps.deprecationLogsStep.enableDeprecationLoggingToggleSwitch.disabledLabel",defaultMessage:"Off"})}}}]);return DeprecationLoggingToggleUI}(react_1.default.Component);exports.DeprecationLoggingToggleUI=DeprecationLoggingToggleUI;exports.DeprecationLoggingToggle=react_2.injectI18n(DeprecationLoggingToggleUI)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4390);__webpack_require__(4391)},function(module,exports,__webpack_require__){"use strict"},function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _testbed_route=__webpack_require__(4392);var _testbed_route2=_interopRequireDefault(_testbed_route);__webpack_require__(4393);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}_routes2.default.when("/management/elasticsearch/watches/testbed/:data?",{template:_testbed_route2.default,resolve:{data:function data($route){return $route.current.params.data}},controllerAs:"testbedRoute",controller:function TestbedRouteController($injector){_classCallCheck(this,TestbedRouteController);var $route=$injector.get("$route");this.data=$route.current.locals.data}})},function(module,exports){module.exports='<testbed data="testbedRoute.data"></testbed>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4394)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _testbed=__webpack_require__(4395);var _testbed2=_interopRequireDefault(_testbed);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("testbed",function(){return{restrict:"E",template:_testbed2.default,scope:{},bindToController:true,controllerAs:"testbed",controller:function TestbedController(){_classCallCheck(this,TestbedController)}}})},function(module,exports){module.exports='<div class="kuiViewContent">\n  <div class="kuiViewContentItem">\n\n    \x3c!-- All markup within the CONTENT section below can be deleted and replaced with whatever markup you need to   demonstrate your functionality. Nothing need be preserved. --\x3e\n    \x3c!-- CONTENT START --\x3e\n\n    \x3c!-- CONTENT END --\x3e\n\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4397)},function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);__webpack_require__(204);var _notify=__webpack_require__(10);var _watch_detail_route=__webpack_require__(4398);var _watch_detail_route2=_interopRequireDefault(_watch_detail_route);__webpack_require__(433);__webpack_require__(4446);var _constants=__webpack_require__(30);var _update_management_sections=__webpack_require__(794);__webpack_require__(288);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:id",{redirectTo:"/management/elasticsearch/watcher/watches/watch/:id/status"});_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:id/status",{template:_watch_detail_route2.default,resolve:{watchTabs:function watchTabs($injector){var $route=$injector.get("$route");var watchId=$route.current.params.id;(0,_update_management_sections.updateWatchSections)(watchId)},initialHistoryRange:function initialHistoryRange(){return _constants.WATCH_HISTORY.INITIAL_RANGE},watch:function watch($injector){var $route=$injector.get("$route");var watchService=$injector.get("xpackWatcherWatchService");var kbnUrl=$injector.get("kbnUrl");var watchId=$route.current.params.id;return watchService.loadWatch(watchId).catch(function(err){if(err.status!==403){_notify.toastNotifications.addDanger(err.data.message)}kbnUrl.redirect("/management/elasticsearch/watcher/watches");return Promise.reject()})},watchHistoryItems:function watchHistoryItems($injector){var $route=$injector.get("$route");var watchService=$injector.get("xpackWatcherWatchService");var kbnUrl=$injector.get("kbnUrl");var watchId=$route.current.params.id;return watchService.loadWatchHistory(watchId,_constants.WATCH_HISTORY.INITIAL_RANGE).catch(function(err){if(err.status!==403){_notify.toastNotifications.addDanger(err.data.message)}kbnUrl.redirect("/management/elasticsearch/watcher/watches");return Promise.reject()})},checkLicense:function checkLicense($injector){var licenseService=$injector.get("xpackWatcherLicenseService");return licenseService.checkValidity()}},controllerAs:"watchDetailRoute",controller:function WatchDetailRouteController($injector){_classCallCheck(this,WatchDetailRouteController);var $route=$injector.get("$route");this.initialHistoryRange=$route.current.locals.initialHistoryRange;this.watch=$route.current.locals.watch;this.watchHistoryItems=$route.current.locals.watchHistoryItems}})},function(module,exports){module.exports='<watch-detail\n  xpack-watch="watchDetailRoute.watch"\n  initial-history-range="watchDetailRoute.initialHistoryRange"\n  watch-history-items="watchDetailRoute.watchHistoryItems"\n></watch-detail>\n'},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _watch_service=__webpack_require__(4400);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherWatchService",function($injector){var $http=$injector.get("$http");return new _watch_service.WatchService($http)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchService=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _lodash=__webpack_require__(1);var _constants=__webpack_require__(30);var _execute_details=__webpack_require__(1330);var _watch=__webpack_require__(1331);var _watch_status=__webpack_require__(790);var _watch_history_item=__webpack_require__(1334);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var WatchService=exports.WatchService=function(){function WatchService($http){_classCallCheck(this,WatchService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(WatchService,[{key:"newWatch",value:function newWatch(){var watchType=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_constants.WATCH_TYPES.JSON;var WatchType=_watch.Watch.getWatchTypes()[watchType];return new WatchType}},{key:"loadWatch",value:function loadWatch(id){return this.$http.get(this.basePath+"/watch/"+id).then(function(response){return _watch.Watch.fromUpstreamJson(response.data.watch)})}},{key:"loadWatchHistory",value:function loadWatchHistory(watchId,startTime){var url=this.basePath+"/watch/"+watchId+"/history";if(startTime){url+="?startTime="+startTime}return this.$http.get(url).then(function(response){return response.data.watchHistoryItems}).then(function(watchHistoryItems){return watchHistoryItems.map(_watch_history_item.WatchHistoryItem.fromUpstreamJson)})}},{key:"saveWatch",value:function saveWatch(watchModel){var url=this.basePath+"/watch/"+watchModel.id;return this.$http.put(url,watchModel.upstreamJson).catch(function(e){throw e.data.message})}},{key:"deleteWatch",value:function deleteWatch(id){return this.$http.delete(this.basePath+"/watch/"+id).catch(function(e){throw e.data.message})}},{key:"deactivateWatch",value:function deactivateWatch(id){var url=this.basePath+"/watch/"+id+"/deactivate";return this.$http.put(url).then(function(response){return _watch_status.WatchStatus.fromUpstreamJson(response.data.watchStatus)}).catch(function(e){throw e.data.message})}},{key:"activateWatch",value:function activateWatch(id){var url=this.basePath+"/watch/"+id+"/activate";return this.$http.put(url).then(function(response){return _watch_status.WatchStatus.fromUpstreamJson(response.data.watchStatus)}).catch(function(e){throw e.data.message})}},{key:"acknowledgeWatchAction",value:function acknowledgeWatchAction(watchId,actionId){var url=this.basePath+"/watch/"+watchId+"/action/"+actionId+"/acknowledge";return this.$http.put(url).then(function(response){return _watch_status.WatchStatus.fromUpstreamJson(response.data.watchStatus)}).catch(function(e){throw e.data.message})}},{key:"executeWatch",value:function executeWatch(executeDetailsModel,watchModel){return this.$http.put(this.basePath+"/watch/execute",{executeDetails:executeDetailsModel.upstreamJson,watch:watchModel.upstreamJson}).then(function(response){return _watch_history_item.WatchHistoryItem.fromUpstreamJson(response.data.watchHistoryItem)}).catch(function(e){throw e.data.message})}},{key:"simulateWatchAction",value:function simulateWatchAction(watchModel,actionModel){var actionModes=(0,_lodash.reduce)(watchModel.actions,function(acc,action){acc[action.id]=action===actionModel?_constants.ACTION_MODES.FORCE_EXECUTE:_constants.ACTION_MODES.SKIP;return acc},{});var executeDetails=new _execute_details.ExecuteDetails({triggeredTime:"now",scheduledTime:"now",ignoreCondition:true,actionModes:actionModes,recordExecution:false});return this.executeWatch(executeDetails,watchModel)}},{key:"visualizeWatch",value:function visualizeWatch(watchModel,visualizeOptions){return this.$http.post(this.basePath+"/watch/visualize",{watch:watchModel.upstreamJson,options:visualizeOptions.upstreamJson}).then(function(response){return response.data}).catch(function(e){throw e.data.message})}}]);return WatchService}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ACTION_MODES=exports.ACTION_MODES={SIMULATE:"simulate",FORCE_SIMULATE:"force_simulate",EXECUTE:"execute",FORCE_EXECUTE:"force_execute",SKIP:"skip"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ACTION_STATES=undefined;var _i18n=__webpack_require__(9);var ACTION_STATES=exports.ACTION_STATES={OK:_i18n.i18n.translate("xpack.watcher.constants.actionStates.okStateText",{defaultMessage:"OK"}),ACKNOWLEDGED:_i18n.i18n.translate("xpack.watcher.constants.actionStates.acknowledgedStateText",{defaultMessage:"Acked"}),THROTTLED:_i18n.i18n.translate("xpack.watcher.constants.actionStates.throttledStateText",{defaultMessage:"Throttled"}),FIRING:_i18n.i18n.translate("xpack.watcher.constants.actionStates.firingStateText",{defaultMessage:"Firing"}),ERROR:_i18n.i18n.translate("xpack.watcher.constants.actionStates.errorStateText",{defaultMessage:"Error"}),CONFIG_ERROR:_i18n.i18n.translate("xpack.watcher.constants.actionStates.configErrorStateText",{defaultMessage:"Config error"})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ACTION_TYPES=exports.ACTION_TYPES={EMAIL:"email",WEBHOOK:"webhook",INDEX:"index",LOGGING:"logging",HIPCHAT:"hipchat",SLACK:"slack",JIRA:"jira",PAGERDUTY:"pagerduty",UNKNOWN:"unknown/invalid"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var AGG_TYPES=exports.AGG_TYPES={COUNT:"count",AVERAGE:"avg",SUM:"sum",MIN:"min",MAX:"max"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var COMPARATORS=exports.COMPARATORS={GREATER_THAN:">",LESS_THAN:"<"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ES_SCROLL_SETTINGS=exports.ES_SCROLL_SETTINGS={KEEPALIVE:"30s",PAGE_SIZE:100}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var INDEX_NAMES=exports.INDEX_NAMES={WATCHES:".watches",WATCHER_HISTORY:".watcher-history-*"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var LISTS=exports.LISTS={NEW_ITEMS_HIGHLIGHT_DURATION:1*1e3}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var PAGINATION=exports.PAGINATION={PAGE_SIZE:20}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var PLUGIN=exports.PLUGIN={ID:"watcher"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var SIXTY_SECONDS=60*1e3;var REFRESH_INTERVALS=exports.REFRESH_INTERVALS={WATCH_LIST:SIXTY_SECONDS,WATCH_HISTORY:SIXTY_SECONDS,WATCH_VISUALIZATION:SIXTY_SECONDS}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ROUTES=exports.ROUTES={API_ROOT:"/api/watcher"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var SORT_ORDERS=exports.SORT_ORDERS={ASCENDING:"asc",DESCENDING:"desc"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WATCH_STATE_COMMENTS=undefined;var _i18n=__webpack_require__(9);var WATCH_STATE_COMMENTS=exports.WATCH_STATE_COMMENTS={OK:"",PARTIALLY_THROTTLED:_i18n.i18n.translate("xpack.watcher.constants.watchStateComments.partiallyThrottledStateCommentText",{defaultMessage:"Partially Throttled"}),THROTTLED:_i18n.i18n.translate("xpack.watcher.constants.watchStateComments.throttledStateCommentText",{defaultMessage:"Throttled"}),PARTIALLY_ACKNOWLEDGED:_i18n.i18n.translate("xpack.watcher.constants.watchStateComments.partiallyAcknowledgedStateCommentText",{defaultMessage:"Partially Acked"}),ACKNOWLEDGED:_i18n.i18n.translate("xpack.watcher.constants.watchStateComments.acknowledgedStateCommentText",{defaultMessage:"Acked"}),FAILING:_i18n.i18n.translate("xpack.watcher.constants.watchStateComments.executionFailingStateCommentText",{defaultMessage:"Execution Failing"})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var WATCH_HISTORY=exports.WATCH_HISTORY={INITIAL_RANGE:"now-1h"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WATCH_STATES=undefined;var _i18n=__webpack_require__(9);var WATCH_STATES=exports.WATCH_STATES={DISABLED:_i18n.i18n.translate("xpack.watcher.constants.watchStates.disabledStateText",{defaultMessage:"Disabled"}),OK:_i18n.i18n.translate("xpack.watcher.constants.watchStates.okStateText",{defaultMessage:"OK"}),FIRING:_i18n.i18n.translate("xpack.watcher.constants.watchStates.firingStateText",{defaultMessage:"Firing"}),ERROR:_i18n.i18n.translate("xpack.watcher.constants.watchStates.errorStateText",{defaultMessage:"Error!"}),CONFIG_ERROR:_i18n.i18n.translate("xpack.watcher.constants.watchStates.configErrorStateText",{defaultMessage:"Config error"})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var WATCH_TYPES=exports.WATCH_TYPES={JSON:"json",THRESHOLD:"threshold",MONITORING:"monitoring"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ERROR_CODES=exports.ERROR_CODES={ERR_PROP_MISSING:"ERR_PROP_MISSING"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var ExecuteDetails=exports.ExecuteDetails=function(){function ExecuteDetails(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,ExecuteDetails);this.triggeredTime=props.triggeredTime;this.scheduledTime=props.scheduledTime;this.ignoreCondition=props.ignoreCondition;this.alternativeInput=props.alternativeInput;this.actionModes=props.actionModes;this.recordExecution=props.recordExecution}_createClass(ExecuteDetails,[{key:"upstreamJson",get:function get(){var triggerData={triggeredTime:this.triggeredTime,scheduledTime:this.scheduledTime};return{triggerData:triggerData,ignoreCondition:this.ignoreCondition,alternativeInput:this.alternativeInput,actionModes:this.actionModes,recordExecution:this.recordExecution}}}]);return ExecuteDetails}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Watch=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _constants=__webpack_require__(30);var _json_watch=__webpack_require__(4421);var _threshold_watch=__webpack_require__(4441);var _monitoring_watch=__webpack_require__(4444);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var WatchTypes={};(0,_lodash.set)(WatchTypes,_constants.WATCH_TYPES.JSON,_json_watch.JsonWatch);(0,_lodash.set)(WatchTypes,_constants.WATCH_TYPES.THRESHOLD,_threshold_watch.ThresholdWatch);(0,_lodash.set)(WatchTypes,_constants.WATCH_TYPES.MONITORING,_monitoring_watch.MonitoringWatch);var Watch=exports.Watch=function(){function Watch(){_classCallCheck(this,Watch)}_createClass(Watch,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatch){var type=(0,_lodash.get)(upstreamWatch,"type");var WatchType=WatchTypes[type];Object.assign(upstreamWatch,{isNew:false});return WatchType.fromUpstreamJson(upstreamWatch)}}]);return Watch}();Watch.getWatchTypes=function(){return WatchTypes}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JsonWatch=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _lodash=__webpack_require__(1);var _base_watch=__webpack_require__(789);var _constants=__webpack_require__(30);var _default_watch=__webpack_require__(5047);var _default_watch2=_interopRequireDefault(_default_watch);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var JsonWatch=exports.JsonWatch=function(_BaseWatch){_inherits(JsonWatch,_BaseWatch);function JsonWatch(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,JsonWatch);props.type=_constants.WATCH_TYPES.JSON;var _this=_possibleConstructorReturn(this,(JsonWatch.__proto__||Object.getPrototypeOf(JsonWatch)).call(this,props));_this.watch=(0,_lodash.get)(props,"watch",_default_watch2.default);return _this}_createClass(JsonWatch,[{key:"upstreamJson",get:function get(){var result=_get(JsonWatch.prototype.__proto__||Object.getPrototypeOf(JsonWatch.prototype),"upstreamJson",this);Object.assign(result,{watch:this.watch});return result}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatch){return new JsonWatch(upstreamWatch)}}]);return JsonWatch}(_base_watch.BaseWatch);JsonWatch.defaultWatchJson=_default_watch2.default;JsonWatch.typeName=_i18n.i18n.translate("xpack.watcher.models.jsonWatch.typeName",{defaultMessage:"Advanced Watch"});JsonWatch.iconClass="";JsonWatch.selectMessage=_i18n.i18n.translate("xpack.watcher.models.jsonWatch.selectMessageText",{defaultMessage:"Set up a custom watch in raw JSON."});JsonWatch.isCreatable=true;JsonWatch.selectSortOrder=100},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_search_value=__webpack_require__(4423);Object.defineProperty(exports,"getSearchValue",{enumerable:true,get:function get(){return _get_search_value.getSearchValue}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSearchValue=getSearchValue;var _lodash=__webpack_require__(1);function getSearchValue(obj,fields){return(0,_lodash.values)((0,_lodash.pick)(obj,fields)).join("\n")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Action=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _constants=__webpack_require__(30);var _email_action=__webpack_require__(4425);var _logging_action=__webpack_require__(4426);var _slack_action=__webpack_require__(4427);var _webhook=__webpack_require__(4428);var _unknown_action=__webpack_require__(4429);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var ActionTypes={};(0,_lodash.set)(ActionTypes,_constants.ACTION_TYPES.EMAIL,_email_action.EmailAction);(0,_lodash.set)(ActionTypes,_constants.ACTION_TYPES.LOGGING,_logging_action.LoggingAction);(0,_lodash.set)(ActionTypes,_constants.ACTION_TYPES.SLACK,_slack_action.SlackAction);(0,_lodash.set)(ActionTypes,_constants.ACTION_TYPES.WEBHOOK,_webhook.WebhookAction);var Action=exports.Action=function(){function Action(){_classCallCheck(this,Action)}_createClass(Action,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){var type=(0,_lodash.get)(upstreamAction,"type");var ActionType=ActionTypes[type]||_unknown_action.UnknownAction;return ActionType.fromUpstreamJson(upstreamAction)}}]);return Action}();Action.getActionTypes=function(){return ActionTypes}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EmailAction=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _lodash=__webpack_require__(1);var _base_action=__webpack_require__(434);var _i18n=__webpack_require__(9);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var EmailAction=exports.EmailAction=function(_BaseAction){_inherits(EmailAction,_BaseAction);function EmailAction(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,EmailAction);var _this=_possibleConstructorReturn(this,(EmailAction.__proto__||Object.getPrototypeOf(EmailAction)).call(this,props));var toArray=(0,_lodash.get)(props,"to",[]);_this.to=(0,_lodash.isArray)(toArray)?toArray:[toArray];_this.subject=(0,_lodash.get)(props,"subject","");_this.body=(0,_lodash.get)(props,"body","");return _this}_createClass(EmailAction,[{key:"upstreamJson",get:function get(){var result=_get(EmailAction.prototype.__proto__||Object.getPrototypeOf(EmailAction.prototype),"upstreamJson",this);Object.assign(result,{to:this.to,subject:this.subject,body:this.body,email:{to:this.to.length?this.to:undefined}});return result}},{key:"description",get:function get(){var toList=this.to.join(", ");var subject=this.subject||"";return _i18n.i18n.translate("xpack.watcher.models.emailAction.description",{defaultMessage:'"{subject}" will be sent to {toList}',values:{subject:subject,toList:toList}})}},{key:"simulateMessage",get:function get(){var toList=this.to.join(", ");return _i18n.i18n.translate("xpack.watcher.models.emailAction.simulateMessage",{defaultMessage:"Sample e-mail sent to {toList}",values:{toList:toList}})}},{key:"simulateFailMessage",get:function get(){var toList=this.to.join(", ");return _i18n.i18n.translate("xpack.watcher.models.emailAction.simulateFailMessage",{defaultMessage:"Failed to send e-mail to {toList}.",values:{toList:toList}})}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){return new EmailAction(upstreamAction)}}]);return EmailAction}(_base_action.BaseAction);EmailAction.typeName=_i18n.i18n.translate("xpack.watcher.models.emailAction.typeName",{defaultMessage:"E-mail"});EmailAction.iconClass="kuiIcon fa-envelope-o";EmailAction.template="<watch-email-action></watch-email-action>";EmailAction.selectMessage=_i18n.i18n.translate("xpack.watcher.models.emailAction.selectMessageText",{defaultMessage:"Send out an e-mail from your server."});EmailAction.simulatePrompt=_i18n.i18n.translate("xpack.watcher.models.emailAction.simulateButtonLabel",{defaultMessage:"Test fire an e-mail now"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LoggingAction=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _lodash=__webpack_require__(1);var _base_action=__webpack_require__(434);var _i18n=__webpack_require__(9);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var LoggingAction=exports.LoggingAction=function(_BaseAction){_inherits(LoggingAction,_BaseAction);function LoggingAction(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,LoggingAction);var _this=_possibleConstructorReturn(this,(LoggingAction.__proto__||Object.getPrototypeOf(LoggingAction)).call(this,props));_this.text=(0,_lodash.get)(props,"text","");return _this}_createClass(LoggingAction,[{key:"upstreamJson",get:function get(){var result=_get(LoggingAction.prototype.__proto__||Object.getPrototypeOf(LoggingAction.prototype),"upstreamJson",this);var text=!!this.text.trim()?this.text:undefined;Object.assign(result,{text:text,logging:{text:text}});return result}},{key:"description",get:function get(){var text=this.text||"";return _i18n.i18n.translate("xpack.watcher.models.loggingAction.description",{defaultMessage:"Log message '{text}'",values:{text:text}})}},{key:"simulateMessage",get:function get(){return _i18n.i18n.translate("xpack.watcher.models.loggingAction.simulateMessage",{defaultMessage:"Sample message logged"})}},{key:"simulateFailMessage",get:function get(){return _i18n.i18n.translate("xpack.watcher.models.loggingAction.simulateFailMessage",{defaultMessage:"Failed to log sample message."})}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){return new LoggingAction(upstreamAction)}}]);return LoggingAction}(_base_action.BaseAction);LoggingAction.typeName=_i18n.i18n.translate("xpack.watcher.models.loggingAction.typeName",{defaultMessage:"Logging"});LoggingAction.iconClass="kuiIcon fa-file-text-o";LoggingAction.selectMessage=_i18n.i18n.translate("xpack.watcher.models.loggingAction.selectMessageText",{defaultMessage:"Add a new item to the logs."});LoggingAction.template="<watch-logging-action></watch-logging-action>";LoggingAction.simulatePrompt=_i18n.i18n.translate("xpack.watcher.models.loggingAction.simulateButtonLabel",{defaultMessage:"Log a sample message now"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SlackAction=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _lodash=__webpack_require__(1);var _base_action=__webpack_require__(434);var _i18n=__webpack_require__(9);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SlackAction=exports.SlackAction=function(_BaseAction){_inherits(SlackAction,_BaseAction);function SlackAction(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,SlackAction);var _this=_possibleConstructorReturn(this,(SlackAction.__proto__||Object.getPrototypeOf(SlackAction)).call(this,props));var toArray=(0,_lodash.get)(props,"to",[]);_this.to=(0,_lodash.isArray)(toArray)?toArray:[toArray];_this.text=props.text;return _this}_createClass(SlackAction,[{key:"validate",value:function validate(){var errors=[];if(!this.to.length){errors.push({message:_i18n.i18n.translate("xpack.watcher.sections.watchEdit.json.warningPossibleInvalidSlackAction.description",{defaultMessage:'This watch has a Slack action without a "to" property.  This watch will only be valid if you specified the "to" property in the Slack "message_default" setting in Elasticsearch.'})})}return{errors:errors.length?errors:null}}},{key:"upstreamJson",get:function get(){var result=_get(SlackAction.prototype.__proto__||Object.getPrototypeOf(SlackAction.prototype),"upstreamJson",this);var message=this.text||this.to.length?{text:this.text,to:this.to.length?this.to:undefined}:undefined;Object.assign(result,{to:this.to,text:this.text,slack:{message:message}});return result}},{key:"description",get:function get(){var toList=this.to.join(", ");return _i18n.i18n.translate("xpack.watcher.models.slackAction.description",{defaultMessage:"Slack message will be sent to {toList}",values:{toList:toList}})}},{key:"simulateMessage",get:function get(){var toList=this.to.join(", ");return _i18n.i18n.translate("xpack.watcher.models.slackAction.simulateMessage",{defaultMessage:"Sample Slack message sent to {toList}.",values:{toList:toList}})}},{key:"simulateFailMessage",get:function get(){var toList=this.to.join(", ");return _i18n.i18n.translate("xpack.watcher.models.slackAction.simulateFailMessage",{defaultMessage:"Failed to send sample Slack message to {toList}.",values:{toList:toList}})}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){return new SlackAction(upstreamAction)}}]);return SlackAction}(_base_action.BaseAction);SlackAction.typeName=_i18n.i18n.translate("xpack.watcher.models.slackAction.TypeName",{defaultMessage:"Slack"});SlackAction.iconClass="kuiIcon fa-slack";SlackAction.template="<watch-slack-action></watch-slack-action>";SlackAction.selectMessage=_i18n.i18n.translate("xpack.watcher.models.slackAction.selectMessageText",{defaultMessage:"Send a message to a slack user or channel."});SlackAction.simulatePrompt=_i18n.i18n.translate("xpack.watcher.models.slackAction.simulateButtonLabel",{defaultMessage:"Send a sample message now"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WebhookAction=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _lodash=__webpack_require__(1);var _base_action=__webpack_require__(434);var _i18n=__webpack_require__(9);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var requiredFields=["host","port"];var optionalFields=["scheme","path","method","headers","params","auth","body","proxy","connection_timeout","read_timeout","url"];var allFields=[].concat(requiredFields,optionalFields);var WebhookAction=exports.WebhookAction=function(_BaseAction){_inherits(WebhookAction,_BaseAction);function WebhookAction(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,WebhookAction);var _this=_possibleConstructorReturn(this,(WebhookAction.__proto__||Object.getPrototypeOf(WebhookAction)).call(this,props));allFields.forEach(function(field){_this[field]=(0,_lodash.get)(props,field)});_this.fullPath=_this.url?_this.url:_this.host+_this.port+_this.path;return _this}_createClass(WebhookAction,[{key:"upstreamJson",get:function get(){var _this2=this;var result=requiredFields.reduce(function(acc,field){acc[field]=_this2[field];return acc},_get(WebhookAction.prototype.__proto__||Object.getPrototypeOf(WebhookAction.prototype),"upstreamJson",this));result=optionalFields.reduce(function(acc,field){if(_this2[field]){acc[field]=_this2[field]}return acc},result);return result}},{key:"description",get:function get(){return _i18n.i18n.translate("xpack.watcher.models.webhookAction.description",{defaultMessage:"Webhook will trigger a {method} request on {fullPath}",values:{method:this.method,fullPath:this.fullPath}})}},{key:"simulateMessage",get:function get(){return _i18n.i18n.translate("xpack.watcher.models.webhookAction.simulateMessage",{defaultMessage:"Sample request sent to {fullPath}",values:{fullPath:this.fullPath}})}},{key:"simulateFailMessage",get:function get(){return _i18n.i18n.translate("xpack.watcher.models.webhookAction.simulateFailMessage",{defaultMessage:"Failed to send request to {fullPath}.",values:{fullPath:this.fullPath}})}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){return new WebhookAction(upstreamAction)}}]);return WebhookAction}(_base_action.BaseAction)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UnknownAction=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _lodash=__webpack_require__(1);var _base_action=__webpack_require__(434);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var UnknownAction=exports.UnknownAction=function(_BaseAction){_inherits(UnknownAction,_BaseAction);function UnknownAction(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,UnknownAction);var _this=_possibleConstructorReturn(this,(UnknownAction.__proto__||Object.getPrototypeOf(UnknownAction)).call(this,props));_this.actionJson=(0,_lodash.get)(props,"actionJson");return _this}_createClass(UnknownAction,[{key:"upstreamJson",get:function get(){var result=_get(UnknownAction.prototype.__proto__||Object.getPrototypeOf(UnknownAction.prototype),"upstreamJson",this);Object.assign(result,{actionJson:this.actionJson});return result}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){return new UnknownAction(upstreamAction)}}]);return UnknownAction}(_base_action.BaseAction)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchStatus=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _get_moment=__webpack_require__(791);var _action_status=__webpack_require__(4432);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var WatchStatus=exports.WatchStatus=function(){function WatchStatus(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,WatchStatus);this.id=(0,_lodash.get)(props,"id");this.state=(0,_lodash.get)(props,"state");this.comment=(0,_lodash.get)(props,"comment");this.isActive=(0,_lodash.get)(props,"isActive");this.lastFired=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastFired"));this.lastChecked=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastChecked"));this.lastMetCondition=(0,_get_moment.getMoment)(this.lastMetCondition);if(this.lastFired){this.lastFiredHumanized=this.lastFired.fromNow()}if(this.lastChecked){this.lastCheckedHumanized=this.lastChecked.fromNow()}var actionStatuses=(0,_lodash.get)(props,"actionStatuses",[]);this.actionStatuses=actionStatuses.map(function(actionStatus){return _action_status.ActionStatus.fromUpstreamJson(actionStatus)})}_createClass(WatchStatus,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatchStatus){return new WatchStatus(upstreamWatchStatus)}}]);return WatchStatus}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMoment=getMoment;var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getMoment(date){if(!date){return null}return(0,_moment2.default)(date)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _action_status=__webpack_require__(4433);Object.defineProperty(exports,"ActionStatus",{enumerable:true,get:function get(){return _action_status.ActionStatus}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActionStatus=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _get_moment=__webpack_require__(791);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var ActionStatus=exports.ActionStatus=function(){function ActionStatus(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,ActionStatus);this.id=(0,_lodash.get)(props,"id");this.state=(0,_lodash.get)(props,"state");this.isAckable=(0,_lodash.get)(props,"isAckable");this.lastAcknowledged=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastAcknowledged"));this.lastThrottled=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastThrottled"));this.lastExecution=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastExecution"));this.lastExecutionSuccessful=(0,_lodash.get)(props,"lastExecutionSuccessful");this.lastExecutionReason=(0,_lodash.get)(props,"lastExecutionReason");this.lastSuccessfulExecution=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastSuccessfulExecution"));if(this.lastAcknowledged){this.lastAcknowledgedHumanized=this.lastAcknowledged.fromNow()}if(this.lastExecution){this.lastExecutionHumanized=this.lastExecution.fromNow()}if(this.lastThrottled){this.lastThrottledHumanized=this.lastThrottled.fromNow()}}_createClass(ActionStatus,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamActionStatus){return new ActionStatus(upstreamActionStatus)}}]);return ActionStatus}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _watch_errors=__webpack_require__(4435);Object.defineProperty(exports,"WatchErrors",{enumerable:true,get:function get(){return _watch_errors.WatchErrors}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchErrors=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var WatchErrors=exports.WatchErrors=function(){function WatchErrors(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,WatchErrors);this.actionErrors=(0,_lodash.get)(props,"actions")}_createClass(WatchErrors,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatchErrors){return new WatchErrors(upstreamWatchErrors)}}]);return WatchErrors}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _create_action_id=__webpack_require__(4437);Object.defineProperty(exports,"createActionId",{enumerable:true,get:function get(){return _create_action_id.createActionId}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createActionId=createActionId;function createActionId(actions,type){var existingIds=actions.map(function(action){return action.id});var nextValidIncrement=1;var nextValidId=undefined;while(nextValidId===undefined){var proposedId=type+"_"+nextValidIncrement;if(!existingIds.includes(proposedId)){nextValidId=proposedId}else{nextValidIncrement++}}return nextValidId}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _check_action_id_collision=__webpack_require__(4439);Object.defineProperty(exports,"checkActionIdCollision",{enumerable:true,get:function get(){return _check_action_id_collision.checkActionIdCollision}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checkActionIdCollision=checkActionIdCollision;var _lodash=__webpack_require__(1);function checkActionIdCollision(actions,action){var collision=(0,_lodash.find)(actions,{id:action.id});return Boolean(collision)}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ThresholdWatch=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _base_watch=__webpack_require__(789);var _uuid=__webpack_require__(64);var _uuid2=_interopRequireDefault(_uuid);var _constants=__webpack_require__(30);var _get_time_units_label=__webpack_require__(1333);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DEFAULT_VALUES={AGG_TYPE:"count",TERM_SIZE:5,THRESHOLD_COMPARATOR:_constants.COMPARATORS.GREATER_THAN,TIME_WINDOW_SIZE:5,TIME_WINDOW_UNIT:"m",TRIGGER_INTERVAL_SIZE:1,TRIGGER_INTERVAL_UNIT:"m",THRESHOLD:1e3};var ThresholdWatch=exports.ThresholdWatch=function(_BaseWatch){_inherits(ThresholdWatch,_BaseWatch);function ThresholdWatch(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,ThresholdWatch);props.id=props.id||_uuid2.default.v4();props.type=_constants.WATCH_TYPES.THRESHOLD;var _this=_possibleConstructorReturn(this,(ThresholdWatch.__proto__||Object.getPrototypeOf(ThresholdWatch)).call(this,props));_this.index=props.index;_this.timeField=props.timeField;_this.triggerIntervalSize=props.triggerIntervalSize||DEFAULT_VALUES.TRIGGER_INTERVAL_SIZE;_this.triggerIntervalUnit=props.triggerIntervalUnit||DEFAULT_VALUES.TRIGGER_INTERVAL_UNIT;_this.aggType=props.aggType||DEFAULT_VALUES.AGG_TYPE;_this.aggField=props.aggField;_this.termSize=props.termSize||DEFAULT_VALUES.TERM_SIZE;_this.termField=props.termField;_this.thresholdComparator=props.thresholdComparator||DEFAULT_VALUES.THRESHOLD_COMPARATOR;_this.timeWindowSize=props.timeWindowSize||DEFAULT_VALUES.TIME_WINDOW_SIZE;_this.timeWindowUnit=props.timeWindowUnit||DEFAULT_VALUES.TIME_WINDOW_UNIT;_this.threshold=props.threshold||DEFAULT_VALUES.THRESHOLD;return _this}_createClass(ThresholdWatch,[{key:"hasTermsAgg",get:function get(){return Boolean(this.termField)}},{key:"termOrder",get:function get(){return this.thresholdComparator===_constants.COMPARATORS.GREATER_THAN?_constants.SORT_ORDERS.DESCENDING:_constants.SORT_ORDERS.ASCENDING}},{key:"titleDescription",get:function get(){var staticPart=_i18n.i18n.translate("xpack.watcher.models.thresholdWatch.sendAlertOnSpecificConditionTitleDescription",{defaultMessage:"Send an alert when a specific condition is met."});if(isNaN(this.triggerIntervalSize)){return staticPart}var timeUnitLabel=(0,_get_time_units_label.getTimeUnitsLabel)(this.triggerIntervalUnit,this.triggerIntervalSize);var dynamicPartText=_i18n.i18n.translate("xpack.watcher.models.thresholdWatch.thresholdWatchIntervalTitleDescription",{defaultMessage:"This will run every {triggerIntervalSize} {timeUnitLabel}.",values:{triggerIntervalSize:this.triggerIntervalSize,timeUnitLabel:timeUnitLabel}});return staticPart+" "+dynamicPartText}},{key:"upstreamJson",get:function get(){var result=_get(ThresholdWatch.prototype.__proto__||Object.getPrototypeOf(ThresholdWatch.prototype),"upstreamJson",this);Object.assign(result,{index:this.index,timeField:this.timeField,triggerIntervalSize:this.triggerIntervalSize,triggerIntervalUnit:this.triggerIntervalUnit,aggType:this.aggType,aggField:this.aggField,termSize:this.termSize,termField:this.termField,thresholdComparator:this.thresholdComparator,timeWindowSize:this.timeWindowSize,timeWindowUnit:this.timeWindowUnit,threshold:this.threshold});return result}},{key:"DEFAULT_VALUES",get:function get(){return DEFAULT_VALUES}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatch){return new ThresholdWatch(upstreamWatch)}}]);return ThresholdWatch}(_base_watch.BaseWatch);ThresholdWatch.typeName=_i18n.i18n.translate("xpack.watcher.models.thresholdWatch.typeName",{defaultMessage:"Threshold Alert"});ThresholdWatch.iconClass="";ThresholdWatch.selectMessage=_i18n.i18n.translate("xpack.watcher.models.thresholdWatch.selectMessageText",{defaultMessage:"Send an alert on a specific condition"});ThresholdWatch.isCreatable=true;ThresholdWatch.selectSortOrder=1},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTimeUnitsLabel=undefined;var _constants=__webpack_require__(792);var getTimeUnitsLabel=exports.getTimeUnitsLabel=function getTimeUnitsLabel(unit,size){var timeUnit=_constants.TIME_UNITS[unit];return size===1?timeUnit.labelSingular:timeUnit.labelPlural}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TIME_UNITS=undefined;var _TIME_UNITS;var _time_units=__webpack_require__(1329);var _i18n=__webpack_require__(9);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TIME_UNITS=exports.TIME_UNITS=(_TIME_UNITS={},_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.SECOND,{labelPlural:_i18n.i18n.translate("xpack.watcher.timeUnits.secondPluralLabel",{defaultMessage:"seconds"}),labelSingular:_i18n.i18n.translate("xpack.watcher.timeUnits.secondSingularLabel",{defaultMessage:"second"})}),_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.MINUTE,{labelPlural:_i18n.i18n.translate("xpack.watcher.timeUnits.minutePluralLabel",{defaultMessage:"minutes"}),labelSingular:_i18n.i18n.translate("xpack.watcher.timeUnits.minuteSingularLabel",{defaultMessage:"minute"})}),_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.HOUR,{labelPlural:_i18n.i18n.translate("xpack.watcher.timeUnits.hourPluralLabel",{defaultMessage:"hours"}),labelSingular:_i18n.i18n.translate("xpack.watcher.timeUnits.hourSingularLabel",{defaultMessage:"hour"})}),_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.DAY,{labelPlural:_i18n.i18n.translate("xpack.watcher.timeUnits.dayPluralLabel",{defaultMessage:"days"}),labelSingular:_i18n.i18n.translate("xpack.watcher.timeUnits.daySingularLabel",{defaultMessage:"day"})}),_TIME_UNITS)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringWatch=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _base_watch=__webpack_require__(789);var _constants=__webpack_require__(30);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MonitoringWatch=exports.MonitoringWatch=function(_BaseWatch){_inherits(MonitoringWatch,_BaseWatch);function MonitoringWatch(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,MonitoringWatch);props.type=_constants.WATCH_TYPES.MONITORING;return _possibleConstructorReturn(this,(MonitoringWatch.__proto__||Object.getPrototypeOf(MonitoringWatch)).call(this,props))}_createClass(MonitoringWatch,[{key:"upstreamJson",get:function get(){var result=_get(MonitoringWatch.prototype.__proto__||Object.getPrototypeOf(MonitoringWatch.prototype),"upstreamJson",this);Object.assign(result,{watch:this.watch});return result}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatch){return new MonitoringWatch(upstreamWatch)}}]);return MonitoringWatch}(_base_watch.BaseWatch);MonitoringWatch.isCreatable=false},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchHistoryItem=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();__webpack_require__(487);var _lodash=__webpack_require__(1);var _get_moment=__webpack_require__(791);var _watch_status=__webpack_require__(790);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var WatchHistoryItem=exports.WatchHistoryItem=function(){function WatchHistoryItem(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,WatchHistoryItem);this.id=props.id;this.watchId=props.watchId;this.details=props.details;this.startTime=(0,_get_moment.getMoment)(props.startTime);this.watchStatus=_watch_status.WatchStatus.fromUpstreamJson((0,_lodash.get)(props,"watchStatus"))}_createClass(WatchHistoryItem,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamHistory){return new WatchHistoryItem(upstreamHistory)}}]);return WatchHistoryItem}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4447)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(4);var _compat=__webpack_require__(68);var _momentTimezone=__webpack_require__(191);var _momentTimezone2=_interopRequireDefault(_momentTimezone);var _notify=__webpack_require__(10);__webpack_require__(379);__webpack_require__(204);__webpack_require__(793);__webpack_require__(1335);__webpack_require__(433);__webpack_require__(288);__webpack_require__(4454);var _watch_detail=__webpack_require__(4456);var _watch_detail2=_interopRequireDefault(_watch_detail);var _errors_display_modal=__webpack_require__(4457);var _errors_display_modal2=_interopRequireDefault(_errors_display_modal);__webpack_require__(4458);__webpack_require__(4469);var _constants=__webpack_require__(30);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchDetail",function($injector,i18n){var watchService=$injector.get("xpackWatcherWatchService");var licenseService=$injector.get("xpackWatcherLicenseService");var config=$injector.get("config");var kbnUrl=$injector.get("kbnUrl");var confirmModal=$injector.get("confirmModal");var $interval=$injector.get("$interval");var $filter=$injector.get("$filter");var orderBy=$filter("orderBy");var $modal=$injector.get("$modal");_momentTimezone2.default.tz.setDefault(config.get("dateFormat:tz"));return{restrict:"E",template:_watch_detail2.default,scope:{watch:"=xpackWatch",initialHistoryRange:"=",watchHistoryItems:"="},bindToController:true,controllerAs:"watchDetail",controller:function(_InitAfterBindingsWor){_inherits(WatchDetailController,_InitAfterBindingsWor);function WatchDetailController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,WatchDetailController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=WatchDetailController.__proto__||Object.getPrototypeOf(WatchDetailController)).call.apply(_ref,[this].concat(args))),_this),_this.loadWatchHistory=function(){return watchService.loadWatchHistory(_this.watch.id,_this.historyRange).then(function(watchHistoryItems){_this.isHistoryLoading=false;_this.watchHistoryItems=watchHistoryItems}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onHistoryRangeChange=function(range){_this.historyRange=range;_this.isHistoryLoading=true;return _this.loadWatchHistory()},_this.onActionSortChange=function(field,reverse){_this.actionStatusTableSortField=field;_this.actionStatusTableSortReverse=reverse},_this.applySortToActionStatusTable=function(){_this.sortedActionStatuses=orderBy(_this.watch.watchStatus.actionStatuses,_this.actionStatusTableSortField,_this.actionStatusTableSortReverse)},_this.onActionAcknowledge=function(actionStatus){return watchService.acknowledgeWatchAction(_this.watch.id,actionStatus.id).then(function(watchStatus){_this.watch.updateWatchStatus(watchStatus);_this.applySortToActionStatusTable()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.showErrors=function(actionId,errors){var errorsModal=$modal.open({template:_errors_display_modal2.default,controller:"WatcherErrorsDisplayController",controllerAs:"vm",backdrop:"static",keyboard:true,ariaLabelledBy:"watcher__error-display-modal-title",resolve:{params:function params(){return{title:i18n("xpack.watcher.sections.watchDetail.errorDisplayModalTitleText",{defaultMessage:'Errors in the "{actionId}" action',values:{actionId:actionId}}),errors:errors}}}});errorsModal.result.catch(function(){})},_this.onWatchDeactivate=function(){return watchService.deactivateWatch(_this.watch.id).then(function(watchStatus){_this.watch.updateWatchStatus(watchStatus)}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onWatchActivate=function(){return watchService.activateWatch(_this.watch.id).then(function(watchStatus){_this.watch.updateWatchStatus(watchStatus)}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onWatchDelete=function(){var confirmModalOptions={confirmButtonText:i18n("xpack.watcher.sections.watchDetail.deleteConfirmModal.deleteWatchButtonLabel",{defaultMessage:"Delete Watch"}),onConfirm:_this.deleteWatch};return confirmModal(i18n("xpack.watcher.sections.watchDetail.deleteConfirmModal.description",{defaultMessage:"This will permanently delete the watch. Are you sure?"}),confirmModalOptions)},_this.deleteWatch=function(){return watchService.deleteWatch(_this.watch.id).then(function(){_notify.toastNotifications.addSuccess(i18n("xpack.watcher.sections.watchDetail.deleteWatchSuccessNotificationText",{defaultMessage:"Deleted {watchName}",values:{watchName:_this.watch.displayName}}));_this.close()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.close=function(){kbnUrl.change("/management/elasticsearch/watcher/watches",{})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(WatchDetailController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.isHistoryLoading=false;this.historyRange=this.initialHistoryRange;this.actionStatusTableSortField="id";this.actionStatusTableSortReverse=false;this.actionErrors=this.watch.watchErrors&&this.watch.watchErrors.actionErrors||null;this.omitBreadcrumbPages=["watch",this.watch.id];this.breadcrumb=this.watch.displayName;var refreshInterval=$interval(function(){return _this2.loadWatchHistory()},_constants.REFRESH_INTERVALS.WATCH_HISTORY);$scope.$on("$destroy",function(){return $interval.cancel(refreshInterval)});$scope.$watchMulti(["watchDetail.actionStatusTableSortField","watchDetail.actionStatusTableSortReverse"],this.applySortToActionStatusTable)}},{key:"hasActionStatusTableActions",get:function get(){return this.sortedActionStatuses.length>0}}]);return WatchDetailController}(_compat.InitAfterBindingsWorkaround)}})},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _table_info=__webpack_require__(4449);var _table_info2=_interopRequireDefault(_table_info);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("kibana");app.directive("tableInfo",function(){return{restrict:"E",replace:true,template:_table_info2.default,transclude:true,controllerAs:"tableInfo",bindToController:true,controller:function TableInfoController(){_classCallCheck(this,TableInfoController)}}})},function(module,exports){module.exports='<div class="kuiPanel kuiPanel--centered kuiPanel--withToolBar">\n  <div\n    class="kuiTableInfo"\n    ng-transclude\n  ></div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _tool_bar_selected_count=__webpack_require__(4451);var _tool_bar_selected_count2=_interopRequireDefault(_tool_bar_selected_count);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("toolBarSelectedCount",function(){return{restrict:"E",replace:true,template:_tool_bar_selected_count2.default,scope:{count:"=",singularName:"@",pluralName:"@"},controllerAs:"toolBarSelectedCount",bindToController:true,controller:function ToolBarSelectedCountController(){_classCallCheck(this,ToolBarSelectedCountController)}}})},function(module,exports){module.exports="<div class=\"kuiToolBarText\">\n    {{ toolBarSelectedCount.count }} {{ toolBarSelectedCount.count === 1 ? toolBarSelectedCount.singularName : toolBarSelectedCount.pluralName}}\n    {{ 'xpack.watcher.toolBarSelectedCountText' | i18n: { defaultMessage: 'selected' } }}\n</div>\n"},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _xpack_info=__webpack_require__(46);__webpack_require__(204);var _license_service=__webpack_require__(4453);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherLicenseService",function($injector){var $http=$injector.get("$http");var Private=$injector.get("Private");var xpackInfoService=Private(_xpack_info.XPackInfoProvider);var kbnUrlService=$injector.get("kbnUrl");var $timeout=$injector.get("$timeout");return new _license_service.LicenseService(xpackInfoService,kbnUrlService,$timeout,$http)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseService=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _notify=__webpack_require__(10);var _markdown=__webpack_require__(323);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(30);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var LicenseService=exports.LicenseService=function(){function LicenseService(xpackInfoService,kbnUrlService,$timeout,$http){_classCallCheck(this,LicenseService);this.$http=$http;this.xpackInfoService=xpackInfoService;this.kbnUrlService=kbnUrlService;this.$timeout=$timeout;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(LicenseService,[{key:"notifyAndRedirect",value:function notifyAndRedirect(){_notify.toastNotifications.addDanger({title:_react2.default.createElement(_markdown.MarkdownSimple,null,this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message"))});this.kbnUrlService.redirect("/management")}},{key:"checkValidity",value:function checkValidity(){var _this=this;return new Promise(function(resolve,reject){_this.$timeout(function(){if(_this.isAvailable){return resolve()}_this.notifyAndRedirect();return reject()},10)})}},{key:"refreshLicense",value:function refreshLicense(){return this.$http.get(this.basePath+"/license/refresh").then(function(response){return response.data.success})}},{key:"showLinks",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".showLinks"))}},{key:"enableLinks",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".enableLinks"))}},{key:"isAvailable",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".isAvailable"))}},{key:"message",get:function get(){return this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message")}}]);return LicenseService}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4455)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var app=_modules.uiModules.get("xpack/watcher");app.controller("WatcherErrorsDisplayController",function WatcherErrorsDisplayController($scope,$modalInstance,params){this.title=params.title;this.errors=params.errors;this.close=function close(){$modalInstance.close()}})},function(module,exports){module.exports='<kbn-management-app\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ watchDetail.omitBreadcrumbPages }}"\n  page-title="watchDetail.breadcrumb"\n>\n  <div class="kuiViewContent kuiViewContent--constrainedWidth">\n    \x3c!-- Header and buttons --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <div class="kuiBar">\n\n        \x3c!-- Watch Details --\x3e\n        <div class="kuiBarSection">\n          <h1\n            class="kuiTitle"\n            i18n-id="xpack.watcher.sections.watchDetail.currentStatusTitle"\n            i18n-default-message="Current Status"\n          ></h1>\n        </div>\n\n        <div class="kuiBarSection">\n          <div class="kuiButtonGroup">\n            <button\n              ng-if="watchDetail.watch.watchStatus.isActive"\n              ng-click="watchDetail.onWatchDeactivate()"\n              class="kuiButton kuiButton--basic"\n              data-test-subj="btnDeactivateWatch"\n              i18n-id="xpack.watcher.sections.watchDetail.deactivateButtonLabel"\n              i18n-default-message="Deactivate"\n            ></button>\n            <button\n              ng-if="!watchDetail.watch.watchStatus.isActive"\n              ng-click="watchDetail.onWatchActivate()"\n              class="kuiButton kuiButton--basic"\n              data-test-subj="btnActivateWatch"\n              i18n-id="xpack.watcher.sections.watchDetail.activateButtonLabel"\n              i18n-default-message="Activate"\n            ></button>\n            <button\n              ng-click="watchDetail.onWatchDelete()"\n              class="kuiButton kuiButton--danger"\n              data-test-subj="btnDeleteWatch"\n              i18n-id="xpack.watcher.sections.watchDetail.deleteButtonLabel"\n              i18n-default-message="Delete"\n            ></button>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- End Watch Details --\x3e\n\n    \x3c!-- Watch action status --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      \x3c!-- Action status table --\x3e\n      <action-status-table\n        action-statuses="watchDetail.sortedActionStatuses"\n        action-errors="watchDetail.actionErrors"\n        on-action-acknowledge="watchDetail.onActionAcknowledge"\n        sort-field="watchDetail.actionStatusTableSortField"\n        sort-reverse="watchDetail.actionStatusTableSortReverse"\n        on-sort-change="watchDetail.onActionSortChange"\n        show-errors="watchDetail.showErrors"\n      ></action-status-table>\n      <table-info ng-show="!watchDetail.hasActionStatusTableActions">\n        {{ \'xpack.watcher.sections.watchDetail.noActionsFoundText\' | i18n: { defaultMessage: \'No actions found.\' } }}\n      </table-info>\n    </div>\n\n    \x3c!-- Watch History --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <h1\n        class="kuiTitle"\n        i18n-id="xpack.watcher.sections.watchDetail.watchHistoryTitle"\n        i18n-default-message="Watch History"\n      ></h1>\n    </div>\n\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <watch-history\n        xpack-watch="watchDetail.watch"\n        history-items="watchDetail.watchHistoryItems"\n        initial-range="watchDetail.historyRange"\n        on-range-change="watchDetail.onHistoryRangeChange"\n        is-loading="watchDetail.isHistoryLoading"\n      ></watch-history>\n    </div>\n    \x3c!-- End Watch History --\x3e\n\n  </div>\n</kbn-management-app>\n'},function(module,exports){module.exports='<div class="kuiModal">\n    <div class="kuiModalHeader">\n        <h1 class="kuiModalHeader__title" id="watcher__error-display-modal-title">{{ vm.title }}</h1>\n    </div>\n    <div class="kuiModalBody">\n        <ul>\n            <li class="kuiVerticalRhythm" ng-repeat="error in vm.errors">{{ error.message }}</li>\n        </ul>\n    </div>\n    <div class="kuiModalFooter">\n        <button\n            ng-click="vm.close()"\n            class="kuiButton kuiButton--primary"\n            aria-label="close">\n              Close\n        </button>\n    </div>\n</div>'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4459)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();__webpack_require__(334);var _modules=__webpack_require__(4);__webpack_require__(491);__webpack_require__(414);__webpack_require__(793);var _compat=__webpack_require__(68);var _constants=__webpack_require__(30);var _watch_history=__webpack_require__(4460);var _watch_history2=_interopRequireDefault(_watch_history);__webpack_require__(4461);__webpack_require__(4466);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistory",function($injector){var pagerFactory=$injector.get("pagerFactory");var $filter=$injector.get("$filter");var orderBy=$filter("orderBy");var limitTo=$filter("limitTo");return{restrict:"E",replace:true,template:_watch_history2.default,scope:{watch:"=xpackWatch",historyItems:"=",initialRange:"=",onRangeChange:"=",isLoading:"="},bindToController:true,controllerAs:"watchHistory",controller:function(_InitAfterBindingsWor){_inherits(WatchHistoryController,_InitAfterBindingsWor);function WatchHistoryController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,WatchHistoryController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=WatchHistoryController.__proto__||Object.getPrototypeOf(WatchHistoryController)).call.apply(_ref,[this].concat(args))),_this),_this.onPageNext=function(){_this.pager.nextPage()},_this.onPagePrevious=function(){_this.pager.previousPage()},_this.onSortChange=function(field,reverse){_this.sortField=field;_this.sortReverse=reverse},_this.applyFilters=function(){var orderedHistoryItems=orderBy(_this.historyItems,_this.sortField,_this.sortReverse);_this.pageOfHistoryItems=limitTo(orderedHistoryItems,_this.pager.pageSize,_this.pager.startIndex);_this.pager.setTotalItems(orderedHistoryItems.length)},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(WatchHistoryController,[{key:"initAfterBindings",value:function initAfterBindings($scope){this.isLoading=false;this.sortField="startTime";this.sortReverse=true;this.pageOfHistoryItems=[];this.historyRange=this.initialRange;this.pager=pagerFactory.create(this.historyItems.length,_constants.PAGINATION.PAGE_SIZE,1);$scope.$watchMulti(["watchHistory.historyItems","watchHistory.sortField","watchHistory.sortReverse","watchHistory.pager.currentPage"],this.applyFilters)}},{key:"hasPageOfHistoryItems",get:function get(){return this.pageOfHistoryItems.length>0}}]);return WatchHistoryController}(_compat.InitAfterBindingsWorkaround)}})},function(module,exports){module.exports='<div class="kuiControlledTable">\n  \x3c!-- Toolbar with filters and pagination --\x3e\n  <div class="kuiToolBar">\n    <div class="kuiToolBarSearch">\n      \x3c!-- History range filter --\x3e\n      <watch-history-range-filter\n        history-range="watchHistory.historyRange"\n        on-range-change="watchHistory.onRangeChange"\n      ></watch-history-range-filter>\n    </div>\n\n    \x3c!-- Pagination --\x3e\n    <div class="kuiToolBarSection">\n      <tool-bar-pager-text\n        start-item="watchHistory.pager.startItem"\n        end-item="watchHistory.pager.endItem"\n        total-items="watchHistory.pager.totalItems"\n      ></tool-bar-pager-text>\n      <tool-bar-pager-buttons\n        has-previous-page="watchHistory.pager.hasPreviousPage"\n        has-next-page="watchHistory.pager.hasNextPage"\n        on-page-next="watchHistory.onPageNext"\n        on-page-previous="watchHistory.onPagePrevious"\n      ></tool-bar-pager-buttons>\n    </div>\n  </div>\n\n  \x3c!-- Watch history table --\x3e\n  <table-info ng-show="watchHistory.isLoading">\n    {{ \'xpack.watcher.sections.watchDetail.watchHistory.watchHistoryLoadingText\' | i18n: { defaultMessage: \'Loading watch history\' } }}&hellip;\n  </table-info>\n  <table-info ng-show="!watchHistory.isLoading && !watchHistory.hasPageOfHistoryItems">\n    {{ \'xpack.watcher.sections.watchDetail.watchHistory.watchHistoryNotFoundText\' | i18n: { defaultMessage: \'No watch history found.\' } }}\n  </table-info>\n  <watch-history-table\n    xpack-watch="watchHistory.watch"\n    history-items="watchHistory.pageOfHistoryItems"\n    ng-show="!watchHistory.isLoading && watchHistory.hasPageOfHistoryItems"\n    sort-field="watchHistory.sortField"\n    sort-reverse="watchHistory.sortReverse"\n    on-sort-change="watchHistory.onSortChange"\n  ></watch-history-table>\n\n  \x3c!-- Footer --\x3e\n  <div class="kuiToolBarFooter">\n    <div class="kuiToolBarFooterSection">\n      <tool-bar-pager-text\n        start-item="watchHistory.pager.startItem"\n        end-item="watchHistory.pager.endItem"\n        total-items="watchHistory.pager.totalItems"\n      ></tool-bar-pager-text>\n      <tool-bar-pager-buttons\n        has-previous-page="watchHistory.pager.hasPreviousPage"\n        has-next-page="watchHistory.pager.hasNextPage"\n        on-page-next="watchHistory.onPageNext"\n        on-page-previous="watchHistory.onPagePrevious"\n      ></tool-bar-pager-buttons>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4462)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(334);var _modules=__webpack_require__(4);var _watch_history_table=__webpack_require__(4463);var _watch_history_table2=_interopRequireDefault(_watch_history_table);__webpack_require__(545);var _lodash=__webpack_require__(1);var _constants=__webpack_require__(30);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryTable",function($injector){var $timeout=$injector.get("$timeout");return{restrict:"E",replace:true,template:_watch_history_table2.default,scope:{watch:"=xpackWatch",historyItems:"=",sortField:"=",sortReverse:"=",onSortChange:"="},bindToController:true,controllerAs:"watchHistoryTable",controller:function WatchHistoryTableController($scope){var _this=this;_classCallCheck(this,WatchHistoryTableController);$scope.$watch("watchHistoryTable.historyItems",function(historyItems){var previousItems=_this.items;var isInitialLoad=(0,_lodash.isEmpty)(previousItems);_this.items=historyItems.map(function(historyItem){var matchedItem=(0,_lodash.find)(previousItems,function(previousItem){return previousItem.historyItem.id===historyItem.id});var isNew=!isInitialLoad&&Boolean(!matchedItem);return{historyItem:historyItem,isNew:isNew}});$timeout(function(){_this.items.forEach(function(item){item.isNew=false})},_constants.LISTS.NEW_ITEMS_HIGHLIGHT_DURATION)})}}})},function(module,exports){module.exports='<table class="kuiTable">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="startTime"\n          on-sort-change="watchHistoryTable.onSortChange"\n          sort-field="watchHistoryTable.sortField"\n          sort-reverse="watchHistoryTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchDetail.watchHistoryTable.triggerTimeColumnLabel\' | i18n: { defaultMessage: \'Trigger Time\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.state"\n          on-sort-change="watchHistoryTable.onSortChange"\n          sort-field="watchHistoryTable.sortField"\n          sort-reverse="watchHistoryTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchDetail.watchHistoryTable.stateColumnLabel\' | i18n: { defaultMessage: \'State\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.comment"\n          on-sort-change="watchHistoryTable.onSortChange"\n          sort-field="watchHistoryTable.sortField"\n          sort-reverse="watchHistoryTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchDetail.watchHistoryTable.commentColumnLabel\' | i18n: { defaultMessage: \'Comment\' } }}\n        </sortable-column>\n      </th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr\n      ng-repeat="item in watchHistoryTable.items"\n      class="kuiTableRow"\n      ng-class="{ \'kuiTableRow-isNew\': item.isNew }"\n    >\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <a\n            title="View"\n            ng-href="#/management/elasticsearch/watcher/watches/watch/{{watchHistoryTable.watch.id}}/history-item/{{item.historyItem.id}}"\n            data-test-subj="lnkWatchHistoryItem"\n          >\n            {{ item.historyItem.startTime | moment }}\n          </a>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title={{item.historyItem.watchStatus.state}}>\n            <watch-state-icon watch-status="item.historyItem.watchStatus"></watch-state-icon>\n            {{ item.historyItem.watchStatus.state }}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title="{{item.historyItem.watchStatus.comment}}">\n            {{item.historyItem.watchStatus.comment}}\n          </span>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _watch_state_icon=__webpack_require__(4465);var _watch_state_icon2=_interopRequireDefault(_watch_state_icon);var _constants=__webpack_require__(30);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchStateIcon",function(){return{restrict:"E",replace:true,template:_watch_state_icon2.default,scope:{watchStatus:"="},bindToController:true,controllerAs:"watchStateIcon",controller:function WatchStateIconController(){_classCallCheck(this,WatchStateIconController);this.WATCH_STATES=_constants.WATCH_STATES}}})},function(module,exports){module.exports='<div class="kuiIcon">\n  <div\n    class="kuiIcon kuiIcon--success fa-ban"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.DISABLED"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--success fa-check"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.OK"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-bullhorn"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.FIRING"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--error fa-exclamation-triangle"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.ERROR || watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.CONFIG_ERROR"\n  ></div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4467)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(4);var _compat=__webpack_require__(68);var _watch_history_range_filter=__webpack_require__(4468);var _watch_history_range_filter2=_interopRequireDefault(_watch_history_range_filter);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryRangeFilter",function(){return{restrict:"E",replace:true,template:_watch_history_range_filter2.default,scope:{historyRange:"=",onRangeChange:"="},controllerAs:"watchHistoryRangeFilter",bindToController:true,controller:function(_InitAfterBindingsWor){_inherits(WatchHistoryRangeFilterController,_InitAfterBindingsWor);function WatchHistoryRangeFilterController(){_classCallCheck(this,WatchHistoryRangeFilterController);return _possibleConstructorReturn(this,(WatchHistoryRangeFilterController.__proto__||Object.getPrototypeOf(WatchHistoryRangeFilterController)).apply(this,arguments))}_createClass(WatchHistoryRangeFilterController,[{key:"initAfterBindings",value:function initAfterBindings(){this.range=this.historyRange}}]);return WatchHistoryRangeFilterController}(_compat.InitAfterBindingsWorkaround)}})},function(module,exports){module.exports='<select\n  ng-model="watchHistoryRangeFilter.range"\n  ng-change="watchHistoryRangeFilter.onRangeChange(watchHistoryRangeFilter.range)"\n  class="kuiSelect"\n>\n  <option\n    value="now-1h"\n    i18n-id="xpack.watcher.sections.watchDetail.watchHistoryRangeFilter.last1HourLabel"\n    i18n-default-message="Last 1 hour"\n  ></option>\n  <option\n    value="now-24h"\n    i18n-id="xpack.watcher.sections.watchDetail.watchHistoryRangeFilter.last24HoursLabel"\n    i18n-default-message="Last 24 hours"\n  ></option>\n  <option\n    value="now-7d"\n    i18n-id="xpack.watcher.sections.watchDetail.watchHistoryRangeFilter.last7DaysLabel"\n    i18n-default-message="Last 7 days"\n  ></option>\n  <option\n    value="now-30d"\n    i18n-id="xpack.watcher.sections.watchDetail.watchHistoryRangeFilter.last30DaysLabel"\n    i18n-default-message="Last 30 days"\n  ></option>\n  <option\n    value="now-6M"\n    i18n-id="xpack.watcher.sections.watchDetail.watchHistoryRangeFilter.last6MonthsLabel"\n    i18n-default-message="Last 6 months"\n  ></option>\n  <option\n    value="now-1y"\n    i18n-id="xpack.watcher.sections.watchDetail.watchHistoryRangeFilter.last1YearLabel"\n    i18n-default-message="Last 1 year"\n  ></option>\n  <option\n    value="all"\n    i18n-id="xpack.watcher.sections.watchDetail.watchHistoryRangeFilter.allLabel"\n    i18n-default-message="All"\n  ></option>\n</select>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4470)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(4);var _action_status_table=__webpack_require__(4471);var _action_status_table2=_interopRequireDefault(_action_status_table);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("actionStatusTable",function($injector,i18n){return{restrict:"E",replace:true,template:_action_status_table2.default,scope:{actionStatuses:"=",actionErrors:"=",sortField:"=",sortReverse:"=",onSortChange:"=",onActionAcknowledge:"=",showErrors:"="},bindToController:true,controllerAs:"actionStatusTable",controller:function(){function ActionStatusTableController(){_classCallCheck(this,ActionStatusTableController)}_createClass(ActionStatusTableController,[{key:"getLabelErrors",value:function getLabelErrors(actionId){var errors=this.actionErrors[actionId];var total=errors.length;var label=i18n("xpack.watcher.sections.watchDetail.actionStatusTotalErrors",{defaultMessage:"{total, number} {total, plural, one {error} other {errors}}",values:{total:total}});return label}}]);return ActionStatusTableController}()}})},function(module,exports){module.exports='<table class="kuiTable">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="id"\n          on-sort-change="actionStatusTable.onSortChange"\n          sort-field="actionStatusTable.sortField"\n          sort-reverse="actionStatusTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchDetail.actionStatusTable.actionColumnLabel\' | i18n: { defaultMessage: \'Action\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="state"\n          on-sort-change="actionStatusTable.onSortChange"\n          sort-field="actionStatusTable.sortField"\n          sort-reverse="actionStatusTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchDetail.actionStatusTable.stateColumnLabel\' | i18n: { defaultMessage: \'State\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell" ng-if="actionStatusTable.actionErrors">\n          <span class="kuiTableHeaderCell__liner">Errors</span>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n      </th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr ng-repeat="actionStatus in actionStatusTable.actionStatuses">\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          {{ actionStatus.id }}\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <action-state-icon action-status="actionStatus"></action-state-icon>\n          {{ actionStatus.state }}\n        </div>\n      </td>\n      <td class="kuiTableRowCell" ng-if="actionStatusTable.actionErrors">\n        <div class="kuiTableRowCell__liner">\n          <a\n            role="button"\n            ng-if="actionStatusTable.actionErrors[actionStatus.id]"\n            ng-click="actionStatusTable.showErrors(actionStatus.id, actionStatusTable.actionErrors[actionStatus.id])">{{actionStatusTable.getLabelErrors(actionStatus.id)}}</a>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <div class="kuiMenuButtonGroup kuiMenuButtonGroup--alignRight">\n            <button\n              class="kuiMenuButton kuiMenuButton--basic kuiMenuButton--iconText"\n              ng-click="actionStatusTable.onActionAcknowledge(actionStatus)"\n              title="{{ \'xpack.watcher.sections.watchDetail.actionStatusTable.acknowledgeButtonTitle\' | i18n: { defaultMessage: \'Acknowledge\' } }}"\n              ng-if="actionStatus.isAckable"\n              data-test-subj="btnActionAcknowledge-{{ actionStatus.id }}"\n            >\n              <span class="kuiMenuButton__icon kuiIcon fa-thumbs-up"></span>\n              <span\n                i18n-id="xpack.watcher.sections.watchDetail.actionStatusTable.acknowledgeButtonLabel"\n                i18n-default-message="Acknowledge"\n              ></span>\n            </button>\n          </div>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateWatchSections=updateWatchSections;var _management=__webpack_require__(24);function updateWatchSections(watchId){var statusSection=_management.management.getSection("elasticsearch/watcher/watch/status");var editSection=_management.management.getSection("elasticsearch/watcher/watch/edit");var newSection=_management.management.getSection("elasticsearch/watcher/watch/new");var historySection=_management.management.getSection("elasticsearch/watcher/watch/history-item");newSection.hide();statusSection.hide();editSection.hide();historySection.hide();if(watchId){statusSection.url="#/management/elasticsearch/watcher/watches/watch/"+watchId+"/status";editSection.url="#/management/elasticsearch/watcher/watches/watch/"+watchId+"/edit";statusSection.show();editSection.show()}else{newSection.show()}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateHistorySection=updateHistorySection;var _management=__webpack_require__(24);function updateHistorySection(display){var statusSection=_management.management.getSection("elasticsearch/watcher/watch/status");var editSection=_management.management.getSection("elasticsearch/watcher/watch/edit");var newSection=_management.management.getSection("elasticsearch/watcher/watch/new");var historySection=_management.management.getSection("elasticsearch/watcher/watch/history-item");newSection.hide();statusSection.hide();editSection.hide();historySection.show();historySection.display=display}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4475)},function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);__webpack_require__(204);var _notify=__webpack_require__(10);var _watch_edit_route=__webpack_require__(4476);var _watch_edit_route2=_interopRequireDefault(_watch_edit_route);__webpack_require__(433);__webpack_require__(4477);__webpack_require__(4528);var _constants=__webpack_require__(30);var _update_management_sections=__webpack_require__(794);__webpack_require__(288);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:id/edit").when("/management/elasticsearch/watcher/watches/new-watch/:watchType").defaults(/management\/elasticsearch\/watcher\/watches\/(new-watch\/:watchType|watch\/:id\/edit)/,{template:_watch_edit_route2.default,controller:function WatchEditRouteController($injector){_classCallCheck(this,WatchEditRouteController);var $route=$injector.get("$route");this.watch=$route.current.locals.xpackWatch;this.WATCH_TYPES=_constants.WATCH_TYPES},controllerAs:"watchEditRoute",resolve:{watchTabs:function watchTabs($injector){var $route=$injector.get("$route");var watchId=$route.current.params.id;(0,_update_management_sections.updateWatchSections)(watchId)},xpackWatch:function xpackWatch($injector){var $route=$injector.get("$route");var watchService=$injector.get("xpackWatcherWatchService");var licenseService=$injector.get("xpackWatcherLicenseService");var kbnUrl=$injector.get("kbnUrl");var watchId=$route.current.params.id;var watchType=$route.current.params.watchType;if(!watchId){return licenseService.refreshLicense().then(function(){return watchService.newWatch(watchType)}).catch(function(err){return licenseService.checkValidity().then(function(){if(err.status!==403){_notify.toastNotifications.addDanger(err.data.message)}kbnUrl.redirect("/management/elasticsearch/watcher/watches");return Promise.reject()})})}return watchService.loadWatch(watchId).catch(function(err){return licenseService.checkValidity().then(function(){if(err.status!==403){_notify.toastNotifications.addDanger(err.data.message)}kbnUrl.redirect("/management/elasticsearch/watcher/watches");return Promise.reject()})})},checkLicense:function checkLicense($injector){var licenseService=$injector.get("xpackWatcherLicenseService");return licenseService.checkValidity()}}})},function(module,exports){module.exports='<json-watch-edit\n  xpack-watch="watchEditRoute.watch"\n  ng-if="watchEditRoute.watch.type === watchEditRoute.WATCH_TYPES.JSON"\n></json-watch-edit>\n<threshold-watch-edit\n  xpack-watch="watchEditRoute.watch"\n  ng-if="watchEditRoute.watch.type === watchEditRoute.WATCH_TYPES.THRESHOLD"\n></threshold-watch-edit>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4478)},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(4);var _compat=__webpack_require__(68);var _notify=__webpack_require__(10);__webpack_require__(1336);var _json_watch_edit=__webpack_require__(4481);var _json_watch_edit2=_interopRequireDefault(_json_watch_edit);__webpack_require__(4482);__webpack_require__(1337);__webpack_require__(4491);__webpack_require__(4500);__webpack_require__(4503);__webpack_require__(4506);__webpack_require__(4520);__webpack_require__(4525);__webpack_require__(288);var _constants=__webpack_require__(30);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("jsonWatchEdit",function($injector,i18n){var watchService=$injector.get("xpackWatcherWatchService");var licenseService=$injector.get("xpackWatcherLicenseService");var kbnUrl=$injector.get("kbnUrl");var confirmModal=$injector.get("confirmModal");return{restrict:"E",template:_json_watch_edit2.default,scope:{watch:"=xpackWatch"},bindToController:true,controllerAs:"jsonWatchEdit",controller:function(_InitAfterBindingsWor){_inherits(JsonWatchEditController,_InitAfterBindingsWor);function JsonWatchEditController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,JsonWatchEditController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=JsonWatchEditController.__proto__||Object.getPrototypeOf(JsonWatchEditController)).call.apply(_ref,[this].concat(args))),_this),_this.onTabSelect=function(tabId){_this.selectedTabId=tabId},_this.isTabSelected=function(tabId){return _this.selectedTabId===tabId},_this.onWatchChange=function(watch){_this.watch=watch},_this.onValid=function(){_this.isValid=true},_this.onInvalid=function(){_this.isValid=false},_this.executeDetailsChange=function(executeDetails){_this.executeDetails=executeDetails},_this.onExecuteDetailsValid=function(){_this.isExecuteValid=true},_this.onExecuteDetailsInvalid=function(){_this.isExecuteValid=false},_this.onWatchExecute=function(){return watchService.executeWatch(_this.executeDetails,_this.watch).then(function(watchHistoryItem){_this.simulateResults=watchHistoryItem;_this.onTabSelect("simulate-results")}).catch(function(e){_notify.toastNotifications.addDanger(e)})},_this.onWatchSave=function(){_this.createActionsForWatch(_this.watch);if(!_this.watch.isNew){return _this.validateAndSaveWatch()}return _this.isExistingWatch().then(function(existingWatch){if(!existingWatch){return _this.validateAndSaveWatch()}var confirmModalOptions={onConfirm:_this.saveWatch,confirmButtonText:i18n("xpack.watcher.sections.watchEdit.json.saveConfirmModal.overwriteWatchButtonLabel",{defaultMessage:"Overwrite Watch"})};var message=i18n("xpack.watcher.sections.watchEdit.json.saveConfirmModal.description",{defaultMessage:'Watch with ID "{watchId}" {watchNameMessageFragment} already exists. Do you want to overwrite it?',values:{watchId:_this.watch.id,watchNameMessageFragment:existingWatch.name?i18n("xpack.watcher.sections.watchEdit.json.saveConfirmModal.descriptionFragmentText",{defaultMessage:'(name: "{existingWatchName}")',values:{existingWatchName:existingWatch.name}}):""}});return confirmModal(message,confirmModalOptions)}).catch(function(err){return _notify.toastNotifications.addDanger(err)})},_this.isExistingWatch=function(){return watchService.loadWatch(_this.watch.id).then(function(existingWatch){return existingWatch}).catch(function(err){return licenseService.checkValidity().then(function(){if(err.status===404){return false}throw err})})},_this.validateAndSaveWatch=function(){var _this$watch$validate=_this.watch.validate(),warning=_this$watch$validate.warning;if(warning){var confirmModalOptions={onConfirm:_this.saveWatch,confirmButtonText:i18n("xpack.watcher.sections.watchEdit.json.watchErrorsWarning.confirmSaveWatch",{defaultMessage:"Save watch"})};return confirmModal(warning.message,confirmModalOptions)}return _this.saveWatch()},_this.saveWatch=function(){return watchService.saveWatch(_this.watch).then(function(){_this.watch.isNew=false;_notify.toastNotifications.addSuccess(i18n("xpack.watcher.sections.watchEdit.json.saveSuccessNotificationText",{defaultMessage:"Saved '{watchDisplayName}'",values:{watchDisplayName:_this.watch.displayName}}));_this.onClose()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onWatchDelete=function(){var confirmModalOptions={onConfirm:_this.deleteWatch,confirmButtonText:i18n("xpack.watcher.sections.watchEdit.json.deleteConfirmModal.overwriteWatchButtonLabel",{defaultMessage:"Delete Watch"})};return confirmModal(i18n("xpack.watcher.sections.watchEdit.json.deleteConfirmModal.description",{defaultMessage:"This will permanently delete the watch. Are you sure?"}),confirmModalOptions)},_this.deleteWatch=function(){return watchService.deleteWatch(_this.watch.id).then(function(){_notify.toastNotifications.addSuccess(i18n("xpack.watcher.sections.watchEdit.json.deleteSuccessNotificationText",{defaultMessage:"Deleted '{watchDisplayName}'",values:{watchDisplayName:_this.watch.displayName}}));_this.onClose()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onClose=function(){kbnUrl.change("/management/elasticsearch/watcher/watches",{})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(JsonWatchEditController,[{key:"initAfterBindings",value:function initAfterBindings(){this.selectedTabId="edit-watch";this.simulateResults=null;this.originalWatch=_extends({},this.watch);this.omitBreadcrumbPages=["new-watch",this.watch.id];this.breadcrumb=this.watch.displayName;this.onExecuteDetailsValid()}},{key:"createActionsForWatch",value:function createActionsForWatch(watchInstance){var _this2=this;watchInstance.resetActions();var action=void 0;var type=void 0;var actionProps=void 0;Object.keys(watchInstance.watch.actions).forEach(function(k){action=watchInstance.watch.actions[k];type=_this2.getTypeFromAction(action);actionProps=_this2.getPropsFromAction(type,action);watchInstance.createAction(type,actionProps)});return watchInstance}},{key:"getTypeFromAction",value:function getTypeFromAction(action){var actionKeys=Object.keys(action);var type=void 0;Object.keys(_constants.ACTION_TYPES).forEach(function(k){if(actionKeys.includes(_constants.ACTION_TYPES[k])){type=_constants.ACTION_TYPES[k]}});return type?type:_constants.ACTION_TYPES.UNKNOWN}},{key:"getPropsFromAction",value:function getPropsFromAction(type,action){if(type===_constants.ACTION_TYPES.SLACK){return action[type].message}return action[type]}}]);return JsonWatchEditController}(_compat.InitAfterBindingsWorkaround)}})},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _dirty_prompt=__webpack_require__(4480);_modules.uiModules.get("kibana").factory("dirtyPrompt",function($injector){var $window=$injector.get("$window");var confirmModal=$injector.get("confirmModal");var $rootScope=$injector.get("$rootScope");return new _dirty_prompt.DirtyPrompt($window,$rootScope,confirmModal)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DirtyPrompt=undefined;var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var confirmMessage="You have unsaved changes. Proceed and discard changes?";function registerUrlChangeHandler(checkDirty){this.beforeUnloadHandler=function(event){if(checkDirty()){event.returnValue=confirmMessage}};this.$window.addEventListener("beforeunload",this.beforeUnloadHandler)}function deregisterUrlChangeHandler(){this.$window.removeEventListener("beforeunload",this.beforeUnloadHandler)}function registerRouteChangeHandler(checkDirty){var _this=this;var deregister=this.$rootScope.$on("$locationChangeStart",function(event,newUrl){if(!checkDirty()){return}event.preventDefault();var confirmModalOptions={onConfirm:function onConfirm(){_this.deregister();_this.$window.location.href=newUrl},confirmButtonText:"Discard Changes"};return _this.confirmModal(confirmMessage,confirmModalOptions)});this.deregisterListener=deregister}function deregisterRouteChangeHandler(){this.deregisterListener()}var DirtyPrompt=exports.DirtyPrompt=function DirtyPrompt($window,$rootScope,confirmModal){var _this2=this;_classCallCheck(this,DirtyPrompt);this.register=function(checkDirty){registerUrlChangeHandler.call(_this2,checkDirty);registerRouteChangeHandler.call(_this2,checkDirty)};this.deregister=function(){deregisterUrlChangeHandler.call(_this2);deregisterRouteChangeHandler.call(_this2)};this.$window=$window;this.$rootScope=$rootScope;this.confirmModal=confirmModal;this.deregisterListener=_lodash.noop;this.beforeUnloadHandler=_lodash.noop}},function(module,exports){module.exports='<kbn-management-app\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ jsonWatchEdit.omitBreadcrumbPages }}"\n  page-title="jsonWatchEdit.breadcrumb"\n>\n  <div class="euiSpacer euiSpacer--l"></div>\n  <div class="kuiViewContent euiPanel euiPanel--paddingLarge kuiViewContent--constrainedWidth">\n    <div class="kuiVerticalRhythm">\n      <watch-edit-title-bar\n        xpack-watch="jsonWatchEdit.watch"\n        is-watch-valid="jsonWatchEdit.isValid"\n        on-watch-delete="jsonWatchEdit.onWatchDelete"\n        on-watch-save="jsonWatchEdit.onWatchSave"\n        on-close="jsonWatchEdit.onClose"\n      ></watch-edit-title-bar>\n    </div>\n\n    <div class="kuiVerticalRhythm">\n      <kbn-tabs\n        selected-tab-id="jsonWatchEdit.selectedTabId"\n        on-tab-select="jsonWatchEdit.onTabSelect"\n      >\n        <kbn-tab\n          tab-id="edit-watch"\n          title="{{ \'xpack.watcher.sections.watchEdit.json.editTabTitle\' | i18n: { defaultMessage: \'Edit Watch\' } }}"\n        >\n          {{ \'xpack.watcher.sections.watchEdit.json.editTabLabel\' | i18n: { defaultMessage: \'Edit\' } }}\n        </kbn-tab>\n        <kbn-tab\n          tab-id="watch-simulate"\n          title="{{ \'xpack.watcher.sections.watchEdit.json.simulateTabTitle\' | i18n: { defaultMessage: \'Simulate Watch\' } }}"\n        >\n          {{ \'xpack.watcher.sections.watchEdit.json.simulateTabLabel\' | i18n: { defaultMessage: \'Simulate\' } }}\n        </kbn-tab>\n        <kbn-tab\n          tab-id="simulate-results"\n          title="{{ \'xpack.watcher.sections.watchEdit.json.simulateResultsTabTitle\' | i18n: { defaultMessage: \'Simulate Results\' } }}"\n          ng-if="jsonWatchEdit.simulateResults"\n        >\n          {{ \'xpack.watcher.sections.watchEdit.json.simulateResultsTabLabel\' | i18n: { defaultMessage: \'Simulation Results\' } }}\n        </kbn-tab>\n      </kbn-tabs>\n    </div>\n\n    <div\n      class="kuiVerticalRhythm"\n      ng-show="jsonWatchEdit.selectedTabId === \'edit-watch\'"\n    >\n      <watch-edit-detail\n        xpack-watch="jsonWatchEdit.watch"\n        on-watch-change="jsonWatchEdit.onWatchChange"\n        on-valid="jsonWatchEdit.onValid"\n        on-invalid="jsonWatchEdit.onInvalid"\n      ></watch-edit-detail>\n    </div>\n\n    <div\n      class="kuiVerticalRhythm"\n      ng-show="jsonWatchEdit.selectedTabId === \'watch-simulate\'"\n    >\n      <div class="kuiVerticalRhythm">\n        <watch-edit-execute-info-panel></watch-edit-execute-info-panel>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <watch-edit-execute-detail\n          xpack-watch="jsonWatchEdit.watch"\n          previous-watch-history-item="jsonWatchEdit.simulateResults"\n          on-change="jsonWatchEdit.executeDetailsChange"\n          on-valid="jsonWatchEdit.onExecuteDetailsValid"\n          on-invalid="jsonWatchEdit.onExecuteDetailsInvalid"\n        ></watch-edit-execute-detail>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <button\n          class="kuiButton kuiButton--primary kuiButton--iconText"\n          ng-disabled="!jsonWatchEdit.isExecuteValid"\n          ng-click="jsonWatchEdit.onWatchExecute()"\n          data-test-subj="btnSimulateWatch"\n        >\n          <span\n            class="kuiButton__icon kuiIcon fa-play"\n            i18n-id="xpack.watcher.sections.watchEdit.json.simulateWatchButtonLabel"\n            i18n-default-message="Simulate Watch"\n          ></span>\n        </button>\n      </div>\n    </div>\n\n    <div\n      class="kuiVerticalRhythm"\n      ng-show="jsonWatchEdit.selectedTabId === \'simulate-results\'"\n    >\n      <div class="kuiVerticalRhythm">\n        <watch-edit-watch-execute-summary\n          watch-history-item="jsonWatchEdit.simulateResults"\n        ></watch-edit-watch-execute-summary>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <watch-edit-actions-execute-summary\n          xpack-watch="jsonWatchEdit.watch"\n          execute-details="jsonWatchEdit.executeDetails"\n          watch-history-item="jsonWatchEdit.simulateResults"\n        ></watch-edit-actions-execute-summary>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <label\n          i18n-id="xpack.watcher.sections.watchEdit.json.simulationOutputLabel"\n          i18n-default-message="Simulation Output:"\n        ></label>\n        <watch-history-item-detail\n          watch-history-item="jsonWatchEdit.simulateResults"\n        ></watch-history-item-detail>\n      </div>\n    </div>\n\n  </div>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4483);__webpack_require__(4486)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4484)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _kbn_tabs=__webpack_require__(4485);var _kbn_tabs2=_interopRequireDefault(_kbn_tabs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("kbnTabs",function(){return{restrict:"E",replace:true,transclude:true,template:_kbn_tabs2.default,scope:{selectedTabId:"=",onTabSelect:"="},controllerAs:"kbnTabs",bindToController:true,controller:function KbnTabsController(){var _this=this;_classCallCheck(this,KbnTabsController);this.isTabSelected=function(tabId){return _this.selectedTabId===tabId}}}})},function(module,exports){module.exports='<div class="kuiTabs" ng-transclude></div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4487)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _kbn_tab=__webpack_require__(4488);var _kbn_tab2=_interopRequireDefault(_kbn_tab);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("kbnTab",function(){return{require:"^^kbnTabs",restrict:"E",transclude:true,replace:true,template:_kbn_tab2.default,scope:{tabId:"@",title:"@"},controllerAs:"kbnTab",bindToController:true,controller:function KbnTabController(){_classCallCheck(this,KbnTabController)},link:function link($scope,$ele,attrs,kbnTabs){$scope.kbnTabs=kbnTabs}}})},function(module,exports){module.exports='<button\n  class="kuiTab"\n  ng-class="{ \'kuiTab-isSelected\': kbnTabs.isTabSelected(kbnTab.tabId) }"\n  title="{{ kbnTab.title }}"\n  ng-click="kbnTabs.onTabSelect(kbnTab.tabId)"\n  data-test-subj="btnSelectTab-{{ kbnTab.id }}"\n>\n  <div class="kbn-tab-liner" ng-transclude></div>\n</button>\n'},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _watch_history_item_detail=__webpack_require__(4490);var _watch_history_item_detail2=_interopRequireDefault(_watch_history_item_detail);__webpack_require__(205);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryItemDetail",function(){return{restrict:"E",template:_watch_history_item_detail2.default,scope:{watchHistoryItem:"="},bindToController:true,controllerAs:"watchHistoryItemDetail",controller:function WatchHistoryItemDetailController($scope){var _this=this;_classCallCheck(this,WatchHistoryItemDetailController);$scope.aceLoaded=function(editor){_this.editor=editor;editor.$blockScrolling=Infinity}}}})},function(module,exports){module.exports='<div\n  class="json-editor"\n  ng-model="watchHistoryItemDetail.watchHistoryItem.details"\n  json-input\n  readonly\n  ui-ace="{\n    useWrapMode: true,\n    mode: \'json\',\n    onLoad: aceLoaded,\n    advanced: {\n      highlightActiveLine: false\n    }\n  }"\n></div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4492)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _watch_edit_detail=__webpack_require__(4493);var _watch_edit_detail2=_interopRequireDefault(_watch_edit_detail);__webpack_require__(4494);var _documentation_links=__webpack_require__(4497);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditDetail",function(){return{restrict:"E",template:_watch_edit_detail2.default,scope:{watch:"=xpackWatch",onWatchChange:"=",onInvalid:"=",onValid:"="},bindToController:true,controllerAs:"watchEditDetail",controller:function WatchEditDetailController($scope){var _this=this;_classCallCheck(this,WatchEditDetailController);this.updateIsValid=function(){var isValid=!(_this.form.$invalid||!_this.isJsonValid);if(isValid){_this.onValid()}else{_this.onInvalid()}};this.onJsonValid=function(){_this.isJsonValid=true;_this.updateIsValid()};this.onJsonInvalid=function(){_this.isJsonValid=false;_this.updateIsValid()};this.onJsonChange=function(json){_this.watch.watch=json};$scope.$watchMulti(["watchEditDetail.watch.id","watchEditDetail.watch.name","watchEditDetail.watch.watch"],function(){_this.onWatchChange(_this.watch)});$scope.$watch("watchEditDetail.form.$valid",function(){_this.updateIsValid()});this.documentationLinks=_documentation_links.documentationLinks}}})},function(module,exports){module.exports='<form name="watchEditDetail.form" novalidate>\n  <div class="kuiFormSection">\n    <label\n      for="id"\n      class="kuiFormLabel"\n      i18n-id="xpack.watcher.sections.watchEdit.detail.idLabel"\n      i18n-default-message="ID"\n    ></label>\n    <input\n      type="text"\n      id="id"\n      name="id"\n      class="fullWidth"\n      ng-class="::watchEditDetail.watch.isNew ? \'kuiTextInput\' : \'kuiStaticInput\'"\n      ng-model="watchEditDetail.watch.id"\n      ng-trim="false"\n      ng-disabled="!watchEditDetail.watch.isNew"\n      pattern="[a-zA-Z_][a-zA-Z0-9_@\\-\\$\\.]*"\n      required\n    >\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="watchEditDetail.form.id.$error.pattern"\n      i18n-id="xpack.watcher.sections.watchEdit.detail.idNamingDescription"\n      i18n-default-message="ID must begin with a letter or underscore and contain only letters, underscores, dashes, and numbers."\n    ></div>\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="watchEditDetail.form.id.$touched && watchEditDetail.form.id.$error.required"\n      i18n-id="xpack.watcher.sections.watchEdit.detail.idIsRequiredValidationMessage"\n      i18n-default-message="ID is required."\n    ></div>\n  </div>\n\n  <div class="kuiFormSection">\n    <label\n      for="name"\n      class="kuiFormLabel"\n      i18n-id="xpack.watcher.sections.watchEdit.detail.nameLabel"\n      i18n-default-message="Name"\n    ></label>\n    <input\n      type="text"\n      id="name"\n      name="name"\n      class="kuiTextInput fullWidth"\n      ng-model="watchEditDetail.watch.name"\n    >\n  </div>\n</form>\n\n<div class="kuiFormSection">\n  <label class="kuiFormLabel">\n    <span\n      i18n-id="xpack.watcher.sections.watchEdit.detail.watchJSONLabel"\n      i18n-default-message="Watch JSON"\n    ></span>\n    (\n      <a\n        href="{{ watchEditDetail.documentationLinks.watcher.putWatchApi }}"\n        target="_blank"\n        rel="noopener noreferrer"\n        data-test-subj="lnkPutWatchApiDoc"\n        i18n-id="xpack.watcher.sections.watchEdit.detail.syntaxLinkLabel"\n        i18n-default-message="Syntax"\n      ></a>\n    )\n  </label>\n  <json-editor\n    json="watchEditDetail.watch.watch"\n    on-change="watchEditDetail.onJsonChange"\n    on-valid="watchEditDetail.onJsonValid"\n    on-invalid="watchEditDetail.onJsonInvalid"\n  ></json-editor>\n  <div\n    class="kuiInputNote kuiInputNote--danger"\n    ng-show="!watchEditDetail.isJsonValid"\n    i18n-id="xpack.watcher.sections.watchEdit.detail.invalidJSONErrorMessage"\n    i18n-default-message="Invalid JSON"\n  ></div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4495)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _json_editor=__webpack_require__(4496);var _json_editor2=_interopRequireDefault(_json_editor);__webpack_require__(205);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("jsonEditor",function(){return{restrict:"E",template:_json_editor2.default,replace:true,scope:{json:"=",onChange:"=",onValid:"=",onInvalid:"="},bindToController:true,controllerAs:"jsonEditor",controller:function JsonEditorController($scope){var _this=this;_classCallCheck(this,JsonEditorController);$scope.aceLoaded=function(editor){_this.editor=editor;editor.$blockScrolling=Infinity};$scope.$watch("jsonEditor.form.$valid",function(){if(_this.form.$invalid){_this.onInvalid()}else{_this.onValid()}});$scope.$watch("jsonEditor.json",function(){_this.onChange(_this.json)})}}})},function(module,exports){module.exports='<form name="jsonEditor.form" novalidate>\n  <div\n    class="json-editor"\n    json-input\n    require-keys="true"\n    ui-ace="{\n      mode: \'json\',\n      onLoad: aceLoaded\n    }"\n    ng-model="jsonEditor.json"\n  ></div>\n</form>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _documentation_links=__webpack_require__(4498);Object.defineProperty(exports,"documentationLinks",{enumerable:true,get:function get(){return _documentation_links.documentationLinks}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.documentationLinks=undefined;var _make_documentation_link=__webpack_require__(4499);var documentationLinks=exports.documentationLinks={watcher:{putWatchApi:(0,_make_documentation_link.makeDocumentationLink)("{baseUrl}guide/en/elasticsearch/reference/{urlVersion}/watcher-api-put-watch.html")}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.makeDocumentationLink=makeDocumentationLink;var _semver=__webpack_require__(627);var _semver2=_interopRequireDefault(_semver);var _metadata=__webpack_require__(190);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var major=_semver2.default.major(_metadata.metadata.version);var minor=_semver2.default.minor(_metadata.metadata.version);var urlVersion=major+"."+minor;var baseUrl="https://www.elastic.co/";function makeDocumentationLink(linkTemplate){return linkTemplate.replace("{baseUrl}",baseUrl).replace("{urlVersion}",urlVersion)}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4501)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _watch_edit_title_bar=__webpack_require__(4502);var _watch_edit_title_bar2=_interopRequireDefault(_watch_edit_title_bar);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditTitleBar",function(){return{restrict:"E",replace:true,template:_watch_edit_title_bar2.default,scope:{watch:"=xpackWatch",isWatchValid:"=",onWatchDelete:"=",onWatchSave:"=",onClose:"="},bindToController:true,controllerAs:"watchEditTitleBar",controller:function WatchEditTitleBarController(){_classCallCheck(this,WatchEditTitleBarController)}}})},function(module,exports){module.exports='<div class="kuiBar">\n  <div class="kuiBarSection">\n    <h2\n      class="euiTitle euiTitle--medium"\n      i18n-id="xpack.watcher.sections.watchEdit.titleBar.newWatchTitle"\n      i18n-default-message="New watch"\n      ></h2>\n  </div>\n  <div class="kuiBarSection">\n    <div class="kuiButtonGroup">\n      <button\n        class="kuiButton kuiButton--primary"\n        ng-disabled="!watchEditTitleBar.isWatchValid"\n        ng-click="watchEditTitleBar.onWatchSave()"\n        data-test-subj="btnSaveWatch"\n        i18n-id="xpack.watcher.sections.watchEdit.titleBar.saveButtonLabel"\n        i18n-default-message="Save"\n      ></button>\n      <button\n        class="kuiButton kuiButton--basic"\n        ng-click="watchEditTitleBar.onClose()"\n        data-test-subj="btnCancel"\n        i18n-id="xpack.watcher.sections.watchEdit.titleBar.cancelButtonLabel"\n        i18n-default-message="Cancel"\n      ></button>\n      <button\n        ng-if="!watchEditTitleBar.watch.isNew"\n        class="kuiButton kuiButton--danger kuiButton--iconText"\n        ng-click="watchEditTitleBar.onWatchDelete()"\n        tooltip="{{ \'xpack.watcher.sections.watchEdit.titleBar.deleteButtonTooltip\' | i18n: { defaultMessage: \'Delete Watch\' } }}"\n        data-test-subj="btnDeleteWatch"\n        i18n-id="xpack.watcher.sections.watchEdit.titleBar.deleteButtonLabel"\n        i18n-default-message="Delete"\n      ></button>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4504)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _watch_edit_execute_info_panel=__webpack_require__(4505);var _watch_edit_execute_info_panel2=_interopRequireDefault(_watch_edit_execute_info_panel);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditExecuteInfoPanel",function(){return{restrict:"E",replace:true,template:_watch_edit_execute_info_panel2.default,scope:{},bindToController:true,controllerAs:"watchEditExecuteInfoPanel",controller:function WatchEditExecuteInfoPanelController(){_classCallCheck(this,WatchEditExecuteInfoPanelController)}}})},function(module,exports){module.exports='<div class="kuiInfoPanel kuiInfoPanel--info">\n  <div class="kuiInfoPanelHeader">\n    <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--info fa-info"></span>\n    <span\n      class="kuiInfoPanelHeader__title"\n      i18n-id="xpack.watcher.sections.watchEdit.executeInfoPanel.testWatchExecutionTitle"\n      i18n-default-message="Test your watch execution"\n    ></span>\n  </div>\n\n  <div class="kuiInfoPanelBody">\n    <div\n      class="kuiInfoPanelBody__message"\n      i18n-id="xpack.watcher.sections.watchEdit.executeInfoPanel.howToModifyWatchExecutionDescription"\n      i18n-default-message="To modify how the watch is executed, expand the sections below"\n    ></div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4507)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _watch_edit_execute_detail=__webpack_require__(4508);var _watch_edit_execute_detail2=_interopRequireDefault(_watch_edit_execute_detail);__webpack_require__(4509);__webpack_require__(205);__webpack_require__(4514);var _execute_details=__webpack_require__(1330);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditExecuteDetail",function(){return{restrict:"E",template:_watch_edit_execute_detail2.default,scope:{watch:"=xpackWatch",previousWatchHistoryItem:"=",onChange:"=",onInvalid:"=",onValid:"="},bindToController:true,controllerAs:"watchEditExecuteDetail",controller:function(){function WatchEditExecuteDetailController($scope){var _this=this;_classCallCheck(this,WatchEditExecuteDetailController);this.onSectionToggle=function(sectionId){_this.isCollapsed[sectionId]=!_this.isCollapsed[sectionId]};this.isSectionCollapsed=function(sectionId){return _this.isCollapsed[sectionId]};this.onActionModesChanged=function(actionModes){_this.executeDetails.actionModes=actionModes};this.copyFromPreviousExecution=function(){_this.executeDetails.alternativeInput=(0,_lodash.get)(_this.previousWatchHistoryItem.details,"result.input.payload")};this.reportChanges=function(){var isValid=_this.triggerForm.$valid&&(_this.isAlternativeInputValid||_this.isAlternativeInputEmpty)&&_this.conditionForm.$valid&&_this.actionForm.$valid;if(isValid){_this.onValid()}else{_this.onInvalid()}_this.onChange(_this.executeDetails)};this.onAlternativeInputValid=function(){_this.isAlternativeInputValid=true;_this.reportChanges()};this.onAlternativeInputInvalid=function(){_this.isAlternativeInputValid=false;_this.reportChanges()};this.onAlternativeInputChange=function(json){_this.executeDetails.alternativeInput=json;_this.reportChanges()};this.executeDetails=new _execute_details.ExecuteDetails;this.isCollapsed={trigger:true,input:true,condition:true,action:true};$scope.aceLoaded=function(editor){_this.editor=editor;editor.$blockScrolling=Infinity};$scope.$watchMulti(["watchEditExecuteDetail.executeDetails.triggeredTime","watchEditExecuteDetail.executeDetails.scheduledTime","watchEditExecuteDetail.executeDetails.ignoreCondition","watchEditExecuteDetail.executeDetails.recordExecution","watchEditExecuteDetail.executeDetails.actionModes"],this.reportChanges)}_createClass(WatchEditExecuteDetailController,[{key:"isAlternativeInputEmpty",get:function get(){return(0,_lodash.isEmpty)(String(this.executeDetails.alternativeInput))}}]);return WatchEditExecuteDetailController}()}})},function(module,exports){module.exports='<form name="watchEditExecuteDetail.triggerForm" novalidate>\n  <toggle-panel\n    toggle-panel-id="trigger"\n    button-text="{{\'xpack.watcher.sections.watchEdit.executeDetail.triggerOverridesButtonLabel\' | i18n: { defaultMessage: \'Trigger Overrides\' } }}"\n    on-toggle="watchEditExecuteDetail.onSectionToggle"\n  >\n    <div class="kuiFormSection">\n      <label\n        for="triggeredTime"\n        class="kuiFormLabel"\n        i18n-id="xpack.watcher.sections.watchEdit.executeDetail.triggerOverrides.triggeredTimeLabel"\n        i18n-default-message="Triggered Time"\n      ></label>\n      <input\n        type="text"\n        id="triggeredTime"\n        name="triggeredTime"\n        ng-model="watchEditExecuteDetail.executeDetails.triggeredTime"\n        class="kuiTextInput"\n        placeholder="{{\'xpack.watcher.sections.watchEdit.executeDetail.triggerOverrides.triggeredTimePlaceholder\' | i18n: { defaultMessage: \'now\' } }}"\n      >\n    </div>\n    <div class="kuiFormSection">\n      <label\n        for="scheduledTime"\n        class="kuiFormLabel"\n        i18n-id="xpack.watcher.sections.watchEdit.executeDetail.triggerOverrides.scheduledTimeLabel"\n        i18n-default-message="Scheduled Time"\n      ></label>\n      <input\n        type="text"\n        id="scheduledTime"\n        name="scheduledTime"\n        ng-model="watchEditExecuteDetail.executeDetails.scheduledTime"\n        class="kuiTextInput"\n        placeholder="{{\'xpack.watcher.sections.watchEdit.executeDetail.triggerOverrides.scheduledTimePlaceholder\' | i18n: { defaultMessage: \'now\' } }}"\n      >\n    </div>\n  </toggle-panel>\n</form>\n\n<toggle-panel\n  toggle-panel-id="input"\n  button-text="{{\'xpack.watcher.sections.watchEdit.executeDetail.inputOverridesButtonLabel\' | i18n: { defaultMessage: \'Input Overrides\' } }}"\n  is-collapsed="watchEditExecuteDetail.isSectionCollapsed(\'input\')"\n  on-toggle="watchEditExecuteDetail.onSectionToggle"\n>\n  <div class="kuiFormSection">\n    <label\n      for="recordExecution"\n      class="kuiFormLabel"\n      i18n-id="xpack.watcher.sections.watchEdit.executeDetail.inputOverrides.alternativeInputLabel"\n      i18n-default-message="Alternative Input"\n    ><a\n        class="copyFromPrevious"\n        ng-click="watchEditExecuteDetail.copyFromPreviousExecution()"\n        ng-show="watchEditExecuteDetail.previousWatchHistoryItem"\n        data-test-subj="lnkCopyFromPreviousExecution"\n        i18n-id="xpack.watcher.sections.watchEdit.executeDetail.inputOverrides.alternativeInputLinkText"\n        i18n-default-message="Copy from previous execution"\n      ></a>\n    </label>\n\n    <json-editor\n      json="watchEditExecuteDetail.executeDetails.alternativeInput"\n      on-change="watchEditExecuteDetail.onAlternativeInputChange"\n      on-valid="watchEditExecuteDetail.onAlternativeInputValid"\n      on-invalid="watchEditExecuteDetail.onAlternativeInputInvalid"\n    ></json-editor>\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="!watchEditExecuteDetail.isAlternativeInputValid && !watchEditExecuteDetail.isAlternativeInputEmpty"\n      i18n-id="xpack.watcher.sections.watchEdit.executeDetail.inputOverrides.invalidJSONErrorMessage"\n      i18n-default-message="Invalid JSON"\n    ></div>\n  </div>\n</toggle-panel>\n\n<form name="watchEditExecuteDetail.conditionForm" novalidate>\n  <toggle-panel\n    toggle-panel-id="condition"\n    button-text="{{\'xpack.watcher.sections.watchEdit.executeDetail.conditionOverridesButtonLabel\' | i18n: { defaultMessage: \'Condition Overrides\' } }}"\n    is-collapsed="watchEditExecuteDetail.isSectionCollapsed(\'condition\')"\n    on-toggle="watchEditExecuteDetail.onSectionToggle"\n  >\n    <div class="kuiFormSection">\n      <label\n        for="ignoreCondition"\n        class="kuiFormLabel"\n      >\n        <input\n          id="ignoreCondition"\n          name="ignoreCondition"\n          type="checkbox"\n          ng-model="watchEditExecuteDetail.executeDetails.ignoreCondition"\n          class="kuiCheckBox"\n          i18n-id="xpack.watcher.sections.watchEdit.executeDetail.conditionOverrides.ignoreConditionLabel"\n          i18n-default-message="Ignore Condition (Condition is always true)"\n        ></label>\n    </div>\n  </toggle-panel>\n</form>\n\n<form name="watchEditExecuteDetail.actionForm" novalidate>\n  <toggle-panel\n    toggle-panel-id="action"\n    button-text="{{\'xpack.watcher.sections.watchEdit.executeDetail.actionOverridesButtonLabel\' | i18n: { defaultMessage: \'Action Overrides\' } }}"\n    is-collapsed="watchEditExecuteDetail.isSectionCollapsed(\'action\')"\n    on-toggle="watchEditExecuteDetail.onSectionToggle"\n  >\n    <div class="kuiFormSection">\n      <label class="kuiFormLabel"\n        i18n-id="xpack.watcher.sections.watchEdit.executeDetail.actionOverrides.actionModesLabel"\n        i18n-default-message="Action Modes"\n      ></label>\n      <watch-action-mode-table\n        xpack-watch="watchEditExecuteDetail.watch"\n        on-change="watchEditExecuteDetail.onActionModesChanged"\n      ></watch-action-mode-table>\n    </div>\n  </toggle-panel>\n</form>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4510)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _watch_action_mode_table=__webpack_require__(4511);var _watch_action_mode_table2=_interopRequireDefault(_watch_action_mode_table);var _get_action_type=__webpack_require__(4512);var _constants=__webpack_require__(30);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchActionModeTable",function(){return{restrict:"E",replace:true,template:_watch_action_mode_table2.default,scope:{watch:"=xpackWatch",onChange:"="},bindToController:true,controllerAs:"watchActionModeTable",controller:function(){function WatchActionModeTableController($scope){var _this=this;_classCallCheck(this,WatchActionModeTableController);$scope.$watch("watchActionModeTable.watch.watch",function(){_this.populateActionCollection();_this.onActionModeChange()});this.actionModes=(0,_lodash.values)(_constants.ACTION_MODES)}_createClass(WatchActionModeTableController,[{key:"populateActionCollection",value:function populateActionCollection(){var actions=(0,_lodash.get)(this.watch,"watch.actions");this.actionOptions=(0,_lodash.map)(actions,function(action,actionId){var type=(0,_get_action_type.getActionType)(action);return{actionId:actionId,type:type,actionMode:_constants.ACTION_MODES.SIMULATE}})}},{key:"onActionModeChange",value:function onActionModeChange(){var result={};this.actionOptions.forEach(function(actionOption){(0,_lodash.set)(result,actionOption.actionId,actionOption.actionMode)});this.onChange(result)}}]);return WatchActionModeTableController}()}})},function(module,exports){module.exports='<table class="kuiTable kuiTable--fluid">\n  <thead>\n    <tr>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.watchActionModeTable.actionColumnLabel"\n        i18n-default-message="Action"\n      ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.watchActionModeTable.typeColumnLabel"\n        i18n-default-message="Type"\n      ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.watchActionModeTable.modeColumnLabel"\n        i18n-default-message="Mode"\n      ></th>\n    </tr>\n  </thead>\n  <tr ng-repeat="actionOption in watchActionModeTable.actionOptions">\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionOption.actionId}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        {{actionOption.type}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        <select\n          class="kuiSelect"\n          ng-model="actionOption.actionMode"\n          ng-options="actionMode for actionMode in watchActionModeTable.actionModes"\n          ng-change="watchActionModeTable.onActionModeChange()"\n        ></select>\n      </div>\n    </td>\n  </tr>\n</table>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_action_type=__webpack_require__(4513);Object.defineProperty(exports,"getActionType",{enumerable:true,get:function get(){return _get_action_type.getActionType}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getActionType=getActionType;var _lodash=__webpack_require__(1);var _constants=__webpack_require__(30);function getActionType(action){var type=(0,_lodash.intersection)((0,_lodash.keys)(action),(0,_lodash.values)(_constants.ACTION_TYPES))[0]||_constants.ACTION_TYPES.UNKNOWN;return type}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4515)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _toggle_panel=__webpack_require__(4516);var _toggle_panel2=_interopRequireDefault(_toggle_panel);__webpack_require__(4517);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("kibana");app.directive("togglePanel",function(){return{restrict:"E",replace:true,transclude:true,template:_toggle_panel2.default,scope:{togglePanelId:"@",buttonText:"@",isDisabled:"=",isCollapsed:"=",onToggle:"="},controllerAs:"togglePanel",bindToController:true,controller:function TogglePanelController(){var _this=this;_classCallCheck(this,TogglePanelController);this.toggle=function(){_this.onToggle(_this.togglePanelId)}}}})},function(module,exports){module.exports='<div>\n  <div class="kuiTogglePanelHeader">\n    <toggle-button\n      is-disabled="togglePanel.isDisabled"\n      is-collapsed="togglePanel.isCollapsed"\n      on-click="togglePanel.toggle"\n    >\n      {{togglePanel.buttonText}}\n    </toggle-button>\n  </div>\n  <div\n    ng-hide="togglePanel.isCollapsed"\n    ng-transclude\n  ></div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4518)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _toggle_button=__webpack_require__(4519);var _toggle_button2=_interopRequireDefault(_toggle_button);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("kibana");app.directive("toggleButton",function(){return{restrict:"E",replace:true,transclude:true,template:_toggle_button2.default,scope:{isDisabled:"=",isCollapsed:"=",onClick:"="},controllerAs:"toggleButton",bindToController:true,controller:function ToggleButtonController(){_classCallCheck(this,ToggleButtonController)}}})},function(module,exports){module.exports='<button\n  class="kuiToggleButton"\n  ng-disabled="toggleButton.isDisabled"\n  ng-click="toggleButton.onClick()"\n  type="button"\n>\n  <span\n    ng-class="{\'fa-caret-down\': !toggleButton.isCollapsed, \'fa-caret-right\': toggleButton.isCollapsed}"\n    class="kuiToggleButton__icon kuiIcon"\n  ></span>\n  <span ng-transclude></span>\n</button>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4521)},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _watch_edit_actions_execute_summary=__webpack_require__(4522);var _watch_edit_actions_execute_summary2=_interopRequireDefault(_watch_edit_actions_execute_summary);__webpack_require__(1338);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditActionsExecuteSummary",function(){return{restrict:"E",replace:true,template:_watch_edit_actions_execute_summary2.default,scope:{watch:"=xpackWatch",watchHistoryItem:"=",executeDetails:"="},bindToController:true,controllerAs:"watchEditActionsExecuteSummary",controller:function WatchEditActionsExecuteSummaryController($scope){var _this=this;_classCallCheck(this,WatchEditActionsExecuteSummaryController);$scope.$watch("watchEditActionsExecuteSummary.watchHistoryItem",function(){if(!_this.watchHistoryItem){return}var actions=_this.watch.actions;var actionStatuses=_this.watchHistoryItem.watchStatus.actionStatuses;var actionModes=_this.executeDetails.actionModes;_this.actionDetails=actions.map(function(action){var actionMode=actionModes[action.id];var actionStatus=(0,_lodash.find)(actionStatuses,{id:action.id});return{action:action,actionMode:actionMode,actionStatus:actionStatus}})})}}})},function(module,exports){module.exports='<table class="kuiTable kuiTable--fluid kuiVerticalRhythm">\n  <thead>\n    <tr>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.actionsExecuteSummary.actionColumnLabel"\n        i18n-default-message="Action"\n      ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.actionsExecuteSummary.typeColumnLabel"\n        i18n-default-message="Type"\n      ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.actionsExecuteSummary.modeColumnLabel"\n        i18n-default-message="Mode"\n      ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.actionsExecuteSummary.stateColumnLabel"\n        i18n-default-message="State"\n      ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchEdit.actionsExecuteSummary.reasonColumnLabel"\n        i18n-default-message="Reason"\n      ></th>\n    </tr>\n  </thead>\n  <tr ng-repeat="actionDetail in watchEditActionsExecuteSummary.actionDetails">\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.id}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.type}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.actionMode}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        <action-state-icon action-status="actionDetail.actionStatus"></action-state-icon>\n        {{actionDetail.actionStatus.state}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        {{actionDetail.actionStatus.lastExecutionReason}}\n      </div>\n    </td>\n  </tr>\n</table>\n'},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _action_state_icon=__webpack_require__(4524);var _action_state_icon2=_interopRequireDefault(_action_state_icon);var _constants=__webpack_require__(30);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("actionStateIcon",function(){return{restrict:"E",replace:true,template:_action_state_icon2.default,scope:{actionStatus:"="},bindToController:true,controllerAs:"actionStateIcon",controller:function ActionStateIconController(){_classCallCheck(this,ActionStateIconController);this.ACTION_STATES=_constants.ACTION_STATES}}})},function(module,exports){module.exports='<div class="kuiIcon">\n  <div\n    class="kuiIcon kuiIcon--success fa-check"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.OK"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-thumbs-up"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.ACKNOWLEDGED"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-clock-o"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.THROTTLED"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-bullhorn"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.FIRING"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--error fa-exclamation-triangle"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.ERROR || actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.CONFIG_ERROR"\n  ></div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4526)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _watch_edit_watch_execute_summary=__webpack_require__(4527);var _watch_edit_watch_execute_summary2=_interopRequireDefault(_watch_edit_watch_execute_summary);__webpack_require__(545);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditWatchExecuteSummary",function(){return{restrict:"E",replace:true,template:_watch_edit_watch_execute_summary2.default,scope:{watchHistoryItem:"="},bindToController:true,controllerAs:"watchEditWatchExecuteSummary",controller:function WatchEditWatchExecuteSummaryController(){_classCallCheck(this,WatchEditWatchExecuteSummaryController)}}})},function(module,exports){module.exports='<div class="watch-simulation-result">\n  <label\n    i18n-id="xpack.watcher.sections.watchEdit.watchExecuteSummary.simulationStatusLabel"\n    i18n-default-message="Simulation Status:"\n  ></label>\n  <watch-state-icon watch-status="watchEditWatchExecuteSummary.watchHistoryItem.watchStatus"></watch-state-icon>\n  <span>{{ watchEditWatchExecuteSummary.watchHistoryItem.watchStatus.state }}</span>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4529)},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _compat=__webpack_require__(68);__webpack_require__(1336);var _threshold_watch_edit=__webpack_require__(4530);var _threshold_watch_edit2=_interopRequireDefault(_threshold_watch_edit);__webpack_require__(4531);__webpack_require__(4545);__webpack_require__(4576);__webpack_require__(4587);__webpack_require__(4611);__webpack_require__(4614);__webpack_require__(288);__webpack_require__(4617);__webpack_require__(433);__webpack_require__(4620);__webpack_require__(4623);var _datemath=__webpack_require__(57);var _datemath2=_interopRequireDefault(_datemath);var _notify=__webpack_require__(10);var _visualize_options=__webpack_require__(4629);var _constants=__webpack_require__(30);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchEdit",function($injector,i18n){var watchService=$injector.get("xpackWatcherWatchService");var fieldsService=$injector.get("xpackWatcherFieldsService");var timezoneService=$injector.get("xpackWatcherTimezoneService");var licenseService=$injector.get("xpackWatcherLicenseService");var intervalService=$injector.get("xpackWatcherIntervalService");var actionDefaultsService=$injector.get("xpackWatcherActionDefaultsService");var kbnUrl=$injector.get("kbnUrl");var confirmModal=$injector.get("confirmModal");var $interval=$injector.get("$interval");return{restrict:"E",template:_threshold_watch_edit2.default,scope:{watch:"=xpackWatch"},bindToController:true,controllerAs:"thresholdWatchEdit",controller:function(_InitAfterBindingsWor){_inherits(ThresholdWatchEditController,_InitAfterBindingsWor);function ThresholdWatchEditController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ThresholdWatchEditController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ThresholdWatchEditController.__proto__||Object.getPrototypeOf(ThresholdWatchEditController)).call.apply(_ref,[this].concat(args))),_this),_this.loadFields=function(){if(!(0,_lodash.isEqual)(_this.watch.index,_this.index)){_this.index=_this.watch.index;if(!_this.index.length){_this.fields=[];return}fieldsService.getFields(_this.index).then(function(fields){_this.fields=fields})}},_this.onChange=function(watch){_this.loadFields();_this.watch=watch;_this.updateVisualizeTimeWindow();_this.visualizeWatch()},_this.onActionChange=function(){},_this.onTitlePanelValid=function(){_this.titlePanelValid=true;_this.visualizeWatch()},_this.onTitlePanelInvalid=function(){_this.titlePanelValid=false},_this.onConditionPanelValid=function(){_this.conditionPanelValid=true;_this.visualizeWatch()},_this.onConditionPanelInvalid=function(){_this.conditionPanelValid=false},_this.onActionsValid=function(){_this.actionsPanelValid=true},_this.onActionsInvalid=function(){_this.actionsPanelValid=false},_this.onActionAdd=function(actionType){var defaults=actionDefaultsService.getDefaults(_this.watch.type,actionType);_this.watch.createAction(actionType,defaults)},_this.onActionDelete=function(action){_this.watch.deleteAction(action)},_this.onActionSimulate=function(action){watchService.simulateWatchAction(_this.watch,action).then(function(watchHistoryItem){var actionStatuses=watchHistoryItem.watchStatus.actionStatuses;var actionStatus=actionStatuses.find(function(a){return a.id===action.id});if(actionStatus.lastExecutionSuccessful===false){var message=actionStatus.lastExecutionReason||action.simulateFailMessage;_notify.toastNotifications.addDanger(message)}else{_notify.toastNotifications.addSuccess(action.simulateMessage)}}).catch(function(err){_notify.toastNotifications.addDanger(err)})},_this.onClose=function(){kbnUrl.change("/management/elasticsearch/watcher/watches",{})},_this.updateVisualizeTimeWindow=function(){var VISUALIZE_TIME_WINDOW_MULTIPLIER=5;var fromExpression="now-"+_this.watch.timeWindowSize*VISUALIZE_TIME_WINDOW_MULTIPLIER+_this.watch.timeWindowUnit;var toExpression="now";var fromMoment=_datemath2.default.parse(fromExpression);var toMoment=_datemath2.default.parse(toExpression);_this.visualizeTimeWindowFrom=fromMoment?fromMoment.valueOf():undefined;_this.visualizeTimeWindowTo=toMoment?toMoment.valueOf():undefined},_this.visualizeWatch=(0,_lodash.debounce)(function(){if(!_this.titlePanelValid||!_this.conditionPanelValid){return}var interval=intervalService.getInterval({min:_this.visualizeTimeWindowFrom,max:_this.visualizeTimeWindowTo}).expression;var visualizeOptions=new _visualize_options.VisualizeOptions({rangeFrom:_this.visualizeTimeWindowFrom,rangeTo:_this.visualizeTimeWindowTo,interval:interval,timezone:timezoneService.getTimezone()});return watchService.visualizeWatch(_this.watch,visualizeOptions).then(function(_ref2){var visualizeData=_ref2.visualizeData;_this.visualizeData=visualizeData;_this.visualizeDataPageCount=Object.keys(visualizeData).length;_this.setVisualizationPageByKey(_this.visualizeDataKey);_this.restartRefreshWatchVisualizationTimer()}).catch(function(e){_notify.toastNotifications.addDanger(e);_this.stopRefreshWatchVisualizationTimer()})},500),_this.setVisualizationPageByKey=function(key){var newIndex=Object.keys(_this.visualizeData).indexOf(key);if(newIndex===-1){_this.setVisualizationPage(0)}else{_this.setVisualizationPage(newIndex)}},_this.setVisualizationPage=function(index){_this.visualizeDataKey=Object.keys(_this.visualizeData)[index];_this.visualizeDataPageIndex=index;_this.visualizeDataTitle=_this.watch.termField+" ("+(index+1)+" of "+_this.visualizeDataPageCount+"): "+_this.visualizeDataKey;_this.chartSeries=_this.visualizeData[_this.visualizeDataKey]},_this.onVisualizationNextPage=function(){var newIndex=_this.visualizeDataPageIndex+1;if(newIndex<_this.visualizeDataPageCount){_this.setVisualizationPage(newIndex)}else{_this.setVisualizationPage(0)}},_this.onVisualizationPreviousPage=function(){var newIndex=_this.visualizeDataPageIndex-1;if(newIndex>=0){_this.setVisualizationPage(newIndex)}else{_this.setVisualizationPage(_this.visualizeDataPageCount-1)}},_this.restartRefreshWatchVisualizationTimer=function(){_this.stopRefreshWatchVisualizationTimer();_this.refreshVisualizationWatchInterval=$interval(_this.visualizeWatch,_constants.REFRESH_INTERVALS.WATCH_VISUALIZATION)},_this.stopRefreshWatchVisualizationTimer=function(){if(Boolean(_this.refreshVisualizationWatchInterval)){$interval.cancel(_this.refreshVisualizationWatchInterval)}},_this.onWatchSave=function(){if(!_this.watch.isNew){return _this.saveWatch()}return _this.isExistingWatch().then(function(existingWatch){if(!existingWatch){return _this.saveWatch()}var confirmModalOptions={onConfirm:_this.saveWatch,confirmButtonText:i18n("xpack.watcher.sections.watchEdit.threshold.saveConfirmModal.overwriteWatchButtonLabel",{defaultMessage:"Overwrite Watch"})};var message=i18n("xpack.watcher.sections.watchEdit.threshold.saveConfirmModal.description",{defaultMessage:'Watch with ID "{watchId}" {watchNameMessageFragment} already exists. Do you want to overwrite it?',values:{watchId:_this.watch.id,watchNameMessageFragment:existingWatch.name?i18n("xpack.watcher.sections.watchEdit.threshold.saveConfirmModal.descriptionFragmentText",{defaultMessage:'(name: "{existingWatchName}")',values:{existingWatchName:existingWatch.name}}):""}});return confirmModal(message,confirmModalOptions)}).catch(function(err){return _notify.toastNotifications.addDanger(err)})},_this.isExistingWatch=function(){return watchService.loadWatch(_this.watch.id).then(function(existingWatch){return existingWatch}).catch(function(err){return licenseService.checkValidity().then(function(){if(err.status===404){return false}throw err})})},_this.saveWatch=function(){return watchService.saveWatch(_this.watch).then(function(){_this.watch.isNew=false;_notify.toastNotifications.addSuccess(i18n("xpack.watcher.sections.watchEdit.threshold.saveSuccessNotificationText",{defaultMessage:"Saved '{watchDisplayName}'",values:{watchDisplayName:_this.watch.displayName}}));_this.onClose()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(ThresholdWatchEditController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.index=undefined;this.originalWatch=_extends({},this.watch);this.omitBreadcrumbPages=["new-watch",this.watch.id];this.breadcrumb=this.watch.displayName;$scope.$on("$destroy",function(){_this2.stopRefreshWatchVisualizationTimer()});this.loadFields()}},{key:"saveDisabled",get:function get(){return!(this.titlePanelValid&&this.conditionPanelValid&&this.actionsPanelValid)}}]);return ThresholdWatchEditController}(_compat.InitAfterBindingsWorkaround)}})},function(module,exports){module.exports='<kbn-management-app\n  class="thresholdWatchEdit"\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ thresholdWatchEdit.omitBreadcrumbPages }}"\n  page-title="thresholdWatchEdit.breadcrumb"\n>\n  <div class="thresholdWatchEditContent">\n\n    <div class="euiPanel euiPanel--paddingLarge kuiVerticalRhythm">\n      <watch-edit-title-panel\n        fields="thresholdWatchEdit.fields"\n        xpack-watch="thresholdWatchEdit.watch"\n        on-change="thresholdWatchEdit.onChange"\n        on-valid="thresholdWatchEdit.onTitlePanelValid"\n        on-invalid="thresholdWatchEdit.onTitlePanelInvalid"\n      ></watch-edit-title-panel>\n    </div>\n\n    <div\n      class="kuiPanel kuiVerticalRhythm euiPanel euiPanel--paddingLarge"\n      ng-show="thresholdWatchEdit.titlePanelValid"\n    >\n      <section class="kuiVerticalRhythm">\n        <header>\n          <h2\n            class="kuiSubTitle"\n            i18n-id="xpack.watcher.sections.watchEdit.threshold.matchingFollowingConditionTitle"\n            i18n-default-message="Matching the following condition"\n          ></h2>\n        </header>\n      </section>\n\n      <div class="kuiVerticalRhythm" style="margin-bottom:30px;">\n        <threshold-watch-expression\n          threshold-watch="thresholdWatchEdit.watch"\n          fields="thresholdWatchEdit.fields"\n          on-change="thresholdWatchEdit.onChange"\n          on-valid="thresholdWatchEdit.onConditionPanelValid"\n          on-invalid="thresholdWatchEdit.onConditionPanelInvalid"\n        ></threshold-watch-expression>\n      </div>\n\n\n      <div class="kuiPanel kuiVerticalRhythm">\n        <div\n          class="kuiPanelHeader"\n          ng-show="thresholdWatchEdit.visualizeDataPageCount > 1"\n        >\n          <div class="kuiPanelHeaderSection">\n            <div class="kuiPanelHeader__title">\n              {{ thresholdWatchEdit.visualizeDataTitle }}\n            </div>\n          </div>\n        </div>\n\n        <div class="kuiPanelBody">\n          <div\n            class="kuiVerticalRhythm kuiWatchVisualization"\n            ng-class="{ kuiWatchVisualizationMulti: thresholdWatchEdit.visualizeDataPageCount > 1 }">\n            <threshold-preview-chart\n              series="thresholdWatchEdit.chartSeries"\n              threshold-value="thresholdWatchEdit.watch.threshold"\n              start-date="thresholdWatchEdit.visualizeTimeWindowFrom"\n              end-date="thresholdWatchEdit.visualizeTimeWindowTo"\n            ></threshold-preview-chart>\n          </div>\n        </div>\n        <panel-pager\n          on-next-page="thresholdWatchEdit.onVisualizationNextPage"\n          on-previous-page="thresholdWatchEdit.onVisualizationPreviousPage"\n          ng-show="thresholdWatchEdit.visualizeDataPageCount > 1"\n        ></panel-pager>\n      </div>\n    </div>\n\n    <div\n      class="kuiPanel kuiVerticalRhythm euiPanel euiPanel--paddingLarge"\n      ng-show="thresholdWatchEdit.titlePanelValid && thresholdWatchEdit.conditionPanelValid"\n    >\n      <watch-actions\n        actions="thresholdWatchEdit.watch.actions"\n        on-action-add="thresholdWatchEdit.onActionAdd"\n        on-action-change="thresholdWatchEdit.onActionChange"\n        on-action-simulate="thresholdWatchEdit.onActionSimulate"\n        on-action-delete="thresholdWatchEdit.onActionDelete"\n        on-valid="thresholdWatchEdit.onActionsValid"\n        on-invalid="thresholdWatchEdit.onActionsInvalid"\n      ></watch-actions>\n    </div>\n\n    <div class="kuiButtonGroup kuiVerticalRhythm euiPanel euiPanel--paddingLarge thresholdWatchEditButtons">\n\n      <button\n        class="kuiButton kuiButton--primary"\n        ng-disabled="thresholdWatchEdit.saveDisabled"\n        ng-click="thresholdWatchEdit.onWatchSave()">\n        <span class="kuiButton__inner">\n          <span\n            i18n-id="xpack.watcher.sections.watchEdit.threshold.saveButtonLabel"\n            i18n-default-message="Save"\n          ></span>\n        </span>\n      </button>\n\n    </div>\n\n  </div>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4532)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _compat=__webpack_require__(68);var _watch_edit_title_panel=__webpack_require__(4533);var _watch_edit_title_panel2=_interopRequireDefault(_watch_edit_title_panel);var _constants=__webpack_require__(30);__webpack_require__(4534);__webpack_require__(1339);__webpack_require__(251);__webpack_require__(269);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");var VALID_NORMALIZED_TYPES=["date"];app.directive("watchEditTitlePanel",function($injector,i18n){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_edit_title_panel2.default,replace:true,scope:{watch:"=xpackWatch",fields:"=",onChange:"=",onInvalid:"=",onValid:"="},bindToController:true,controllerAs:"watchEditTitlePanel",controller:function(_InitAfterBindingsWor){_inherits(WatchEditTitlePanelController,_InitAfterBindingsWor);function WatchEditTitlePanelController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,WatchEditTitlePanelController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=WatchEditTitlePanelController.__proto__||Object.getPrototypeOf(WatchEditTitlePanelController)).call.apply(_ref,[this].concat(args))),_this),_this.onIndexSelectTouched=function(){_this.indexSelectTouched=true},_this.onIndexSelection=function(indices){_this.watch.index=indices;_this.indexSelectTouched=true;_this.updateValidity();_this.onChange(_this.watch)},_this.updateValidity=function(){var isValid=_this.form.$valid&&_this.hasAnyValidSelectedIndices();if(isValid){_this.onValid()}else{_this.onInvalid()}},_this.hasAnySelectedIndices=function(){if(Array.isArray(_this.watch.index)){return _this.watch.index.length>0}return Boolean(_this.watch.index)},_this.hasAnyValidSelectedIndices=function(){return _this.hasAnySelectedIndices()&&Boolean(_this.fields)&&_this.fields.length>0},_this.isValidationMessageVisible=function(fieldName,errorType){var showIfOtherErrors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(!_this.form[fieldName]){return false}var showMessage=(_this.form[fieldName].$touched||_this.form[fieldName].$dirty)&&_this.form[fieldName].$error[errorType];if(showMessage&&!showIfOtherErrors&&(0,_lodash.size)(_this.form[fieldName].$error)>1){showMessage=false}return showMessage},_this.showIndexSelectionValidationState=function(){return!_this.hasAnySelectedIndices()||_this.showInvalidIndexValidationMessage()||_this.showNoTimeFieldsValidationMessage()},_this.showRequiredIndexSelectionValidationMessage=function(){return _this.indexSelectTouched&&!_this.hasAnySelectedIndices()},_this.showInvalidIndexValidationMessage=function(){return _this.hasAnySelectedIndices()&&Boolean(_this.fields)&&_this.fields.length===0},_this.showNoTimeFieldsValidationMessage=function(){return _this.hasAnyValidSelectedIndices()&&_this.timeFields.length===0},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(WatchEditTitlePanelController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.makeId=htmlIdGeneratorFactory.create();this.triggerIntervalSize=this.watch.triggerIntervalSize;this.triggerIntervalUnit=this.watch.triggerIntervalUnit;this.triggerIntervalMinimumUnit=_constants.TIME_UNITS.SECOND;this.triggerIntervalMinimumSize=10;this.timeFields=[];this.indexSelectTouched=false;$scope.$watch("watchEditTitlePanel.triggerIntervalSize",function(newSize){_this2.watch.triggerIntervalSize=Number(newSize);_this2.onChange(_this2.watch)});$scope.$watch("watchEditTitlePanel.triggerIntervalUnit",function(newUnit){_this2.watch.triggerIntervalUnit=newUnit;_this2.onChange(_this2.watch)});$scope.$watchMulti(["watchEditTitlePanel.watch.name","watchEditTitlePanel.watch.timeField"],function(){_this2.onChange(_this2.watch)});$scope.$watch("watchEditTitlePanel.watch.index",function(newIndex){if(!Boolean(newIndex)||newIndex.length===0){_this2.watch.timeField=undefined;_this2.timeFields=[]}});$scope.$watchMulti(["watchEditTitlePanel.form.$valid","watchEditTitlePanel.watch.index"],this.updateValidity);$scope.$watch("watchEditTitlePanel.fields",function(fields){_this2.timeFields=Boolean(fields)?fields.filter(function(field){return VALID_NORMALIZED_TYPES.includes(field.normalizedType)}):[];_this2.updateValidity()})}},{key:"title",get:function get(){if(this.watch.isNew){var typeName=this.watch.typeName.toLowerCase();return i18n("xpack.watcher.sections.watchEdit.titlePanel.createNewTypeOfWatchTitle",{defaultMessage:"Create a new {typeName}",values:{typeName:typeName}})}else{return this.watch.name}}},{key:"description",get:function get(){return this.watch.titleDescription}}]);return WatchEditTitlePanelController}(_compat.InitAfterBindingsWorkaround)}})},function(module,exports){module.exports='<section>\n  <header>\n    <h1 class="kuiTitle">\n      {{watchEditTitlePanel.title}}\n    </h1>\n    <h2 class="kuiSubText kuiSubduedText">\n      {{watchEditTitlePanel.description}}\n    </h2>\n  </header>\n  <form name="watchEditTitlePanel.form" novalidate>\n    <div class="kuiFieldGroup kuiFieldGroup--alignTop watchEditTitlePanelContent">\n      <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n        <label\n          for="{{watchEditTitlePanel.makeId(\'watchName\')}}"\n          class="kuiLabel kuiVerticalRhythmSmall"\n          i18n-id="xpack.watcher.sections.watchEdit.titlePanel.watchNameLabel"\n          i18n-default-message="Name"\n          >\n\n        </label>\n        <div class="kuiVerticalRhythmSmall">\n          <input\n            class="kuiTextInput fullWidth"\n            type="text"\n            name="watchName"\n            id="{{watchEditTitlePanel.makeId(\'watchName\')}}"\n            input-focus\n            required\n            ng-model="watchEditTitlePanel.watch.name"\n            placeholder="{{\'xpack.watcher.sections.watchEdit.titlePanel.watchNamePlaceholder\' | i18n: { defaultMessage: \'My Threshold Watch\' } }}"\n          >\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall">\n          <div\n            id="{{watchEditTitlePanel.makeId([\'watchName\', \'required\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'watchName\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'watchName\', \'required\')"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.watchNameIsRequiredValidationMessage"\n            i18n-default-message="Name is required"\n          ></div>\n          &nbsp;\n        </div>\n      </div>\n    </div>\n    <div class="kuiFieldGroup kuiFieldGroup--alignTop">\n      <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n        <label\n          for="indexSelectSearchBox"\n          class="kuiLabel kuiVerticalRhythmSmall"\n          i18n-id="xpack.watcher.sections.watchEdit.titlePanel.indicesToQueryLabel"\n          i18n-default-message="Indices to query"\n          >\n        </label>\n        <div\n          class="kuiVerticalRhythmSmall watchEditTitleIndexSelectContainer"\n          ng-class="{\n            \'ng-invalid\': watchEditTitlePanel.showIndexSelectionValidationState()\n          }"\n        >\n          <index-select\n            index="watchEditTitlePanel.watch.index"\n            on-change="watchEditTitlePanel.onIndexSelection"\n            on-touched="watchEditTitlePanel.onIndexSelectTouched"\n          >\n          </index-select>\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall">\n           <div\n            id="{{watchEditTitlePanel.makeId([\'indexSelectSearchBox\', \'required\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'indexSelectSearchBox\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.showRequiredIndexSelectionValidationMessage()"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.enterOneOrMoreIndicesValidationMessage"\n            i18n-default-message="Enter one or more indices"\n          ></div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'indexSelectSearchBox\', \'invalid\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'indexSelectSearchBox\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.showInvalidIndexValidationMessage()"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.queryDoesNotMatchAnyValidIndicesValidationMessage"\n            i18n-default-message="Your index query does not match any valid indices"\n          ></div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'indexSelectSearchBox\', \'notimefield\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'indexSelectSearchBox\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.showNoTimeFieldsValidationMessage()"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.associatedTimeFieldIsMissedInIndexQueryValidationMessage"\n            i18n-default-message="Your index query does not have an associated time field"\n          ></div>\n          <span\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.howToBroadenSearchQueryDescription"\n            i18n-default-message="Use * to broaden your search query"\n          ></span>\n        </div>\n      </div>\n\n      <div class="kuiFieldGroupSection">\n        <label\n          for="{{watchEditTitlePanel.makeId(\'timeField\')}}"\n          class="kuiLabel kuiVerticalRhythmSmall"\n          i18n-id="xpack.watcher.sections.watchEdit.titlePanel.timeFieldLabel"\n          i18n-default-message="Time field"\n          ></label>\n        <div class="kuiVerticalRhythmSmall">\n          <select\n            class="kuiSelect"\n            name="timeField"\n            id="{{watchEditTitlePanel.makeId(\'timeField\')}}"\n            required\n            ng-model="watchEditTitlePanel.watch.timeField"\n            ng-options="timeField.name as timeField.name group by timeField.normalizedType for timeField in watchEditTitlePanel.timeFields"\n          >\n            <option\n              value=""\n              i18n-id="xpack.watcher.sections.watchEdit.titlePanel.timeFieldOptionLabel"\n              i18n-default-message="Select a field"\n            ></option>\n          </select>\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall">\n          <div\n            id="{{watchEditTitlePanel.makeId([\'timeField\', \'required\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'timeField\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'timeField\', \'required\')"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.timeFieldIsRequiredValidationText"\n            i18n-default-message="A time field is required"\n          ></div>\n          &nbsp;\n        </div>\n      </div>\n\n      <div class="kuiFieldGroupSection">\n        <label\n          id="durationSelectTriggerIntervalSizeLabel"\n          for="durationSelectTriggerIntervalSize"\n          class="kuiLabel kuiVerticalRhythmSmall"\n          i18n-id="xpack.watcher.sections.watchEdit.titlePanel.watchIntervalLabel"\n          i18n-default-message="Run watch every"\n        ></label>\n\n        <div class="kuiVerticalRhythmSmall" id="durationSelectTriggerIntervalSize" role="group">\n          <duration-select\n            duration-id="triggerInterval"\n            minimum-unit="watchEditTitlePanel.triggerIntervalMinimumUnit"\n            minimum-size="watchEditTitlePanel.triggerIntervalMinimumSize"\n            unit="watchEditTitlePanel.triggerIntervalUnit"\n            size="watchEditTitlePanel.triggerIntervalSize"\n            described-by="durationSelectTriggerIntervalSizeLabel"\n          ></duration-select>\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall watchEditTitlePanelIntervalValidation">\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'required\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'required\')"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.intervalSizeIsRequiredValidationMessage"\n            i18n-default-message="Interval size is required"\n          ></div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'min\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'min\')"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.intervalSizeNegativeNumberValidationMessage"\n            i18n-default-message="Interval size cannot be a negative number"\n          ></div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'number\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'number\')"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.intervalSizeValidNumberValidationMessage"\n            i18n-default-message="Interval size must be a valid number"\n          ></div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalUnit\', \'required\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalUnit"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalUnit\', \'required\')"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.intervalSizeUnitIsRequiredValidationMessage"\n            i18n-default-message="An interval size is required"\n          ></div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'minimumDuration\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize durationSelectTriggerIntervalUnit"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'minimumDuration\', false)"\n            i18n-id="xpack.watcher.sections.watchEdit.titlePanel.intervalSizeMinimumDurationValidationMessage"\n            i18n-default-message=" The minimum duration is {minSize}{minUnit}"\n            i18n-values="{ minSize: watchEditTitlePanel.triggerIntervalMinimumSize, minUnit: watchEditTitlePanel.triggerIntervalMinimumUnit }"\n          ></div>\n        </div>\n      </div>\n    </div>\n  </form>\n</section>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4535)},function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);__webpack_require__(4536);var _compat=__webpack_require__(68);var _modules=__webpack_require__(4);var _index_select=__webpack_require__(4539);var _index_select2=_interopRequireDefault(_index_select);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function mapIndex(indexName){var isFromIndexPattern=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var isUserEntered=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return{indexName:indexName,isFromIndexPattern:isFromIndexPattern,isUserEntered:isUserEntered}}function collapseIndices(allIndices,allIndexPatterns){var indices=(0,_lodash.map)(allIndices,function(indexName){return mapIndex(indexName,false)});var indexPatterns=(0,_lodash.map)(allIndexPatterns,function(indexName){return mapIndex(indexName,true)});indices.push.apply(indices,_toConsumableArray(indexPatterns));return indices}var INDICES_FROM_INDEX_PATTERNS_HEADER_COPY="Based on your index patterns";var INDICES_FOR_CREATION_HEADER_COPY="Choose...";var INDICES_FROM_INDICES_HEADER_COPY="Based on your indices and aliases";var app=_modules.uiModules.get("xpack/watcher");app.directive("indexSelect",function($injector){var indicesService=$injector.get("xpackWatcherIndicesService");var indexPatternsService=$injector.get("indexPatterns");var $timeout=$injector.get("$timeout");return{restrict:"E",template:_index_select2.default,scope:{index:"=",onChange:"=",onTouched:"="},controllerAs:"indexSelect",bindToController:true,link:function link($scope,$ele){var $searchBox=$ele.find('input[type="search"]');$scope.indexSelect.$searchBox=$searchBox;$searchBox.attr("id","indexSelectSearchBox")},controller:function(_InitAfterBindingsWor){_inherits(IndexSelectController,_InitAfterBindingsWor);function IndexSelectController(){_classCallCheck(this,IndexSelectController);return _possibleConstructorReturn(this,(IndexSelectController.__proto__||Object.getPrototypeOf(IndexSelectController)).apply(this,arguments))}_createClass(IndexSelectController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.$scope=$scope;this.indexPattern=undefined;this.fetchingWithNoIndices=true;this.selectedIndices=[];this.fetchedIndices=[];if(Boolean(this.index)){if(Array.isArray(this.index)){var _selectedIndices;(_selectedIndices=this.selectedIndices).push.apply(_selectedIndices,_toConsumableArray(this.index.map(mapIndex)))}else{this.selectedIndices.push(mapIndex(this.index))}}if(this.onTouched){$timeout(function(){_this2.$searchBox.on("blur",function(){$scope.$apply(_this2.onTouched)})});$scope.$on("$destroy",function(){_this2.$searchBox.off("blur")})}$scope.$watch("indexSelect.index",function(){$timeout(function(){$scope.$$childHead.$select.sizeSearchInput()},100)})}},{key:"onIndicesChanged",value:function onIndicesChanged(){var indexNames=(0,_lodash.pluck)(this.selectedIndices,"indexName");this.onChange(indexNames)}},{key:"onNewItem",value:function onNewItem(unmatchedIndexPattern){return mapIndex(unmatchedIndexPattern)}},{key:"groupIndices",value:function groupIndices(index){if(index.isFromIndexPattern){return INDICES_FROM_INDEX_PATTERNS_HEADER_COPY}if(index.isUserEntered){return INDICES_FOR_CREATION_HEADER_COPY}return INDICES_FROM_INDICES_HEADER_COPY}},{key:"sortGroupedIndices",value:function sortGroupedIndices(grouped){return(0,_lodash.sortBy)(grouped,function(group){return group.name})}},{key:"onDropdownToggled",value:function onDropdownToggled(isOpen){if(!isOpen){this.reset()}}},{key:"reset",value:function reset(){this.fetchedIndices.length=0;this.indexPattern=undefined}},{key:"fetchIndices",value:function fetchIndices(indexPattern){var _this3=this;if(!Boolean(indexPattern)){this.reset();return}this.indexPattern=indexPattern;var pattern=indexPattern;if(!(0,_lodash.endsWith)(pattern,"*")){pattern+="*"}if(!(0,_lodash.startsWith)(pattern,"*")){pattern="*"+pattern}var promises=[indicesService.getMatchingIndices(pattern),indexPatternsService.getTitles()];if(this.fetchedIndices.length===0){this.fetchingWithNoIndices=true}Promise.all(promises).then(function(_ref){var _ref2=_slicedToArray(_ref,2),allIndices=_ref2[0],allIndexPatterns=_ref2[1];var indices=collapseIndices(allIndices,allIndexPatterns);_this3.fetchedIndices=(0,_lodash.sortBy)(indices,"indexName");_this3.fetchedIndices.push(mapIndex(_this3.indexPattern,false,true));_this3.fetchingWithNoIndices=false;_this3.$scope.$apply()})}},{key:"hasIndexPattern",get:function get(){return Boolean(this.indexPattern)}}]);return IndexSelectController}(_compat.InitAfterBindingsWorkaround)}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4537)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _indices_service=__webpack_require__(4538);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherIndicesService",function($injector){var $http=$injector.get("$http");return new _indices_service.IndicesService($http)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndicesService=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(30);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var IndicesService=exports.IndicesService=function(){function IndicesService($http){_classCallCheck(this,IndicesService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(IndicesService,[{key:"getMatchingIndices",value:function getMatchingIndices(pattern){return this.$http.post(this.basePath+"/indices",{pattern:pattern}).then(function(response){return response.data.indices})}}]);return IndicesService}()},function(module,exports){module.exports='<div\n  class="indexSelect"\n  ng-class="{\n    \'indexSelect--activeSearch\': indexSelect.hasIndexPattern,\n    \'indexSelect--noSearch\': !indexSelect.hasIndexPattern,\n    \'indexSelect--fetchingWithNoIndices\': indexSelect.fetchingWithNoIndices\n  }"\n>\n  <ui-select\n    ng-model="indexSelect.selectedIndices"\n    on-select="indexSelect.onIndicesChanged()"\n    on-remove="indexSelect.onIndicesChanged()"\n    uis-open-close="indexSelect.onDropdownToggled(isOpen)"\n    multiple\n  >\n    <ui-select-match\n      placeholder="{{ \'xpack.watcher.indexSelect.startTypingPlaceholder\' | i18n: { defaultMessage: \'Start typing…\' } }}"\n    >\n      {{$item.indexName}}\n    </ui-select-match>\n    <ui-select-choices\n      repeat="index in indexSelect.fetchedIndices | filter: {indexName: $select.search}"\n      refresh="indexSelect.fetchIndices($select.search)"\n      refresh-delay="300"\n      group-by="indexSelect.groupIndices"\n      group-filter="indexSelect.sortGroupedIndices"\n    >\n      <div class="actionTypeChoice">\n        <div class="actionTypeDescription">\n          <div\n            class="indexSelectionName"\n            ng-bind-html="index.indexName | highlight: $select.search"\n          >\n          </div>\n        </div>\n      </div>\n    </ui-select-choices>\n    <ui-select-no-choice>\n      <p\n        class="indexSelectNoChoice"\n        i18n-id="xpack.watcher.indexSelect.buildingListTextMessage"\n        i18n-default-message="Building list… please wait"\n      ></p>\n    </ui-select-no-choice>\n  </ui-select>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(4);var _compat=__webpack_require__(68);var _constants=__webpack_require__(792);var _duration_select=__webpack_require__(4541);var _duration_select2=_interopRequireDefault(_duration_select);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);__webpack_require__(251);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("durationSelect",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{require:"^form",scope:{durationId:"@",minimumUnit:"=",minimumSize:"=",unit:"=",size:"=",describedBy:"@"},template:_duration_select2.default,replace:true,controllerAs:"durationSelect",bindToController:true,link:function link($scope,$element,$attrs,$ctrl){$scope.durationSelect.form=$ctrl},controller:function(_InitAfterBindingsWor){_inherits(DurationSelectController,_InitAfterBindingsWor);function DurationSelectController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,DurationSelectController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=DurationSelectController.__proto__||Object.getPrototypeOf(DurationSelectController)).call.apply(_ref,[this].concat(args))),_this),_this.checkValidity=function(){var isValid=_this.duration>=_this.minimumDuration;var sizeName=_this.makeId("size");var unitName=_this.makeId("unit");if(_this.form[sizeName]){_this.form[sizeName].$setTouched(true);_this.form[sizeName].$setValidity("minimumDuration",isValid)}if(_this.form[unitName]){_this.form[unitName].$setTouched(true);_this.form[unitName].$setValidity("minimumDuration",isValid)}},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(DurationSelectController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.timeUnits=_constants.TIME_UNITS;this.makeId=htmlIdGeneratorFactory.create(["durationSelect",this.durationId]);$scope.$watchMulti(["durationSelect.minimumSize","durationSelect.minimumUnit"],function(_ref2){var _ref3=_slicedToArray(_ref2,2),minimumSize=_ref3[0],minimumUnit=_ref3[1];_this2.minimumDuration=_moment2.default.duration(Number(minimumSize),minimumUnit).asMilliseconds();_this2.checkValidity()});$scope.$watchMulti(["durationSelect.size","durationSelect.unit"],function(_ref4){var _ref5=_slicedToArray(_ref4,2),size=_ref5[0],unit=_ref5[1];_this2.duration=_moment2.default.duration(Number(size),unit).asMilliseconds();_this2.checkValidity()})}}]);return DurationSelectController}(_compat.InitAfterBindingsWorkaround)}})},function(module,exports){module.exports='<div class="durationSelect">\n  <input\n    id="{{durationSelect.makeId(\'size\')}}"\n    name="{{durationSelect.makeId(\'size\')}}"\n    type="number"\n    class="durationSelectSize kuiTextInput watcherNumberInput"\n    min="0"\n    required\n    ng-model="durationSelect.size"\n    aria-label="{{ \'xpack.watcher.durationSelect.durationAmountAriaLabel\' | i18n: { defaultMessage: \'Duration amount\' } }}"\n    aria-describedby="{{durationSelect.describedBy}}"\n  >\n\n  <select\n    id="{{durationSelect.makeId(\'unit\')}}"\n    name="{{durationSelect.makeId(\'unit\')}}"\n    class="durationSelectUnit kuiSelect"\n    required\n    ng-model="durationSelect.unit"\n    ng-options="commonTimeUnit as timeUnit.labelPlural for (commonTimeUnit, timeUnit) in durationSelect.timeUnits"\n    aria-label="{{ \'xpack.watcher.durationSelect.durationTimeUnitAriaLabel\' | i18n: { defaultMessage: \'Duration time unit\' } }}"\n    aria-describedby="{{durationSelect.describedBy}}"\n  ></select>\n<div>\n'},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _html_id_generator_service=__webpack_require__(4543);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherHtmlIdGeneratorFactory",function(){return{create:function create(){return _html_id_generator_service.createHtmlIdGenerator.apply(undefined,arguments)}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createHtmlIdGenerator=createHtmlIdGenerator;var _lodash=__webpack_require__(1);function createHtmlIdGenerator(){var rootPartOrParts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var rootParts=Array.isArray(rootPartOrParts)?rootPartOrParts:[rootPartOrParts];var cache={};return function(parts){var useRootParts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!cache[parts]){var root=useRootParts?rootParts:[];var combined=root.concat(parts);var id=(0,_lodash.camelCase)(combined);cache[parts]=id}return cache[parts]}}},function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _jquery=__webpack_require__(17);var _jquery2=_interopRequireDefault(_jquery);var _modules=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("xpack/watcher");app.directive("xpackAriaDescribes",function(){return{restrict:"A",link:function link($scope,$ele,attr){if(!Object.keys(attr).includes("id")){throw new Error('An element with xpack-aria-describes="'+attr.xpackAriaDescribes+'" does not have an id attribute defined')}var selector="";function updateAriaDescribedBy(elementId,targetIdList,targetLength){var remove=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!elementId||!targetIdList||targetLength===0){return}var targetIds=targetIdList.split(" ");targetIds.forEach(function(targetId){var $target=(0,_jquery2.default)("#"+targetId);var describedby=$target.attr("aria-describedby");var describedByParts=describedby?describedby.split(" "):[];var targetIndex=describedByParts.indexOf(elementId);if(remove){if(targetIndex!==-1){describedByParts.splice(targetIndex,1)}}else{if(targetIndex===-1){describedByParts.push(elementId)}}if(describedByParts.length===0){$target.removeAttr("aria-describedby")}else{var newDescribedBy=describedByParts.join(" ");$target.attr("aria-describedby",newDescribedBy)}})}$scope.$watch(function(){return attr.xpackAriaDescribes},function(xpackAriaDescribes){var ids=xpackAriaDescribes.split(" ");selector=ids.map(function(id){return"#"+id}).join(",");$scope.targetIdList=xpackAriaDescribes});$scope.$watchMulti([function(){return attr.id},"targetIdList",function(){return(0,_jquery2.default)(selector).length}],function(_ref){var _ref2=_slicedToArray(_ref,3),elementId=_ref2[0],targetIdList=_ref2[1],targetLength=_ref2[2];updateAriaDescribedBy(elementId,targetIdList,targetLength)});$scope.$on("$destroy",function(){var elementId=attr.id;var targetIdList=$scope.targetIdList;var targetLength=(0,_jquery2.default)(selector).length;updateAriaDescribedBy(elementId,targetIdList,targetLength,true)})}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4546)},function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _threshold_watch_expression=__webpack_require__(4547);var _threshold_watch_expression2=_interopRequireDefault(_threshold_watch_expression);__webpack_require__(4548);__webpack_require__(4552);__webpack_require__(4555);__webpack_require__(4558);__webpack_require__(4561);__webpack_require__(4564);var _agg_types=__webpack_require__(4573);var _comparators=__webpack_require__(4574);var _group_by_types=__webpack_require__(4575);var _constants=__webpack_require__(792);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchExpression",function(){return{restrict:"E",template:_threshold_watch_expression2.default,scope:{thresholdWatch:"=",fields:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"="},bindToController:true,controllerAs:"thresholdWatchExpression",controller:function ThresholdWatchExpressionController($scope){var _this=this;_classCallCheck(this,ThresholdWatchExpressionController);this.onAggTypeChange=function(aggType){if(!_this.initialized){return}_this.aggType=aggType;if(aggType.fieldRequired){_this.items["agg-field"].isVisible=true;_this.aggFields=(0,_lodash.filter)(_this.fields,function(field){return(0,_lodash.includes)(aggType.validNormalizedTypes,field.normalizedType)});if(!(0,_lodash.includes)(_this.aggFields,_this.aggField)){_this.onAggFieldChange(null)}}else{_this.items["agg-field"].isVisible=false;_this.onAggFieldChange(null)}_this.thresholdWatch.aggType=aggType?aggType.value:null;_this.onChange(_this.thresholdWatch)};this.onAggFieldChange=function(aggField){if(!_this.initialized){return}_this.aggField=aggField;_this.thresholdWatch.aggField=aggField?aggField.name:null;_this.onChange(_this.thresholdWatch)};this.onGroupByChange=function(_ref,_ref2){var _ref4=_slicedToArray(_ref,3),groupByType=_ref4[0],termSize=_ref4[1],termField=_ref4[2];var _ref3=_slicedToArray(_ref2,1),oldGroupByType=_ref3[0];if(!_this.initialized){return}_this.groupByType=groupByType;_this.termSize=termSize;_this.termField=termField;if(groupByType!==oldGroupByType){_this.termFields=(0,_lodash.filter)(_this.fields,function(field){return(0,_lodash.includes)(_this.groupByType.validNormalizedTypes,field.normalizedType)});if(Boolean(oldGroupByType)){if(_this.groupByType===_this.groupByTypes.all){_this.termSize=null;_this.termField=null}else{_this.termSize=_this.thresholdWatch.DEFAULT_VALUES.TERM_SIZE}}}_this.thresholdWatch.termSize=_this.termSize;_this.thresholdWatch.termField=_this.termField?_this.termField.name:null;_this.onChange(_this.thresholdWatch)};this.onThresholdLevelChange=function(_ref5){var _ref6=_slicedToArray(_ref5,2),thresholdComparator=_ref6[0],threshold=_ref6[1];if(!_this.initialized){return}_this.thresholdComparator=thresholdComparator;_this.threshold=threshold;_this.thresholdWatch.thresholdComparator=_this.thresholdComparator.value;_this.thresholdWatch.threshold=_this.threshold;_this.onChange(_this.thresholdWatch)};this.onTimeWindowChange=function(_ref7){var _ref8=_slicedToArray(_ref7,2),timeWindowSize=_ref8[0],timeWindowUnit=_ref8[1];if(!_this.initialized){return}_this.timeWindowSize=timeWindowSize;_this.timeWindowUnit=timeWindowUnit;_this.thresholdWatch.timeWindowSize=_this.timeWindowSize;_this.thresholdWatch.timeWindowUnit=_this.timeWindowUnit;_this.onChange(_this.thresholdWatch)};this.isItemVisible=function(itemId){return _this.items[itemId].isVisible};this.isItemOpen=function(itemId){return _this.items[itemId].isOpen};this.onItemOpen=function(itemId){(0,_lodash.forEach)(_this.items,function(item,id){item.isOpen=itemId===id})};this.onItemClose=function(itemId){_this.items[itemId].isOpen=false};this.isExpressionValid=function(){return(0,_lodash.every)(_this.items,function(item){return item.isValid||!item.isVisible})};this.showExpressionValidation=function(){return(0,_lodash.some)(_this.items,function(item){return!item.isValid&&item.isVisible&&item.isDirty})};this.checkValidity=function(){if(_this.isExpressionValid()){_this.onValid()}else{_this.onInvalid()}};this.onItemValid=function(itemId){_this.items[itemId].isValid=true;_this.checkValidity()};this.onItemInvalid=function(itemId){_this.items[itemId].isValid=false;_this.checkValidity()};this.onItemDirty=function(itemId){_this.items[itemId].isDirty=true};this.onItemPristine=function(itemId){_this.items[itemId].isDirty=false};this.items={"agg-type":{isOpen:false,isVisible:true,isValid:true},"agg-field":{isOpen:false,isVisible:false,isValid:true},"group-by":{isOpen:false,isVisible:true,isValid:true},"threshold-level":{isOpen:false,isVisible:true,isValid:true},"time-window":{isOpen:false,isVisible:true,isValid:true}};this.aggTypes=_agg_types.aggTypes;this.groupByTypes=_group_by_types.groupByTypes;this.comparators=_comparators.comparators;this.timeUnits=_constants.TIME_UNITS;this.initialized=false;this.dirty=false;$scope.$watchGroup(["thresholdWatchExpression.thresholdWatch","thresholdWatchExpression.fields"],function(_ref9){var _ref10=_slicedToArray(_ref9,2),thresholdWatch=_ref10[0],fields=_ref10[1];if(!thresholdWatch||!fields){return}_this.aggType=(0,_lodash.find)(_this.aggTypes,{value:_this.thresholdWatch.aggType});_this.aggField=(0,_lodash.find)(_this.fields,{name:_this.thresholdWatch.aggField});_this.groupByType=_this.thresholdWatch.termField?_this.groupByTypes.top:_this.groupByTypes.all;_this.termSize=_this.thresholdWatch.termSize;_this.termField=(0,_lodash.find)(_this.fields,{name:_this.thresholdWatch.termField});_this.threshold=_this.thresholdWatch.threshold;_this.thresholdComparator=(0,_lodash.find)(_this.comparators,{value:_this.thresholdWatch.thresholdComparator});_this.timeWindowSize=_this.thresholdWatch.timeWindowSize;_this.timeWindowUnit=_this.thresholdWatch.timeWindowUnit;_this.initialized=true})}}})},function(module,exports){module.exports='<expression-builder class="thresholdWatchExpression">\n  <div\n    class="kuiInputNote kuiInputNote--danger"\n    ng-show="thresholdWatchExpression.showExpressionValidation()"\n    i18n-id="xpack.watcher.thresholdWatchExpression.fixErrorInExpressionBelowValidationMessage"\n    i18n-default-message="Please fix the errors in the expression below."\n  ></div>\n\n  <threshold-watch-agg-type\n    item-id="agg-type"\n    agg-types="thresholdWatchExpression.aggTypes"\n    agg-type="thresholdWatchExpression.aggType"\n    is-open="thresholdWatchExpression.isItemOpen(\'agg-type\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'agg-type\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onAggTypeChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-agg-type>\n\n  <threshold-watch-agg-field\n    item-id="agg-field"\n    agg-fields="thresholdWatchExpression.aggFields"\n    agg-field="thresholdWatchExpression.aggField"\n    is-open="thresholdWatchExpression.isItemOpen(\'agg-field\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'agg-field\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onAggFieldChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-agg-field>\n\n  <threshold-watch-group-by\n    item-id="group-by"\n    group-by-types="thresholdWatchExpression.groupByTypes"\n    group-by-type="thresholdWatchExpression.groupByType"\n    term-size="thresholdWatchExpression.termSize"\n    term-fields="thresholdWatchExpression.termFields"\n    term-field="thresholdWatchExpression.termField"\n    is-open="thresholdWatchExpression.isItemOpen(\'group-by\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'group-by\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onGroupByChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-group-by>\n\n  <threshold-watch-threshold-level\n    item-id="threshold-level"\n    comparators="thresholdWatchExpression.comparators"\n    threshold-comparator="thresholdWatchExpression.thresholdComparator"\n    threshold="thresholdWatchExpression.threshold"\n    is-open="thresholdWatchExpression.isItemOpen(\'threshold-level\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'threshold-level\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onThresholdLevelChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-threshold-level>\n\n  <threshold-watch-time-window\n    item-id="time-window"\n    time-window-units="thresholdWatchExpression.timeUnits"\n    time-window-size="thresholdWatchExpression.timeWindowSize"\n    time-window-unit="thresholdWatchExpression.timeWindowUnit"\n    is-open="thresholdWatchExpression.isItemOpen(\'time-window\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'time-window\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onTimeWindowChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-time-window>\n\n</expression-builder>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4549)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(4);var _threshold_watch_agg_type=__webpack_require__(4550);var _threshold_watch_agg_type2=_interopRequireDefault(_threshold_watch_agg_type);var _threshold_watch_base=__webpack_require__(435);__webpack_require__(251);__webpack_require__(269);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchAggType",function($injector,i18n){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_agg_type2.default,scope:{itemId:"@",aggTypes:"=",aggType:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:true,controllerAs:"thresholdWatchAggType",controller:function(_ThresholdWatchBaseCo){_inherits(ThresholdWatchAggTypeController,_ThresholdWatchBaseCo);function ThresholdWatchAggTypeController(){_classCallCheck(this,ThresholdWatchAggTypeController);return _possibleConstructorReturn(this,(ThresholdWatchAggTypeController.__proto__||Object.getPrototypeOf(ThresholdWatchAggTypeController)).apply(this,arguments))}_createClass(ThresholdWatchAggTypeController,[{key:"initAfterBindings",value:function initAfterBindings($scope){this.makeId=htmlIdGeneratorFactory.create();$scope.$watch("thresholdWatchAggType.aggType",this.onChange);$scope.$watch("thresholdWatchAggType.form.$valid",this.checkValidity);$scope.$watch("thresholdWatchAggType.form.$dirty",this.checkDirty);this.itemDescription=i18n("xpack.watcher.thresholdWatchExpression.aggType.itemDescription",{defaultMessage:"When"})}},{key:"itemValue",get:function get(){return this.aggType?this.aggType.label:""}}]);return ThresholdWatchAggTypeController}(_threshold_watch_base.ThresholdWatchBaseController)}})},function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchAggType.itemId }}"\n  description="thresholdWatchAggType.itemDescription"\n  value="thresholdWatchAggType.itemValue"\n  is-open="thresholdWatchAggType.isOpen"\n  is-visible="thresholdWatchAggType.isVisible"\n  on-open="thresholdWatchAggType.onOpen"\n  on-close="thresholdWatchAggType.onClose"\n  is-valid="thresholdWatchAggType.isValid"\n  is-dirty="thresholdWatchAggType.isDirty"\n  form="thresholdWatchAggType.form"\n>\n  <form name="thresholdWatchAggType.form" novalidate>\n    <div\n      id="{{thresholdWatchAggType.makeId([\'aggType\', \'required\'])}}\'"\n      xpack-aria-describes="{{thresholdWatchAggType.makeId(\'aggType\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchAggType.isValidationMessageVisible(\'aggType\', \'required\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.aggType.requiredTypeValidationMessage"\n      i18n-default-message="Please select an aggregation type."\n    ></div>\n    <select\n      id="{{thresholdWatchAggType.makeId(\'aggType\')}}"\n      class="kuiSelect"\n      name="aggType"\n      required\n      ng-model="thresholdWatchAggType.aggType"\n      ng-options="aggType as aggType.label for aggType in thresholdWatchAggType.aggTypes"\n    ></select>\n  </form>\n</expression-item>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ThresholdWatchBaseController=undefined;var _compat=__webpack_require__(68);var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ThresholdWatchBaseController=exports.ThresholdWatchBaseController=function(_InitAfterBindingsWor){_inherits(ThresholdWatchBaseController,_InitAfterBindingsWor);function ThresholdWatchBaseController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ThresholdWatchBaseController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ThresholdWatchBaseController.__proto__||Object.getPrototypeOf(ThresholdWatchBaseController)).call.apply(_ref,[this].concat(args))),_this),_this.checkValidity=function(){if(_this.isValid()){_this.onValid(_this.itemId)}else{_this.onInvalid(_this.itemId)}},_this.checkDirty=function(){if(_this.form.$dirty){_this.onDirty(_this.itemId)}else{_this.onPristine(_this.itemId)}},_this.resetForm=function(){(0,_lodash.forEach)(_this.form,function(control){if(Boolean(control)&&typeof control.$setViewValue==="function"){control.$setViewValue(undefined)}});_this.form.$setPristine();_this.form.$setUntouched()},_this.isValid=function(){return!_this.form.$invalid},_this.isDirty=function(){return _this.form.$dirty},_this.isValidationMessageVisible=function(fieldName,errorType){var showIfOtherErrors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var showMessage=_this.form[fieldName]&&(_this.form[fieldName].$touched||_this.form[fieldName].$dirty)&&_this.form[fieldName].$error[errorType];if(showMessage&&!showIfOtherErrors&&(0,_lodash.size)(_this.form[fieldName].$error)>1){showMessage=false}return showMessage},_temp),_possibleConstructorReturn(_this,_ret)}return ThresholdWatchBaseController}(_compat.InitAfterBindingsWorkaround)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4553)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(4);var _threshold_watch_agg_field=__webpack_require__(4554);var _threshold_watch_agg_field2=_interopRequireDefault(_threshold_watch_agg_field);var _threshold_watch_base=__webpack_require__(435);__webpack_require__(251);__webpack_require__(269);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchAggField",function($injector,i18n){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_agg_field2.default,scope:{itemId:"@",aggFields:"=",aggField:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:true,controllerAs:"thresholdWatchAggField",controller:function(_ThresholdWatchBaseCo){_inherits(ThresholdWatchAggFieldController,_ThresholdWatchBaseCo);function ThresholdWatchAggFieldController(){_classCallCheck(this,ThresholdWatchAggFieldController);return _possibleConstructorReturn(this,(ThresholdWatchAggFieldController.__proto__||Object.getPrototypeOf(ThresholdWatchAggFieldController)).apply(this,arguments))}_createClass(ThresholdWatchAggFieldController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.makeId=htmlIdGeneratorFactory.create();$scope.$watch("thresholdWatchAggField.aggField",this.onChange);$scope.$watch("thresholdWatchAggField.form.$valid",this.checkValidity);$scope.$watch("thresholdWatchAggField.form.$dirty",this.checkDirty);$scope.$watch("thresholdWatchAggField.isVisible",function(isVisible,wasVisible){_this2.checkValidity();if(!isVisible&&wasVisible){_this2.resetForm();_this2.checkDirty()}});this.itemDescription=i18n("xpack.watcher.thresholdWatchExpression.aggField.itemDescription",{defaultMessage:"Of"})}},{key:"itemValue",get:function get(){return this.aggField?this.aggField.name:i18n("xpack.watcher.thresholdWatchExpression.aggField.selectFieldTextMessage",{defaultMessage:"select a field"})}}]);return ThresholdWatchAggFieldController}(_threshold_watch_base.ThresholdWatchBaseController)}})},function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchAggField.itemId }}"\n  description="thresholdWatchAggField.itemDescription"\n  value="thresholdWatchAggField.itemValue"\n  is-open="thresholdWatchAggField.isOpen"\n  is-visible="thresholdWatchAggField.isVisible"\n  on-open="thresholdWatchAggField.onOpen"\n  on-close="thresholdWatchAggField.onClose"\n  is-valid="thresholdWatchAggField.isValid"\n  is-dirty="thresholdWatchAggField.isDirty"\n  form="thresholdWatchAggField.form"\n>\n  <form name="thresholdWatchAggField.form" novalidate>\n    <div\n      id="{{thresholdWatchAggField.makeId([\'aggField\', \'required\'])}}\'"\n      xpack-aria-describes="{{thresholdWatchAggField.makeId(\'aggField\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchAggField.isValidationMessageVisible(\'aggField\', \'required\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.aggType.fieldIsRequiredValidationMessage"\n      i18n-default-message="Please select a field."\n    ></div>\n    <select\n      id="{{thresholdWatchAggField.makeId(\'aggField\')}}"\n      class="kuiSelect"\n      name="aggField"\n      required\n      ng-model="thresholdWatchAggField.aggField"\n      ng-options="aggField as aggField.name group by aggField.normalizedType for aggField in thresholdWatchAggField.aggFields"\n    >\n      <option\n        value=""\n        i18n-id="xpack.watcher.thresholdWatchExpression.aggType.selectFieldDropdownPlaceholder"\n        i18n-default-message="Select a field…"\n      ></option>\n    </select>\n  </form>\n</expression-item>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4556)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(4);var _threshold_watch_group_by=__webpack_require__(4557);var _threshold_watch_group_by2=_interopRequireDefault(_threshold_watch_group_by);var _threshold_watch_base=__webpack_require__(435);__webpack_require__(251);__webpack_require__(269);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchGroupBy",function($injector,i18n){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_group_by2.default,scope:{itemId:"@",groupByTypes:"=",groupByType:"=",termSize:"=",termFields:"=",termField:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:true,controllerAs:"thresholdWatchGroupBy",controller:function(_ThresholdWatchBaseCo){_inherits(ThresholdWatchGroupByController,_ThresholdWatchBaseCo);function ThresholdWatchGroupByController(){_classCallCheck(this,ThresholdWatchGroupByController);return _possibleConstructorReturn(this,(ThresholdWatchGroupByController.__proto__||Object.getPrototypeOf(ThresholdWatchGroupByController)).apply(this,arguments))}_createClass(ThresholdWatchGroupByController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.makeId=htmlIdGeneratorFactory.create();$scope.$watchMulti(["thresholdWatchGroupBy.groupByType","thresholdWatchGroupBy.termSize","thresholdWatchGroupBy.termField"],this.onChange);$scope.$watch("thresholdWatchGroupBy.groupByType",function(){_this2.resetForm();_this2.checkDirty()});$scope.$watch("thresholdWatchGroupBy.form.$valid",this.checkValidity);$scope.$watch("thresholdWatchGroupBy.form.$dirty",this.checkDirty)}},{key:"itemDescription",get:function get(){var itemDescription=this.groupByType&&this.groupByType.sizeRequired?i18n("xpack.watcher.thresholdWatchExpression.groupBy.groupedItemDescription",{defaultMessage:"Grouped over"}):i18n("xpack.watcher.thresholdWatchExpression.groupBy.itemDescription",{defaultMessage:"Over"});return itemDescription}},{key:"itemValue",get:function get(){if(!this.groupByType){return}var sizeRequired=this.groupByType.sizeRequired;var typeLabel=this.groupByType.label;var sizeLabel=sizeRequired&&this.termSize?" "+this.termSize:"";var fieldLabel=sizeRequired&&this.termField?" '"+this.termField.name+"'":"";return""+typeLabel+sizeLabel+fieldLabel}}]);return ThresholdWatchGroupByController}(_threshold_watch_base.ThresholdWatchBaseController)}})},function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchGroupBy.itemId }}"\n  description="thresholdWatchGroupBy.itemDescription"\n  value="thresholdWatchGroupBy.itemValue"\n  is-open="thresholdWatchGroupBy.isOpen"\n  is-visible="thresholdWatchGroupBy.isVisible"\n  on-open="thresholdWatchGroupBy.onOpen"\n  on-close="thresholdWatchGroupBy.onClose"\n  is-valid="thresholdWatchGroupBy.isValid"\n  is-dirty="thresholdWatchGroupBy.isDirty"\n  form="thresholdWatchGroupBy.form"\n>\n  <form name="thresholdWatchGroupBy.form" novalidate>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termSize\', \'required\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termSize\', \'required\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.groupBy.requiredValueValidationMessage"\n      i18n-default-message="A value is required."\n    ></div>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termSize\', \'number\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termSize\', \'number\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.groupBy.valueMustBeValidNumberValidationMessage"\n      i18n-default-message="Value must be a valid number."\n    ></div>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termSize\', \'min\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termSize\', \'min\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.groupBy.valueMustBeGraterThanZeroValidationMessage"\n      i18n-default-message="Value must be greater than 0."\n    ></div>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termField\', \'required\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termField\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termField\', \'required\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.groupBy.requiredFieldValidationMessage"\n      i18n-default-message="Please select a field."\n    ></div>\n    <select\n      id="{{thresholdWatchGroupBy.makeId(\'groupByType\')}}"\n      class="kuiSelect"\n      ng-model="thresholdWatchGroupBy.groupByType"\n      ng-options="groupByType as groupByType.label for groupByType in thresholdWatchGroupBy.groupByTypes"\n    ></select>\n    <input\n      id="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      name="termSize"\n      type="number"\n      min="1"\n      required\n      class="kuiTextInput watcherNumberInput"\n      ng-model="thresholdWatchGroupBy.termSize"\n      ng-if="thresholdWatchGroupBy.groupByType.sizeRequired">\n    <select\n      class="kuiSelect"\n      id="{{thresholdWatchGroupBy.makeId(\'termField\')}}"\n      name="termField"\n      required\n      ng-model="thresholdWatchGroupBy.termField"\n      ng-options="termField as termField.name group by termField.normalizedType for termField in thresholdWatchGroupBy.termFields"\n      ng-if="thresholdWatchGroupBy.groupByType.sizeRequired"\n    >\n      <option\n        value=""\n        i18n-id="xpack.watcher.thresholdWatchExpression.groupBy.selectFieldDropdownPlaceholder"\n        i18n-default-message="Select a field…"\n      ></option>\n    </select>\n  </form>\n</expression-item>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4559)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(4);var _threshold_watch_threshold_level=__webpack_require__(4560);var _threshold_watch_threshold_level2=_interopRequireDefault(_threshold_watch_threshold_level);var _threshold_watch_base=__webpack_require__(435);__webpack_require__(251);__webpack_require__(269);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchThresholdLevel",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_threshold_level2.default,scope:{itemId:"@",comparators:"=",thresholdComparator:"=",threshold:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:true,controllerAs:"thresholdWatchThresholdLevel",controller:function(_ThresholdWatchBaseCo){_inherits(ThresholdWatchThresholdLevelController,_ThresholdWatchBaseCo);function ThresholdWatchThresholdLevelController(){_classCallCheck(this,ThresholdWatchThresholdLevelController);return _possibleConstructorReturn(this,(ThresholdWatchThresholdLevelController.__proto__||Object.getPrototypeOf(ThresholdWatchThresholdLevelController)).apply(this,arguments))}_createClass(ThresholdWatchThresholdLevelController,[{key:"initAfterBindings",value:function initAfterBindings($scope){this.makeId=htmlIdGeneratorFactory.create();$scope.$watchMulti(["thresholdWatchThresholdLevel.thresholdComparator","thresholdWatchThresholdLevel.threshold"],this.onChange);$scope.$watch("thresholdWatchThresholdLevel.form.$valid",this.checkValidity);$scope.$watch("thresholdWatchThresholdLevel.form.$dirty",this.checkDirty)}},{key:"itemDescription",get:function get(){return this.thresholdComparator?this.thresholdComparator.label:""}},{key:"itemValue",get:function get(){return this.threshold}}]);return ThresholdWatchThresholdLevelController}(_threshold_watch_base.ThresholdWatchBaseController)}})},function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchThresholdLevel.itemId }}"\n  description="thresholdWatchThresholdLevel.itemDescription"\n  value="thresholdWatchThresholdLevel.itemValue"\n  is-open="thresholdWatchThresholdLevel.isOpen"\n  is-visible="thresholdWatchThresholdLevel.isVisible"\n  on-open="thresholdWatchThresholdLevel.onOpen"\n  on-close="thresholdWatchThresholdLevel.onClose"\n  is-valid="thresholdWatchThresholdLevel.isValid"\n  is-dirty="thresholdWatchThresholdLevel.isDirty"\n  form="thresholdWatchThresholdLevel.form"\n>\n  <form name="thresholdWatchThresholdLevel.form" novalidate>\n    <div\n      id="{{thresholdWatchThresholdLevel.makeId([\'threshold\', \'required\'])}}"\n      xpack-aria-describes="{{thresholdWatchThresholdLevel.makeId(\'threshold\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchThresholdLevel.isValidationMessageVisible(\'threshold\', \'required\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.thresholdLevel.valueIsRequiredValidationMessage"\n      i18n-default-message="A value is required."\n    ></div>\n    <div\n      id="{{thresholdWatchThresholdLevel.makeId([\'threshold\', \'number\'])}}"\n      xpack-aria-describes="{{thresholdWatchThresholdLevel.makeId(\'threshold\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchThresholdLevel.isValidationMessageVisible(\'threshold\', \'number\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.thresholdLevel.valueMustBeValidNumberValidationMessage"\n      i18n-default-message="Value must be a valid number."\n    ></div>\n    <select\n      id="{{thresholdWatchThresholdLevel.makeId(\'thresholdComparator\')}}"\n      name="thresholdComparator"\n      class="kuiSelect"\n      ng-model="thresholdWatchThresholdLevel.thresholdComparator"\n      ng-options="comparator as comparator.label for comparator in thresholdWatchThresholdLevel.comparators"\n    ></select>\n    <input\n      id="{{thresholdWatchThresholdLevel.makeId(\'threshold\')}}"\n      name="threshold"\n      type="number"\n      required\n      class="kuiTextInput watcherNumberInput"\n      ng-model="thresholdWatchThresholdLevel.threshold">\n  </form>\n</expression-item>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4562)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(4);var _threshold_watch_time_window=__webpack_require__(4563);var _threshold_watch_time_window2=_interopRequireDefault(_threshold_watch_time_window);var _constants=__webpack_require__(30);var _get_time_units_label=__webpack_require__(1333);var _threshold_watch_base=__webpack_require__(435);__webpack_require__(1339);__webpack_require__(251);__webpack_require__(269);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchTimeWindow",function($injector,i18n){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_time_window2.default,scope:{itemId:"@",timeWindowUnits:"=",timeWindowSize:"=",timeWindowUnit:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:true,controllerAs:"thresholdWatchTimeWindow",controller:function(_ThresholdWatchBaseCo){_inherits(ThresholdWatchTimeWindowController,_ThresholdWatchBaseCo);function ThresholdWatchTimeWindowController(){_classCallCheck(this,ThresholdWatchTimeWindowController);return _possibleConstructorReturn(this,(ThresholdWatchTimeWindowController.__proto__||Object.getPrototypeOf(ThresholdWatchTimeWindowController)).apply(this,arguments))}_createClass(ThresholdWatchTimeWindowController,[{key:"initAfterBindings",value:function initAfterBindings($scope){this.makeId=htmlIdGeneratorFactory.create();this.timeWindowMinimumUnit=_constants.TIME_UNITS.SECOND;this.timeWindowMinimumSize=10;$scope.$watchMulti(["thresholdWatchTimeWindow.timeWindowSize","thresholdWatchTimeWindow.timeWindowUnit"],this.onChange);$scope.$watch("thresholdWatchTimeWindow.form.$valid",this.checkValidity);$scope.$watch("thresholdWatchTimeWindow.form.$dirty",this.checkDirty)}},{key:"itemDescription",get:function get(){return i18n("xpack.watcher.thresholdWatchExpression.timeWindow.itemDescription",{defaultMessage:"For the last"})}},{key:"itemValue",get:function get(){var sizeLabel=!isNaN(this.timeWindowSize)?this.timeWindowSize+" ":"0";var unitLabel=Boolean(this.timeWindowUnit)?(0,_get_time_units_label.getTimeUnitsLabel)(this.timeWindowUnit,this.timeWindowSize):"";return sizeLabel+" "+unitLabel}}]);return ThresholdWatchTimeWindowController}(_threshold_watch_base.ThresholdWatchBaseController)}})},function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchTimeWindow.itemId }}"\n  description="thresholdWatchTimeWindow.itemDescription"\n  value="thresholdWatchTimeWindow.itemValue"\n  is-open="thresholdWatchTimeWindow.isOpen"\n  is-visible="thresholdWatchTimeWindow.isVisible"\n  on-open="thresholdWatchTimeWindow.onOpen"\n  on-close="thresholdWatchTimeWindow.onClose"\n  is-valid="thresholdWatchTimeWindow.isValid"\n  is-dirty="thresholdWatchTimeWindow.isDirty"\n  form="thresholdWatchTimeWindow.form"\n>\n  <form name="thresholdWatchTimeWindow.form" novalidate>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'required\'])}}"\n      xpack-aria-describes="durationSelectWindowSize"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'required\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.timeWindow.durationSizeIsRequiredValidationMessage"\n      i18n-default-message="Window duration size is required."\n    ></div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'min\'])}}"\n      aria-describes="durationSelectWindowSize"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'min\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.timeWindow.durationSizeMustBePositiveNumberValidationMessage"\n      i18n-default-message="Window duration size can not be a negative number."\n    ></div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'number\'])}}"\n      xpack-aria-describes="durationSelectWindowSize"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'number\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.timeWindow.durationSizeMustBeValidNumberValidationMessage"\n      i18n-default-message="Window duration size must be a valid number."\n    ></div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowUnit\', \'required\'])}}"\n      xpack-aria-describes="durationSelectWindowUnit"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowUnit\', \'required\')"\n      i18n-id="xpack.watcher.thresholdWatchExpression.timeWindow.durationUnitIsRequiredValidationMessage"\n      i18n-default-message="Window duration unit is required."\n    ></div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'minimumDuration\'])}}"\n      xpack-aria-describes="durationSelectWindowSize durationSelectWindowUnit"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'minimumDuration\', false)"\n      i18n-id="xpack.watcher.thresholdWatchExpression.timeWindow.durationIsTooShortValidationMessage"\n      i18n-default-message="Window duration is too short. The minimum allowed is {minimumSize}{minimumUnit}."\n      i18n-values="{ minimumSize: thresholdWatchTimeWindow.timeWindowMinimumSize, minimumUnit: thresholdWatchTimeWindow.timeWindowMinimumUnit }"\n    ></div>\n    <duration-select\n      duration-id="window"\n      minimum-unit="thresholdWatchTimeWindow.timeWindowMinimumUnit"\n      minimum-size="thresholdWatchTimeWindow.timeWindowMinimumSize"\n      unit="thresholdWatchTimeWindow.timeWindowUnit"\n      size="thresholdWatchTimeWindow.timeWindowSize"\n    ></duration-select>\n  </form>\n</expression-item>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4565)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _expression_builder=__webpack_require__(4566);var _expression_builder2=_interopRequireDefault(_expression_builder);__webpack_require__(4567);__webpack_require__(4570);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("expressionBuilder",function(){return{restrict:"E",replace:true,transclude:true,template:_expression_builder2.default,scope:{},bindToController:true,controllerAs:"expressionBuilder",controller:function BuilderController(){_classCallCheck(this,BuilderController)}}})},function(module,exports){module.exports="<div\n  ng-transclude\n></div>\n"},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4568)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _key_map=__webpack_require__(456);var _expression_item=__webpack_require__(4569);var _expression_item2=_interopRequireDefault(_expression_item);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("expressionItem",function($injector){var $document=$injector.get("$document");var $timeout=$injector.get("$timeout");return{restrict:"E",replace:true,require:"^expressionBuilder",transclude:true,template:_expression_item2.default,scope:{itemId:"@",description:"=",value:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",isValid:"=",isDirty:"=",form:"="},bindToController:true,controllerAs:"expressionItem",link:function link($scope,$el){$scope.expressionItem.$firstInput=$el.find('[data-id="expressionItemPopoverContent"]').find(":input:first");var $button=$el.find('[data-id="expressionItemButton"]');var buttonFocusOrClick=function buttonFocusOrClick(){$scope.$apply(function(){$scope.expressionItem.onPopoverOpen()})};var documentClick=function documentClick(event){if($el.find(event.originalEvent.target).length===0){$scope.$apply(function(){$scope.expressionItem.onPopoverClose()})}};var documentKeydown=function documentKeydown(event){if($scope.expressionItem.isOpen&&_key_map.keyMap[event.keyCode]==="escape"){$scope.$apply(function(){$scope.expressionItem.onPopoverClose()})}};$button.on("focus",buttonFocusOrClick);$button.on("click",buttonFocusOrClick);$document.on("click",documentClick);$document.on("keydown",documentKeydown);$scope.$on("$destroy",function(){$button.off("focus",buttonFocusOrClick);$button.off("click",buttonFocusOrClick);$document.off("click",documentClick);$document.off("keydown",documentKeydown)})},controller:function ExpressionItemController($scope){var _this=this;_classCallCheck(this,ExpressionItemController);this.onPopoverClose=function(){_this.onClose(_this.itemId)};this.onPopoverOpen=function(){_this.onOpen(_this.itemId)};$scope.$watch("expressionItem.isOpen",function(isOpen,wasOpen){if(isOpen){$timeout(function(){$scope.expressionItem.$firstInput.focus()})}else if(wasOpen){_this.form.$setTouched(true);_this.form.$setDirty(true)}})}}})},function(module,exports){module.exports='<div\n  class="kuiPopover kuiPopover--withTitle"\n  ng-class="{ \'kuiPopover-isOpen\': expressionItem.isOpen }"\n  ng-show="expressionItem.isVisible"\n>\n  <button\n    data-id="expressionItemButton"\n    class="kuiExpressionButton"\n    ng-class="{\n      \'kuiExpressionButton-isActive\': expressionItem.isOpen,\n      \'kuiExpressionButton-isError\': !expressionItem.isValid() && expressionItem.isDirty()\n    }">\n    <span class="kuiExpressionButton__description">\n      {{ expressionItem.description | uppercase }}\n    </span>\n    <span class="kuiExpressionButton__value">\n      {{ expressionItem.value | lowercase }}\n    </span>\n  </button>\n\n  <expression-popover\n    popover-title="expressionItem.description"\n  >\n    <div ng-transclude></div>\n  </expression-popover>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4571)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _expression_popover=__webpack_require__(4572);var _expression_popover2=_interopRequireDefault(_expression_popover);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("expressionPopover",function(){return{restrict:"E",replace:true,require:"^expressionItem",transclude:true,template:_expression_popover2.default,scope:{popoverTitle:"="},bindToController:true,controllerAs:"expressionPopover",controller:function ExpressionPopoverController(){_classCallCheck(this,ExpressionPopoverController)}}})},function(module,exports){module.exports='<div \n  class="kuiPanelSimple kuiPopover__panel"\n>\n  <div class="kuiPopoverTitle">\n    {{ expressionPopover.popoverTitle }}\n  </div>\n\n  <div\n    data-id="expressionItemPopoverContent"\n    class="kuiExpression"\n    ng-transclude\n  ></div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.aggTypes=undefined;var _constants=__webpack_require__(30);var aggTypes=exports.aggTypes={count:{label:"count()",fieldRequired:false,value:_constants.AGG_TYPES.COUNT},average:{label:"average()",fieldRequired:true,validNormalizedTypes:["number"],value:_constants.AGG_TYPES.AVERAGE},sum:{label:"sum()",fieldRequired:true,validNormalizedTypes:["number"],value:_constants.AGG_TYPES.SUM},min:{label:"min()",fieldRequired:true,validNormalizedTypes:["number","date"],value:_constants.AGG_TYPES.MIN},max:{label:"max()",fieldRequired:true,validNormalizedTypes:["number","date"],value:_constants.AGG_TYPES.MAX}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.comparators=undefined;var _i18n=__webpack_require__(9);var _constants=__webpack_require__(30);var comparators=exports.comparators={above:{label:_i18n.i18n.translate("xpack.watcher.thresholdWatchExpression.comparators.isAboveLabel",{defaultMessage:"Is above"}),value:_constants.COMPARATORS.GREATER_THAN},below:{label:_i18n.i18n.translate("xpack.watcher.thresholdWatchExpression.comparators.isBelowLabel",{defaultMessage:"Is below"}),value:_constants.COMPARATORS.LESS_THAN}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.groupByTypes=undefined;var _i18n=__webpack_require__(9);var groupByTypes=exports.groupByTypes={all:{label:_i18n.i18n.translate("xpack.watcher.thresholdWatchExpression.groupByLabel.allDocumentsLabel",{defaultMessage:"all documents"}),sizeRequired:false,value:"all",validNormalizedTypes:[]},top:{label:_i18n.i18n.translate("xpack.watcher.thresholdWatchExpression.groupByLabel.topLabel",{defaultMessage:"top"}),sizeRequired:true,value:"top",validNormalizedTypes:["number","date","keyword"]}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4577)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);__webpack_require__(334);var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _time_buckets=__webpack_require__(218);__webpack_require__(4578);__webpack_require__(4582);var _threshold_preview_chart=__webpack_require__(4585);var _threshold_preview_chart2=_interopRequireDefault(_threshold_preview_chart);var _constants=__webpack_require__(4586);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdPreviewChart",function($injector){var config=$injector.get("config");_moment2.default.tz.setDefault(config.get("dateFormat:tz"));return{restrict:"E",replace:true,template:_threshold_preview_chart2.default,scope:{series:"=",startDate:"=",endDate:"=",thresholdValue:"="},controllerAs:"thresholdPreviewChart",bindToController:true,controller:function(){function ThresholdPreviewChartController($scope){var _this=this;_classCallCheck(this,ThresholdPreviewChartController);this.updateOptions=function(options){var yAxisRange=_this.buildYAxisRange();_this.options=(0,_lodash.merge)({},_this.options,options,yAxisRange)};this.buildYAxisRange=function(){var parsedThreshold=Number.parseFloat(_this.thresholdValue);var series=_this.data[0];if(!series||!(0,_lodash.isNumber)(parsedThreshold)){return{yaxis:{min:null,max:null}}}var VALUE_INDEX=1;var options={yaxis:{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}};(0,_lodash.forEach)(series,function(seriesItem){var itemValue=seriesItem[VALUE_INDEX];if(itemValue!==null){options.yaxis.min=Math.min(options.yaxis.min,itemValue,parsedThreshold);options.yaxis.max=Math.max(options.yaxis.max,itemValue,parsedThreshold)}});return options};this.onPlotHover=function(event,pos,item,plot){if(!Boolean(item)){_this.dataPointTooltip=undefined;return}var plotLeft=plot.offset().left-window.pageXOffset;var plotTop=plot.offset().top-window.pageYOffset;_this.dataPointTooltip={plotPosition:{left:plotLeft,top:plotTop,right:plotLeft+plot.width(),bottom:plotTop+plot.height()},pointPosition:{left:item.pageX-window.pageXOffset,top:item.pageY-window.pageYOffset},xValue:item.datapoint[0],yValue:item.datapoint[1]}};this.formatAsMoment=function(msSinceEpoch){return(0,_moment2.default)(msSinceEpoch)};this.options={colors:[_constants.COLORS.SERIES_LINE],grid:{aboveData:true,borderColor:_constants.COLORS.CHART_BORDER,borderWidth:{top:0,right:0,bottom:2,left:2},hoverable:true,labelMargin:_constants.MARGINS.AXES_LABELS},series:{lines:{show:true,fill:true,fillColor:_constants.COLORS.AREA_FILL}},yaxis:{tickLength:0}};$scope.$watch("thresholdPreviewChart.series",function(series){_this.data=[series];var timeBuckets=new _time_buckets.TimeBuckets;timeBuckets.setBounds({min:_this.startDate,max:_this.endDate});var momentFormat=timeBuckets.getScaledDateFormat();var options={xaxis:{mode:"time",min:_this.startDate,max:_this.endDate,tickFormatter:function tickFormatter(val){return(0,_moment2.default)(val).format(momentFormat)}}};_this.updateOptions(options)});$scope.$watch("thresholdPreviewChart.thresholdValue",function(thresholdValue){var parsedThreshold=Number.parseFloat(thresholdValue);var options={grid:{markings:[]}};if((0,_lodash.isNumber)(parsedThreshold)){var thresholdLine={yaxis:{from:parsedThreshold,to:parsedThreshold},color:_constants.COLORS.THRESHOLD_LINE,lineWidth:_constants.LINE_WIDTHS.THRESHOLD_LINE};options.grid.markings.push(thresholdLine)}_this.updateOptions(options)})}_createClass(ThresholdPreviewChartController,[{key:"isDataExists",get:function get(){return Boolean(this.series)}}]);return ThresholdPreviewChartController}()}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4579)},function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _flot_chart=__webpack_require__(4580);var _flot_chart2=_interopRequireDefault(_flot_chart);var _jqueryFlot=__webpack_require__(612);var _jqueryFlot2=_interopRequireDefault(_jqueryFlot);var _constants=__webpack_require__(4581);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("flotChart",function(){return{restrict:"E",replace:true,template:_flot_chart2.default,scope:{data:"=",options:"=",onPlotHover:"="},controllerAs:"flotChart",bindToController:true,link:function link($scope,element){$scope.flotChart.container=element},controller:function FlotChartController($scope){var _this=this;_classCallCheck(this,FlotChartController);$scope.$watchMulti(["flotChart.data","flotChart.options"],function(_ref){var _ref2=_slicedToArray(_ref,2),data=_ref2[0],options=_ref2[1];_this.plot=_jqueryFlot2.default.plot(_this.container,data,options)});$scope.$watch("flotChart.onPlotHover",function(onPlotHover){_this.container.unbind("plothover");if((0,_lodash.isFunction)(onPlotHover)){_this.container.bind("plothover",(0,_lodash.debounce)(function(){for(var _len=arguments.length,params=Array(_len),_key=0;_key<_len;_key++){params[_key]=arguments[_key]}$scope.$apply(function(){return onPlotHover.apply(undefined,params.concat([_this.plot]))})},_constants.FLOT_EVENT_PLOT_HOVER_DEBOUNCE_MS))}});$scope.$on("$destroy",function(){_this.container.unbind("plothover")})}}})},function(module,exports){module.exports='<div class="flotChart"></div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var FLOT_EVENT_PLOT_HOVER_DEBOUNCE_MS=exports.FLOT_EVENT_PLOT_HOVER_DEBOUNCE_MS=20},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4583)},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _chart_tooltip=__webpack_require__(4584);var _chart_tooltip2=_interopRequireDefault(_chart_tooltip);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function calculateTooltipPosition(pointPosition,plotPosition,tooltipWidth,tooltipHeight){var tooltipPosition={top:(0,_lodash.get)(pointPosition,"top"),left:(0,_lodash.get)(pointPosition,"left")};var tooltipPositionBottom=pointPosition.top+tooltipHeight;var isTooltipBeyondPlotBottom=tooltipPositionBottom>(0,_lodash.get)(plotPosition,"bottom");if(isTooltipBeyondPlotBottom){tooltipPosition.top-=tooltipHeight}var tooltipPositionRight=pointPosition.left+tooltipWidth;var isTooltipBeyondPlotRight=tooltipPositionRight>(0,_lodash.get)(plotPosition,"right");if(isTooltipBeyondPlotRight){tooltipPosition.left-=tooltipWidth}return tooltipPosition}var app=_modules.uiModules.get("xpack/watcher");app.directive("chartTooltip",function(){return{restrict:"E",replace:true,transclude:true,template:_chart_tooltip2.default,scope:{pointPosition:"=",plotPosition:"="},controllerAs:"chartTooltip",bindToController:true,link:function link($scope,element){$scope.$watchGroup(["chartTooltip.pointPosition","chartTooltip.plotPosition"],function(){var pointPosition=$scope.chartTooltip.pointPosition;var plotPosition=$scope.chartTooltip.plotPosition;var tooltipMargin=parseInt(element.css("margin"));var tooltipWidth=element[0].scrollWidth+2*tooltipMargin;var tooltipHeight=element[0].scrollHeight+2*tooltipMargin;var tooltipPosition=calculateTooltipPosition(pointPosition,plotPosition,tooltipWidth,tooltipHeight);$scope.chartTooltip.style=tooltipPosition})},controller:function ChartTooltipController(){_classCallCheck(this,ChartTooltipController)}}})},function(module,exports){module.exports='<div\n  class="chartTooltip"\n  ng-style="chartTooltip.style"\n  ng-transclude\n></div>\n'},function(module,exports){module.exports='<div class="thresholdPreviewChart">\n  <p\n    class="thresholdPreviewChartNoData"\n    ng-if="!thresholdPreviewChart.isDataExists"\n    i18n-id="xpack.watcher.thresholdPreviewChart.dataDoesNotExistTextMessage"\n    i18n-default-message="Your index and condition did not return any data"\n  ></p>\n  <flot-chart\n    ng-if="thresholdPreviewChart.isDataExists"\n    data="thresholdPreviewChart.data"\n    options="thresholdPreviewChart.options"\n    on-plot-hover="thresholdPreviewChart.onPlotHover"\n  ></flot-chart>\n  <chart-tooltip\n    ng-if="thresholdPreviewChart.dataPointTooltip"\n    point-position="thresholdPreviewChart.dataPointTooltip.pointPosition"\n    plot-position="thresholdPreviewChart.dataPointTooltip.plotPosition"\n  >\n    <div class="chartTooltip__label">{{ thresholdPreviewChart.dataPointTooltip.yValue }}</div>\n    <div class="chartTooltip__value">{{ thresholdPreviewChart.formatAsMoment(thresholdPreviewChart.dataPointTooltip.xValue) | moment }}</div>\n  </chart-tooltip>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var COLORS=exports.COLORS={AREA_FILL:"#eff6f8",SERIES_LINE:"#25a1d1",THRESHOLD_LINE:"#dd1c74",CHART_BORDER:"#676767"};var LINE_WIDTHS=exports.LINE_WIDTHS={THRESHOLD_LINE:2};var MARGINS=exports.MARGINS={AXES_LABELS:10}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4588)},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _watch_actions=__webpack_require__(4589);var _watch_actions2=_interopRequireDefault(_watch_actions);__webpack_require__(4590);__webpack_require__(4603);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchActions",function(){return{restrict:"E",replace:true,template:_watch_actions2.default,scope:{actions:"=",onActionAdd:"=",onActionChange:"=",onActionSimulate:"=",onActionDelete:"=",onValid:"=",onInvalid:"="},bindToController:true,controllerAs:"watchActions",controller:function WatchActionsController($scope){var _this=this;_classCallCheck(this,WatchActionsController);this.onToggle=function(action){var item=(0,_lodash.find)(_this.items,{action:action});item.isCollapsed=!item.isCollapsed};this.onDelete=function(action){_this.onActionDelete(action);var item=(0,_lodash.find)(_this.items,{action:action});(0,_lodash.remove)(_this.items,item);_this.checkValidity()};this.onActionTypeChange=function(type){_this.onActionAdd(type);var oldActions=(0,_lodash.map)(_this.items,function(item){return item.action});var newActions=(0,_lodash.difference)(_this.actions,oldActions);(0,_lodash.forEach)(newActions,function(action){_this.items.push({action:action,isCollapsed:false})})};this.checkValidity=function(){var isValid=_this.items.length===0||_this.items.every(function(i){return i.isValid});if(isValid){_this.onValid(_this.action)}else{_this.onInvalid(_this.action)}};this.onActionValid=function(action){var item=(0,_lodash.find)(_this.items,{action:action});item.isValid=true;_this.checkValidity()};this.onActionInvalid=function(action){var item=(0,_lodash.find)(_this.items,{action:action});item.isValid=false;_this.checkValidity()};this.items=[];$scope.$watch("watchActions.actions",function(newVal){if(!Boolean(newVal)){return}_this.items=(0,_lodash.map)(newVal,function(action){return{action:action,isCollapsed:true,isValid:true}});_this.checkValidity()})}}})},function(module,exports){module.exports='<div class="watchActions">\n  <div class="watchActionsHeader">\n    <div\n      class="watchActionsHeaderTitle"\n      i18n-id="xpack.watcher.watchActionsTitle"\n      i18n-default-message="Will perform {watchActionsCount, plural, one{# action} other {# actions}} once met"\n      i18n-values="{ watchActionsCount: watchActions.items.length }"\n    ></div>\n    <action-type-select\n      class="watchActionsActionType"\n      on-change="watchActions.onActionTypeChange"\n    ></action-type-select>\n  </div>\n\n  <watch-action\n    ng-repeat="item in watchActions.items track by item.action.id"\n    action="item.action"\n    is-collapsed="item.isCollapsed"\n    is-valid="item.isValid"\n    on-toggle="watchActions.onToggle"\n    on-simulate="watchActions.onActionSimulate"\n    on-delete="watchActions.onDelete"\n    on-change="watchActions.onActionChange"\n    on-valid="watchActions.onActionValid"\n    on-invalid="watchActions.onActionInvalid"\n  ></watch-action>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4591)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _watch_action=__webpack_require__(4592);var _watch_action2=_interopRequireDefault(_watch_action);var _angular=__webpack_require__(21);var _angular2=_interopRequireDefault(_angular);__webpack_require__(4593);__webpack_require__(4597);__webpack_require__(4600);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchAction",function($injector){var $compile=$injector.get("$compile");return{restrict:"E",template:_watch_action2.default,replace:true,scope:{action:"=",isCollapsed:"=",isValid:"=",onChange:"=",onToggle:"=",onSimulate:"=",onDelete:"=",onValid:"=",onInvalid:"="},bindToController:true,controllerAs:"watchAction",link:function link($scope,$el){var $container=$el.find(".watchActionDetailsContent");$container.empty();var newScope=$scope.$new();newScope.action=$scope.watchAction.action;newScope.form=$scope.watchAction.form;newScope.onChange=$scope.watchAction.onChange;var $innerEl=_angular2.default.element(newScope.action.constructor.template);var postLink=$compile($innerEl);$container.append($innerEl);postLink(newScope)},controller:function WatchActionController($scope){var _this=this;_classCallCheck(this,WatchActionController);this.checkValidity=function(){var isValid=!_this.form.$invalid;if(isValid){_this.onValid(_this.action)}else{_this.onInvalid(_this.action)}};$scope.$watch("watchAction.isCollapsed",function(isCollapsed){if(isCollapsed){_this.form.$setTouched(true)}});$scope.$watch("watchAction.form.$valid",function(){_this.checkValidity()})}}})},function(module,exports){module.exports='<div\n  class="watchAction"\n  ng-class="{ watchAction__error: watchAction.isCollapsed && !watchAction.isValid}">\n  <button\n    class="watchActionSummaryButton"\n    ng-click="watchAction.onToggle(watchAction.action)">\n    <span class="watchActionSummaryButton__liner">\n      <span class="watchActionHeader">\n        <span\n          class="kuiIcon watchActionSummaryToggleIcon"\n          ng-class="{\'fa-chevron-down\': !watchAction.isCollapsed, \'fa-chevron-right\': watchAction.isCollapsed}"\n        ></span>\n        <span\n          class="kuiIcon watchActionSummaryTypeIcon"\n          ng-class="watchAction.action.iconClass"\n        ></span>\n        <span class="watchActionSummaryType">{{watchAction.action.typeName}}</span>\n      </span>\n      <span\n        class="watchActionDescription"\n        ng-if="watchAction.isCollapsed && watchAction.isValid">\n        {{watchAction.action.description}}\n      </span>\n      <span\n        class="watchActionErrorMessage"\n        ng-if="watchAction.isCollapsed && !watchAction.isValid"\n        i18n-id="xpack.watcher.watchActions.errorInActionValidationMessage"\n        i18n-default-message="There are errors in this action that need to be addressed before you can save."\n      ></span>\n    </span>\n  </button>\n  <div\n    class="watchActionDetails"\n    ng-hide="watchAction.isCollapsed">\n      <div>\n        <form name="watchAction.form" novalidate>\n          <div class="watchActionDetailsContent"></div>\n        </form>\n      </div>\n      <div class="watchActionDetailsButtons">\n        <button\n          class="kuiButton kuiButton--primary kuiButton--iconText watchActionSimulateButton"\n          ng-click="watchAction.onSimulate(watchAction.action)"\n          ng-disabled="!watchAction.isValid"\n        >\n          {{watchAction.action.simulatePrompt}}\n        </button>\n        <button\n          class="kuiButton kuiButton--danger kuiButton--iconText watchActionDeleteButton"\n          ng-click="watchAction.onDelete(watchAction.action)"\n          i18n-id="xpack.watcher.watchActions.removeActionButtonLabel"\n          i18n-default-message="Remove {actionTypeName} Action"\n          i18n-values="{ actionTypeName: watchAction.action.typeName }"\n        ></button>\n      </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4594)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _watch_action_controller_base=__webpack_require__(795);var _watch_email_action=__webpack_require__(4596);var _watch_email_action2=_interopRequireDefault(_watch_email_action);__webpack_require__(251);__webpack_require__(332);__webpack_require__(269);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEmailAction",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_email_action2.default,bindToController:true,controllerAs:"watchEmailAction",controller:function(_WatchActionControlle){_inherits(WatchEmailActionController,_WatchActionControlle);function WatchEmailActionController($scope){_classCallCheck(this,WatchEmailActionController);var _this=_possibleConstructorReturn(this,(WatchEmailActionController.__proto__||Object.getPrototypeOf(WatchEmailActionController)).call(this,$scope));_this.makeId=htmlIdGeneratorFactory.create(_this.action.id);_this.to=_this.action.to.join(",");$scope.$watch("watchEmailAction.to",function(toList){var toArray=(toList||"").split(",").map(function(to){return to.trim()});_this.to=toArray.join(", ");_this.action.to=toArray});$scope.$watchGroup(["action.to","action.subject","action.body"],function(){_this.onChange(_this.action)});return _this}return WatchEmailActionController}(_watch_action_controller_base.WatchActionControllerBase)}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var WatchActionControllerBase=exports.WatchActionControllerBase=function WatchActionControllerBase($scope){var _this=this;_classCallCheck(this,WatchActionControllerBase);this.isValidationMessageVisible=function(fieldName,errorType){return _this.form[fieldName].$touched&&_this.form[fieldName].$error[errorType]};this.action=$scope.action;this.form=$scope.form;this.onChange=$scope.onChange}},function(module,exports){module.exports='<div class="kuiFormSection">\n  <label\n    for="{{watchEmailAction.makeId(\'to\')}}"\n    class="kuiFormLabel"\n    i18n-id="xpack.watcher.watchActions.email.emailAddressLabel"\n    i18n-default-message="To e-mail address"\n  ></label>\n  <input\n    type="text"\n    id="{{watchEmailAction.makeId(\'to\')}}"\n    name="to"\n    class="kuiTextInput fullWidth"\n    ng-model="watchEmailAction.to"\n    required\n    input-focus\n  >\n  <div\n    id="{{watchEmailAction.makeId([\'to\', \'required\'])}}"\n    xpack-aria-describes="{{watchEmailAction.makeId(\'to\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchEmailAction.isValidationMessageVisible(\'to\', \'required\')"\n    i18n-id="xpack.watcher.watchActions.email.emailAddressIsRequiredValidationMessage"\n    i18n-default-message="To e-mail address is required."\n  ></div>\n</div>\n<div class="kuiFormSection">\n  <label\n    for="{{watchEmailAction.makeId(\'subject\')}}"\n    class="kuiFormLabel"\n    i18n-id="xpack.watcher.watchActions.email.subjectLabel"\n    i18n-default-message="Subject"\n  ></label>\n  <input\n    type="text"\n    id="{{watchEmailAction.makeId(\'subject\')}}"\n    name="subject"\n    class="kuiTextInput fullWidth"\n    ng-model="watchEmailAction.action.subject"\n    required\n  >\n  <div\n    id="{{watchEmailAction.makeId([\'subject\', \'required\'])}}"\n    xpack-aria-describes="{{watchEmailAction.makeId(\'subject\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchEmailAction.isValidationMessageVisible(\'subject\', \'required\')"\n    i18n-id="xpack.watcher.watchActions.email.subjectIsRequiredValidationMessage"\n    i18n-default-message="Subject is required."\n  ></div>\n</div>\n<div class="kuiFormSection">\n  <label\n    for="{{watchEmailAction.makeId(\'body\')}}"\n    class="kuiFormLabel"\n    i18n-id="xpack.watcher.watchActions.email.bodyLabel"\n    i18n-default-message="Body"\n  ></label>\n  <textarea\n    id="{{watchEmailAction.makeId(\'body\')}}"\n    name="body"\n    class="kuiTextArea fullWidth"\n    ng-model="watchEmailAction.action.body"\n    required\n  ></textarea>\n  <div\n    id="{{watchEmailAction.makeId([\'body\', \'required\'])}}"\n    xpack-aria-describes="{{watchEmailAction.makeId(\'body\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchEmailAction.isValidationMessageVisible(\'body\', \'required\')"\n    i18n-id="xpack.watcher.watchActions.email.bodyIsRequiredValidationMessage"\n    i18n-default-message="Body is required."\n  ></div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4598)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _watch_action_controller_base=__webpack_require__(795);var _watch_logging_action=__webpack_require__(4599);var _watch_logging_action2=_interopRequireDefault(_watch_logging_action);__webpack_require__(332);__webpack_require__(251);__webpack_require__(269);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchLoggingAction",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_logging_action2.default,bindToController:true,controllerAs:"watchLoggingAction",controller:function(_WatchActionControlle){_inherits(WatchLoggingActionController,_WatchActionControlle);function WatchLoggingActionController($scope){_classCallCheck(this,WatchLoggingActionController);var _this=_possibleConstructorReturn(this,(WatchLoggingActionController.__proto__||Object.getPrototypeOf(WatchLoggingActionController)).call(this,$scope));_this.makeId=htmlIdGeneratorFactory.create(_this.action.id);$scope.$watch(["action.text"],function(){_this.onChange(_this.action)});return _this}return WatchLoggingActionController}(_watch_action_controller_base.WatchActionControllerBase)}})},function(module,exports){module.exports='<div class="kuiFormSection">\n  <label\n    for="{{watchLoggingAction.makeId(\'text\')}}"\n    class="kuiFormLabel"\n    i18n-id="xpack.watcher.watchActions.logging.logTextLabel"\n    i18n-default-message="Log text"\n  ></label>\n  <input\n    type="text"\n    id="{{watchLoggingAction.makeId(\'text\')}}"\n    name="text"\n    class="kuiTextInput fullWidth"\n    ng-model="watchLoggingAction.action.text"\n    required\n    input-focus\n  >\n  <div\n    id="{{watchLoggingAction.makeId([\'text\', \'required\'])}}"\n    xpack-aria-describes="{{watchLoggingAction.makeId(\'text\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchLoggingAction.isValidationMessageVisible(\'text\', \'required\')"\n    i18n-id="xpack.watcher.watchActions.logging.logTextIsRequiredValidationMessage"\n    i18n-default-message="Log text is required."\n  ></div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4601)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _watch_action_controller_base=__webpack_require__(795);var _watch_slack_action=__webpack_require__(4602);var _watch_slack_action2=_interopRequireDefault(_watch_slack_action);__webpack_require__(332);__webpack_require__(251);__webpack_require__(269);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchSlackAction",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_slack_action2.default,bindToController:true,controllerAs:"watchSlackAction",controller:function(_WatchActionControlle){_inherits(WatchSlackActionController,_WatchActionControlle);function WatchSlackActionController($scope){_classCallCheck(this,WatchSlackActionController);var _this=_possibleConstructorReturn(this,(WatchSlackActionController.__proto__||Object.getPrototypeOf(WatchSlackActionController)).call(this,$scope));_this.makeId=htmlIdGeneratorFactory.create(_this.action.id);_this.to=_this.action.to.join(", ");$scope.$watch("watchSlackAction.to",function(toList){var toArray=(toList||"").split(",").map(function(to){return to.trim()});_this.to=toArray.join(", ");_this.action.to=toArray});$scope.$watchGroup(["action.to","action.text"],function(){_this.onChange(_this.action)});return _this}return WatchSlackActionController}(_watch_action_controller_base.WatchActionControllerBase)}})},function(module,exports){module.exports='<div class="kuiFormSection">\n  <label\n    for="{{watchSlackAction.makeId(\'to\')}}"\n    class="kuiFormLabel"\n    i18n-id="xpack.watcher.watchActions.slack.recipientLabel"\n    i18n-default-message="Recipient"\n  ></label>\n  <input\n    type="text"\n    id="{{watchSlackAction.makeId(\'to\')}}"\n    name="to"\n    class="kuiTextInput fullWidth"\n    ng-model="watchSlackAction.to"\n    required\n    input-focus\n  >\n  <div\n    id="{{watchSlackAction.makeId([\'to\', \'required\'])}}"\n    xpack-aria-describes="{{watchSlackAction.makeId(\'to\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchSlackAction.isValidationMessageVisible(\'to\', \'required\')"\n    i18n-id="xpack.watcher.watchActions.slack.recipientIsRequiredValidationMessage"\n    i18n-default-message="Recipient is required."\n  ></div>\n</div>\n<div class="kuiFormSection">\n  <label\n    for="{{watchSlackAction.makeId(\'text\')}}"\n    class="kuiFormLabel"\n    i18n-id="xpack.watcher.watchActions.slack.messageLabel"\n    i18n-default-message="Message"\n  ></label>\n  <textarea\n    id="{{watchSlackAction.makeId(\'text\')}}"\n    name="text"\n    class="kuiTextArea fullWidth"\n    ng-model="watchSlackAction.action.text"\n    required\n  ></textarea>\n  <div\n    id="{{watchSlackAction.makeId([\'text\', \'required\'])}}"\n    xpack-aria-describes="{{watchSlackAction.makeId(\'text\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchSlackAction.isValidationMessageVisible(\'text\', \'required\')"\n    i18n-id="xpack.watcher.watchActions.slack.messageIsRequiredValidationMessage"\n    i18n-default-message="Message is required."\n  ></div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4604)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _action_type_select=__webpack_require__(4605);var _action_type_select2=_interopRequireDefault(_action_type_select);__webpack_require__(350);var _action=__webpack_require__(1332);__webpack_require__(4606);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("actionTypeSelect",function($injector){var watcherSettingsService=$injector.get("xpackWatcherSettingsService");return{restrict:"E",template:_action_type_select2.default,scope:{onChange:"="},controllerAs:"actionTypeSelect",bindToController:true,controller:function(){function ActionTypeSelectController(){var _this=this;_classCallCheck(this,ActionTypeSelectController);this.selectedItem={value:null};this.loadActionTypes().then(function(actionTypes){_this.actionTypes=actionTypes})}_createClass(ActionTypeSelectController,[{key:"loadActionTypes",value:function loadActionTypes(){var allActionTypes=_action.Action.getActionTypes();return watcherSettingsService.getSettings().then(function(settings){var result=(0,_lodash.map)(allActionTypes,function(_ref,type){var typeName=_ref.typeName,iconClass=_ref.iconClass,selectMessage=_ref.selectMessage;var isEnabled=settings.actionTypes[type].enabled;return{type:type,typeName:typeName,iconClass:iconClass,selectMessage:selectMessage,isEnabled:isEnabled}});return result})}},{key:"onSelect",value:function onSelect(actionType){this.selectedItem={value:null};if(actionType.isEnabled){this.onChange(actionType.type)}}}]);return ActionTypeSelectController}()}})},function(module,exports){module.exports='<ui-select\n  ng-model="actionTypeSelect.selectedItem.value"\n  on-select="actionTypeSelect.onSelect($select.selected)"\n>\n  <ui-select-match placeholder="{{ \'xpack.watcher.actionTypeSelect.addNewActionPlaceholder\' | i18n: { defaultMessage: \'Add new action\' } }}">\n    {{$select.selected.typeName}}\n  </ui-select-match>\n  <ui-select-choices repeat="actionType in actionTypeSelect.actionTypes | filter:$select.search">\n    <div\n      class="actionTypeChoice"\n      ng-class="{\n        \'actionTypeChoice--disabled\': !actionType.isEnabled\n      }"\n    >\n      <div class="actionTypeIcon">\n        <span ng-class="actionType.iconClass"></span>\n      </div>\n      <div class="actionTypeDescription">\n        <div\n          ng-bind-html="actionType.typeName | highlight: $select.search"\n        ></div>\n        <div class="action-type-description">\n          <span ng-if="actionType.isEnabled" ng-bind-html="actionType.selectMessage | highlight: $select.search"></span>\n          <span\n            ng-if="!actionType.isEnabled"\n            i18n-id="xpack.watcher.actionTypeSelect.actionDisabledTextMessage"\n            i18n-default-message="Disabled. Configure {elasticsearchYmlText}."\n            i18n-values="{ elasticsearchYmlText: \'elasticsearch.yml\' }"\n          ></span>\n        </div>\n      </div>\n    </div>\n  </ui-select-choices>\n</ui-select>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4607)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _settings_service=__webpack_require__(4608);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherSettingsService",function($injector){var $http=$injector.get("$http");return new _settings_service.SettingsService($http)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SettingsService=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(30);var _settings=__webpack_require__(4609);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var SettingsService=exports.SettingsService=function(){function SettingsService($http){_classCallCheck(this,SettingsService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(SettingsService,[{key:"getSettings",value:function getSettings(){return this.$http.get(this.basePath+"/settings").then(function(response){return _settings.Settings.fromUpstreamJson(response.data)})}}]);return SettingsService}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _settings=__webpack_require__(4610);Object.defineProperty(exports,"Settings",{enumerable:true,get:function get(){return _settings.Settings}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Settings=exports.Settings=function(){function Settings(props){_classCallCheck(this,Settings);this.actionTypes=props.actionTypes}_createClass(Settings,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(json){var actionTypes=json.action_types;var props={actionTypes:actionTypes};return new Settings(props)}}]);return Settings}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4612)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _panel_pager=__webpack_require__(4613);var _panel_pager2=_interopRequireDefault(_panel_pager);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("panelPager",function(){return{restrict:"E",replace:true,template:_panel_pager2.default,scope:{onNextPage:"=",onPreviousPage:"="},bindToController:true,controllerAs:"panelPager",controller:function PanelPagerController(){_classCallCheck(this,PanelPagerController)}}})},function(module,exports){module.exports='<div class="kuiPanelPager">\n  <button\n    class="kuiButton kuiButton--iconText panelPagerPrevious"\n    ng-click="panelPager.onPreviousPage()"\n    aria-label="Go to previous page"\n  >\n    <span class="kuiButton__inner">\n      <span\n        aria-hidden="true"\n        class="kuiButton__icon kuiIcon fa-chevron-left panelPagerPrevious__icon"\n      >\n      </span>\n    </span>\n  </button>\n  <button\n    class="kuiButton kuiButton--iconText panelPagerNext"\n    ng-click="panelPager.onNextPage()"\n    aria-label="Go to next page"\n  >\n    <span class="kuiButton__inner">\n      <span\n        aria-hidden="true"\n        class="kuiButton__icon kuiIcon fa-chevron-right panelPagerNext__icon"\n      >\n      </span>\n    </span>\n  </button>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4615)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _fields_service=__webpack_require__(4616);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherFieldsService",function($injector){var $http=$injector.get("$http");return new _fields_service.FieldsService($http)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldsService=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(30);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var FieldsService=exports.FieldsService=function(){function FieldsService($http){_classCallCheck(this,FieldsService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(FieldsService,[{key:"getFields",value:function getFields(){var indexes=arguments.length>0&&arguments[0]!==undefined?arguments[0]:["*"];return this.$http.post(this.basePath+"/fields",{indexes:indexes}).then(function(response){return response.data.fields})}}]);return FieldsService}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4618)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _xpack_watcher_timezone_service=__webpack_require__(4619);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherTimezoneService",function($injector){var config=$injector.get("config");return new _xpack_watcher_timezone_service.XpackWatcherTimezoneService(config)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.XpackWatcherTimezoneService=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _jstimezonedetect=__webpack_require__(607);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var XpackWatcherTimezoneService=exports.XpackWatcherTimezoneService=function(){function XpackWatcherTimezoneService(config){_classCallCheck(this,XpackWatcherTimezoneService);this.config=config}_createClass(XpackWatcherTimezoneService,[{key:"getTimezone",value:function getTimezone(){var DATE_FORMAT_CONFIG_KEY="dateFormat:tz";var isCustomTimezone=!this.config.isDefault(DATE_FORMAT_CONFIG_KEY);if(isCustomTimezone){return this.config.get(DATE_FORMAT_CONFIG_KEY)}var detectedTimezone=_jstimezonedetect.jstz.determine().name();if(detectedTimezone){return detectedTimezone}var tzOffset=(0,_moment2.default)().format("Z");return tzOffset}}]);return XpackWatcherTimezoneService}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4621)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _xpack_watcher_interval_service=__webpack_require__(4622);var _time_buckets=__webpack_require__(218);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherIntervalService",function(){var timeBuckets=new _time_buckets.TimeBuckets;return new _xpack_watcher_interval_service.XpackWatcherIntervalService(timeBuckets)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var XpackWatcherIntervalService=exports.XpackWatcherIntervalService=function(){function XpackWatcherIntervalService(timeBuckets){_classCallCheck(this,XpackWatcherIntervalService);this.timeBuckets=timeBuckets}_createClass(XpackWatcherIntervalService,[{key:"getInterval",value:function getInterval(input){this.timeBuckets.setBounds(input);return this.timeBuckets.getInterval()}}]);return XpackWatcherIntervalService}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4624);__webpack_require__(436)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _action_defaults_service=__webpack_require__(4625);var _registry=__webpack_require__(436);__webpack_require__(4626);__webpack_require__(4627);__webpack_require__(4628);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherActionDefaultsService",function($injector){var config=$injector.get("config");var Private=$injector.get("Private");var registry=Private(_registry.ActionDefaultsRegistryProvider);return new _action_defaults_service.XpackWatcherActionDefaultsService(config,registry)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var XpackWatcherActionDefaultsService=exports.XpackWatcherActionDefaultsService=function XpackWatcherActionDefaultsService(config,registry){var _this=this;_classCallCheck(this,XpackWatcherActionDefaultsService);this.getDefaults=function(watchType,actionType){var reg=_this.registry;var match=reg.find(function(registryEntry){return registryEntry.watchType===watchType&&registryEntry.actionType===actionType});return match?match.getDefaults(_this.config,watchType):{}};this.config=config;this.registry=registry}},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _constants=__webpack_require__(30);var _registry=__webpack_require__(436);var DEFAULT_ADMIN_EMAIL_CONFIG_KEY="xPack:defaultAdminEmail";var actionType=_constants.ACTION_TYPES.EMAIL;function getActionDefaults(config){return{to:config.get(DEFAULT_ADMIN_EMAIL_CONFIG_KEY)}}_registry.ActionDefaultsRegistryProvider.register(function(){return{actionType:actionType,watchType:_constants.WATCH_TYPES.THRESHOLD,getDefaults:function getDefaults(config){var actionDefaults=getActionDefaults(config);var actionWatchComboDefaults={subject:"Watch [{{ctx.metadata.name}}] has exceeded the threshold"};return(0,_lodash.merge)(actionDefaults,actionWatchComboDefaults)}}})},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _constants=__webpack_require__(30);var _registry=__webpack_require__(436);var actionType=_constants.ACTION_TYPES.LOGGING;function getActionDefaults(){return{}}_registry.ActionDefaultsRegistryProvider.register(function(){return{actionType:actionType,watchType:_constants.WATCH_TYPES.THRESHOLD,getDefaults:function getDefaults(config){var actionDefaults=getActionDefaults(config);var actionWatchComboDefaults={text:"Watch [{{ctx.metadata.name}}] has exceeded the threshold"};return(0,_lodash.merge)(actionDefaults,actionWatchComboDefaults)}}})},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _constants=__webpack_require__(30);var _registry=__webpack_require__(436);var actionType=_constants.ACTION_TYPES.SLACK;function getActionDefaults(){return{}}_registry.ActionDefaultsRegistryProvider.register(function(){return{actionType:actionType,watchType:_constants.WATCH_TYPES.THRESHOLD,getDefaults:function getDefaults(config){var actionDefaults=getActionDefaults(config);var actionWatchComboDefaults={text:"Watch [{{ctx.metadata.name}}] has exceeded the threshold"};return(0,_lodash.merge)(actionDefaults,actionWatchComboDefaults)}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _visualize_options=__webpack_require__(4630);Object.defineProperty(exports,"VisualizeOptions",{enumerable:true,get:function get(){return _visualize_options.VisualizeOptions}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var VisualizeOptions=exports.VisualizeOptions=function(){function VisualizeOptions(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,VisualizeOptions);this.rangeFrom=props.rangeFrom;this.rangeTo=props.rangeTo;this.interval=props.interval;this.timezone=props.timezone}_createClass(VisualizeOptions,[{key:"upstreamJson",get:function get(){return{rangeFrom:this.rangeFrom,rangeTo:this.rangeTo,interval:this.interval,timezone:this.timezone}}}]);return VisualizeOptions}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4632)},function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);__webpack_require__(204);var _notify=__webpack_require__(10);var _watch_history_item_route=__webpack_require__(4633);var _watch_history_item_route2=_interopRequireDefault(_watch_history_item_route);__webpack_require__(433);__webpack_require__(4634);__webpack_require__(4637);var _update_management_sections=__webpack_require__(794);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:watchId/history-item/:watchHistoryItemId",{template:_watch_history_item_route2.default,resolve:{watch:function watch($injector){var $route=$injector.get("$route");var watchService=$injector.get("xpackWatcherWatchService");var kbnUrl=$injector.get("kbnUrl");var watchId=$route.current.params.watchId;return watchService.loadWatch(watchId).catch(function(err){if(err.status!==403){_notify.toastNotifications.addDanger(err.data.message)}kbnUrl.redirect("/management/elasticsearch/watcher/watches");return Promise.reject()})},watchHistoryItem:function watchHistoryItem($injector){var $route=$injector.get("$route");var $filter=$injector.get("$filter");var moment=$filter("moment");var watchHistoryService=$injector.get("xpackWatcherWatchHistoryService");var kbnUrl=$injector.get("kbnUrl");var watchId=$route.current.params.watchId;var watchHistoryItemId=$route.current.params.watchHistoryItemId;return watchHistoryService.loadWatchHistoryItem(watchHistoryItemId).then(function(historyItem){var display=moment(historyItem.startTime);(0,_update_management_sections.updateHistorySection)(display);return historyItem}).catch(function(err){if(err.status!==403){_notify.toastNotifications.addDanger(err.data.message)}kbnUrl.redirect("/management/elasticsearch/watcher/watches/watch/"+watchId+"/status");return Promise.reject()})}},controllerAs:"watchHistoryItemRoute",controller:function WatchHistoryItemRouteController($injector){_classCallCheck(this,WatchHistoryItemRouteController);var $route=$injector.get("$route");this.watch=$route.current.locals.watch;this.watchHistoryItem=$route.current.locals.watchHistoryItem}})},function(module,exports){module.exports='<watch-history-item\n  xpack-watch="watchHistoryItemRoute.watch"\n  watch-history-item="watchHistoryItemRoute.watchHistoryItem"\n></watch-history-item>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4635)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _watch_history_service=__webpack_require__(4636);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherWatchHistoryService",function($injector){var $http=$injector.get("$http");return new _watch_history_service.WatchHistoryService($http)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchHistoryService=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(30);var _watch_history_item=__webpack_require__(1334);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var WatchHistoryService=exports.WatchHistoryService=function(){function WatchHistoryService($http){_classCallCheck(this,WatchHistoryService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(WatchHistoryService,[{key:"loadWatchHistoryItem",value:function loadWatchHistoryItem(watchHistoryItemId){return this.$http.get(this.basePath+"/history/"+watchHistoryItemId).then(function(response){return _watch_history_item.WatchHistoryItem.fromUpstreamJson(response.data.watchHistoryItem)})}}]);return WatchHistoryService}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4638)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(4);var _compat=__webpack_require__(68);var _watch_history_item=__webpack_require__(4639);var _watch_history_item2=_interopRequireDefault(_watch_history_item);__webpack_require__(1337);__webpack_require__(4640);__webpack_require__(4643);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryItem",function(){return{restrict:"E",template:_watch_history_item2.default,scope:{watch:"=xpackWatch",watchHistoryItem:"="},bindToController:true,controllerAs:"watchHistoryItem",controller:function(_InitAfterBindingsWor){_inherits(WatchHistoryItemController,_InitAfterBindingsWor);function WatchHistoryItemController(){_classCallCheck(this,WatchHistoryItemController);return _possibleConstructorReturn(this,(WatchHistoryItemController.__proto__||Object.getPrototypeOf(WatchHistoryItemController)).apply(this,arguments))}_createClass(WatchHistoryItemController,[{key:"initAfterBindings",value:function initAfterBindings(){this.omitBreadcrumbPages=["watch","history-item",this.watch.id];this.breadcrumb=this.watch.displayName}}]);return WatchHistoryItemController}(_compat.InitAfterBindingsWorkaround)}})},function(module,exports){module.exports='<kbn-management-app\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ watchHistoryItem.omitBreadcrumbPages }}"\n  page-title="watchHistoryItem.breadcrumb"\n>\n  <div class="kuiViewContent kuiViewContent--constrainedWidth">\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <watch-history-item-watch-summary\n        watch-history-item="watchHistoryItem.watchHistoryItem"\n      ></watch-history-item-watch-summary>\n    </div>\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <watch-history-item-actions-summary\n        xpack-watch="watchHistoryItem.watch"\n        watch-history-item="watchHistoryItem.watchHistoryItem"\n      ></watch-history-item-actions-summary>\n    </div>\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <label\n        i18n-id="xpack.watcher.sections.watchHistoryItem.executionOutputLabel"\n        i18n-default-message="Execution Output:"\n      ></label>\n      <watch-history-item-detail watch-history-item="watchHistoryItem.watchHistoryItem"></watch-history-item-detail>\n    </div>\n  </div>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4641)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _watch_history_item_watch_summary=__webpack_require__(4642);var _watch_history_item_watch_summary2=_interopRequireDefault(_watch_history_item_watch_summary);__webpack_require__(545);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryItemWatchSummary",function(){return{restrict:"E",replace:true,template:_watch_history_item_watch_summary2.default,scope:{watchHistoryItem:"="},bindToController:true,controllerAs:"watchHistoryItemWatchSummary",controller:function WatchHistoryItemWatchSummaryController(){_classCallCheck(this,WatchHistoryItemWatchSummaryController)}}})},function(module,exports){module.exports='<div>\n  <label\n    i18n-id="xpack.watcher.sections.watchHistoryItem.watchSummary.executionStatusLabel"\n    i18n-default-message="Execution Status:"\n  ></label>\n  <watch-state-icon\n    watch-status="watchHistoryItemWatchSummary.watchHistoryItem.watchStatus"\n  ></watch-state-icon>\n  <span>{{ watchHistoryItemWatchSummary.watchHistoryItem.watchStatus.state }}</span>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4644)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _compat=__webpack_require__(68);var _watch_history_item_actions_summary=__webpack_require__(4645);var _watch_history_item_actions_summary2=_interopRequireDefault(_watch_history_item_actions_summary);__webpack_require__(1338);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryItemActionsSummary",function(){return{restrict:"E",replace:true,template:_watch_history_item_actions_summary2.default,scope:{watch:"=xpackWatch",watchHistoryItem:"="},bindToController:true,controllerAs:"watchHistoryItemActionsSummary",controller:function(_InitAfterBindingsWor){_inherits(WatchHistoryItemActionsSummaryController,_InitAfterBindingsWor);function WatchHistoryItemActionsSummaryController(){_classCallCheck(this,WatchHistoryItemActionsSummaryController);return _possibleConstructorReturn(this,(WatchHistoryItemActionsSummaryController.__proto__||Object.getPrototypeOf(WatchHistoryItemActionsSummaryController)).apply(this,arguments))}_createClass(WatchHistoryItemActionsSummaryController,[{key:"initAfterBindings",value:function initAfterBindings(){var actions=this.watch.actions;var actionStatuses=this.watchHistoryItem.watchStatus.actionStatuses;this.actionDetails=actions.map(function(action){var actionStatus=(0,_lodash.find)(actionStatuses,{id:action.id});return{action:action,actionStatus:actionStatus}})}}]);return WatchHistoryItemActionsSummaryController}(_compat.InitAfterBindingsWorkaround)}})},function(module,exports){module.exports='<table class="kuiTable kuiTable--fluid kuiVerticalRhythm">\n  <thead>\n    <tr>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchHistoryItem.actionsSummary.actionHeaderCellLabel"\n        i18n-default-message="Action"\n        ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchHistoryItem.actionsSummary.typeHeaderCellLabel"\n        i18n-default-message="Type"\n        ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchHistoryItem.actionsSummary.stateHeaderCellLabel"\n        i18n-default-message="State"\n        ></th>\n      <th\n        scope="col"\n        class="kuiTableHeaderCell"\n        i18n-id="xpack.watcher.sections.watchHistoryItem.actionsSummary.reasonHeaderCellLabel"\n        i18n-default-message="Reason"\n        ></th>\n    </tr>\n  </thead>\n  <tr ng-repeat="actionDetail in watchHistoryItemActionsSummary.actionDetails">\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.id}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.type}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        <action-state-icon action-status="actionDetail.actionStatus"></action-state-icon>\n        {{actionDetail.actionStatus.state}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        {{actionDetail.actionStatus.lastExecutionReason}}\n      </div>\n    </td>\n  </tr>\n</table>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4647);__webpack_require__(4648)},function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(24);var _i18n=__webpack_require__(9);__webpack_require__(288);_management.management.getSection("elasticsearch").register("watcher",{display:_i18n.i18n.translate("xpack.watcher.sections.watchList.managementSection.watcherDisplayName",{defaultMessage:"Watcher"}),order:4,url:"#/management/elasticsearch/watcher/"});_management.management.getSection("elasticsearch/watcher").register("watches",{display:_i18n.i18n.translate("xpack.watcher.sections.watchList.managementSection.watchesDisplayName",{defaultMessage:"Watches"}),order:1});_management.management.getSection("elasticsearch/watcher").register("watch",{visible:false});_management.management.getSection("elasticsearch/watcher/watch").register("status",{display:_i18n.i18n.translate("xpack.watcher.sections.watchList.managementSection.statusDisplayName",{defaultMessage:"Status"}),order:1,visible:false});_management.management.getSection("elasticsearch/watcher/watch").register("edit",{display:_i18n.i18n.translate("xpack.watcher.sections.watchList.managementSection.editDisplayName",{defaultMessage:"Edit"}),order:2,visible:false});_management.management.getSection("elasticsearch/watcher/watch").register("new",{display:_i18n.i18n.translate("xpack.watcher.sections.watchList.managementSection.newWatchDisplayName",{defaultMessage:"New Watch"}),order:1,visible:false});_management.management.getSection("elasticsearch/watcher/watch").register("history-item",{order:1,visible:false})},function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _management=__webpack_require__(24);var _notify=__webpack_require__(10);var _watch_list_route=__webpack_require__(4649);var _watch_list_route2=_interopRequireDefault(_watch_list_route);__webpack_require__(4650);__webpack_require__(288);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}_routes2.default.when("/management/elasticsearch/watcher/",{redirectTo:"/management/elasticsearch/watcher/watches/"});_routes2.default.when("/management/elasticsearch/watcher/watches/",{template:_watch_list_route2.default,controller:function WatchListRouteController($injector){_classCallCheck(this,WatchListRouteController);var $route=$injector.get("$route");this.watches=$route.current.locals.watches},controllerAs:"watchListRoute",resolve:{watches:function watches($injector){var watchesService=$injector.get("xpackWatcherWatchesService");var licenseService=$injector.get("xpackWatcherLicenseService");var kbnUrl=$injector.get("kbnUrl");return watchesService.getWatchList().catch(function(err){return licenseService.checkValidity().then(function(){if(err.status===403){return null}_notify.toastNotifications.addDanger(err.data.message);kbnUrl.redirect("/management");return Promise.reject()})})},checkLicense:function checkLicense($injector){var licenseService=$injector.get("xpackWatcherLicenseService");return licenseService.checkValidity()}}});_routes2.default.defaults(/\/management/,{resolve:{watcherManagementSection:function watcherManagementSection($injector){var licenseService=$injector.get("xpackWatcherLicenseService");var watchesSection=_management.management.getSection("elasticsearch/watcher");if(licenseService.showLinks){watchesSection.show()}else{watchesSection.hide()}if(licenseService.enableLinks){watchesSection.enable();watchesSection.tooltip=""}else{watchesSection.disable();watchesSection.tooltip=licenseService.message}}}})},function(module,exports){module.exports='<watch-list watches="watchListRoute.watches"></watch-list>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4651)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(4);var _compat=__webpack_require__(68);var _notify=__webpack_require__(10);var _watch_list=__webpack_require__(4652);var _watch_list2=_interopRequireDefault(_watch_list);__webpack_require__(4653);var _constants=__webpack_require__(30);__webpack_require__(491);__webpack_require__(414);__webpack_require__(939);__webpack_require__(793);__webpack_require__(1335);__webpack_require__(4662);__webpack_require__(4665);__webpack_require__(288);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchList",function($injector,i18n){var pagerFactory=$injector.get("pagerFactory");var watchesService=$injector.get("xpackWatcherWatchesService");var licenseService=$injector.get("xpackWatcherLicenseService");var confirmModal=$injector.get("confirmModal");var $interval=$injector.get("$interval");var kbnUrl=$injector.get("kbnUrl");var $filter=$injector.get("$filter");var filter=$filter("filter");var orderBy=$filter("orderBy");var limitTo=$filter("limitTo");return{restrict:"E",template:_watch_list2.default,scope:{watches:"="},bindToController:true,controllerAs:"watchList",controller:function(_InitAfterBindingsWor){_inherits(WatchListController,_InitAfterBindingsWor);function WatchListController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,WatchListController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=WatchListController.__proto__||Object.getPrototypeOf(WatchListController)).call.apply(_ref,[this].concat(args))),_this),_this.loadWatches=function(){watchesService.getWatchList().then(function(watches){_this.watches=watches;_this.forbidden=false}).catch(function(err){return licenseService.checkValidity().then(function(){if(err.status===403){_this.forbidden=true}else{_notify.toastNotifications.addDanger(err.data.message)}})})},_this.onQueryChange=function(query){_this.query=query},_this.onPageNext=function(){_this.pager.nextPage()},_this.onPagePrevious=function(){_this.pager.previousPage()},_this.onSortChange=function(field,reverse){_this.sortField=field;_this.sortReverse=reverse},_this.onSelectedChange=function(selectedWatches){_this.selectedWatches=selectedWatches},_this.onClickCreateThresholdAlert=function(){_this.goToWatchWizardForType(_constants.WATCH_TYPES.THRESHOLD)},_this.onClickCreateAdvancedWatch=function(){_this.goToWatchWizardForType(_constants.WATCH_TYPES.JSON)},_this.goToWatchWizardForType=function(watchType){var url="management/elasticsearch/watcher/watches/new-watch/"+watchType;kbnUrl.change(url,{})},_this.onSelectedWatchesDelete=function(){var watchesBeingDeleted=_this.selectedWatches;var numWatchesToDelete=watchesBeingDeleted.length;var confirmModalText=i18n("xpack.watcher.sections.watchList.deleteSelectedWatchesConfirmModal.descriptionText",{defaultMessage:"This will permanently delete {numWatchesToDelete, plural, one {# Watch} other {# Watches}}. Are you sure?",values:{numWatchesToDelete:numWatchesToDelete}});var confirmButtonText=i18n("xpack.watcher.sections.watchList.deleteSelectedWatchesConfirmModal.deleteButtonLabel",{defaultMessage:"Delete {numWatchesToDelete, plural, one {# Watch} other {# Watches}} ",values:{numWatchesToDelete:numWatchesToDelete}});var confirmModalOptions={confirmButtonText:confirmButtonText,onConfirm:function onConfirm(){return _this.deleteSelectedWatches(watchesBeingDeleted)}};return confirmModal(confirmModalText,confirmModalOptions)},_this.deleteSelectedWatches=function(watchesBeingDeleted){_this.watchesBeingDeleted=watchesBeingDeleted;var numWatchesToDelete=_this.watchesBeingDeleted.length;var watchIds=_this.watchesBeingDeleted.map(function(watch){return watch.id});return watchesService.deleteWatches(watchIds).then(function(results){var numSuccesses=results.numSuccesses;var numErrors=results.numErrors;var numTotal=numWatchesToDelete;if(numSuccesses>0){_notify.toastNotifications.addSuccess(i18n("xpack.watcher.sections.watchList.deleteSelectedWatchesSuccessNotification.descriptionText",{defaultMessage:"Deleted {numSuccesses} out of {numTotal} selected {numWatchesToDelete, plural, one {# watch} other {# watches}}",values:{numSuccesses:numSuccesses,numTotal:numTotal,numWatchesToDelete:numWatchesToDelete}}))}if(numErrors>0){_notify.toastNotifications.addError(i18n("xpack.watcher.sections.watchList.deleteSelectedWatchesErrorNotification.descriptionText",{defaultMessage:"Couldn't delete {numErrors} out of {numTotal} selected {numWatchesToDelete, plural, one {# watch} other {# watches}}",values:{numErrors:numErrors,numTotal:numTotal,numWatchesToDelete:numWatchesToDelete}}))}_this.loadWatches()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err.data.message)})})},_this.applyFilters=function(){var filteredWatches=_this.watches;var pageOfWatches=[];filteredWatches=filter(filteredWatches,{searchValue:_this.query});filteredWatches=orderBy(filteredWatches,_this.sortField,_this.sortReverse);pageOfWatches=limitTo(filteredWatches,_this.pager.pageSize,_this.pager.startIndex);_this.pageOfWatches=pageOfWatches;_this.pager.setTotalItems(filteredWatches.length)},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(WatchListController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.forbidden=false;if(this.watches===null){this.watches=[];this.forbidden=true}this.selectedWatches=[];this.pageOfWatches=[];this.sortField="id";this.sortReverse=false;this.pager=pagerFactory.create(this.watches.length,_constants.PAGINATION.PAGE_SIZE,1);var refreshInterval=$interval(function(){return _this2.loadWatches()},_constants.REFRESH_INTERVALS.WATCH_LIST);$scope.$on("$destroy",function(){return $interval.cancel(refreshInterval)});$scope.$watchMulti(["watchList.watches","watchList.sortField","watchList.sortReverse","watchList.query","watchList.pager.currentPage"],this.applyFilters)}},{key:"hasPageOfWatches",get:function get(){return this.pageOfWatches.length>0}},{key:"hasSelectedWatches",get:function get(){return this.selectedWatches.length>0}}]);return WatchListController}(_compat.InitAfterBindingsWorkaround)}})},function(module,exports){module.exports='<kbn-management-app section="elasticsearch/watcher">\n  <div class="kuiViewContent">\n    <forbidden-message ng-if="watchList.forbidden">\n      {{ \'xpack.watcher.sections.watchList.noPermissionToManageWatchesText\' | i18n: { defaultMessage: \'You do not have permission to manage watches.\' } }}\n    </forbidden-message>\n\n    <div\n      ng-if="!watchList.forbidden"\n      class="kuiViewContentItem kuiVerticalRhythm"\n    >\n      <div class="kuiVerticalRhythm">\n        <button\n          class="kuiButton kuiButton--primary"\n          ng-click="watchList.onClickCreateThresholdAlert()"\n          data-test-subj="createThresholdAlertButton"\n          tooltip="{{ \'xpack.watcher.sections.watchList.createThresholdAlertButtonTooltip\' | i18n: { defaultMessage: \'Send an alert on a specific condition\' } }}"\n          i18n-id="xpack.watcher.sections.watchList.createThresholdAlertButtonLabel"\n          i18n-default-message="Create threshold alert"\n        ></button>\n\n        <button\n          class="kuiButton kuiButton--primary"\n          ng-click="watchList.onClickCreateAdvancedWatch()"\n          data-test-subj="createAdvancedWatchButton"\n          tooltip="{{ \'xpack.watcher.sections.watchList.createAdvancedWatchTooltip\' | i18n: { defaultMessage: \'Set up a custom watch in raw JSON\' } }}"\n          i18n-id="xpack.watcher.sections.watchList.createAdvancedWatchButtonLabel"\n          i18n-default-message="Create advanced watch"\n        ></button>\n      </div>\n\n      <div class="kuiControlledTable kuiVerticalRhythm">\n        <div class="kuiToolBar">\n          <div class="kuiToolBarSearch">\n            <tool-bar-search-box\n              filter="watchList.query"\n              on-filter="watchList.onQueryChange"\n            ></tool-bar-search-box>\n          </div>\n\n          <div class="kuiToolBarSection">\n            <button\n              class="kuiButton kuiButton--danger"\n              ng-disabled="!watchList.hasSelectedWatches"\n              ng-click="watchList.onSelectedWatchesDelete()"\n              data-test-subj="btnDeleteWatches"\n              i18n-id="xpack.watcher.sections.watchList.deleteWatchButtonLabel"\n              i18n-default-message="Delete"\n            ></button>\n          </div>\n\n          <div class="kuiToolBarSection">\n            <tool-bar-pager-text\n              start-item="watchList.pager.startItem"\n              end-item="watchList.pager.endItem"\n              total-items="watchList.pager.totalItems"\n            ></tool-bar-pager-text>\n            <tool-bar-pager-buttons\n              has-previous-page="watchList.pager.hasPreviousPage"\n              has-next-page="watchList.pager.hasNextPage"\n              on-page-next="watchList.onPageNext"\n              on-page-previous="watchList.onPagePrevious"\n            ></tool-bar-pager-buttons>\n          </div>\n        </div>\n\n        <watch-table\n          watches="watchList.pageOfWatches"\n          watches-being-deleted="watchList.watchesBeingDeleted"\n          sort-field="watchList.sortField"\n          sort-reverse="watchList.sortReverse"\n          on-sort-change="watchList.onSortChange"\n          on-select-change="watchList.onSelectedChange"\n          ng-show="watchList.hasPageOfWatches"\n        >\n        </watch-table>\n\n        <table-info ng-show="!watchList.hasPageOfWatches">\n          {{ \'xpack.watcher.sections.watchList.watchesNotFoundText\' | i18n: { defaultMessage: \'No watches found.\' } }}\n        </table-info>\n\n        <div class="kuiToolBarFooter">\n          <div class="kuiToolBarFooterSection">\n            <tool-bar-selected-count\n              count="watchList.selectedWatches.length"\n              singular-name="{{ \'xpack.watcher.sections.watchList.selectedSingleWatchText\' | i18n: { defaultMessage: \'watch\' } }}"\n              plural-name="{{ \'xpack.watcher.sections.watchList.selectedMultipleWatchText\' | i18n: { defaultMessage: \'watches\' } }}"\n              ng-show="watchList.hasSelectedWatches"\n            ></tool-bar-selected-count>\n          </div>\n\n          <div class="kuiToolBarFooterSection">\n            <tool-bar-pager-text\n              start-item="watchList.pager.startItem"\n              end-item="watchList.pager.endItem"\n              total-items="watchList.pager.totalItems"\n            ></tool-bar-pager-text>\n            <tool-bar-pager-buttons\n              has-previous-page="watchList.pager.hasPreviousPage"\n              has-next-page="watchList.pager.hasNextPage"\n              on-page-next="watchList.onPageNext"\n              on-page-previous="watchList.onPagePrevious"\n            ></tool-bar-pager-buttons>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4654)},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _modules=__webpack_require__(4);__webpack_require__(4655);__webpack_require__(4658);var _watch_table=__webpack_require__(4661);var _watch_table2=_interopRequireDefault(_watch_table);__webpack_require__(545);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchTable",function(){return{restrict:"E",replace:true,template:_watch_table2.default,scope:{watches:"=",watchesBeingDeleted:"=",sortField:"=",sortReverse:"=",onSortChange:"=",onSelectChange:"="},controllerAs:"watchTable",bindToController:true,controller:function WatchTableController($scope){var _this=this;_classCallCheck(this,WatchTableController);this.onAllSelectedChange=function(itemId,allSelected){_lodash2.default.forEach(_this.editableItems,function(item){item.selected=allSelected});_this.updateSelectedWatches()};this.onWatchSelectedChange=function(watchId,selected){_lodash2.default.find(_this.items,function(item){return item.watch.id===watchId}).selected=selected;_this.updateSelectedWatches()};this.updateSelectedWatches=function(){var selectedItems=_lodash2.default.filter(_this.items,function(item){return item.selected});var selectedWatches=_lodash2.default.map(selectedItems,function(item){return item.watch});var areAllEditableItemsSelected=selectedWatches.length===_this.editableItems.length;_this.allSelected=areAllEditableItemsSelected&&_this.editableItems.length>0;_this.onSelectChange(selectedWatches)};this.isEditable=function(item){return!item.watch.isSystemWatch&&!item.isBeingDeleted};this.areAnyEditable=function(){return _this.editableItems.length!==0};this.allSelected=false;$scope.$watch("watchTable.watches",function(watches){var previousItems=_this.items;_this.items=_lodash2.default.map(watches,function(watch){var matchedItem=_lodash2.default.find(previousItems,function(previousItem){return previousItem.watch.id===watch.id});var selected=Boolean(_lodash2.default.get(matchedItem,"selected"));return{watch:watch,selected:selected}});_this.editableItems=_this.items.filter(function(item){return _this.isEditable(item)});_this.updateSelectedWatches()});$scope.$watch("watchTable.watchesBeingDeleted",function(watches){_this.items.forEach(function(item){var matchedItem=_lodash2.default.find(watches,function(watch){return watch.id===item.watch.id});item.selected=false;item.isBeingDeleted=Boolean(matchedItem)});_this.editableItems=_this.items.filter(function(item){return _this.isEditable(item)});_this.updateSelectedWatches()})}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4656)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _check_box=__webpack_require__(4657);var _check_box2=_interopRequireDefault(_check_box);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("kibana");app.directive("checkBox",function(){return{restrict:"E",replace:true,template:_check_box2.default,scope:{id:"=",isSelected:"=",onSelectChange:"="},controllerAs:"checkBox",bindToController:true,controller:function CheckBoxController(){_classCallCheck(this,CheckBoxController)}}})},function(module,exports){module.exports='<input\n  type="checkbox"\n  class="kuiCheckBox"\n  ng-click="checkBox.onSelectChange(checkBox.id, checkBox.isSelected)"\n  ng-model="checkBox.isSelected"\n>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4659)},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(4);var _sortable_column=__webpack_require__(4660);var _sortable_column2=_interopRequireDefault(_sortable_column);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("kibana");app.directive("sortableColumn",function(){return{restrict:"E",transclude:true,template:_sortable_column2.default,scope:{field:"@",sortField:"=",sortReverse:"=",onSortChange:"="},controllerAs:"sortableColumn",bindToController:true,controller:function(){function SortableColumnController(){var _this=this;_classCallCheck(this,SortableColumnController);this.toggle=function(){if(_this.sortField===_this.field){_this.onSortChange(_this.field,!_this.sortReverse)}else{_this.onSortChange(_this.field,false)}}}_createClass(SortableColumnController,[{key:"getAriaLabel",value:function getAriaLabel(){var direction=this.isSortedAscending()?"descending":"ascending";return"Sort "+this.field+" "+direction}},{key:"isSorted",value:function isSorted(){return this.sortField===this.field}},{key:"isSortedAscending",value:function isSortedAscending(){return this.isSorted()&&!this.sortReverse}},{key:"isSortedDescending",value:function isSortedDescending(){return this.isSorted()&&this.sortReverse}}]);return SortableColumnController}()}})},function(module,exports){module.exports='<button\n  class="kuiTableHeaderCellButton"\n  ng-class="{\'kuiTableHeaderCellButton-isSorted\': sortableColumn.isSorted()}"\n  ng-click="sortableColumn.toggle()"\n  aria-label="{{sortableColumn.getAriaLabel()}}"\n>\n  <span class="kuiTableHeaderCell__liner">\n    <span ng-transclude></span>\n    <span\n    class="kuiTableSortIcon kuiIcon"\n    ng-class="sortableColumn.isSortedAscending() ? \'fa-long-arrow-up\' : \'fa-long-arrow-down\'"\n    ></span>\n  </span>\n</button>\n'},function(module,exports){module.exports='<table class="kuiTable">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell kuiTableHeaderCell--checkBox">\n        <check-box\n          is-selected="watchTable.allSelected"\n          on-select-change="watchTable.onAllSelectedChange"\n          ng-if="watchTable.areAnyEditable()"\n          data-test-subj="selectAllWatchesCheckBox"\n        ></check-box>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="id"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchList.watchTable.idColumnLabel\' | i18n: { defaultMessage: \'ID\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell" width="25%">\n        <sortable-column\n          field="name"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchList.watchTable.nameColumnLabel\' | i18n: { defaultMessage: \'Name\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.state"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchList.watchTable.stateColumnLabel\' | i18n: { defaultMessage: \'State\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.comment"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchList.watchTable.commentColumnLabel\' | i18n: { defaultMessage: \'Comment\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.lastFired"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchList.watchTable.lastFiredColumnLabel\' | i18n: { defaultMessage: \'Last Fired\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.lastChecked"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          {{ \'xpack.watcher.sections.watchList.watchTable.lastTriggeredColumnLabel\' | i18n: { defaultMessage: \'Last Triggered\' } }}\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell"></th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr\n      ng-repeat="item in watchTable.items"\n      class="kuiTableRow"\n      ng-class="{ \'kuiTableRow-isBeingDeleted\': item.isBeingDeleted }"\n      data-test-subj="watchRow-{{ item.watch.id }}"\n    >\n      <td class="kuiTableRowCell kuiTableRowCell--checkBox">\n        <div class="kuiTableRowCell__liner">\n          <check-box\n            id="item.watch.id"\n            is-selected="item.selected"\n            on-select-change="watchTable.onWatchSelectedChange"\n            ng-if="watchTable.isEditable(item)"\n          ></check-box>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <kbn-tooltip text="{{item.watch.id}}">\n            <a\n              class="kuiLink"\n              ng-href="#/management/elasticsearch/watcher/watches/watch/{{item.watch.id}}/status"\n              title="{{item.watch.id}}"\n              ng-if="watchTable.isEditable(item)"\n            >\n              {{item.watch.id}}\n            </a>\n            <span\n              title="{{item.watch.id}}"\n              ng-if="!watchTable.isEditable(item)"\n            >\n              {{item.watch.id}}\n            </span>\n          </kbn-tooltip>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <kbn-tooltip text="{{item.watch.name}}">\n            {{item.watch.name}}\n          </kbn-tooltip>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <kbn-tooltip text="{{item.watch.watchStatus.state}}">\n            <watch-state-icon watch-status="item.watch.watchStatus"></watch-state-icon>\n            {{ item.watch.watchStatus.state }}\n          </kbn-tooltip>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <kbn-tooltip text="{{item.watch.watchStatus.comment}}">\n            {{item.watch.watchStatus.comment}}\n          </kbn-tooltip>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <kbn-tooltip text="{{item.watch.watchStatus.lastFired | moment}}">\n            <span title="{{item.watch.watchStatus.lastFired | moment}}">\n              {{item.watch.watchStatus.lastFiredHumanized}}\n            </span>\n          </kbn-tooltip>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <kbn-tooltip text="{{item.watch.watchStatus.lastChecked | moment}}">\n            <span title="{{item.watch.watchStatus.lastChecked | moment}}">\n              {{item.watch.watchStatus.lastCheckedHumanized}}\n            </span>\n          </kbn-tooltip>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <div class="kuiMenuButtonGroup kuiMenuButtonGroup--alignRight">\n            <a\n              class="kuiMenuButton kuiMenuButton--basic kuiMenuButton--iconText"\n              title="{{ \'xpack.watcher.sections.watchList.watchTable.menuEditButtonTitle\' | i18n: { defaultMessage: \'Edit\' } }}"\n              ng-href="#/management/elasticsearch/watcher/watches/watch/{{item.watch.id}}/edit"\n              ng-if="watchTable.isEditable(item)"\n              data-test-subj="lnkWatchEdit-{{ item.watch.id }}"\n            >\n              <span class="kuiMenuButton__icon kuiIcon fa-pencil"></span>\n              <span\n                i18n-id="xpack.watcher.sections.watchList.watchTable.menuEditButtonLabel"\n                i18n-default-message="Edit"\n              ></span>\n            </a>\n          </div>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4663)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _forbidden_message=__webpack_require__(4664);var _forbidden_message2=_interopRequireDefault(_forbidden_message);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var app=_modules.uiModules.get("xpack/watcher");app.directive("forbiddenMessage",function(){return{restrict:"E",replace:true,template:_forbidden_message2.default,transclude:true,scope:{},controllerAs:"forbiddenMessage",bindToController:true,controller:function ForbiddenMessageController(){_classCallCheck(this,ForbiddenMessageController)}}})},function(module,exports){module.exports='<div class="kuiInfoPanel kuiInfoPanel--error">\n  <div class="kuiInfoPanelHeader">\n    <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n    <span\n      class="kuiInfoPanelHeader__title"\n      ng-transclude\n    ></span>\n  </div>\n\n  <div class="kuiInfoPanelBody">\n    <div\n      class="kuiInfoPanelBody__message"\n      i18n-id="xpack.watcher.forbiddenMessage.contactAdministratorTextMessage"\n      i18n-default-message="Please contact your administrator."\n    ></div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4666)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _watches_service=__webpack_require__(4667);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherWatchesService",function($injector){var $http=$injector.get("$http");return new _watches_service.WatchesService($http)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchesService=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(30);var _watch=__webpack_require__(1331);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var WatchesService=exports.WatchesService=function(){function WatchesService($http){_classCallCheck(this,WatchesService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(WatchesService,[{key:"getWatchList",value:function getWatchList(){return this.$http.get(this.basePath+"/watches").then(function(response){return response.data.watches}).then(function(watches){return watches.map(function(watch){return _watch.Watch.fromUpstreamJson(watch)})})}},{key:"deleteWatches",value:function deleteWatches(watchIds){var requestOpts={data:{watchIds:watchIds},headers:{"Content-Type":"application/json"}};return this.$http.delete(this.basePath+"/watches",requestOpts).then(function(response){return response.data.results})}}]);return WatchesService}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4669)},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _management=__webpack_require__(24);var _telemetry_opt_in=__webpack_require__(576);var _components=__webpack_require__(385);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.defaults(/\/management/,{resolve:{telemetryManagementSection:function telemetryManagementSection(Private,spacesEnabled,activeSpace){var telemetryOptInProvider=Private(_telemetry_opt_in.TelemetryOptInProvider);var spaceProps={spacesEnabled:spacesEnabled};if(spacesEnabled){spaceProps.activeSpace=activeSpace?activeSpace.space:null}var Component=function Component(props){return _react2.default.createElement(_components.TelemetryForm,_extends({spacesEnabled:spacesEnabled,telemetryOptInProvider:telemetryOptInProvider},spaceProps,props))};(0,_management.registerSettingsComponent)(_management.PAGE_FOOTER_COMPONENT,Component,true)}}})},function(module,exports,__webpack_require__){__webpack_require__(4671);__webpack_require__(4679)},function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _register=__webpack_require__(4672);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiSettings=_chrome2.default.getUiSettingsClient();var isRollupIndexPatternsEnabled=uiSettings.get("rollups:enableIndexPatterns");if(isRollupIndexPatternsEnabled){(0,_register.initIndexPatternCreation)()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initIndexPatternCreation=initIndexPatternCreation;var _index_pattern_creation=__webpack_require__(546);var _rollup_index_pattern_creation_config=__webpack_require__(4675);function initIndexPatternCreation(){_index_pattern_creation.IndexPatternCreationConfigRegistry.register(function(){return _rollup_index_pattern_creation_config.RollupIndexPatternCreationConfig})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternCreationFactory=undefined;var _index_pattern_creation_config_registry=__webpack_require__(796);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var IndexPatternCreation=function IndexPatternCreation(registry,httpClient,type){_classCallCheck(this,IndexPatternCreation);_initialiseProps.call(this);this._registry=registry;this._allTypes=this._registry.inOrder.map(function(Plugin){return new Plugin({httpClient:httpClient})});this._setCurrentType(type)};var _initialiseProps=function _initialiseProps(){var _this=this;this._setCurrentType=function(type){var index=type?_this._registry.inOrder.findIndex(function(Plugin){return Plugin.key===type}):-1;_this._currentType=index>-1&&_this._allTypes[index]?_this._allTypes[index]:null};this.getType=function(){return _this._currentType||null};this.getIndexPatternCreationOptions=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(urlHandler){var options;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:options=[];_context2.next=3;return Promise.all(_this._allTypes.map(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(type){var option;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!type.getIndexPatternCreationOption){_context.next=6;break}_context.next=3;return type.getIndexPatternCreationOption(urlHandler);case 3:_context.t0=_context.sent;_context.next=7;break;case 6:_context.t0=null;case 7:option=_context.t0;if(option){options.push(option)}case 9:case"end":return _context.stop()}}},_callee,_this)}));return function(_x3){return _ref2.apply(this,arguments)}}()));case 3:return _context2.abrupt("return",options);case 4:case"end":return _context2.stop()}}},_callee2,_this)}));return function(_x2){return _ref.apply(this,arguments)}}()};var IndexPatternCreationFactory=exports.IndexPatternCreationFactory=function IndexPatternCreationFactory(Private,$http){return function(){var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"default";var indexPatternCreationRegistry=Private(_index_pattern_creation_config_registry.IndexPatternCreationConfigRegistry);var indexPatternCreationProvider=new IndexPatternCreation(indexPatternCreationRegistry,$http,type);return indexPatternCreationProvider}}},function(module,exports,__webpack_require__){"use strict";var _index_pattern_creation_config=__webpack_require__(1340);var _index_pattern_creation_config_registry=__webpack_require__(796);_index_pattern_creation_config_registry.IndexPatternCreationConfigRegistry.register(function(){return _index_pattern_creation_config.IndexPatternCreationConfig})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RollupIndexPatternCreationConfig=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _index_pattern_creation=__webpack_require__(546);var _rollup_prompt=__webpack_require__(4676);var _api=__webpack_require__(4678);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var rollupIndexPatternTypeName=_i18n.i18n.translate("xpack.rollupJobs.editRollupIndexPattern.createIndex.defaultTypeName",{defaultMessage:"rollup index pattern"});var rollupIndexPatternButtonText=_i18n.i18n.translate("xpack.rollupJobs.editRollupIndexPattern.createIndex.defaultButtonText",{defaultMessage:"Rollup index pattern"});var rollupIndexPatternButtonDescription=_i18n.i18n.translate("xpack.rollupJobs.editRollupIndexPattern.createIndex.defaultButtonDescription",{defaultMessage:"Perform limited aggregations against summarized data"});var rollupIndexPatternNoMatchError=_i18n.i18n.translate("xpack.rollupJobs.editRollupIndexPattern.createIndex.noMatchError",{defaultMessage:"Rollup index pattern error: must match one rollup index"});var rollupIndexPatternTooManyMatchesError=_i18n.i18n.translate("xpack.rollupJobs.editRollupIndexPattern.createIndex.tooManyMatchesError",{defaultMessage:"Rollup index pattern error: can only match one rollup index"});var rollupIndexPatternIndexLabel=_i18n.i18n.translate("xpack.rollupJobs.editRollupIndexPattern.createIndex.indexLabel",{defaultMessage:"Rollup"});var RollupIndexPatternCreationConfig=exports.RollupIndexPatternCreationConfig=function(_IndexPatternCreation){_inherits(RollupIndexPatternCreationConfig,_IndexPatternCreation);function RollupIndexPatternCreationConfig(options){_classCallCheck(this,RollupIndexPatternCreationConfig);var _this=_possibleConstructorReturn(this,(RollupIndexPatternCreationConfig.__proto__||Object.getPrototypeOf(RollupIndexPatternCreationConfig)).call(this,_extends({type:"rollup",name:rollupIndexPatternTypeName,showSystemIndices:false,isBeta:true},options)));_this.isRollupIndex=function(indexName){return _this.rollupIndices.includes(indexName)};_this.checkIndicesForErrors=function(indices){_this.rollupIndex=null;if(!indices||!indices.length){return}var rollupIndices=indices.filter(function(index){return _this.isRollupIndex(index.name)});if(!rollupIndices.length){return[rollupIndexPatternNoMatchError]}else if(rollupIndices.length>1){return[rollupIndexPatternTooManyMatchesError]}var rollupIndexName=rollupIndices[0].name;var error=_this.rollupIndicesCapabilities[rollupIndexName].error;if(error){var errorMessage=_i18n.i18n.translate("xpack.rollupJobs.editRollupIndexPattern.createIndex.uncaughtError",{defaultMessage:"Rollup index pattern error: {error}",values:{error:error}});return[errorMessage]}_this.rollupIndex=rollupIndexName};_this.getIndexPatternMappings=function(){return _this.rollupIndex?{type:_this.type,typeMeta:{params:{rollup_index:_this.rollupIndex},aggs:_this.rollupIndicesCapabilities[_this.rollupIndex].aggs}}:{}};_this.renderPrompt=function(){return _react2.default.createElement(_rollup_prompt.RollupPrompt,null)};_this.getFetchForWildcardOptions=function(){return{type:_this.type,params:{rollup_index:_this.rollupIndex}}};(0,_api.setHttpClient)(_this.httpClient);_this.rollupIndex=null;_this.rollupJobs=[];_this.rollupIndicesCapabilities={};_this.rollupIndices=[];_this.settingUp=_this.setRollupIndices();return _this}_createClass(RollupIndexPatternCreationConfig,[{key:"setRollupIndices",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_api.getRollupIndices)();case 3:this.rollupIndicesCapabilities=_context.sent;this.rollupIndices=Object.keys(this.rollupIndicesCapabilities);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);case 9:case"end":return _context.stop()}}},_callee,this,[[0,7]])}));function setRollupIndices(){return _ref.apply(this,arguments)}return setRollupIndices}()},{key:"getIndexPatternCreationOption",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(urlHandler){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.settingUp;case 2:return _context2.abrupt("return",this.rollupIndices&&this.rollupIndices.length?{text:rollupIndexPatternButtonText,description:rollupIndexPatternButtonDescription,testSubj:"createRollupIndexPatternButton",isBeta:this.isBeta,onClick:function onClick(){urlHandler("/management/kibana/index?type=rollup")}}:null);case 3:case"end":return _context2.stop()}}},_callee2,this)}));function getIndexPatternCreationOption(_x){return _ref2.apply(this,arguments)}return getIndexPatternCreationOption}()},{key:"getIndexTags",value:function getIndexTags(indexName){return this.isRollupIndex(indexName)?[{key:this.type,name:rollupIndexPatternIndexLabel}]:[]}}]);return RollupIndexPatternCreationConfig}(_index_pattern_creation.IndexPatternCreationConfig);RollupIndexPatternCreationConfig.key="rollup"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _rollup_prompt=__webpack_require__(4677);Object.defineProperty(exports,"RollupPrompt",{enumerable:true,get:function get(){return _rollup_prompt.RollupPrompt}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RollupPrompt=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RollupPrompt=exports.RollupPrompt=function RollupPrompt(){return _react2.default.createElement(_eui.EuiCallOut,{color:"warning",iconType:"help",title:"Beta feature"},_react2.default.createElement("p",null,"Kibana's support for rollup index patterns is in beta. You might encounter issues using these patterns in saved searches, visualizations, and dashboards. They are not supported in advanced features, such as Visual Builder, Timelion, and Machine Learning."),_react2.default.createElement("p",null,"You can match a rollup index pattern against one rollup index and zero or more regular indices. A rollup index pattern has limited metrics, fields, intervals, and aggregations. A rollup index is limited to indices that have one job configuration, or multiple jobs with compatible configurations."))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getRollupIndices=exports.setHttpClient=undefined;var getRollupIndices=exports.getRollupIndices=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return httpClient.get(apiPrefix+"/indices");case 2:response=_context.sent;return _context.abrupt("return",response.data||{});case 4:case"end":return _context.stop()}}},_callee,this)}));return function getRollupIndices(){return _ref.apply(this,arguments)}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var httpClient=void 0;var setHttpClient=exports.setHttpClient=function setHttpClient(client){httpClient=client};var apiPrefix=_chrome2.default.addBasePath("/api/rollup")},function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _register=__webpack_require__(4680);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiSettings=_chrome2.default.getUiSettingsClient();var isRollupIndexPatternsEnabled=uiSettings.get("rollups:enableIndexPatterns");if(isRollupIndexPatternsEnabled){(0,_register.initIndexPatternList)()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initIndexPatternList=initIndexPatternList;var _index_pattern_list=__webpack_require__(547);var _rollup_index_pattern_list_config=__webpack_require__(4683);function initIndexPatternList(){_index_pattern_list.IndexPatternListConfigRegistry.register(function(){return _rollup_index_pattern_list_config.RollupIndexPatternListConfig})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternListFactory=undefined;var _index_pattern_list_config_registry=__webpack_require__(797);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var IndexPatternList=function IndexPatternList(registry){var _this=this;_classCallCheck(this,IndexPatternList);this.getIndexPatternTags=function(indexPattern){return _this._plugins.reduce(function(tags,plugin){return plugin.getIndexPatternTags?tags.concat(plugin.getIndexPatternTags(indexPattern)):tags},[])};this.getFieldInfo=function(indexPattern,field){return _this._plugins.reduce(function(info,plugin){return plugin.getFieldInfo?info.concat(plugin.getFieldInfo(indexPattern,field)):info},[])};this.areScriptedFieldsEnabled=function(indexPattern){return _this._plugins.every(function(plugin){return plugin.areScriptedFieldsEnabled?plugin.areScriptedFieldsEnabled(indexPattern):true})};this._plugins=registry.inOrder.map(function(Plugin){return new Plugin})};var IndexPatternListFactory=exports.IndexPatternListFactory=function IndexPatternListFactory(Private){return function(){var indexPatternListRegistry=Private(_index_pattern_list_config_registry.IndexPatternListConfigRegistry);var indexPatternListProvider=new IndexPatternList(indexPatternListRegistry);return indexPatternListProvider}}},function(module,exports,__webpack_require__){"use strict";var _index_pattern_list_config=__webpack_require__(1341);var _index_pattern_list_config_registry=__webpack_require__(797);_index_pattern_list_config_registry.IndexPatternListConfigRegistry.register(function(){return _index_pattern_list_config.IndexPatternListConfig})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RollupIndexPatternListConfig=undefined;var _index_pattern_list=__webpack_require__(547);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function isRollup(indexPattern){return indexPattern.type==="rollup"||indexPattern.get&&indexPattern.get("type")==="rollup"}var RollupIndexPatternListConfig=exports.RollupIndexPatternListConfig=function(_IndexPatternListConf){_inherits(RollupIndexPatternListConfig,_IndexPatternListConf);function RollupIndexPatternListConfig(){var _ref;var _temp,_this,_ret;_classCallCheck(this,RollupIndexPatternListConfig);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=RollupIndexPatternListConfig.__proto__||Object.getPrototypeOf(RollupIndexPatternListConfig)).call.apply(_ref,[this].concat(args))),_this),_this.getIndexPatternTags=function(indexPattern){return isRollup(indexPattern)?[{key:"rollup",name:"Rollup"}]:[]},_this.getFieldInfo=function(indexPattern,field){if(!isRollup(indexPattern)){return[]}var allAggs=indexPattern.typeMeta&&indexPattern.typeMeta.aggs;var fieldAggs=allAggs&&Object.keys(allAggs).filter(function(agg){return allAggs[agg][field]});if(!fieldAggs||!fieldAggs.length){return[]}return["Rollup aggregations:"].concat(fieldAggs.map(function(aggName){var agg=allAggs[aggName][field];switch(aggName){case"date_histogram":return aggName+" (interval: "+agg.interval+", "+(agg.delay?"delay: "+agg.delay+",":"")+" "+agg.time_zone+")";break;case"histogram":return aggName+" (interval: "+agg.interval+")";default:return aggName}}))},_this.areScriptedFieldsEnabled=function(indexPattern){return!isRollup(indexPattern)},_temp),_possibleConstructorReturn(_this,_ret)}return RollupIndexPatternListConfig}(_index_pattern_list.IndexPatternListConfig);RollupIndexPatternListConfig.key="rollup"},function(module,exports,__webpack_require__){__webpack_require__(4685);__webpack_require__(4728);__webpack_require__(4756)},function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _index=__webpack_require__(4686);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(235);__webpack_require__(5048);__webpack_require__(4).get("kibana",["sense.ui.bootstrap"]);__webpack_require__(938);__webpack_require__(255);__webpack_require__(4688);__webpack_require__(4718);__webpack_require__(4721);__webpack_require__(4723);__webpack_require__(4726);_routes2.default.when("/dev_tools/console",{controller:"SenseController",template:_index2.default})},function(module,exports){module.exports='<kbn-dev-tools-app data-test-subj="console" top-nav-config="topNavController">\n  <div class="conApp">\n    <div class="conApp__editor">\n      <ul class="conApp__autoComplete" id="autocomplete"></ul>\n      <div class="conApp__editorActions" id="ConAppEditorActions">\n        <kbn-tooltip text="{{:: \'console.sendRequestButtonTooltip\' | i18n: { defaultMessage: \'click to send request\' } }}">\n          <button\n            class="conApp__editorActionButton conApp__editorActionButton--success"\n            ng-click="sendSelected()"\n            data-test-subj="send-request-button">\n            <i class="fa fa-play"></i>\n          </button>\n        </kbn-tooltip>\n        <span dropdown>\n          <button\n            id="consoleRequestOptions"\n            class="conApp__editorActionButton"\n            dropdown-toggle\n            ng-click="getDocumentation()"\n            aria-label="{{:: \'console.requestOptionsButtonAriaLabel\' | i18n: { defaultMessage: \'Request options\' } }}"\n          >\n            <span class="kuiIcon fa-wrench"></span>\n          </button>\n\n          <ul\n            class="dropdown-menu"\n            role="menu"\n            aria-labelledby="consoleRequestOptions"\n          >\n            <li role="menuitem">\n              <button\n                id="ConCopyAsCurl"\n                i18n-id="console.requestOptions.copyAsUrlButtonLabel"\n                i18n-default-message="Copy as cURL"></button>\n            </li>\n            <li role="menuitem" ng-if="documentation">\n              <button\n                ng-click="openDocumentation(documentation)"\n                i18n-id="console.requestOptions.openDocumentationButtonLabel"\n                i18n-default-message="Open documentation"></button>\n            </li>\n            <li role="menuitem">\n              <button\n                ng-click="autoIndent($event)"\n                i18n-id="console.requestOptions.autoIndentButtonLabel"\n                i18n-default-message="Auto indent"></button>\n            </li>\n          </ul>\n        </span>\n      </div>\n\n      <div class="conApp__editorContent" id="ConAppEditor" data-test-subj="request-editor">GET _search\n  {\n    "query": { "match_all": {} }\n  }</div>\n\n    </div>\n    <div class="conApp__resizer" id="ConAppResizer">&#xFE19;</div>\n    <div class="conApp__output" data-test-subj="response-editor">\n      <div class="conApp__outputContent" id="ConAppOutput">{}</div>\n    </div>\n  </div>\n</kbn-dev-tools-app>\n'},,function(module,exports,__webpack_require__){"use strict";__webpack_require__(294);var _sense_editor_resize=__webpack_require__(798);var _jquery=__webpack_require__(17);var _jquery2=_interopRequireDefault(_jquery);var _input=__webpack_require__(1342);var _output=__webpack_require__(1345);var _app=__webpack_require__(4716);var _app2=_interopRequireDefault(_app);var _sense_top_nav_controller=__webpack_require__(4717);var _autocomplete=__webpack_require__(1343);var _documentation_links=__webpack_require__(65);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var _module=__webpack_require__(4).get("app/sense");_module.run(function(Private,$rootScope){_module.setupResizeCheckerForRootEditors=function($el){for(var _len=arguments.length,editors=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){editors[_key-1]=arguments[_key]}return _sense_editor_resize.useResizeChecker.apply(undefined,[$rootScope,$el].concat(editors))}});_module.controller("SenseController",function SenseController(Private,$scope,$timeout,$location,docTitle,kbnUiAceKeyboardModeService){var _this=this;docTitle.change("Console");$scope.topNavController=Private(_sense_top_nav_controller.SenseTopNavController);var input=void 0;var output=void 0;$timeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var session;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:output=(0,_output.initializeOutput)((0,_jquery2.default)("#ConAppOutput"));input=(0,_input.initializeInput)((0,_jquery2.default)("#ConAppEditor"),(0,_jquery2.default)("#ConAppEditorActions"),(0,_jquery2.default)("#ConCopyAsCurl"),output,$scope.openDocumentation);(0,_app2.default)(input,output,$location.search().load_from);kbnUiAceKeyboardModeService.initialize($scope,(0,_jquery2.default)("#ConAppEditor"));session=input.getSession();session.getSelection().on("changeCursor",function(){$scope.getDocumentation()});$scope.getDocumentation();case 7:case"end":return _context.stop()}}},_callee,_this)})));$scope.getDocumentation=function(){input.getRequestsInRange(function(requests){if(!requests||requests.length===0){$scope.documentation=null;$scope.$apply();return}var position=requests[0].range.end;position.column=position.column-1;var endpoint=(0,_autocomplete.getEndpointFromPosition)(input,position);if(endpoint&&endpoint.documentation&&endpoint.documentation.indexOf("http")!==-1){$scope.documentation=endpoint.documentation.replace("/master/","/"+_documentation_links.DOC_LINK_VERSION+"/");$scope.documentation=$scope.documentation.replace("/current/","/"+_documentation_links.DOC_LINK_VERSION+"/");$scope.$apply()}else{$scope.documentation=null;$scope.$apply()}})};$scope.openDocumentation=function(){if(!$scope.documentation){return}window.open($scope.documentation,"_blank")};$scope.sendSelected=function(){input.focus();input.sendCurrentRequestToES();return false};$scope.autoIndent=function(event){input.autoIndent();event.preventDefault();input.focus()}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports._test=undefined;exports.getUnmatchedEndpointComponents=getUnmatchedEndpointComponents;exports.getEndpointDescriptionByEndpoint=getEndpointDescriptionByEndpoint;exports.getEndpointBodyCompleteComponents=getEndpointBodyCompleteComponents;exports.getTopLevelUrlCompleteComponents=getTopLevelUrlCompleteComponents;exports.getGlobalAutocompleteComponents=getGlobalAutocompleteComponents;exports.setActiveApi=setActiveApi;var _components=__webpack_require__(321);var _jquery=__webpack_require__(17);var _jquery2=_interopRequireDefault(_jquery);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _api=__webpack_require__(4705);var _api2=_interopRequireDefault(_api);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ACTIVE_API=new _api2.default;var isNotAnIndexName=function isNotAnIndexName(name){return name[0]==="_"&&name!=="_all"};var idAutocompleteComponentFactory=function idAutocompleteComponentFactory(name,parent){return new _components.IdAutocompleteComponent(name,parent)};var parametrizedComponentFactories={getComponent:function getComponent(name,parent,provideDefault){if(this[name]){return this[name]}else if(provideDefault){return idAutocompleteComponentFactory}},index:function index(name,parent){if(isNotAnIndexName(name))return;return new _components.IndexAutocompleteComponent(name,parent,false)},indices:function indices(name,parent){if(isNotAnIndexName(name))return;return new _components.IndexAutocompleteComponent(name,parent,true)},type:function type(name,parent){return new _components.TypeAutocompleteComponent(name,parent,false)},types:function types(name,parent){return new _components.TypeAutocompleteComponent(name,parent,true)},id:function id(name,parent){return idAutocompleteComponentFactory(name,parent)},username:function username(name,parent){return new _components.UsernameAutocompleteComponent(name,parent)},user:function user(name,parent){return new _components.UsernameAutocompleteComponent(name,parent)},template:function template(name,parent){return new _components.TemplateAutocompleteComponent(name,parent)},task_id:function task_id(name,parent){return idAutocompleteComponentFactory(name,parent)},ids:function ids(name,parent){return idAutocompleteComponentFactory(name,parent,true)},fields:function fields(name,parent){return new _components.FieldAutocompleteComponent(name,parent,true)},field:function field(name,parent){return new _components.FieldAutocompleteComponent(name,parent,false)},nodes:function nodes(name,parent){return new _components.ListComponent(name,["_local","_master","data:true","data:false","master:true","master:false"],parent)},node:function node(name,parent){return new _components.ListComponent(name,[],parent,false)}};function getUnmatchedEndpointComponents(){return ACTIVE_API.getUnmatchedEndpointComponents()}function getEndpointDescriptionByEndpoint(endpoint){return ACTIVE_API.getEndpointDescriptionByEndpoint(endpoint)}function getEndpointBodyCompleteComponents(endpoint){var desc=getEndpointDescriptionByEndpoint(endpoint);if(!desc){throw new Error("failed to resolve endpoint ['"+endpoint+"']")}return desc.bodyAutocompleteRootComponents}function getTopLevelUrlCompleteComponents(method){return ACTIVE_API.getTopLevelUrlCompleteComponents(method)}function getGlobalAutocompleteComponents(term,throwOnMissing){return ACTIVE_API.getGlobalAutocompleteComponents(term,throwOnMissing)}function loadApisFromJson(json,urlParametrizedComponentFactories,bodyParametrizedComponentFactories){urlParametrizedComponentFactories=urlParametrizedComponentFactories||parametrizedComponentFactories;bodyParametrizedComponentFactories=bodyParametrizedComponentFactories||urlParametrizedComponentFactories;var api=new _api2.default(urlParametrizedComponentFactories,bodyParametrizedComponentFactories);var names=[];_lodash2.default.each(json,function(apiJson,name){names.unshift(name);_lodash2.default.each(apiJson.globals||{},function(globalJson,globalName){api.addGlobalAutocompleteRules(globalName,globalJson)});_lodash2.default.each(apiJson.endpoints||{},function(endpointJson,endpointName){api.addEndpointDescription(endpointName,endpointJson)})});api.name=names.join(",");return api}function setActiveApi(api){if(_lodash2.default.isString(api)){_jquery2.default.ajax({url:"../api/console/api_server?sense_version="+encodeURIComponent("@@SENSE_VERSION")+"&apis="+encodeURIComponent(api),dataType:"json"}).then(function(data){setActiveApi(loadApisFromJson(data))},function(jqXHR){console.log("failed to load API '"+api+"': "+jqXHR.responseText)});return}ACTIVE_API=api}setActiveApi("es_6_0");var _test=exports._test={loadApisFromJson:loadApisFromJson}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConstantComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _shared_component=__webpack_require__(289);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ConstantComponent=exports.ConstantComponent=function(_SharedComponent){_inherits(ConstantComponent,_SharedComponent);function ConstantComponent(name,parent,options){_classCallCheck(this,ConstantComponent);var _this=_possibleConstructorReturn(this,(ConstantComponent.__proto__||Object.getPrototypeOf(ConstantComponent)).call(this,name,parent));if(_lodash2.default.isString(options)){options=[options]}_this.options=options||[name];return _this}_createClass(ConstantComponent,[{key:"getTerms",value:function getTerms(){return this.options}},{key:"addOption",value:function addOption(options){if(!Array.isArray(options)){options=[options]}[].push.apply(this.options,options);this.options=_lodash2.default.uniq(this.options)}},{key:"match",value:function match(token,context,editor){if(token!==this.name){return null}return _get(ConstantComponent.prototype.__proto__||Object.getPrototypeOf(ConstantComponent.prototype),"match",this).call(this,token,context,editor)}}]);return ConstantComponent}(_shared_component.SharedComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SimpleParamComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _shared_component=__webpack_require__(289);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SimpleParamComponent=exports.SimpleParamComponent=function(_SharedComponent){_inherits(SimpleParamComponent,_SharedComponent);function SimpleParamComponent(name,parent){_classCallCheck(this,SimpleParamComponent);return _possibleConstructorReturn(this,(SimpleParamComponent.__proto__||Object.getPrototypeOf(SimpleParamComponent)).call(this,name,parent))}_createClass(SimpleParamComponent,[{key:"match",value:function match(token,context,editor){var result=_get(SimpleParamComponent.prototype.__proto__||Object.getPrototypeOf(SimpleParamComponent.prototype),"match",this).call(this,token,context,editor);result.context_values=result.context_values||{};result.context_values[this.name]=token;return result}}]);return SimpleParamComponent}(_shared_component.SharedComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConditionalProxy=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _shared_component=__webpack_require__(289);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ConditionalProxy=exports.ConditionalProxy=function(_SharedComponent){_inherits(ConditionalProxy,_SharedComponent);function ConditionalProxy(predicate,delegate){_classCallCheck(this,ConditionalProxy);var _this=_possibleConstructorReturn(this,(ConditionalProxy.__proto__||Object.getPrototypeOf(ConditionalProxy)).call(this,"__condition"));_this.predicate=predicate;_this.delegate=delegate;return _this}_createClass(ConditionalProxy,[{key:"getTerms",value:function getTerms(context,editor){if(this.predicate(context,editor)){return this.delegate.getTerms(context,editor)}else{return null}}},{key:"match",value:function match(token,context,editor){if(this.predicate(context,editor)){return this.delegate.match(token,context,editor)}else{return false}}}]);return ConditionalProxy}(_shared_component.SharedComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GlobalOnlyComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _shared_component=__webpack_require__(289);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var GlobalOnlyComponent=exports.GlobalOnlyComponent=function(_SharedComponent){_inherits(GlobalOnlyComponent,_SharedComponent);function GlobalOnlyComponent(){_classCallCheck(this,GlobalOnlyComponent);return _possibleConstructorReturn(this,(GlobalOnlyComponent.__proto__||Object.getPrototypeOf(GlobalOnlyComponent)).apply(this,arguments))}_createClass(GlobalOnlyComponent,[{key:"getTerms",value:function getTerms(){return null}},{key:"match",value:function match(token,context){var result={next:[]};var globalRules=context.globalComponentResolver(token,false);if(globalRules){result.next.push.apply(result.next,globalRules)}if(result.next.length){return result}result.next=[this];return result}}]);return GlobalOnlyComponent}(_shared_component.SharedComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ObjectComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _2=__webpack_require__(321);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ObjectComponent=exports.ObjectComponent=function(_SharedComponent){_inherits(ObjectComponent,_SharedComponent);function ObjectComponent(name,constants,patternsAndWildCards){_classCallCheck(this,ObjectComponent);var _this=_possibleConstructorReturn(this,(ObjectComponent.__proto__||Object.getPrototypeOf(ObjectComponent)).call(this,name));_this.constants=constants;_this.patternsAndWildCards=patternsAndWildCards;return _this}_createClass(ObjectComponent,[{key:"getTerms",value:function getTerms(context,editor){var options=[];_lodash2.default.each(this.constants,function(component){options.push.apply(options,component.getTerms(context,editor))});_lodash2.default.each(this.patternsAndWildCards,function(component){options.push.apply(options,component.getTerms(context,editor))});return options}},{key:"match",value:function match(token,context,editor){var result={next:[]};_lodash2.default.each(this.constants,function(component){var componentResult=component.match(token,context,editor);if(componentResult&&componentResult.next){result.next.push.apply(result.next,componentResult.next)}});var globalRules=context.globalComponentResolver(token,false);if(globalRules){result.next.push.apply(result.next,globalRules)}if(result.next.length){return result}_lodash2.default.each(this.patternsAndWildCards,function(component){var componentResult=component.match(token,context,editor);if(componentResult&&componentResult.next){result.next.push.apply(result.next,componentResult.next)}});return result}}]);return ObjectComponent}(_2.SharedComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AcceptEndpointComponent=exports.URL_PATH_END_MARKER=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _shared_component=__webpack_require__(289);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var URL_PATH_END_MARKER=exports.URL_PATH_END_MARKER="__url_path_end__";var AcceptEndpointComponent=exports.AcceptEndpointComponent=function(_SharedComponent){_inherits(AcceptEndpointComponent,_SharedComponent);function AcceptEndpointComponent(endpoint,parent){_classCallCheck(this,AcceptEndpointComponent);var _this=_possibleConstructorReturn(this,(AcceptEndpointComponent.__proto__||Object.getPrototypeOf(AcceptEndpointComponent)).call(this,endpoint.id,parent));_this.endpoint=endpoint;return _this}_createClass(AcceptEndpointComponent,[{key:"match",value:function match(token,context,editor){if(token!==URL_PATH_END_MARKER){return null}if(this.endpoint.methods&&-1===_lodash2.default.indexOf(this.endpoint.methods,context.method)){return null}var r=_get(AcceptEndpointComponent.prototype.__proto__||Object.getPrototypeOf(AcceptEndpointComponent.prototype),"match",this).call(this,token,context,editor);r.context_values=r.context_values||{};r.context_values.endpoint=this.endpoint;if(_lodash2.default.isNumber(this.endpoint.priority)){r.priority=this.endpoint.priority}return r}}]);return AcceptEndpointComponent}(_shared_component.SharedComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlPatternMatcher=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _2=__webpack_require__(321);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var UrlPatternMatcher=exports.UrlPatternMatcher=function(){function UrlPatternMatcher(parametrizedComponentFactories){var _this=this;_classCallCheck(this,UrlPatternMatcher);this.getTopLevelComponents=function(method){var methodRoot=this[method];if(!methodRoot){return[]}return methodRoot.rootComponent.next};["HEAD","GET","PUT","POST","DELETE"].forEach(function(method){_this[method]={rootComponent:new _2.SharedComponent("ROOT"),parametrizedComponentFactories:parametrizedComponentFactories||{getComponent:function getComponent(){}}}})}_createClass(UrlPatternMatcher,[{key:"addEndpoint",value:function addEndpoint(pattern,endpoint){var _this2=this;endpoint.methods.forEach(function(method){var c=void 0;var activeComponent=_this2[method].rootComponent;var endpointComponents=endpoint.url_components||{};var partList=pattern.split("/");_lodash2.default.each(partList,function(part,partIndex){if(part.search(/^{.+}$/)>=0){part=part.substr(1,part.length-2);if(activeComponent.getComponent(part)){activeComponent=activeComponent.getComponent(part);return}if(c=endpointComponents[part]){if(Array.isArray(c)){c=new _2.ListComponent(part,c,activeComponent)}else if(_lodash2.default.isObject(c)&&c.type==="list"){c=new _2.ListComponent(part,c.list,activeComponent,c.multiValued,c.allow_non_valid)}else{console.warn("incorrectly configured url component ",part," in endpoint",endpoint);c=new _2.SharedComponent(part)}}else if(c=this[method].parametrizedComponentFactories.getComponent(part)){c=c(part,activeComponent)}else{c=new _2.SimpleParamComponent(part,activeComponent)}activeComponent=c}else{var lookAhead=part;var s=void 0;for(partIndex++;partIndex<partList.length;partIndex++){s=partList[partIndex];if(s.indexOf("{")>=0){break}lookAhead+="/"+s}if(activeComponent.getComponent(part)){activeComponent=activeComponent.getComponent(part);activeComponent.addOption(lookAhead)}else{c=new _2.ConstantComponent(part,activeComponent,lookAhead);activeComponent=c}}},_this2);new _2.AcceptEndpointComponent(endpoint,activeComponent)})}}]);return UrlPatternMatcher}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexAutocompleteComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _mappings=__webpack_require__(374);var _mappings2=_interopRequireDefault(_mappings);var _list_component=__webpack_require__(373);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function nonValidIndexType(token){return!(token==="_all"||token[0]!=="_")}var IndexAutocompleteComponent=exports.IndexAutocompleteComponent=function(_ListComponent){_inherits(IndexAutocompleteComponent,_ListComponent);function IndexAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,IndexAutocompleteComponent);return _possibleConstructorReturn(this,(IndexAutocompleteComponent.__proto__||Object.getPrototypeOf(IndexAutocompleteComponent)).call(this,name,_mappings2.default.getIndices,parent,multiValued))}_createClass(IndexAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1){return false}return!_lodash2.default.find(tokens,nonValidIndexType)}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"index"}},{key:"getContextKey",value:function getContextKey(){return"indices"}}]);return IndexAutocompleteComponent}(_list_component.ListComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Mode=Mode;var ace=__webpack_require__(235);__webpack_require__(1346);var oop=ace.acequire("ace/lib/oop");var JSONMode=ace.acequire("ace/mode/json").Mode;var HighlightRules=__webpack_require__(1346).OutputJsonHighlightRules;var MatchingBraceOutdent=ace.acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=ace.acequire("ace/mode/behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=ace.acequire("ace/mode/folding/cstyle").FoldMode;ace.acequire("ace/worker/worker_client");var AceTokenizer=ace.acequire("ace/tokenizer").Tokenizer;function Mode(){this.$tokenizer=new AceTokenizer((new HighlightRules).getRules());this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode}oop.inherits(Mode,JSONMode);(function(){this.createWorker=function(){return null};this.$id="sense/mode/input"}).call(Mode.prototype)},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldAutocompleteComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _mappings=__webpack_require__(374);var _mappings2=_interopRequireDefault(_mappings);var _list_component=__webpack_require__(373);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function FieldGenerator(context){return _lodash2.default.map(_mappings2.default.getFields(context.indices,context.types),function(field){return{name:field.name,meta:field.type}})}var FieldAutocompleteComponent=exports.FieldAutocompleteComponent=function(_ListComponent){_inherits(FieldAutocompleteComponent,_ListComponent);function FieldAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,FieldAutocompleteComponent);return _possibleConstructorReturn(this,(FieldAutocompleteComponent.__proto__||Object.getPrototypeOf(FieldAutocompleteComponent)).call(this,name,FieldGenerator,parent,multiValued))}_createClass(FieldAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1){return false}return!_lodash2.default.find(tokens,function(token){return token.match(/[^\w.?*]/)})}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"field"}},{key:"getContextKey",value:function getContextKey(){return"fields"}}]);return FieldAutocompleteComponent}(_list_component.ListComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TypeAutocompleteComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _list_component=__webpack_require__(373);var _mappings=__webpack_require__(374);var _mappings2=_interopRequireDefault(_mappings);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function TypeGenerator(context){return _mappings2.default.getTypes(context.indices)}function nonValidIndexType(token){return!(token==="_all"||token[0]!=="_")}var TypeAutocompleteComponent=exports.TypeAutocompleteComponent=function(_ListComponent){_inherits(TypeAutocompleteComponent,_ListComponent);function TypeAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,TypeAutocompleteComponent);return _possibleConstructorReturn(this,(TypeAutocompleteComponent.__proto__||Object.getPrototypeOf(TypeAutocompleteComponent)).call(this,name,TypeGenerator,parent,multiValued))}_createClass(TypeAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1){return false}return!_lodash2.default.find(tokens,nonValidIndexType)}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"type"}},{key:"getContextKey",value:function getContextKey(){return"types"}}]);return TypeAutocompleteComponent}(_list_component.ListComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IdAutocompleteComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _shared_component=__webpack_require__(289);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IdAutocompleteComponent=exports.IdAutocompleteComponent=function(_SharedComponent){_inherits(IdAutocompleteComponent,_SharedComponent);function IdAutocompleteComponent(name,parent,multi){_classCallCheck(this,IdAutocompleteComponent);var _this=_possibleConstructorReturn(this,(IdAutocompleteComponent.__proto__||Object.getPrototypeOf(IdAutocompleteComponent)).call(this,name,parent));_this.multi_match=multi;return _this}_createClass(IdAutocompleteComponent,[{key:"match",value:function match(token,context,editor){if(!token){return null}if(!this.multi_match&&Array.isArray(token)){return null}token=Array.isArray(token)?token:[token];if(_lodash2.default.find(token,function(t){return t.match(/[\/,]/)})){return null}var r=_get(IdAutocompleteComponent.prototype.__proto__||Object.getPrototypeOf(IdAutocompleteComponent.prototype),"match",this).call(this,token,context,editor);r.context_values=r.context_values||{};r.context_values.id=token;return r}}]);return IdAutocompleteComponent}(_shared_component.SharedComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TemplateAutocompleteComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _mappings=__webpack_require__(374);var _mappings2=_interopRequireDefault(_mappings);var _list_component=__webpack_require__(373);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TemplateAutocompleteComponent=exports.TemplateAutocompleteComponent=function(_ListComponent){_inherits(TemplateAutocompleteComponent,_ListComponent);function TemplateAutocompleteComponent(name,parent){_classCallCheck(this,TemplateAutocompleteComponent);return _possibleConstructorReturn(this,(TemplateAutocompleteComponent.__proto__||Object.getPrototypeOf(TemplateAutocompleteComponent)).call(this,name,_mappings2.default.getTemplates,parent))}_createClass(TemplateAutocompleteComponent,[{key:"getContextKey",value:function getContextKey(){return"template"}}]);return TemplateAutocompleteComponent}(_list_component.ListComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UsernameAutocompleteComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _mappings=__webpack_require__(374);var _mappings2=_interopRequireDefault(_mappings);var _list_component=__webpack_require__(373);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function nonValidUsernameType(token){return token[0]==="_"}var UsernameAutocompleteComponent=exports.UsernameAutocompleteComponent=function(_ListComponent){_inherits(UsernameAutocompleteComponent,_ListComponent);function UsernameAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,UsernameAutocompleteComponent);return _possibleConstructorReturn(this,(UsernameAutocompleteComponent.__proto__||Object.getPrototypeOf(UsernameAutocompleteComponent)).call(this,name,_mappings2.default.getIndices,parent,multiValued))}_createClass(UsernameAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1){return false}return!_lodash2.default.find(tokens,nonValidUsernameType)}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"username"}},{key:"getContextKey",value:function getContextKey(){return"username"}}]);return UsernameAutocompleteComponent}(_list_component.ListComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _components=__webpack_require__(321);var _url_params=__webpack_require__(4706);var _body_completer=__webpack_require__(4707);var _=__webpack_require__(1);function Api(urlParametrizedComponentFactories,bodyParametrizedComponentFactories){this.globalRules={};this.endpoints={};this.urlPatternMatcher=new _components.UrlPatternMatcher(urlParametrizedComponentFactories);this.globalBodyComponentFactories=bodyParametrizedComponentFactories;this.name=""}(function(cls){cls.addGlobalAutocompleteRules=function(parentNode,rules){this.globalRules[parentNode]=(0,_body_completer.compileBodyDescription)("GLOBAL."+parentNode,rules,this.globalBodyComponentFactories)};cls.getGlobalAutocompleteComponents=function(term,throwOnMissing){var result=this.globalRules[term];if(_.isUndefined(result)&&(throwOnMissing||_.isUndefined(throwOnMissing))){throw new Error("failed to resolve global components for  ['"+term+"']")}return result};cls.addEndpointDescription=function(endpoint,description){var copiedDescription={};_.extend(copiedDescription,description||{});_.defaults(copiedDescription,{id:endpoint,patterns:[endpoint],methods:["GET"]});_.each(copiedDescription.patterns,function(p){this.urlPatternMatcher.addEndpoint(p,copiedDescription)},this);copiedDescription.paramsAutocomplete=new _url_params.UrlParams(copiedDescription.url_params);copiedDescription.bodyAutocompleteRootComponents=(0,_body_completer.compileBodyDescription)(copiedDescription.id,copiedDescription.data_autocomplete_rules,this.globalBodyComponentFactories);this.endpoints[endpoint]=copiedDescription};cls.getEndpointDescriptionByEndpoint=function(endpoint){return this.endpoints[endpoint]};cls.getTopLevelUrlCompleteComponents=function(method){return this.urlPatternMatcher.getTopLevelComponents(method)};cls.getUnmatchedEndpointComponents=function(){return(0,_body_completer.globalsOnlyAutocompleteComponents)()};cls.clear=function(){this.endpoints={};this.globalRules={}}})(Api.prototype);exports.default=Api;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlParams=exports.ParamComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _components=__webpack_require__(321);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _=__webpack_require__(1);var ParamComponent=exports.ParamComponent=function(_ConstantComponent){_inherits(ParamComponent,_ConstantComponent);function ParamComponent(name,parent,description){_classCallCheck(this,ParamComponent);var _this=_possibleConstructorReturn(this,(ParamComponent.__proto__||Object.getPrototypeOf(ParamComponent)).call(this,name,parent));_this.description=description;return _this}_createClass(ParamComponent,[{key:"getTerms",value:function getTerms(){var t={name:this.name};if(this.description==="__flag__"){t.meta="flag"}else{t.meta="param";t.insertValue=this.name+"="}return[t]}}]);return ParamComponent}(_components.ConstantComponent);var UrlParams=exports.UrlParams=function(){function UrlParams(description,defaults){_classCallCheck(this,UrlParams);this.rootComponent=new _components.SharedComponent("ROOT");if(_.isUndefined(defaults)){defaults={pretty:"__flag__",format:["json","yaml"],filter_path:""}}description=_.clone(description||{});_.defaults(description,defaults);_.each(description,function(pDescription,param){var component=new ParamComponent(param,this.rootComponent,pDescription);if(Array.isArray(pDescription)){new _components.ListComponent(param,pDescription,component)}else if(pDescription==="__flag__"){new _components.ListComponent(param,["true","false"],component)}},this)}_createClass(UrlParams,[{key:"getTopLevelComponents",value:function getTopLevelComponents(){return this.rootComponent.next}}]);return UrlParams}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();exports.globalsOnlyAutocompleteComponents=globalsOnlyAutocompleteComponents;exports.compileBodyDescription=compileBodyDescription;var _engine=__webpack_require__(1350);var _components=__webpack_require__(321);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _=__webpack_require__(1);function CompilingContext(endpointId,parametrizedComponentFactories){this.parametrizedComponentFactories=parametrizedComponentFactories;this.endpointId=endpointId}function resolvePathToComponents(tokenPath,context,editor,components){var walkStates=(0,_engine.walkTokenPath)(tokenPath,[new _engine.WalkingState("ROOT",components,[])],context,editor);var result=[].concat.apply([],_.pluck(walkStates,"components"));return result}var ScopeResolver=function(_SharedComponent){_inherits(ScopeResolver,_SharedComponent);function ScopeResolver(link,compilingContext){_classCallCheck(this,ScopeResolver);var _this=_possibleConstructorReturn(this,(ScopeResolver.__proto__||Object.getPrototypeOf(ScopeResolver)).call(this,"__scope_link"));if(_.isString(link)&&link[0]==="."){if(link==="."){link=compilingContext.endpointId}else{link=compilingContext.endpointId+link}}_this.link=link;_this.compilingContext=compilingContext;return _this}_createClass(ScopeResolver,[{key:"resolveLinkToComponents",value:function resolveLinkToComponents(context,editor){if(_.isFunction(this.link)){var desc=this.link(context,editor);return compileDescription(desc,this.compilingContext)}if(!_.isString(this.link)){throw new Error("unsupported link format",this.link)}var path=this.link.replace(/\./g,"{").split(/(\{)/);var endpoint=path[0];var components=void 0;try{if(endpoint==="GLOBAL"){if(path.length<3){throw new Error("missing term in global link: "+this.link)}var term=path[2];components=context.globalComponentResolver(term);path=path.slice(3)}else{path=path.slice(1);components=context.endpointComponentResolver(endpoint)}}catch(e){throw new Error("failed to resolve link ["+this.link+"]: "+e)}return resolvePathToComponents(path,context,editor,components)}},{key:"getTerms",value:function getTerms(context,editor){var options=[];var components=this.resolveLinkToComponents(context,editor);_.each(components,function(component){options.push.apply(options,component.getTerms(context,editor))});return options}},{key:"match",value:function match(token,context,editor){var result={next:[]};var components=this.resolveLinkToComponents(context,editor);_.each(components,function(component){var componentResult=component.match(token,context,editor);if(componentResult&&componentResult.next){result.next.push.apply(result.next,componentResult.next)}});return result}}]);return ScopeResolver}(_components.SharedComponent);function getTemplate(description){if(description.__template){return description.__template}else if(description.__one_of){return getTemplate(description.__one_of[0])}else if(description.__any_of){return[]}else if(description.__scope_link){return{}}else if(Array.isArray(description)){if(description.length===1){if(_.isObject(description[0])){var innerTemplate=getTemplate(description[0]);return innerTemplate!=null?[innerTemplate]:[]}}return[]}else if(_.isObject(description)){return{}}else if(_.isString(description)&&!/^\{.*\}$/.test(description)){return description}else{return description}}function getOptions(description){var options={};var template=getTemplate(description);if(!_.isUndefined(template)){options.template=template}return options}function compileDescription(description,compilingContext){if(Array.isArray(description)){return[compileList(description,compilingContext)]}else if(_.isObject(description)){if(description.__scope_link){return[new ScopeResolver(description.__scope_link,compilingContext)]}if(description.__any_of){return[compileList(description.__any_of,compilingContext)]}if(description.__one_of){return _.flatten(_.map(description.__one_of,function(d){return compileDescription(d,compilingContext)}))}var obj=compileObject(description,compilingContext);if(description.__condition){return[compileCondition(description.__condition,obj,compilingContext)]}else{return[obj]}}else if(_.isString(description)&&/^\{.*\}$/.test(description)){return[compileParametrizedValue(description,compilingContext)]}else{return[new _components.ConstantComponent(description)]}}function compileParametrizedValue(value,compilingContext,template){value=value.substr(1,value.length-2).toLowerCase();var component=compilingContext.parametrizedComponentFactories.getComponent(value,true);if(!component){throw new Error("no factory found for '"+value+"'")}component=component(value,null,template);if(!_.isUndefined(template)){component=(0,_engine.wrapComponentWithDefaults)(component,{template:template})}return component}function compileObject(objDescription,compilingContext){var objectC=new _components.ConstantComponent("{");var constants=[];var patterns=[];_.each(objDescription,function(desc,key){if(key.indexOf("__")===0){return}var options=getOptions(desc);var component=void 0;if(/^\{.*\}$/.test(key)){component=compileParametrizedValue(key,compilingContext,options.template);patterns.push(component)}else if(key==="*"){component=new _components.SharedComponent(key);patterns.push(component)}else{options.name=key;component=new _components.ConstantComponent(key,null,[options]);constants.push(component)}_.map(compileDescription(desc,compilingContext),function(subComponent){component.addComponent(subComponent)})});objectC.addComponent(new _components.ObjectComponent("inner",constants,patterns));return objectC}function compileList(listRule,compilingContext){var listC=new _components.ConstantComponent("[");_.each(listRule,function(desc){_.each(compileDescription(desc,compilingContext),function(component){listC.addComponent(component)})});return listC}function compileCondition(description,compiledObject){if(description.lines_regex){return new _components.ConditionalProxy(function(context,editor){var lines=editor.getSession().getLines(context.requestStartRow,editor.getCursorPosition().row).join("\n");return new RegExp(description.lines_regex,"m").test(lines)},compiledObject)}else{throw"unknown condition type - got: "+JSON.stringify(description)}}function globalsOnlyAutocompleteComponents(){return[new _components.GlobalOnlyComponent("__global__")]}function compileBodyDescription(endpointId,description,parametrizedComponentFactories){return compileDescription(description,new CompilingContext(endpointId,parametrizedComponentFactories))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.detectCURL=detectCURL;exports.parseCURL=parseCURL;function detectCURLinLine(line){return line.match(/^\s*?curl\s+(-X[A-Z]+)?\s*['"]?.*?['"]?(\s*$|\s+?-d\s*?['"])/)}function detectCURL(text){if(!text)return false;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=text.split("\n")[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var line=_step.value;if(detectCURLinLine(line)){return true}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return false}function parseCURL(text){var state="NONE";var out=[];var body=[];var line="";var lines=text.trim().split("\n");var matches=void 0;var EmptyLine=/^\s*$/;var Comment=/^\s*(?:#|\/{2,})(.*)\n?$/;var ExecutionComment=/^\s*#!/;var ClosingSingleQuote=/^([^']*)'/;var ClosingDoubleQuote=/^((?:[^\\"]|\\.)*)"/;var EscapedQuotes=/^((?:[^\\"']|\\.)+)/;var LooksLikeCurl=/^\s*curl\s+/;var CurlVerb=/-X ?(GET|HEAD|POST|PUT|DELETE)/;var HasProtocol=/[\s"']https?:\/\//;var CurlRequestWithProto=/[\s"']https?:\/\/[^\/ ]+\/+([^\s"']+)/;var CurlRequestWithoutProto=/[\s"'][^\/ ]+\/+([^\s"']+)/;var CurlData=/^.+\s(--data|-d)\s*/;var SenseLine=/^\s*(GET|HEAD|POST|PUT|DELETE)\s+\/?(.+)/;if(lines.length>0&&ExecutionComment.test(lines[0])){lines.shift()}function nextLine(){if(line.length>0){return true}if(lines.length===0){return false}line=lines.shift().replace(/[\r\n]+/g,"\n")+"\n";return true}function unescapeLastBodyEl(){var str=body.pop().replace(/\\([\\"'])/g,"$1");body.push(str)}function detectQuote(){if(line.substr(0,1)==="'"){line=line.substr(1);state="SINGLE_QUOTE"}else if(line.substr(0,1)==='"'){line=line.substr(1);state="DOUBLE_QUOTE"}else{state="UNQUOTED"}}function addBodyToOut(){if(body.length>0){out.push(body.join(""));body=[]}state="LF";out.push("\n")}function consumeMatching(pattern){var matches=line.match(pattern);if(matches){body.push(matches[1]);line=line.substr(matches[0].length);detectQuote()}else{body.push(line);line=""}}function parseCurlLine(){var verb="GET";var request="";var matches=void 0;if(matches=line.match(CurlVerb)){verb=matches[1]}var pattern=HasProtocol.test(line)?CurlRequestWithProto:CurlRequestWithoutProto;if(matches=line.match(pattern)){request=matches[1]}out.push(verb+" /"+request+"\n");if(matches=line.match(CurlData)){line=line.substr(matches[0].length);detectQuote();if(EmptyLine.test(line)){line=""}}else{state="NONE";line="";out.push("")}}while(nextLine()){if(state==="SINGLE_QUOTE"){consumeMatching(ClosingSingleQuote)}else if(state==="DOUBLE_QUOTE"){consumeMatching(ClosingDoubleQuote);unescapeLastBodyEl()}else if(state==="UNQUOTED"){consumeMatching(EscapedQuotes);if(body.length){unescapeLastBodyEl()}if(state==="UNQUOTED"){addBodyToOut();line=""}}else if(state==="BODY"){if(Comment.test(line)||EmptyLine.test(line)){addBodyToOut()}else{body.push(line);line=""}}else if(EmptyLine.test(line)){if(state!=="LF"){out.push("\n");state="LF"}line=""}else if(matches=line.match(Comment)){out.push("#"+matches[1]+"\n");state="NONE";line=""}else if(LooksLikeCurl.test(line)){parseCurlLine()}else if(matches=line.match(SenseLine)){out.push(matches[1]+" /"+matches[2]+"\n");line="";state="BODY"}else{out.push("### "+line);line=""}}addBodyToOut();return out.join("").trim()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var MODE={REQUEST_START:2,IN_REQUEST:4,MULTI_DOC_CUR_DOC_END:8,REQUEST_END:16,BETWEEN_REQUESTS:32};function RowParser(editor){var defaultEditor=editor;this.getRowParseMode=function(row){if(row===null||typeof row==="undefined"){row=editor.getCursorPosition().row}var session=editor.getSession();if(row>=session.getLength()||row<0){return MODE.BETWEEN_REQUESTS}var mode=session.getState(row);if(!mode){return MODE.BETWEEN_REQUESTS}if(mode!=="start"){return MODE.IN_REQUEST}var line=(session.getLine(row)||"").trim();if(!line||line[0]==="#"){return MODE.BETWEEN_REQUESTS}if(line.indexOf("}",line.length-1)>=0){row++;if(row<session.getLength()){line=(session.getLine(row)||"").trim();if(line.indexOf("{")===0){return MODE.MULTI_DOC_CUR_DOC_END|MODE.IN_REQUEST}}return MODE.REQUEST_END|MODE.MULTI_DOC_CUR_DOC_END}row++;if(row>=session.getLength()){return MODE.REQUEST_START|MODE.REQUEST_END}line=(session.getLine(row)||"").trim();if(line.indexOf("{")!==0){return MODE.REQUEST_START|MODE.REQUEST_END}return MODE.REQUEST_START};this.rowPredicate=function(row,editor,value){var mode=this.getRowParseMode(row,editor);return(mode&value)>0};this.isEndRequestRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.REQUEST_END)};this.isRequestEdge=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.REQUEST_END|MODE.REQUEST_START)};this.isStartRequestRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.REQUEST_START)};this.isInBetweenRequestsRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.BETWEEN_REQUESTS)};this.isInRequestsRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.IN_REQUEST)};this.isMultiDocDocEndRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.MULTI_DOC_CUR_DOC_END)};this.isEmptyToken=function(tokenOrTokenIter){var token=tokenOrTokenIter&&tokenOrTokenIter.getCurrentToken?tokenOrTokenIter.getCurrentToken():tokenOrTokenIter;return!token||token.type==="whitespace"};this.isUrlOrMethodToken=function(tokenOrTokenIter){var t=tokenOrTokenIter.getCurrentToken?tokenOrTokenIter.getCurrentToken():tokenOrTokenIter;return t&&t.type&&(t.type==="method"||t.type.indexOf("url")===0)};this.nextNonEmptyToken=function(tokenIter){var t=tokenIter.stepForward();while(t&&this.isEmptyToken(t)){t=tokenIter.stepForward()}return t};this.prevNonEmptyToken=function(tokenIter){var t=tokenIter.stepBackward();while((t||tokenIter.getCurrentTokenRow()>0)&&this.isEmptyToken(t)){t=tokenIter.stepBackward()}return t}}RowParser.prototype.MODE=MODE;exports.default=RowParser;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Mode=Mode;var _brace=__webpack_require__(235);var _brace2=_interopRequireDefault(_brace);var _worker=__webpack_require__(4711);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var oop=_brace2.default.acequire("ace/lib/oop");var TextMode=_brace2.default.acequire("ace/mode/text").Mode;var ScriptMode=__webpack_require__(4713).ScriptMode;var MatchingBraceOutdent=_brace2.default.acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=_brace2.default.acequire("ace/mode/behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=_brace2.default.acequire("ace/mode/folding/cstyle").FoldMode;var WorkerClient=_brace2.default.acequire("ace/worker/worker_client").WorkerClient;var AceTokenizer=_brace2.default.acequire("ace/tokenizer").Tokenizer;var HighlightRules=__webpack_require__(4714).InputHighlightRules;function Mode(){this.$tokenizer=new AceTokenizer((new HighlightRules).getRules());this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode;this.createModeDelegates({"script-":ScriptMode})}oop.inherits(Mode,TextMode);(function(){this.getCompletions=function(){return[]};this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);if(state!=="string_literal"){var match=line.match(/^.*[\{\(\[]\s*$/);if(match){indent+=tab}}return indent};this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)};this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)};this.createWorker=function(session){var worker=new WorkerClient(["ace","sense_editor"],_worker.workerModule,"SenseWorker");worker.attachToDocument(session.getDocument());worker.on("error",function(e){session.setAnnotations([e.data])});worker.on("ok",function(anno){session.setAnnotations(anno.data)});return worker}}).call(Mode.prototype)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var workerModule=exports.workerModule={id:"sense_editor/mode/worker",src:__webpack_require__(4712)}},function(module,exports){module.exports="/* eslint-disable */\n/* \n  This file is loaded up as a blob by Brace to hand to Ace to load as Jsonp\n  (hence the redefining of everything).  It is based on the javascript\n  mode from the brace distro.\n*/\n\n(function (window) {\n  function resolveModuleId(id, paths) {\n    for (let testPath = id, tail = ''; testPath;) {\n      let alias = paths[testPath];\n      if ('string' === typeof alias) return alias + tail;\n      if (alias)\n        {return (\n          alias.location.replace(/\\/*$/, '/') +\n          (tail || alias.main || alias.name)\n        );}\n      if (alias === !1) return '';\n      let i = testPath.lastIndexOf('/');\n      if (-1 === i) break;\n      (tail = testPath.substr(i) + tail), (testPath = testPath.slice(0, i));\n    }\n    return id;\n  }\n  if (\n    !(\n      (void 0 !== window.window && window.document) ||\n      (window.acequire && window.define)\n    )\n  ) {\n    window.console ||\n      ((window.console = function () {\n        let msgs = Array.prototype.slice.call(arguments, 0);\n        postMessage({ type: 'log', data: msgs });\n      }),\n        (window.console.error = window.console.warn = window.console.log = window.console.trace =\n        window.console)),\n    (window.window = window),\n    (window.ace = window),\n    (window.onerror = function (message, file, line, col, err) {\n      postMessage({\n        type: 'error',\n        data: {\n          message: message,\n          data: err.data,\n          file: file,\n          line: line,\n          col: col,\n          stack: err.stack,\n        },\n      });\n    }),\n    (window.normalizeModule = function (parentId, moduleName) {\n      if (-1 !== moduleName.indexOf('!')) {\n        let chunks = moduleName.split('!');\n        return (\n          window.normalizeModule(parentId, chunks[0]) +\n            '!' +\n            window.normalizeModule(parentId, chunks[1])\n        );\n      }\n      if ('.' == moduleName.charAt(0)) {\n        let base = parentId\n          .split('/')\n          .slice(0, -1)\n          .join('/');\n        for (\n          moduleName = (base ? base + '/' : '') + moduleName;\n          -1 !== moduleName.indexOf('.') && previous != moduleName;\n\n        ) {\n          var previous = moduleName;\n          moduleName = moduleName\n            .replace(/^\\.\\//, '')\n            .replace(/\\/\\.\\//, '/')\n            .replace(/[^\\/]+\\/\\.\\.\\//, '');\n        }\n      }\n      return moduleName;\n    }),\n    (window.acequire = function acequire(parentId, id) {\n      if ((id || ((id = parentId), (parentId = null)), !id.charAt))\n        {throw Error(\n            'worker.js acequire() accepts only (parentId, id) as arguments'\n          );}\n      id = window.normalizeModule(parentId, id);\n      let module = window.acequire.modules[id];\n      if (module)\n        {return (\n            module.initialized ||\n              ((module.initialized = !0),\n              (module.exports = module.factory().exports)),\n            module.exports\n          );}\n      if (!window.acequire.tlns) return console.log('unable to load ' + id);\n      let path = resolveModuleId(id, window.acequire.tlns);\n      return (\n        '.js' != path.slice(-3) && (path += '.js'),\n        (window.acequire.id = id),\n        (window.acequire.modules[id] = {}),\n        importScripts(path),\n        window.acequire(parentId, id)\n      );\n    }),\n    (window.acequire.modules = {}),\n    (window.acequire.tlns = {}),\n    (window.define = function (id, deps, factory) {\n      if (\n        (2 == arguments.length\n          ? ((factory = deps),\n            'string' !== typeof id && ((deps = id), (id = window.acequire.id)))\n          : 1 == arguments.length &&\n              ((factory = id), (deps = []), (id = window.acequire.id)),\n          'function' !== typeof factory)\n      )\n        {return (\n            (window.acequire.modules[id] = {\n              exports: factory,\n              initialized: !0,\n            }),\n            void 0\n          );}\n      deps.length || (deps = ['require', 'exports', 'module']);\n      let req = function (childId) {\n        return window.acequire(id, childId);\n      };\n      window.acequire.modules[id] = {\n        exports: {},\n        factory: function () {\n          let module = this,\n            returnExports = factory.apply(\n              this,\n              deps.map(function (dep) {\n                switch (dep) {\n                  case 'require':\n                    return req;\n                  case 'exports':\n                    return module.exports;\n                  case 'module':\n                    return module;\n                  default:\n                    return req(dep);\n                }\n              })\n            );\n          return returnExports && (module.exports = returnExports), module;\n        },\n      };\n    }),\n    (window.define.amd = {}),\n    (acequire.tlns = {}),\n    (window.initBaseUrls = function (topLevelNamespaces) {\n      for (let i in topLevelNamespaces)\n        {acequire.tlns[i] = topLevelNamespaces[i];}\n    }),\n    (window.initSender = function () {\n      let EventEmitter = window.acequire('ace/lib/event_emitter')\n          .EventEmitter,\n        oop = window.acequire('ace/lib/oop'),\n        Sender = function () {};\n      return (\n        function () {\n          oop.implement(this, EventEmitter),\n          (this.callback = function (data, callbackId) {\n            postMessage({ type: 'call', id: callbackId, data: data });\n          }),\n          (this.emit = function (name, data) {\n            postMessage({ type: 'event', name: name, data: data });\n          });\n        }.call(Sender.prototype),\n        new Sender()\n      );\n    });\n    let main = (window.main = null),\n      sender = (window.sender = null);\n    window.onmessage = function (e) {\n      let msg = e.data;\n      if (msg.event && sender) sender._signal(msg.event, msg.data);\n      else if (msg.command)\n        {if (main[msg.command]) main[msg.command].apply(main, msg.args);\n        else {\n          if (!window[msg.command])\n            throw Error('Unknown command:' + msg.command);\n          window[msg.command].apply(window, msg.args);\n        }}\n      else if (msg.init) {\n        window.initBaseUrls(msg.tlns),\n        acequire('ace/lib/es5-shim'),\n        (sender = window.sender = window.initSender());\n        let clazz = acequire(msg.module)[msg.classname];\n        main = window.main = new clazz(sender);\n      }\n    };\n  }\n}(this)),\nace.define('ace/lib/oop', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  (exports.inherits = function (ctor, superCtor) {\n    (ctor.super_ = superCtor),\n    (ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0,\n      },\n    }));\n  }),\n  (exports.mixin = function (obj, mixin) {\n    for (let key in mixin) obj[key] = mixin[key];\n    return obj;\n  }),\n  (exports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n  });\n}),\nace.define('ace/range', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  let comparePoints = function (p1, p2) {\n      return p1.row - p2.row || p1.column - p2.column;\n    },\n    Range = function (startRow, startColumn, endRow, endColumn) {\n      (this.start = { row: startRow, column: startColumn }),\n      (this.end = { row: endRow, column: endColumn });\n    };\n  (function () {\n    (this.isEqual = function (range) {\n      return (\n        this.start.row === range.start.row &&\n          this.end.row === range.end.row &&\n          this.start.column === range.start.column &&\n          this.end.column === range.end.column\n      );\n    }),\n    (this.toString = function () {\n      return (\n        'Range: [' +\n            this.start.row +\n            '/' +\n            this.start.column +\n            '] -> [' +\n            this.end.row +\n            '/' +\n            this.end.column +\n            ']'\n      );\n    }),\n    (this.contains = function (row, column) {\n      return 0 == this.compare(row, column);\n    }),\n    (this.compareRange = function (range) {\n      let cmp,\n        end = range.end,\n        start = range.start;\n      return (\n        (cmp = this.compare(end.row, end.column)),\n        1 == cmp\n          ? ((cmp = this.compare(start.row, start.column)),\n            1 == cmp ? 2 : 0 == cmp ? 1 : 0)\n          : -1 == cmp\n            ? -2\n            : ((cmp = this.compare(start.row, start.column)),\n              -1 == cmp ? -1 : 1 == cmp ? 42 : 0)\n      );\n    }),\n    (this.comparePoint = function (p) {\n      return this.compare(p.row, p.column);\n    }),\n    (this.containsRange = function (range) {\n      return (\n        0 == this.comparePoint(range.start) &&\n            0 == this.comparePoint(range.end)\n      );\n    }),\n    (this.intersects = function (range) {\n      let cmp = this.compareRange(range);\n      return -1 == cmp || 0 == cmp || 1 == cmp;\n    }),\n    (this.isEnd = function (row, column) {\n      return this.end.row == row && this.end.column == column;\n    }),\n    (this.isStart = function (row, column) {\n      return this.start.row == row && this.start.column == column;\n    }),\n    (this.setStart = function (row, column) {\n      'object' === typeof row\n        ? ((this.start.column = row.column), (this.start.row = row.row))\n        : ((this.start.row = row), (this.start.column = column));\n    }),\n    (this.setEnd = function (row, column) {\n      'object' === typeof row\n        ? ((this.end.column = row.column), (this.end.row = row.row))\n        : ((this.end.row = row), (this.end.column = column));\n    }),\n    (this.inside = function (row, column) {\n      return 0 == this.compare(row, column)\n        ? this.isEnd(row, column) || this.isStart(row, column)\n          ? !1\n          : !0\n        : !1;\n    }),\n    (this.insideStart = function (row, column) {\n      return 0 == this.compare(row, column)\n        ? this.isEnd(row, column)\n          ? !1\n          : !0\n        : !1;\n    }),\n    (this.insideEnd = function (row, column) {\n      return 0 == this.compare(row, column)\n        ? this.isStart(row, column)\n          ? !1\n          : !0\n        : !1;\n    }),\n    (this.compare = function (row, column) {\n      return this.isMultiLine() || row !== this.start.row\n        ? this.start.row > row\n          ? -1\n          : row > this.end.row\n            ? 1\n            : this.start.row === row\n              ? column >= this.start.column\n                ? 0\n                : -1\n              : this.end.row === row\n                ? this.end.column >= column\n                  ? 0\n                  : 1\n                : 0\n        : this.start.column > column\n          ? -1\n          : column > this.end.column\n            ? 1\n            : 0;\n    }),\n    (this.compareStart = function (row, column) {\n      return this.start.row == row && this.start.column == column\n        ? -1\n        : this.compare(row, column);\n    }),\n    (this.compareEnd = function (row, column) {\n      return this.end.row == row && this.end.column == column\n        ? 1\n        : this.compare(row, column);\n    }),\n    (this.compareInside = function (row, column) {\n      return this.end.row == row && this.end.column == column\n        ? 1\n        : this.start.row == row && this.start.column == column\n          ? -1\n          : this.compare(row, column);\n    }),\n    (this.clipRows = function (firstRow, lastRow) {\n      if (this.end.row > lastRow) var end = { row: lastRow + 1, column: 0 };\n      else if (firstRow > this.end.row)\n        {var end = { row: firstRow, column: 0 };}\n      if (this.start.row > lastRow)\n        {var start = { row: lastRow + 1, column: 0 };}\n      else if (firstRow > this.start.row)\n        {var start = { row: firstRow, column: 0 };}\n      return Range.fromPoints(start || this.start, end || this.end);\n    }),\n    (this.extend = function (row, column) {\n      let cmp = this.compare(row, column);\n      if (0 == cmp) return this;\n      if (-1 == cmp) var start = { row: row, column: column };\n      else var end = { row: row, column: column };\n      return Range.fromPoints(start || this.start, end || this.end);\n    }),\n    (this.isEmpty = function () {\n      return (\n        this.start.row === this.end.row &&\n            this.start.column === this.end.column\n      );\n    }),\n    (this.isMultiLine = function () {\n      return this.start.row !== this.end.row;\n    }),\n    (this.clone = function () {\n      return Range.fromPoints(this.start, this.end);\n    }),\n    (this.collapseRows = function () {\n      return 0 == this.end.column\n        ? new Range(\n          this.start.row,\n          0,\n          Math.max(this.start.row, this.end.row - 1),\n          0\n        )\n        : new Range(this.start.row, 0, this.end.row, 0);\n    }),\n    (this.toScreenRange = function (session) {\n      let screenPosStart = session.documentToScreenPosition(this.start),\n        screenPosEnd = session.documentToScreenPosition(this.end);\n      return new Range(\n        screenPosStart.row,\n        screenPosStart.column,\n        screenPosEnd.row,\n        screenPosEnd.column\n      );\n    }),\n    (this.moveBy = function (row, column) {\n      (this.start.row += row),\n      (this.start.column += column),\n      (this.end.row += row),\n      (this.end.column += column);\n    });\n  }.call(Range.prototype),\n    (Range.fromPoints = function (start, end) {\n      return new Range(start.row, start.column, end.row, end.column);\n    }),\n    (Range.comparePoints = comparePoints),\n    (Range.comparePoints = function (p1, p2) {\n      return p1.row - p2.row || p1.column - p2.column;\n    }),\n    (exports.Range = Range));\n}),\nace.define('ace/apply_delta', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  exports.applyDelta = function (docLines, delta) {\n    let row = delta.start.row,\n      startColumn = delta.start.column,\n      line = docLines[row] || '';\n    switch (delta.action) {\n      case 'insert':\n        var lines = delta.lines;\n        if (1 === lines.length)\n          {docLines[row] =\n              line.substring(0, startColumn) +\n              delta.lines[0] +\n              line.substring(startColumn);}\n        else {\n          let args = [row, 1].concat(delta.lines);\n          docLines.splice.apply(docLines, args),\n          (docLines[row] = line.substring(0, startColumn) + docLines[row]),\n          (docLines[row + delta.lines.length - 1] += line.substring(\n            startColumn\n          ));\n        }\n        break;\n      case 'remove':\n        var endColumn = delta.end.column,\n          endRow = delta.end.row;\n        row === endRow\n          ? (docLines[row] =\n                line.substring(0, startColumn) + line.substring(endColumn))\n          : docLines.splice(\n            row,\n            endRow - row + 1,\n            line.substring(0, startColumn) +\n                  docLines[endRow].substring(endColumn)\n          );\n    }\n  };\n}),\nace.define(\n  'ace/lib/event_emitter',\n  ['require', 'exports', 'module'],\n  function (acequire, exports) {\n    \n    let EventEmitter = {},\n      stopPropagation = function () {\n        this.propagationStopped = !0;\n      },\n      preventDefault = function () {\n        this.defaultPrevented = !0;\n      };\n    (EventEmitter._emit = EventEmitter._dispatchEvent = function (\n      eventName,\n      e\n    ) {\n      this._eventRegistry || (this._eventRegistry = {}),\n      this._defaultHandlers || (this._defaultHandlers = {});\n      let listeners = this._eventRegistry[eventName] || [],\n        defaultHandler = this._defaultHandlers[eventName];\n      if (listeners.length || defaultHandler) {\n        ('object' === typeof e && e) || (e = {}),\n        e.type || (e.type = eventName),\n        e.stopPropagation || (e.stopPropagation = stopPropagation),\n        e.preventDefault || (e.preventDefault = preventDefault),\n        (listeners = listeners.slice());\n        for (\n          let i = 0;\n          listeners.length > i &&\n            (listeners[i](e, this), !e.propagationStopped);\n          i++\n        );\n        return defaultHandler && !e.defaultPrevented\n          ? defaultHandler(e, this)\n          : void 0;\n      }\n    }),\n    (EventEmitter._signal = function (eventName, e) {\n      let listeners = (this._eventRegistry || {})[eventName];\n      if (listeners) {\n        listeners = listeners.slice();\n        for (let i = 0; listeners.length > i; i++) listeners[i](e, this);\n      }\n    }),\n    (EventEmitter.once = function (eventName, callback) {\n      let _self = this;\n      callback &&\n            this.addEventListener(eventName, function newCallback() {\n              _self.removeEventListener(eventName, newCallback),\n              callback.apply(null, arguments);\n            });\n    }),\n    (EventEmitter.setDefaultHandler = function (eventName, callback) {\n      let handlers = this._defaultHandlers;\n      if (\n        (handlers ||\n              (handlers = this._defaultHandlers = { _disabled_: {} }),\n          handlers[eventName])\n      ) {\n        let old = handlers[eventName],\n          disabled = handlers._disabled_[eventName];\n        disabled || (handlers._disabled_[eventName] = disabled = []),\n        disabled.push(old);\n        let i = disabled.indexOf(callback);\n        -1 != i && disabled.splice(i, 1);\n      }\n      handlers[eventName] = callback;\n    }),\n    (EventEmitter.removeDefaultHandler = function (eventName, callback) {\n      let handlers = this._defaultHandlers;\n      if (handlers) {\n        let disabled = handlers._disabled_[eventName];\n        if (handlers[eventName] == callback)\n          {handlers[eventName],\n                disabled && this.setDefaultHandler(eventName, disabled.pop());}\n        else if (disabled) {\n          let i = disabled.indexOf(callback);\n          -1 != i && disabled.splice(i, 1);\n        }\n      }\n    }),\n    (EventEmitter.on = EventEmitter.addEventListener = function (\n      eventName,\n      callback,\n      capturing\n    ) {\n      this._eventRegistry = this._eventRegistry || {};\n      let listeners = this._eventRegistry[eventName];\n      return (\n        listeners || (listeners = this._eventRegistry[eventName] = []),\n        -1 == listeners.indexOf(callback) &&\n              listeners[capturing ? 'unshift' : 'push'](callback),\n        callback\n      );\n    }),\n    (EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function (\n      eventName,\n      callback\n    ) {\n      this._eventRegistry = this._eventRegistry || {};\n      let listeners = this._eventRegistry[eventName];\n      if (listeners) {\n        let index = listeners.indexOf(callback);\n        -1 !== index && listeners.splice(index, 1);\n      }\n    }),\n    (EventEmitter.removeAllListeners = function (eventName) {\n      this._eventRegistry && (this._eventRegistry[eventName] = []);\n    }),\n    (exports.EventEmitter = EventEmitter);\n  }\n),\nace.define(\n  'ace/anchor',\n  ['require', 'exports', 'module', 'ace/lib/oop', 'ace/lib/event_emitter'],\n  function (acequire, exports) {\n    \n    let oop = acequire('./lib/oop'),\n      EventEmitter = acequire('./lib/event_emitter').EventEmitter,\n      Anchor = (exports.Anchor = function (doc, row, column) {\n        (this.$onChange = this.onChange.bind(this)),\n        this.attach(doc),\n        column === void 0\n          ? this.setPosition(row.row, row.column)\n          : this.setPosition(row, column);\n      });\n    (function () {\n      function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        let bColIsAfter = equalPointsInOrder\n          ? point1.column <= point2.column\n          : point1.column < point2.column;\n        return (\n          point1.row < point2.row || (point1.row == point2.row && bColIsAfter)\n        );\n      }\n      function $getTransformedPoint(delta, point, moveIfEqual) {\n        let deltaIsInsert = 'insert' == delta.action,\n          deltaRowShift =\n              (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row),\n          deltaColShift =\n              (deltaIsInsert ? 1 : -1) *\n              (delta.end.column - delta.start.column),\n          deltaStart = delta.start,\n          deltaEnd = deltaIsInsert ? deltaStart : delta.end;\n        return $pointsInOrder(point, deltaStart, moveIfEqual)\n          ? { row: point.row, column: point.column }\n          : $pointsInOrder(deltaEnd, point, !moveIfEqual)\n            ? {\n              row: point.row + deltaRowShift,\n              column:\n                    point.column +\n                    (point.row == deltaEnd.row ? deltaColShift : 0),\n            }\n            : { row: deltaStart.row, column: deltaStart.column };\n      }\n      oop.implement(this, EventEmitter),\n      (this.getPosition = function () {\n        return this.$clipPositionToDocument(this.row, this.column);\n      }),\n      (this.getDocument = function () {\n        return this.document;\n      }),\n      (this.$insertRight = !1),\n      (this.onChange = function (delta) {\n        if (\n          !(\n            (delta.start.row == delta.end.row &&\n                  delta.start.row != this.row) ||\n                delta.start.row > this.row\n          )\n        ) {\n          let point = $getTransformedPoint(\n            delta,\n            { row: this.row, column: this.column },\n            this.$insertRight\n          );\n          this.setPosition(point.row, point.column, !0);\n        }\n      }),\n      (this.setPosition = function (row, column, noClip) {\n        let pos;\n        if (\n          ((pos = noClip\n            ? { row: row, column: column }\n            : this.$clipPositionToDocument(row, column)),\n            this.row != pos.row || this.column != pos.column)\n        ) {\n          let old = { row: this.row, column: this.column };\n          (this.row = pos.row),\n          (this.column = pos.column),\n          this._signal('change', { old: old, value: pos });\n        }\n      }),\n      (this.detach = function () {\n        this.document.removeEventListener('change', this.$onChange);\n      }),\n      (this.attach = function (doc) {\n        (this.document = doc || this.document),\n        this.document.on('change', this.$onChange);\n      }),\n      (this.$clipPositionToDocument = function (row, column) {\n        let pos = {};\n        return (\n          row >= this.document.getLength()\n            ? ((pos.row = Math.max(0, this.document.getLength() - 1)),\n              (pos.column = this.document.getLine(pos.row).length))\n            : 0 > row\n              ? ((pos.row = 0), (pos.column = 0))\n              : ((pos.row = row),\n                (pos.column = Math.min(\n                  this.document.getLine(pos.row).length,\n                  Math.max(0, column)\n                ))),\n          0 > column && (pos.column = 0),\n          pos\n        );\n      });\n    }.call(Anchor.prototype));\n  }\n),\nace.define(\n  'ace/document',\n  [\n    'require',\n    'exports',\n    'module',\n    'ace/lib/oop',\n    'ace/apply_delta',\n    'ace/lib/event_emitter',\n    'ace/range',\n    'ace/anchor',\n  ],\n  function (acequire, exports) {\n    \n    let oop = acequire('./lib/oop'),\n      applyDelta = acequire('./apply_delta').applyDelta,\n      EventEmitter = acequire('./lib/event_emitter').EventEmitter,\n      Range = acequire('./range').Range,\n      Anchor = acequire('./anchor').Anchor,\n      Document = function (textOrLines) {\n        (this.$lines = ['']),\n        0 === textOrLines.length\n          ? (this.$lines = [''])\n          : Array.isArray(textOrLines)\n            ? this.insertMergedLines({ row: 0, column: 0 }, textOrLines)\n            : this.insert({ row: 0, column: 0 }, textOrLines);\n      };\n    (function () {\n      oop.implement(this, EventEmitter),\n      (this.setValue = function (text) {\n        let len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length)),\n        this.insert({ row: 0, column: 0 }, text);\n      }),\n      (this.getValue = function () {\n        return this.getAllLines().join(this.getNewLineCharacter());\n      }),\n      (this.createAnchor = function (row, column) {\n        return new Anchor(this, row, column);\n      }),\n      (this.$split =\n            0 === 'aaa'.split(/a/).length\n              ? function (text) {\n                return text.replace(/\\r\\n|\\r/g, '\\n').split('\\n');\n              }\n              : function (text) {\n                return text.split(/\\r\\n|\\r|\\n/);\n              }),\n      (this.$detectNewLine = function (text) {\n        let match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        (this.$autoNewLine = match ? match[1] : '\\n'),\n        this._signal('changeNewLineMode');\n      }),\n      (this.getNewLineCharacter = function () {\n        switch (this.$newLineMode) {\n          case 'windows':\n            return '\\r\\n';\n          case 'unix':\n            return '\\n';\n          default:\n            return this.$autoNewLine || '\\n';\n        }\n      }),\n      (this.$autoNewLine = ''),\n      (this.$newLineMode = 'auto'),\n      (this.setNewLineMode = function (newLineMode) {\n        this.$newLineMode !== newLineMode &&\n              ((this.$newLineMode = newLineMode),\n                this._signal('changeNewLineMode'));\n      }),\n      (this.getNewLineMode = function () {\n        return this.$newLineMode;\n      }),\n      (this.isNewLine = function (text) {\n        return '\\r\\n' == text || '\\r' == text || '\\n' == text;\n      }),\n      (this.getLine = function (row) {\n        return this.$lines[row] || '';\n      }),\n      (this.getLines = function (firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n      }),\n      (this.getAllLines = function () {\n        return this.getLines(0, this.getLength());\n      }),\n      (this.getLength = function () {\n        return this.$lines.length;\n      }),\n      (this.getTextRange = function (range) {\n        return this.getLinesForRange(range).join(\n          this.getNewLineCharacter()\n        );\n      }),\n      (this.getLinesForRange = function (range) {\n        let lines;\n        if (range.start.row === range.end.row)\n          {lines = [\n                this.getLine(range.start.row).substring(\n                  range.start.column,\n                  range.end.column\n                ),\n              ];}\n        else {\n          (lines = this.getLines(range.start.row, range.end.row)),\n          (lines[0] = (lines[0] || '').substring(range.start.column));\n          let l = lines.length - 1;\n          range.end.row - range.start.row == l &&\n                (lines[l] = lines[l].substring(0, range.end.column));\n        }\n        return lines;\n      }),\n      (this.insertLines = function (row, lines) {\n        return (\n          console.warn(\n            'Use of document.insertLines is deprecated. Use the insertFullLines method instead.'\n          ),\n          this.insertFullLines(row, lines)\n        );\n      }),\n      (this.removeLines = function (firstRow, lastRow) {\n        return (\n          console.warn(\n            'Use of document.removeLines is deprecated. Use the removeFullLines method instead.'\n          ),\n          this.removeFullLines(firstRow, lastRow)\n        );\n      }),\n      (this.insertNewLine = function (position) {\n        return (\n          console.warn(\n            'Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\\'\\', \\'\\']) instead.'\n          ),\n          this.insertMergedLines(position, ['', ''])\n        );\n      }),\n      (this.insert = function (position, text) {\n        return (\n          1 >= this.getLength() && this.$detectNewLine(text),\n          this.insertMergedLines(position, this.$split(text))\n        );\n      }),\n      (this.insertInLine = function (position, text) {\n        let start = this.clippedPos(position.row, position.column),\n          end = this.pos(position.row, position.column + text.length);\n        return (\n          this.applyDelta(\n            { start: start, end: end, action: 'insert', lines: [text] },\n            !0\n          ),\n          this.clonePos(end)\n        );\n      }),\n      (this.clippedPos = function (row, column) {\n        let length = this.getLength();\n        void 0 === row\n          ? (row = length)\n          : 0 > row\n            ? (row = 0)\n            : row >= length && ((row = length - 1), (column = void 0));\n        let line = this.getLine(row);\n        return (\n          void 0 == column && (column = line.length),\n          (column = Math.min(Math.max(column, 0), line.length)),\n          { row: row, column: column }\n        );\n      }),\n      (this.clonePos = function (pos) {\n        return { row: pos.row, column: pos.column };\n      }),\n      (this.pos = function (row, column) {\n        return { row: row, column: column };\n      }),\n      (this.$clipPosition = function (position) {\n        let length = this.getLength();\n        return (\n          position.row >= length\n            ? ((position.row = Math.max(0, length - 1)),\n              (position.column = this.getLine(length - 1).length))\n            : ((position.row = Math.max(0, position.row)),\n              (position.column = Math.min(\n                Math.max(position.column, 0),\n                this.getLine(position.row).length\n              ))),\n          position\n        );\n      }),\n      (this.insertFullLines = function (row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        let column = 0;\n        this.getLength() > row\n          ? ((lines = lines.concat([''])), (column = 0))\n          : ((lines = [''].concat(lines)),\n            row--,\n            (column = this.$lines[row].length)),\n        this.insertMergedLines({ row: row, column: column }, lines);\n      }),\n      (this.insertMergedLines = function (position, lines) {\n        let start = this.clippedPos(position.row, position.column),\n          end = {\n            row: start.row + lines.length - 1,\n            column:\n                  (1 == lines.length ? start.column : 0) +\n                  lines[lines.length - 1].length,\n          };\n        return (\n          this.applyDelta({\n            start: start,\n            end: end,\n            action: 'insert',\n            lines: lines,\n          }),\n          this.clonePos(end)\n        );\n      }),\n      (this.remove = function (range) {\n        let start = this.clippedPos(range.start.row, range.start.column),\n          end = this.clippedPos(range.end.row, range.end.column);\n        return (\n          this.applyDelta({\n            start: start,\n            end: end,\n            action: 'remove',\n            lines: this.getLinesForRange({ start: start, end: end }),\n          }),\n          this.clonePos(start)\n        );\n      }),\n      (this.removeInLine = function (row, startColumn, endColumn) {\n        let start = this.clippedPos(row, startColumn),\n          end = this.clippedPos(row, endColumn);\n        return (\n          this.applyDelta(\n            {\n              start: start,\n              end: end,\n              action: 'remove',\n              lines: this.getLinesForRange({ start: start, end: end }),\n            },\n            !0\n          ),\n          this.clonePos(start)\n        );\n      }),\n      (this.removeFullLines = function (firstRow, lastRow) {\n        (firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1)),\n        (lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1));\n        let deleteFirstNewLine =\n                lastRow == this.getLength() - 1 && firstRow > 0,\n          deleteLastNewLine = this.getLength() - 1 > lastRow,\n          startRow = deleteFirstNewLine ? firstRow - 1 : firstRow,\n          startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0,\n          endRow = deleteLastNewLine ? lastRow + 1 : lastRow,\n          endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length,\n          range = new Range(startRow, startCol, endRow, endCol),\n          deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        return (\n          this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: 'remove',\n            lines: this.getLinesForRange(range),\n          }),\n          deletedLines\n        );\n      }),\n      (this.removeNewLine = function (row) {\n        this.getLength() - 1 > row &&\n              row >= 0 &&\n              this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: 'remove',\n                lines: ['', ''],\n              });\n      }),\n      (this.replace = function (range, text) {\n        if (\n          (range instanceof Range ||\n                (range = Range.fromPoints(range.start, range.end)),\n            0 === text.length && range.isEmpty())\n        )\n          {return range.start;}\n        if (text == this.getTextRange(range)) return range.end;\n        this.remove(range);\n        let end;\n        return (end = text ? this.insert(range.start, text) : range.start);\n      }),\n      (this.applyDeltas = function (deltas) {\n        for (let i = 0; deltas.length > i; i++) this.applyDelta(deltas[i]);\n      }),\n      (this.revertDeltas = function (deltas) {\n        for (let i = deltas.length - 1; i >= 0; i--)\n          {this.revertDelta(deltas[i]);}\n      }),\n      (this.applyDelta = function (delta, doNotValidate) {\n        let isInsert = 'insert' == delta.action;\n        (isInsert\n          ? 1 >= delta.lines.length && !delta.lines[0]\n          : !Range.comparePoints(delta.start, delta.end)) ||\n              (isInsert &&\n                delta.lines.length > 2e4 &&\n                this.$splitAndapplyLargeDelta(delta, 2e4),\n                applyDelta(this.$lines, delta, doNotValidate),\n                this._signal('change', delta));\n      }),\n      (this.$splitAndapplyLargeDelta = function (delta, MAX) {\n        for (\n          let lines = delta.lines,\n            l = lines.length,\n            row = delta.start.row,\n            column = delta.start.column,\n            from = 0,\n            to = 0;\n          ;\n\n        ) {\n          (from = to), (to += MAX - 1);\n          let chunk = lines.slice(from, to);\n          if (to > l) {\n            (delta.lines = chunk),\n            (delta.start.row = row + from),\n            (delta.start.column = column);\n            break;\n          }\n          chunk.push(''),\n          this.applyDelta(\n            {\n              start: this.pos(row + from, column),\n              end: this.pos(row + to, (column = 0)),\n              action: delta.action,\n              lines: chunk,\n            },\n            !0\n          );\n        }\n      }),\n      (this.revertDelta = function (delta) {\n        this.applyDelta({\n          start: this.clonePos(delta.start),\n          end: this.clonePos(delta.end),\n          action: 'insert' == delta.action ? 'remove' : 'insert',\n          lines: delta.lines.slice(),\n        });\n      }),\n      (this.indexToPosition = function (index, startRow) {\n        for (\n          var lines = this.$lines || this.getAllLines(),\n            newlineLength = this.getNewLineCharacter().length,\n            i = startRow || 0,\n            l = lines.length;\n          l > i;\n          i++\n        )\n          {if (((index -= lines[i].length + newlineLength), 0 > index))\n                return {\n                  row: i,\n                  column: index + lines[i].length + newlineLength,\n                };}\n        return { row: l - 1, column: lines[l - 1].length };\n      }),\n      (this.positionToIndex = function (pos, startRow) {\n        for (\n          var lines = this.$lines || this.getAllLines(),\n            newlineLength = this.getNewLineCharacter().length,\n            index = 0,\n            row = Math.min(pos.row, lines.length),\n            i = startRow || 0;\n          row > i;\n          ++i\n        )\n          {index += lines[i].length + newlineLength;}\n        return index + pos.column;\n      });\n    }.call(Document.prototype),\n      (exports.Document = Document));\n  }\n),\nace.define('ace/lib/lang', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  (exports.last = function (a) {\n    return a[a.length - 1];\n  }),\n  (exports.stringReverse = function (string) {\n    return string\n      .split('')\n      .reverse()\n      .join('');\n  }),\n  (exports.stringRepeat = function (string, count) {\n    for (var result = ''; count > 0;)\n      {1 & count && (result += string), (count >>= 1) && (string += string);}\n    return result;\n  });\n  let trimBeginRegexp = /^\\s\\s*/,\n    trimEndRegexp = /\\s\\s*$/;\n  (exports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n  }),\n  (exports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n  }),\n  (exports.copyObject = function (obj) {\n    let copy = {};\n    for (let key in obj) copy[key] = obj[key];\n    return copy;\n  }),\n  (exports.copyArray = function (array) {\n    for (var copy = [], i = 0, l = array.length; l > i; i++)\n      {copy[i] =\n            array[i] && 'object' == typeof array[i]\n              ? this.copyObject(array[i])\n              : array[i];}\n    return copy;\n  }),\n  (exports.deepCopy = function deepCopy(obj) {\n    if ('object' !== typeof obj || !obj) return obj;\n    let copy;\n    if (Array.isArray(obj)) {\n      copy = [];\n      for (var key = 0; obj.length > key; key++)\n        {copy[key] = deepCopy(obj[key]);}\n      return copy;\n    }\n    if ('[object Object]' !== Object.prototype.toString.call(obj))\n      {return obj;}\n    copy = {};\n    for (var key in obj) copy[key] = deepCopy(obj[key]);\n    return copy;\n  }),\n  (exports.arrayToMap = function (arr) {\n    for (var map = {}, i = 0; arr.length > i; i++) map[arr[i]] = 1;\n    return map;\n  }),\n  (exports.createMap = function (props) {\n    let map = Object.create(null);\n    for (let i in props) map[i] = props[i];\n    return map;\n  }),\n  (exports.arrayRemove = function (array, value) {\n    for (let i = 0; array.length >= i; i++)\n      {value === array[i] && array.splice(i, 1);}\n  }),\n  (exports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  }),\n  (exports.escapeHTML = function (str) {\n    return str\n      .replace(/&/g, '&#38;')\n      .replace(/\"/g, '&#34;')\n      .replace(/'/g, '&#39;')\n      .replace(/</g, '&#60;');\n  }),\n  (exports.getMatchOffsets = function (string, regExp) {\n    let matches = [];\n    return (\n      string.replace(regExp, function (str) {\n        matches.push({\n          offset: arguments[arguments.length - 2],\n          length: str.length,\n        });\n      }),\n      matches\n    );\n  }),\n  (exports.deferredCall = function (fcn) {\n    var timer = null,\n      callback = function () {\n        (timer = null), fcn();\n      },\n      deferred = function (timeout) {\n        return (\n          deferred.cancel(),\n          (timer = setTimeout(callback, timeout || 0)),\n          deferred\n        );\n      };\n    return (\n      (deferred.schedule = deferred),\n      (deferred.call = function () {\n        return this.cancel(), fcn(), deferred;\n      }),\n      (deferred.cancel = function () {\n        return clearTimeout(timer), (timer = null), deferred;\n      }),\n      (deferred.isPending = function () {\n        return timer;\n      }),\n      deferred\n    );\n  }),\n  (exports.delayedCall = function (fcn, defaultTimeout) {\n    let timer = null,\n      callback = function () {\n        (timer = null), fcn();\n      },\n      _self = function (timeout) {\n        null == timer &&\n              (timer = setTimeout(callback, timeout || defaultTimeout));\n      };\n    return (\n      (_self.delay = function (timeout) {\n        timer && clearTimeout(timer),\n        (timer = setTimeout(callback, timeout || defaultTimeout));\n      }),\n      (_self.schedule = _self),\n      (_self.call = function () {\n        this.cancel(), fcn();\n      }),\n      (_self.cancel = function () {\n        timer && clearTimeout(timer), (timer = null);\n      }),\n      (_self.isPending = function () {\n        return timer;\n      }),\n      _self\n    );\n  });\n}),\nace.define(\n  'ace/worker/mirror',\n  [\n    'require',\n    'exports',\n    'module',\n    'ace/range',\n    'ace/document',\n    'ace/lib/lang',\n  ],\n  function (acequire, exports) {\n    \n    acequire('../range').Range;\n    let Document = acequire('../document').Document,\n      lang = acequire('../lib/lang'),\n      Mirror = (exports.Mirror = function (sender) {\n        this.sender = sender;\n        let doc = (this.doc = new Document('')),\n          deferredUpdate = (this.deferredUpdate = lang.delayedCall(\n            this.onUpdate.bind(this)\n          )),\n          _self = this;\n        sender.on('change', function (e) {\n          let data = e.data;\n          if (data[0].start) doc.applyDeltas(data);\n          else\n            {for (var i = 0; data.length > i; i += 2) {\n                if (Array.isArray(data[i + 1]))\n                  var d = {\n                    action: 'insert',\n                    start: data[i],\n                    lines: data[i + 1],\n                  };\n                else\n                  var d = {\n                    action: 'remove',\n                    start: data[i],\n                    end: data[i + 1],\n                  };\n                doc.applyDelta(d, !0);\n              }}\n          return _self.$timeout\n            ? deferredUpdate.schedule(_self.$timeout)\n            : (_self.onUpdate(), void 0);\n        });\n      });\n    (function () {\n      (this.$timeout = 500),\n      (this.setTimeout = function (timeout) {\n        this.$timeout = timeout;\n      }),\n      (this.setValue = function (value) {\n        this.doc.setValue(value),\n        this.deferredUpdate.schedule(this.$timeout);\n      }),\n      (this.getValue = function (callbackId) {\n        this.sender.callback(this.doc.getValue(), callbackId);\n      }),\n      (this.onUpdate = function () {}),\n      (this.isPending = function () {\n        return this.deferredUpdate.isPending();\n      });\n    }.call(Mirror.prototype));\n  }\n),\nace.define('ace/lib/es5-shim', ['require', 'exports', 'module'], function () {\n  function Empty() {}\n  function doesDefinePropertyWork(object) {\n    try {\n      return (\n        Object.defineProperty(object, 'sentinel', {}), 'sentinel' in object\n      );\n    } catch (exception) {}\n  }\n  function toInteger(n) {\n    return (\n      (n = +n),\n      n !== n\n        ? (n = 0)\n        : 0 !== n &&\n            n !== 1 / 0 &&\n            n !== -(1 / 0) &&\n            (n = (n > 0 || -1) * Math.floor(Math.abs(n))),\n      n\n    );\n  }\n  Function.prototype.bind ||\n      (Function.prototype.bind = function (that) {\n        let target = this;\n        if ('function' !== typeof target)\n          {throw new TypeError(\n            'Function.prototype.bind called on incompatible ' + target\n          );}\n        var args = slice.call(arguments, 1),\n          bound = function () {\n            if (this instanceof bound) {\n              let result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n              );\n              return Object(result) === result ? result : this;\n            }\n            return target.apply(that, args.concat(slice.call(arguments)));\n          };\n        return (\n          target.prototype &&\n            ((Empty.prototype = target.prototype),\n              (bound.prototype = new Empty()),\n              (Empty.prototype = null)),\n          bound\n        );\n      });\n  var defineGetter,\n    defineSetter,\n    lookupGetter,\n    lookupSetter,\n    supportsAccessors,\n    call = Function.prototype.call,\n    prototypeOfArray = Array.prototype,\n    prototypeOfObject = Object.prototype,\n    slice = prototypeOfArray.slice,\n    _toString = call.bind(prototypeOfObject.toString),\n    owns = call.bind(prototypeOfObject.hasOwnProperty);\n  if (\n    ((supportsAccessors = owns(prototypeOfObject, '__defineGetter__')) &&\n        ((defineGetter = call.bind(prototypeOfObject.__defineGetter__)),\n          (defineSetter = call.bind(prototypeOfObject.__defineSetter__)),\n          (lookupGetter = call.bind(prototypeOfObject.__lookupGetter__)),\n          (lookupSetter = call.bind(prototypeOfObject.__lookupSetter__))),\n      2 != [1, 2].splice(0).length)\n  )\n    {if (\n        (function() {\n          function makeArray(l) {\n            var a = Array(l + 2);\n            return (a[0] = a[1] = 0), a;\n          }\n          var lengthBefore,\n            array = [];\n          return (\n            array.splice.apply(array, makeArray(20)),\n            array.splice.apply(array, makeArray(26)),\n            (lengthBefore = array.length),\n            array.splice(5, 0, 'XXX'),\n            lengthBefore + 1 == array.length,\n            lengthBefore + 1 == array.length ? !0 : void 0\n          );\n        })()\n      ) {\n        var array_splice = Array.prototype.splice;\n        Array.prototype.splice = function(start, deleteCount) {\n          return arguments.length\n            ? array_splice.apply(\n                this,\n                [\n                  void 0 === start ? 0 : start,\n                  void 0 === deleteCount ? this.length - start : deleteCount,\n                ].concat(slice.call(arguments, 2))\n              )\n            : [];\n        };\n      } else\n        Array.prototype.splice = function(pos, removeCount) {\n          var length = this.length;\n          pos > 0\n            ? pos > length && (pos = length)\n            : void 0 == pos\n              ? (pos = 0)\n              : 0 > pos && (pos = Math.max(length + pos, 0)),\n            length > pos + removeCount || (removeCount = length - pos);\n          var removed = this.slice(pos, pos + removeCount),\n            insert = slice.call(arguments, 2),\n            add = insert.length;\n          if (pos === length) add && this.push.apply(this, insert);\n          else {\n            var remove = Math.min(removeCount, length - pos),\n              tailOldPos = pos + remove,\n              tailNewPos = tailOldPos + add - remove,\n              tailCount = length - tailOldPos,\n              lengthAfterRemove = length - remove;\n            if (tailOldPos > tailNewPos)\n              for (var i = 0; tailCount > i; ++i)\n                this[tailNewPos + i] = this[tailOldPos + i];\n            else if (tailNewPos > tailOldPos)\n              for (i = tailCount; i--; )\n                this[tailNewPos + i] = this[tailOldPos + i];\n            if (add && pos === lengthAfterRemove)\n              (this.length = lengthAfterRemove), this.push.apply(this, insert);\n            else\n              for (this.length = lengthAfterRemove + add, i = 0; add > i; ++i)\n                this[pos + i] = insert[i];\n          }\n          return removed;\n        };}\n  Array.isArray ||\n      (Array.isArray = function (obj) {\n        return '[object Array]' == _toString(obj);\n      });\n  let boxedString = Object('a'),\n    splitString = 'a' != boxedString[0] || !(0 in boxedString);\n  if (\n    (Array.prototype.forEach ||\n        (Array.prototype.forEach = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n          if ('[object Function]' != _toString(fun)) throw new TypeError();\n          for (; length > ++i;)\n            {i in self && fun.call(thisp, self[i], i, object);}\n        }),\n      Array.prototype.map ||\n        (Array.prototype.map = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {i in self && (result[i] = fun.call(thisp, self[i], i, object));}\n          return result;\n        }),\n      Array.prototype.filter ||\n        (Array.prototype.filter = function (fun) {\n          let value,\n            object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            result = [],\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {i in self &&\n              ((value = self[i]),\n              fun.call(thisp, value, i, object) && result.push(value));}\n          return result;\n        }),\n      Array.prototype.every ||\n        (Array.prototype.every = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {if (i in self && !fun.call(thisp, self[i], i, object)) return !1;}\n          return !0;\n        }),\n      Array.prototype.some ||\n        (Array.prototype.some = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {if (i in self && fun.call(thisp, self[i], i, object)) return !0;}\n          return !1;\n        }),\n      Array.prototype.reduce ||\n        (Array.prototype.reduce = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0;\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          if (!length && 1 == arguments.length)\n            {throw new TypeError('reduce of empty array with no initial value');}\n          let result,\n            i = 0;\n          if (arguments.length >= 2) result = arguments[1];\n          else\n            {for (;;) {\n              if (i in self) {\n                result = self[i++];\n                break;\n              }\n              if (++i >= length)\n                throw new TypeError(\n                  'reduce of empty array with no initial value'\n                );\n            }}\n          for (; length > i; i++)\n            {i in self &&\n              (result = fun.call(void 0, result, self[i], i, object));}\n          return result;\n        }),\n      Array.prototype.reduceRight ||\n        (Array.prototype.reduceRight = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0;\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          if (!length && 1 == arguments.length)\n            {throw new TypeError(\n              'reduceRight of empty array with no initial value'\n            );}\n          let result,\n            i = length - 1;\n          if (arguments.length >= 2) result = arguments[1];\n          else\n            {for (;;) {\n              if (i in self) {\n                result = self[i--];\n                break;\n              }\n              if (0 > --i)\n                throw new TypeError(\n                  'reduceRight of empty array with no initial value'\n                );\n            }}\n          do\n            {i in this &&\n              (result = fun.call(void 0, result, self[i], i, object));}\n          while (i--);\n          return result;\n        }),\n      (Array.prototype.indexOf && -1 == [0, 1].indexOf(1, 2)) ||\n        (Array.prototype.indexOf = function (sought) {\n          let self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : toObject(this),\n            length = self.length >>> 0;\n          if (!length) return -1;\n          let i = 0;\n          for (\n            arguments.length > 1 && (i = toInteger(arguments[1])),\n            i = i >= 0 ? i : Math.max(0, length + i);\n            length > i;\n            i++\n          )\n            {if (i in self && self[i] === sought) return i;}\n          return -1;\n        }),\n      (Array.prototype.lastIndexOf && -1 == [0, 1].lastIndexOf(0, -3)) ||\n        (Array.prototype.lastIndexOf = function (sought) {\n          let self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : toObject(this),\n            length = self.length >>> 0;\n          if (!length) return -1;\n          let i = length - 1;\n          for (\n            arguments.length > 1 && (i = Math.min(i, toInteger(arguments[1]))),\n            i = i >= 0 ? i : length - Math.abs(i);\n            i >= 0;\n            i--\n          )\n            {if (i in self && sought === self[i]) return i;}\n          return -1;\n        }),\n      Object.getPrototypeOf ||\n        (Object.getPrototypeOf = function (object) {\n          return (\n            object.__proto__ ||\n            (object.constructor\n              ? object.constructor.prototype\n              : prototypeOfObject)\n          );\n        }),\n      !Object.getOwnPropertyDescriptor)\n  ) {\n    let ERR_NON_OBJECT =\n        'Object.getOwnPropertyDescriptor called on a non-object: ';\n    Object.getOwnPropertyDescriptor = function (object, property) {\n      if (\n        ('object' !== typeof object && 'function' !== typeof object) ||\n          null === object\n      )\n        {throw new TypeError(ERR_NON_OBJECT + object);}\n      if (owns(object, property)) {\n        var descriptor, getter, setter;\n        if (\n          ((descriptor = { enumerable: !0, configurable: !0 }),\n            supportsAccessors)\n        ) {\n          let prototype = object.__proto__;\n          object.__proto__ = prototypeOfObject;\n          var getter = lookupGetter(object, property),\n            setter = lookupSetter(object, property);\n          if (((object.__proto__ = prototype), getter || setter))\n            {return (\n                getter && (descriptor.get = getter),\n                setter && (descriptor.set = setter),\n                descriptor\n              );}\n        }\n        return (descriptor.value = object[property]), descriptor;\n      }\n    };\n  }\n  if (\n    (Object.getOwnPropertyNames ||\n        (Object.getOwnPropertyNames = function (object) {\n          return Object.keys(object);\n        }),\n      !Object.create)\n  ) {\n    let createEmpty;\n    (createEmpty =\n        null === Object.prototype.__proto__\n          ? function () {\n            return { __proto__: null };\n          }\n          : function () {\n            let empty = {};\n            for (let i in empty) empty[i] = null;\n            return (\n              (empty.constructor = empty.hasOwnProperty = empty.propertyIsEnumerable = empty.isPrototypeOf = empty.toLocaleString = empty.toString = empty.valueOf = empty.__proto__ = null),\n              empty\n            );\n          }),\n    (Object.create = function (prototype, properties) {\n      let object;\n      if (null === prototype) object = createEmpty();\n      else {\n        if ('object' !== typeof prototype)\n          {throw new TypeError(\n                'typeof prototype[' + typeof prototype + \"] != 'object'\"\n              );}\n        let Type = function () {};\n        (Type.prototype = prototype),\n        (object = new Type()),\n        (object.__proto__ = prototype);\n      }\n      return (\n        void 0 !== properties &&\n              Object.defineProperties(object, properties),\n        object\n      );\n    });\n  }\n  if (Object.defineProperty) {\n    let definePropertyWorksOnObject = doesDefinePropertyWork({}),\n      definePropertyWorksOnDom =\n          'undefined' === typeof document ||\n          doesDefinePropertyWork(document.createElement('div'));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom)\n      {var definePropertyFallback = Object.defineProperty;}\n  }\n  if (!Object.defineProperty || definePropertyFallback) {\n    let ERR_NON_OBJECT_DESCRIPTOR =\n          'Property description must be an object: ',\n      ERR_NON_OBJECT_TARGET = 'Object.defineProperty called on non-object: ',\n      ERR_ACCESSORS_NOT_SUPPORTED =\n          'getters & setters can not be defined on this javascript engine';\n    Object.defineProperty = function (object, property, descriptor) {\n      if (\n        ('object' !== typeof object && 'function' !== typeof object) ||\n          null === object\n      )\n        {throw new TypeError(ERR_NON_OBJECT_TARGET + object);}\n      if (\n        ('object' !== typeof descriptor && 'function' !== typeof descriptor) ||\n          null === descriptor\n      )\n        {throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);}\n      if (definePropertyFallback)\n        {try {\n            return definePropertyFallback.call(\n              Object,\n              object,\n              property,\n              descriptor\n            );\n          } catch (exception) {}}\n      if (owns(descriptor, 'value'))\n        {if (\n            supportsAccessors &&\n            (lookupGetter(object, property) || lookupSetter(object, property))\n          ) {\n            var prototype = object.__proto__;\n            (object.__proto__ = prototypeOfObject),\n              delete object[property],\n              (object[property] = descriptor.value),\n              (object.__proto__ = prototype);\n          } else object[property] = descriptor.value;}\n      else {\n        if (!supportsAccessors)\n          {throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);}\n        owns(descriptor, 'get') &&\n            defineGetter(object, property, descriptor.get),\n        owns(descriptor, 'set') &&\n              defineSetter(object, property, descriptor.set);\n      }\n      return object;\n    };\n  }\n  Object.defineProperties ||\n      (Object.defineProperties = function (object, properties) {\n        for (let property in properties)\n          {owns(properties, property) &&\n            Object.defineProperty(object, property, properties[property]);}\n        return object;\n      }),\n  Object.seal ||\n        (Object.seal = function (object) {\n          return object;\n        }),\n  Object.freeze ||\n        (Object.freeze = function (object) {\n          return object;\n        });\n  try {\n    Object.freeze(function () {});\n  } catch (exception) {\n    Object.freeze = (function (freezeObject) {\n      return function (object) {\n        return 'function' === typeof object ? object : freezeObject(object);\n      };\n    }(Object.freeze));\n  }\n  if (\n    (Object.preventExtensions ||\n        (Object.preventExtensions = function (object) {\n          return object;\n        }),\n      Object.isSealed ||\n        (Object.isSealed = function () {\n          return !1;\n        }),\n      Object.isFrozen ||\n        (Object.isFrozen = function () {\n          return !1;\n        }),\n      Object.isExtensible ||\n        (Object.isExtensible = function (object) {\n          if (Object(object) === object) throw new TypeError();\n          for (var name = ''; owns(object, name);) name += '?';\n          object[name] = !0;\n          let returnValue = owns(object, name);\n          return delete object[name], returnValue;\n        }),\n      !Object.keys)\n  ) {\n    let hasDontEnumBug = !0,\n      dontEnums = [\n        'toString',\n        'toLocaleString',\n        'valueOf',\n        'hasOwnProperty',\n        'isPrototypeOf',\n        'propertyIsEnumerable',\n        'constructor',\n      ],\n      dontEnumsLength = dontEnums.length;\n    for (let key in { toString: null }) hasDontEnumBug = !1;\n    Object.keys = function (object) {\n      if (\n        ('object' !== typeof object && 'function' !== typeof object) ||\n          null === object\n      )\n        {throw new TypeError('Object.keys called on a non-object');}\n      let keys = [];\n      for (let name in object) owns(object, name) && keys.push(name);\n      if (hasDontEnumBug)\n        {for (var i = 0, ii = dontEnumsLength; ii > i; i++) {\n            var dontEnum = dontEnums[i];\n            owns(object, dontEnum) && keys.push(dontEnum);\n          }}\n      return keys;\n    };\n  }\n  Date.now ||\n      (Date.now = function () {\n        return new Date().getTime();\n      });\n  let ws = '\t\\nv\\f\\r   ᠎             　\\u2028\\u2029\ufeff';\n  if (!String.prototype.trim || ws.trim()) {\n    ws = '[' + ws + ']';\n    let trimBeginRegexp = RegExp('^' + ws + ws + '*'),\n      trimEndRegexp = RegExp(ws + ws + '*$');\n    String.prototype.trim = function () {\n      return (this + '')\n        .replace(trimBeginRegexp, '')\n        .replace(trimEndRegexp, '');\n    };\n  }\n  var toObject = function (o) {\n    if (null == o) throw new TypeError('can\\'t convert ' + o + ' to object');\n    return Object(o);\n  };\n});\nace.define(\n  'sense_editor/mode/worker_parser',\n  ['require', 'exports', 'module'],\n  function () {\n    let at, // The index of the current character\n      ch, // The current character\n      annos, // annotations\n      escapee = {\n        '\"': '\"',\n        '\\\\': '\\\\',\n        '/': '/',\n        b: '\\b',\n        f: '\\f',\n        n: '\\n',\n        r: '\\r',\n        t: '\\t',\n      },\n      text,\n      annotate = function (type, text) {\n        annos.push({ type: type, text: text, at: at });\n      },\n      error = function (m) {\n        throw {\n          name: 'SyntaxError',\n          message: m,\n          at: at,\n          text: text,\n        };\n      },\n      reset = function (newAt) {\n        ch = text.charAt(newAt);\n        at = newAt + 1;\n      },\n      next = function (c) {\n        if (c && c !== ch) {\n          error('Expected \\'' + c + '\\' instead of \\'' + ch + '\\'');\n        }\n\n        ch = text.charAt(at);\n        at += 1;\n        return ch;\n      },\n      nextUpTo = function (upTo, errorMessage) {\n        let currentAt = at,\n          i = text.indexOf(upTo, currentAt);\n        if (i < 0) {\n          error(errorMessage || 'Expected \\'' + upTo + '\\'');\n        }\n        reset(i + upTo.length);\n        return text.substring(currentAt, i);\n      },\n      peek = function (c) {\n        return text.substr(at, c.length) === c; // nocommit - double check\n      },\n      number = function () {\n        let number,\n          string = '';\n\n        if (ch === '-') {\n          string = '-';\n          next('-');\n        }\n        while (ch >= '0' && ch <= '9') {\n          string += ch;\n          next();\n        }\n        if (ch === '.') {\n          string += '.';\n          while (next() && ch >= '0' && ch <= '9') {\n            string += ch;\n          }\n        }\n        if (ch === 'e' || ch === 'E') {\n          string += ch;\n          next();\n          if (ch === '-' || ch === '+') {\n            string += ch;\n            next();\n          }\n          while (ch >= '0' && ch <= '9') {\n            string += ch;\n            next();\n          }\n        }\n        number = +string;\n        if (isNaN(number)) {\n          error('Bad number');\n        } else {\n          return number;\n        }\n      },\n      string = function () {\n        let hex,\n          i,\n          string = '',\n          uffff;\n\n        if (ch === '\"') {\n          if (peek('\"\"')) {\n            // literal\n            next('\"');\n            next('\"');\n            return nextUpTo('\"\"\"', 'failed to find closing \\'\"\"\"\\'');\n          } else {\n            while (next()) {\n              if (ch === '\"') {\n                next();\n                return string;\n              } else if (ch === '\\\\') {\n                next();\n                if (ch === 'u') {\n                  uffff = 0;\n                  for (i = 0; i < 4; i += 1) {\n                    hex = parseInt(next(), 16);\n                    if (!isFinite(hex)) {\n                      break;\n                    }\n                    uffff = uffff * 16 + hex;\n                  }\n                  string += String.fromCharCode(uffff);\n                } else if (typeof escapee[ch] === 'string') {\n                  string += escapee[ch];\n                } else {\n                  break;\n                }\n              } else {\n                string += ch;\n              }\n            }\n          }\n        }\n        error('Bad string');\n      },\n      white = function () {\n        while (ch && ch <= ' ') {\n          next();\n        }\n      },\n      strictWhite = function () {\n        while (ch && (ch == ' ' || ch == '\\t')) {\n          next();\n        }\n      },\n      newLine = function () {\n        if (ch == '\\n') next();\n      },\n      word = function () {\n        switch (ch) {\n          case 't':\n            next('t');\n            next('r');\n            next('u');\n            next('e');\n            return true;\n          case 'f':\n            next('f');\n            next('a');\n            next('l');\n            next('s');\n            next('e');\n            return false;\n          case 'n':\n            next('n');\n            next('u');\n            next('l');\n            next('l');\n            return null;\n        }\n        error('Unexpected \\'' + ch + '\\'');\n      },\n      // parses and returns the method\n      method = function () {\n        switch (ch) {\n          case 'G':\n            next('G');\n            next('E');\n            next('T');\n            return 'GET';\n          case 'H':\n            next('H');\n            next('E');\n            next('A');\n            next('D');\n            return 'HEAD';\n          case 'D':\n            next('D');\n            next('E');\n            next('L');\n            next('E');\n            next('T');\n            next('E');\n            return 'DELETE';\n          case 'P':\n            next('P');\n            switch (ch) {\n              case 'U':\n                next('U');\n                next('T');\n                return 'PUT';\n              case 'O':\n                next('O');\n                next('S');\n                next('T');\n                return 'POST';\n              default:\n                error('Unexpected \\'' + ch + '\\'');\n            }\n            break;\n          default:\n            error('Expected one of GET/POST/PUT/DELETE/HEAD');\n        }\n      },\n      value, // Place holder for the value function.\n      array = function () {\n        const array = [];\n\n        if (ch === '[') {\n          next('[');\n          white();\n          if (ch === ']') {\n            next(']');\n            return array; // empty array\n          }\n          while (ch) {\n            array.push(value());\n            white();\n            if (ch === ']') {\n              next(']');\n              return array;\n            }\n            next(',');\n            white();\n          }\n        }\n        error('Bad array');\n      },\n      object = function () {\n        let key,\n          object = {};\n\n        if (ch === '{') {\n          next('{');\n          white();\n          if (ch === '}') {\n            next('}');\n            return object; // empty object\n          }\n          while (ch) {\n            key = string();\n            white();\n            next(':');\n            if (Object.hasOwnProperty.call(object, key)) {\n              error('Duplicate key \"' + key + '\"');\n            }\n            object[key] = value();\n            white();\n            if (ch === '}') {\n              next('}');\n              return object;\n            }\n            next(',');\n            white();\n          }\n        }\n        error('Bad object');\n      };\n\n    value = function () {\n      white();\n      switch (ch) {\n        case '{':\n          return object();\n        case '[':\n          return array();\n        case '\"':\n          return string();\n        case '-':\n          return number();\n        default:\n          return ch >= '0' && ch <= '9' ? number() : word();\n      }\n    };\n\n    let url = function () {\n        let url = '';\n        while (ch && ch != '\\n') {\n          url += ch;\n          next();\n        }\n        if (url == '') {\n          error('Missing url');\n        }\n        return url;\n      },\n      request = function () {\n        white();\n        method();\n        strictWhite();\n        url();\n        strictWhite(); // advance to one new line\n        newLine();\n        strictWhite();\n        if (ch == '{') {\n          object();\n        }\n        // multi doc request\n        strictWhite(); // advance to one new line\n        newLine();\n        strictWhite();\n        while (ch == '{') {\n          // another object\n          object();\n          strictWhite();\n          newLine();\n          strictWhite();\n        }\n      },\n      comment = function () {\n        while (ch == '#') {\n          while (ch && ch !== '\\n') {\n            next();\n          }\n          white();\n        }\n      },\n      multi_request = function () {\n        while (ch && ch != '') {\n          white();\n          if (!ch) {\n            continue;\n          }\n          try {\n            comment();\n            white();\n            if (!ch) {\n              continue;\n            }\n            request();\n            white();\n          } catch (e) {\n            annotate('error', e.message);\n            // snap\n            const substring = text.substr(at);\n            const nextMatch = substring.search(/^POST|HEAD|GET|PUT|DELETE/m);\n            if (nextMatch < 1) return;\n            reset(at + nextMatch);\n          }\n        }\n      };\n\n    return function (source, reviver) {\n      let result;\n\n      text = source;\n      at = 0;\n      annos = [];\n      next();\n      multi_request();\n      white();\n      if (ch) {\n        annotate('error', 'Syntax error');\n      }\n\n      result = { annotations: annos };\n\n      return typeof reviver === 'function'\n        ? (function walk(holder, key) {\n          let k,\n            v,\n            value = holder[key];\n          if (value && typeof value === 'object') {\n            for (k in value) {\n              if (Object.hasOwnProperty.call(value, k)) {\n                v = walk(value, k);\n                if (v !== undefined) {\n                  value[k] = v;\n                } else {\n                  delete value[k];\n                }\n              }\n            }\n          }\n          return reviver.call(holder, key, value);\n        }({ '': result }, ''))\n        : result;\n    };\n  }\n);\n\nace.define(\n  'sense_editor/mode/worker',\n  [\n    'require',\n    'exports',\n    'module',\n    'ace/lib/oop',\n    'ace/worker/mirror',\n    'sense_editor/mode/worker_parser',\n  ],\n  function (require, exports) {\n    const oop = require('ace/lib/oop');\n    const Mirror = require('ace/worker/mirror').Mirror;\n    const parse = require('sense_editor/mode/worker_parser');\n\n    const SenseWorker = (exports.SenseWorker = function (sender) {\n      Mirror.call(this, sender);\n      this.setTimeout(200);\n    });\n\n    oop.inherits(SenseWorker, Mirror);\n\n    (function () {\n      this.id = 'senseWorker';\n      this.onUpdate = function () {\n        const value = this.doc.getValue();\n        let pos, result;\n        try {\n          result = parse(value);\n        } catch (e) {\n          pos = this.charToDocumentPosition(e.at - 1);\n          this.sender.emit('error', {\n            row: pos.row,\n            column: pos.column,\n            text: e.message,\n            type: 'error',\n          });\n          return;\n        }\n        for (let i = 0; i < result.annotations.length; i++) {\n          pos = this.charToDocumentPosition(result.annotations[i].at - 1);\n          result.annotations[i].row = pos.row;\n          result.annotations[i].column = pos.column;\n        }\n        this.sender.emit('ok', result.annotations);\n      };\n\n      this.charToDocumentPosition = function (charPos) {\n        let i = 0;\n        const len = this.doc.getLength();\n        const nl = this.doc.getNewLineCharacter().length;\n\n        if (!len) {\n          return { row: 0, column: 0 };\n        }\n\n        let lineStart = 0,\n          line;\n        while (i < len) {\n          line = this.doc.getLine(i);\n          const lineLength = line.length + nl;\n          if (lineStart + lineLength > charPos) {\n            return {\n              row: i,\n              column: charPos - lineStart,\n            };\n          }\n\n          lineStart += lineLength;\n          i += 1;\n        }\n\n        return {\n          row: i - 1,\n          column: line.length,\n        };\n      };\n    }.call(SenseWorker.prototype));\n  }\n);\n"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptMode=ScriptMode;var _brace=__webpack_require__(235);var _brace2=_interopRequireDefault(_brace);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var oop=_brace2.default.acequire("ace/lib/oop");var TextMode=_brace2.default.acequire("ace/mode/text").Mode;var MatchingBraceOutdent=_brace2.default.acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=_brace2.default.acequire("ace/mode/behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=_brace2.default.acequire("ace/mode/folding/cstyle").FoldMode;_brace2.default.acequire("ace/tokenizer");var ScriptHighlightRules=__webpack_require__(1348).ScriptHighlightRules;function ScriptMode(){this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode}oop.inherits(ScriptMode,TextMode);(function(){this.HighlightRules=ScriptHighlightRules;this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);var match=line.match(/^.*[\{\[]\s*$/);if(match){indent+=tab}return indent};this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)};this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)}}).call(ScriptMode.prototype)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.InputHighlightRules=InputHighlightRules;var _x_json_highlight_rules=__webpack_require__(1347);var ace=__webpack_require__(235);var oop=ace.acequire("ace/lib/oop");var _ace$acequire=ace.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_ace$acequire.TextHighlightRules;function InputHighlightRules(){function mergeTokens(){return[].concat.apply([],arguments)}function addEOL(tokens,reg,nextIfEOL,normalNext){if((typeof reg==="undefined"?"undefined":_typeof(reg))==="object"){reg=reg.source}return[{token:tokens.concat(["whitespace"]),regex:reg+"(\\s*)$",next:nextIfEOL},{token:tokens,regex:reg,next:normalNext}]}this.$rules={start:mergeTokens([{token:"warning",regex:"#!.*$"},{token:"comment",regex:/^#.*$/},{token:"paren.lparen",regex:"{",next:"json",push:true}],addEOL(["method"],/([a-zA-Z]+)/,"start","method_sep"),[{token:"whitespace",regex:"\\s+"},{token:"text",regex:".+?"}]),method_sep:mergeTokens(addEOL(["whitespace","url.protocol_host","url.slash"],/(\s+)(https?:\/\/[^?\/,]+)(\/)/,"start","url"),addEOL(["whitespace","url.protocol_host"],/(\s+)(https?:\/\/[^?\/,]+)/,"start","url"),addEOL(["whitespace","url.slash"],/(\s+)(\/)/,"start","url"),addEOL(["whitespace"],/(\s+)/,"start","url")),url:mergeTokens(addEOL(["url.part"],/([^?\/,\s]+)/,"start"),addEOL(["url.comma"],/(,)/,"start"),addEOL(["url.slash"],/(\/)/,"start"),addEOL(["url.questionmark"],/(\?)/,"start","urlParams")),urlParams:mergeTokens(addEOL(["url.param","url.equal","url.value"],/([^&=]+)(=)([^&]*)/,"start"),addEOL(["url.param"],/([^&=]+)/,"start"),addEOL(["url.amp"],/(&)/,"start"))};(0,_x_json_highlight_rules.addToRules)(this);if(this.constructor===InputHighlightRules){this.normalizeRules()}}oop.inherits(InputHighlightRules,TextHighlightRules)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(input,output){var $left=input.$el.parent();function readStoredEditorWidth(){return storage.get("editorWidth")}function storeEditorWidth(editorWidth){storage.set("editorWidth",editorWidth)}function setEditorWidth(editorWidth){storeEditorWidth(editorWidth);$left.width(editorWidth)}var $resizer=$("#ConAppResizer");$resizer.on("mousedown",function(event){$resizer.addClass("active");var startWidth=$left.width();var startX=event.pageX;input.resize.topRow=input.renderer.layerConfig.firstRow;output.resize.topRow=output.renderer.layerConfig.firstRow;function onMove(event){setEditorWidth(startWidth+event.pageX-startX)}$(document.body).on("mousemove",onMove).one("mouseup",function(){$resizer.removeClass("active");$(this).off("mousemove",onMove);input.resize();output.resize()})});var initialEditorWidth=readStoredEditorWidth();if(initialEditorWidth!=null){setEditorWidth(initialEditorWidth)}};var $=__webpack_require__(17);var storage=__webpack_require__(438);module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=init;var $=__webpack_require__(17);var history=__webpack_require__(802);var mappings=__webpack_require__(374);function init(input,output){var sourceLocation=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"stored";$(document.body).removeClass("fouc");function resetToValues(content){if(content!=null){input.update(content)}output.update("")}function setupAutosave(){var timer=void 0;var saveDelay=500;input.getSession().on("change",function onChange(){if(timer){timer=clearTimeout(timer)}timer=setTimeout(saveCurrentState,saveDelay)})}function saveCurrentState(){try{var content=input.getValue();history.updateCurrentState(content)}catch(e){console.log("Ignoring saving error: "+e)}}function loadSavedState(){var previousSaveState=history.getSavedEditorState();if(sourceLocation==="stored"){if(previousSaveState){resetToValues(previousSaveState.content)}else{resetToValues();input.autoIndent()}}else if(/^https?:\/\//.test(sourceLocation)){var loadFrom={url:sourceLocation,dataType:"text",kbnXsrfToken:false};if(/https?:\/\/api.github.com/.test(sourceLocation)){loadFrom.headers={Accept:"application/vnd.github.v3.raw"}}$.ajax(loadFrom).done(function(data){resetToValues(data);input.moveToNextRequestEdge(true);input.highlightCurrentRequestsAndUpdateActionBar();input.updateActionsBar()})}else{resetToValues()}input.moveToNextRequestEdge(true)}history.restoreFromHistory=function applyHistoryElem(req){var session=input.getSession();var pos=input.getCursorPosition();var prefix="";var suffix="\n";if(input.parser.isStartRequestRow(pos.row)){pos.column=0;suffix+="\n"}else if(input.parser.isEndRequestRow(pos.row)){var line=session.getLine(pos.row);pos.column=line.length;prefix="\n\n"}else if(input.parser.isInBetweenRequestsRow(pos.row)){pos.column=0}else{pos=input.nextRequestEnd(pos);prefix="\n\n"}var s=prefix+req.method+" "+req.endpoint;if(req.data){s+="\n"+req.data}s+=suffix;session.insert(pos,s);input.clearSelection();input.moveCursorTo(pos.row+prefix.length,0);input.focus()};setupAutosave();loadSavedState();mappings.startRetrievingAutoCompleteInfo()}module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SenseTopNavController=SenseTopNavController;var _kbn_top_nav_controller=__webpack_require__(919);var _storage=__webpack_require__(438);var _storage2=_interopRequireDefault(_storage);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SenseTopNavController(Private,i18n){var KbnTopNavController=Private(_kbn_top_nav_controller.KbnTopNavControllerProvider);var controller=new KbnTopNavController([{key:"welcome",label:i18n("console.topNav.welcomeTabLabel",{defaultMessage:"Welcome"}),hideButton:true,template:"<sense-welcome></sense-welcome>",testId:"consoleWelcomeButton"},{key:"history",label:i18n("console.topNav.historyTabLabel",{defaultMessage:"History"}),description:i18n("console.topNav.historyTabDescription",{defaultMessage:"History"}),template:"<sense-history></sense-history>",testId:"consoleHistoryButton"},{key:"settings",label:i18n("console.topNav.settingsTabLabel",{defaultMessage:"Settings"}),description:i18n("console.topNav.settingsTabDescription",{defaultMessage:"Settings"}),template:"<sense-settings></sense-settings>",testId:"consoleSettingsButton"},{key:"help",label:i18n("console.topNav.helpTabLabel",{defaultMessage:"Help"}),description:i18n("console.topNav.helpTabDescription",{defaultMessage:"Help"}),template:"<sense-help></sense-help>",testId:"consoleHelpButton"}]);if(_storage2.default.get("version_welcome_shown")!=="@@SENSE_REVISION"){controller.open("welcome")}return controller}},function(module,exports,__webpack_require__){"use strict";var _eui=__webpack_require__(2);var _require=__webpack_require__(1),memoize=_require.memoize;var moment=__webpack_require__(13);var history=__webpack_require__(802);__webpack_require__(4719);__webpack_require__(4).get("app/sense").directive("senseHistory",function(){return{restrict:"E",template:__webpack_require__(4720),controllerAs:"history",controller:function controller($scope,$element){var _this=this;this.reqs=history.getHistory();this.selectedIndex=0;this.selectedReq=this.reqs[this.selectedIndex];this.viewingReq=this.selectedReq;this.describeReq=memoize(function(req){var endpoint=req.endpoint;var date=moment(req.time);var formattedDate=date.format("MMM D");if(date.diff(moment(),"days")>-7){formattedDate=date.fromNow()}return endpoint+" ("+formattedDate+")"});this.describeReq.cache=new WeakMap;this.clear=function(){history.clearHistory($element);$scope.kbnTopNav.close()};this.restore=function(){var req=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this.selectedReq;history.restoreFromHistory(req);$scope.kbnTopNav.close()};this.onKeyDown=function(ev){if(ev.keyCode===_eui.keyCodes.ENTER){_this.restore();return}if(ev.keyCode===_eui.keyCodes.UP){ev.preventDefault();_this.selectedIndex--}else if(ev.keyCode===_eui.keyCodes.DOWN){ev.preventDefault();_this.selectedIndex++}_this.selectedIndex=Math.min(Math.max(0,_this.selectedIndex),_this.reqs.length-1);_this.selectedReq=_this.reqs[_this.selectedIndex];_this.viewingReq=_this.reqs[_this.selectedIndex]}}}})},function(module,exports,__webpack_require__){"use strict";var _sense_editor_resize=__webpack_require__(798);var SenseEditor=__webpack_require__(801);__webpack_require__(4).get("app/sense").directive("senseHistoryViewer",function(i18n){return{restrict:"E",scope:{req:"="},link:function link($scope,$el){var viewer=new SenseEditor($el);viewer.setReadOnly(true);viewer.renderer.setShowPrintMargin(false);(0,_sense_editor_resize.useResizeChecker)($scope,$el,viewer);__webpack_require__(437).applyCurrentSettings(viewer);$scope.$watch("req",function(req){if(req){var s=req.method+" "+req.endpoint+"\n"+(req.data||"");viewer.setValue(s);viewer.clearSelection()}else{viewer.getSession().setValue(i18n("console.historyPage.noHistoryTextMessage",{defaultMessage:"No history available"}))}});$scope.$on("$destroy",function(){viewer.destroy()})}}})},function(module,exports){module.exports='<h2\n  class="kuiLocalDropdownTitle"\n  i18n-id="console.historyPage.pageTitle"\n  i18n-default-message="History"\n></h2>\n\n<div class="conHistory__body">\n  <ul\n    class="list-group conHistory__reqs"\n    tabindex="0"\n    role="listbox"\n    aria-activedescendant="historyReq{{ history.selectedIndex }}"\n    scrollto-activedescendant\n    ng-keydown="history.onKeyDown($event)"\n    aria-label="{{:: \'console.historyPage.requestListAriaLabel\' | i18n: { defaultMessage: \'History of sent requests\' } }}"\n  >\n    <li\n      class="list-group-item conHistory__req"\n      role="option"\n      ng-repeat="req in history.reqs"\n      id="historyReq{{$index}}"\n      ng-class="{ \'conHistory__req-selected\': history.viewingReq === req }"\n      ng-click="history.selectedReq = req; history.viewingReq = req; history.selectedIndex = $index"\n      ng-mouseenter="history.viewingReq = req"\n      ng-mouseleave="history.viewingReq = history.selectedReq"\n      ng-dblclick="history.restore(req)"\n      aria-label="{{:: \'console.historyPage.itemOfRequestListAriaLabel\' | i18n: { defaultMessage: \'Request: {historyItem}\', values: { historyItem: history.describeReq(req) },} }}"\n      aria-selected="{{ history.selectedReq === req }}"\n    >\n      {{ history.describeReq(req) }}\n      <span class="conHistory__reqIcon"><i class="fa fa-chevron-right"></i></span>\n    </li>\n  </ul>\n\n  <sense-history-viewer class="conHistory__viewer" req="history.viewingReq" />\n</div>\n\n<div class="conHistory__footer">\n  <button\n    class="kuiButton kuiButton--danger"\n    ng-click="history.clear()"\n    i18n-id="console.historyPage.clearHistoryButtonLabel"\n    i18n-default-message="Clear"\n  ></button>\n  <button\n    class="kuiButton kuiButton--primary"\n    ng-disabled="!history.selectedReq"\n    ng-click="history.restore()"\n    i18n-id="console.historyPage.applyHistoryButtonLabel"\n    i18n-default-message="Apply"\n  >\n  </button>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(332);__webpack_require__(4).get("app/sense").directive("senseSettings",function(){return{restrict:"E",template:__webpack_require__(4722),controllerAs:"settings",controller:function controller($scope,$element){var _this=this;var settings=__webpack_require__(437);this.vals=settings.getCurrentSettings();this.apply=function(){_this.vals=settings.updateSettings(_this.vals);$scope.kbnTopNav.close()};var self=this;function onEnter(event){if(event.which===13){self.apply()}}var boundElement=$element.bind("keydown",onEnter);$scope.$on("$destroy",function(){return boundElement.unbind("keydown",onEnter)})}}})},function(module,exports){module.exports='<h2\n  class="kuiLocalDropdownTitle"\n  i18n-id="console.settingsPage.pageTitle"\n  i18n-default-message="Settings"\n></h2>\n\n<form class="form" name="settingsForm" ng-submit="settingsForm.$valid && settings.apply()">\n  <fieldset\n    class="kuiVerticalRhythm"\n    role="group"\n  >\n    <div class="kuiLocalDropdownHeader">\n      <legend\n        id="consoleFontSize"\n        class="kuiLocalDropdownHeader__label"\n        i18n-id="console.settingsPage.fontSizeLabel"\n        i18n-default-message="Font Size"\n      ></legend>\n    </div>\n\n    <input\n      input-focus\n      ng-model="settings.vals.fontSize"\n      name="fontSize"\n      type="number"\n      required\n      class="kuiLocalDropdownInput kuiVerticalRhythmSmall"\n      aria-labelledby="consoleFontSize"\n      data-test-subj="setting-font-size-input"\n    >\n\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        type="checkbox"\n        ng-model="settings.vals.wrapMode"\n        aria-describedby="consoleFontSize"\n      >\n      <span\n        class="kuiCheckBoxLabel__text"\n        i18n-id="console.settingsPage.wrapLongLinesLabelText"\n        i18n-default-message="Wrap long lines"\n      ></span>\n    </label>\n  </fieldset>\n\n  <fieldset\n    class="kuiVerticalRhythm"\n    role="group"\n  >\n    <div class="kuiLocalDropdownHeader">\n      <legend\n        id="consoleAutocomplete"\n        class="kuiLocalDropdownHeader__label"\n        i18n-id="console.settingsPage.autocompleteLabel"\n        i18n-default-message="Autocomplete"\n      ></legend>\n    </div>\n\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        name="autocompleteFields"\n        type="checkbox"\n        ng-model="settings.vals.autocomplete.fields"\n        aria-describedby="consoleAutocomplete"\n      >\n      <span\n        class="kuiCheckBoxLabel__text"\n        i18n-id="console.settingsPage.fieldsLabelText"\n        i18n-default-message="Fields"\n      ></span>\n    </label>\n\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        name="autocompleteIndices"\n        type="checkbox"\n        ng-model="settings.vals.autocomplete.indices"\n        aria-describedby="consoleAutocomplete"\n      >\n      <span\n        class="kuiCheckBoxLabel__text"\n        i18n-id="console.settingsPage.indicesAndAliasesLabelText"\n        i18n-default-message="Indices &amp; Aliases"\n      ></span>\n    </label>\n\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        name="autocompleteTemplates"\n        type="checkbox"\n        ng-model="settings.vals.autocomplete.templates"\n        aria-describedby="consoleAutocomplete"\n      >\n      <span\n        class="kuiCheckBoxLabel__text"\n        i18n-id="console.settingsPage.templatesLabelText"\n        i18n-default-message="Templates"\n      ></span>\n    </label>\n  </fieldset>\n\n  <div class="kuiVerticalRhythm">\n    <button\n      ng-click="kbnTopNav.close()"\n      class="kuiButton kuiButton--hollow"\n      i18n-id="console.settingsPage.cancelButtonLabel"\n      i18n-default-message="Cancel"\n    ></button>\n\n    <button\n      type="submit"\n      ng-disabled="settingsForm.$invalid"\n      class="kuiButton kuiButton--primary"\n      data-test-subj="settings-save-button"\n      i18n-id="console.settingsPage.saveButtonLabel"\n      i18n-default-message="Save"\n    ></button>\n  </div>\n</form>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1351);__webpack_require__(4).get("app/sense").directive("senseHelp",function(){return{restrict:"E",template:__webpack_require__(4725)}})},function(module,exports){module.exports='# index a doc\nPUT index/type/1\n{\n  "body": "here"\n}\n\n# and get it ...\nGET index/type/1\n'},function(module,exports){module.exports='<h2\n  class="euiTitle euiTitle--small"\n  i18n-id="console.helpPage.pageTitle"\n  i18n-default-message="Help"\n></h2>\n\n<div class="euiSpacer euiSpacer--m"></div>\n\n<div class="euiPanel euiPanel--paddingLarge">\n  <div class="euiFlexGroup euiFlexGroup--gutterExtraLarge">\n    <div class="euiFlexItem">\n      <h3\n        class="euiTitle euiTitle--xsmall"\n        i18n-id="console.helpPage.requestFormatTitle"\n        i18n-default-message="Request format"\n      ></h3>\n      <div class="euiSpacer euiSpacer--l"></div>\n      <span\n        i18n-id="console.helpPage.requestFormatDescription"\n        i18n-default-message="You can type one or more requests in the white editor. Console understands requests in a compact format:"\n      ></span>\n      <sense-help-example class="conHelp__example"></sense-help-example>\n    </div>\n    <div class="euiFlexItem">\n      <h3\n        i18n-id="console.helpPage.keyboardCommandsTitle"\n        i18n-default-message="Keyboard commands"\n        class="euiTitle euiTitle--xsmall"\n      ></h3>\n      <div class="euiSpacer euiSpacer--l"></div>\n      <dl class="euiDescriptionList euiDescriptionList--row euiDescriptionList--compressed">\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + I</dt>\n        <dd\n          class="euiDescriptionList__description"\n          i18n-id="console.helpPage.keyboardCommands.autoIndentDescription"\n          i18n-default-message="Auto indent current request"\n        ></dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + /</dt>\n        <dd\n          class="euiDescriptionList__description"\n          i18n-id="console.helpPage.keyboardCommands.openDocumentationDescription"\n          i18n-default-message="Open documentation for current request"\n        ></dd>\n        <dt class="euiDescriptionList__title">Ctrl + Space</dt>\n        <dd\n          class="euiDescriptionList__description"\n          i18n-id="console.helpPage.keyboardCommands.openAutoCompleteDescription"\n          i18n-default-message="Open Auto complete (even if not typing)"\n        ></dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Enter</dt>\n        <dd\n          class="euiDescriptionList__description"\n          i18n-id="console.helpPage.keyboardCommands.submitRequestDescription"\n          i18n-default-message="Submit request"\n        ></dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Up/Down</dt>\n        <dd\n          class="euiDescriptionList__description"\n          i18n-id="console.helpPage.keyboardCommands.jumpToPreviousNextRequestDescription"\n          i18n-default-message="Jump to the previous/next request start or end."\n        ></dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Alt + L</dt>\n        <dd\n          class="euiDescriptionList__description"\n          i18n-id="console.helpPage.keyboardCommands.collapseExpandCurrentScopeDescription"\n          i18n-default-message="Collapse/expand current scope."\n        ></dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Option + 0</dt>\n        <dd\n          class="euiDescriptionList__description"\n          i18n-id="console.helpPage.keyboardCommands.collapseAllScopesDescription"\n          i18n-default-message="Collapse all scopes but the current one. Expand by adding a shift."\n        ></dd>\n        <dt class="euiDescriptionList__title">Down arrow</dt>\n        <dd\n          class="euiDescriptionList__description"\n          i18n-id="console.helpPage.keyboardCommands.switchFocusToAutoCompleteMenuDescription"\n          i18n-default-message="Switch focus to auto-complete menu. Use arrows to further select a term"\n        ></dd>\n        <dt class="euiDescriptionList__title">Enter/Tab</dt>\n        <dd\n          class="euiDescriptionList__description"\n          i18n-id="console.helpPage.keyboardCommands.selectCurrentlySelectedInAutoCompleteMenuDescription"\n          i18n-default-message="Select the currently selected or the top most term in auto-complete menu"\n        ></dd>\n        <dt class="euiDescriptionList__title">Esc</dt>\n        <dd\n          class="euiDescriptionList__description"\n          i18n-id="console.helpPage.keyboardCommands.closeAutoCompleteMenuDescription"\n          i18n-default-message="Close auto-complete menu"\n        ></dd>\n      </dl>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1351);var storage=__webpack_require__(438);__webpack_require__(4).get("app/sense").directive("senseWelcome",function(i18n){return{restrict:"E",template:__webpack_require__(4727),link:function link($scope){$scope.$on("$destroy",function(){storage.set("version_welcome_shown","@@SENSE_REVISION")});$scope.asWellAsFragmentText=i18n("console.welcomePage.supportedRequestFormatDescription.asWellAsFragmentText",{defaultMessage:"as well as"})}}})},function(module,exports){module.exports='<div class="euiText">\n\n  <h2\n    i18n-id="console.welcomePage.pageTitle"\n    i18n-default-message="Welcome to Console"\n  ></h2>\n\n  <p>\n    <strong\n      i18n-id="console.welcomePage.quickIntroTitle"\n      i18n-default-message="Quick intro to the UI"\n    ></strong>\n  </p>\n\n  <p\n    i18n-id="console.welcomePage.quickIntroDescription"\n    i18n-default-message="The Console UI is split into two panes: an editor pane (left) and a response pane (right).\n    Use the editor to type requests and submit them to Elasticsearch. The results will be displayed in\n    the response pane on the right side."\n  ></p>\n\n  <p\n    i18n-id="console.welcomePage.supportedRequestFormatTitle"\n    i18n-default-message="Console understands requests in a compact format, similar to cURL:"\n  ></p>\n  <sense-help-example></sense-help-example>\n\n  <p\n    i18n-id="console.welcomePage.supportedRequestFormatDescription"\n    i18n-default-message="While typing a request, Console will make suggestions which you can then accept by hitting Enter/Tab.\n    These suggestions are made based on the request structure {asWellAs} your indices and types."\n    i18n-values="{ html_asWellAs: \'<i>\' + asWellAsFragmentText + \'</i>\' }"\n  >\n  </p>\n\n  <p>\n    <strong\n      i18n-id="console.welcomePage.quickTipsTitle"\n      i18n-default-message="A few quick tips, while I have your attention"\n    >\n    </strong>\n  </p>\n  <ul>\n    <li\n      i18n-id="console.welcomePage.quickTips.submitRequestDescription"\n      i18n-default-message="Submit requests to ES using the green triangle button."\n    ></li>\n    <li\n      i18n-id="console.welcomePage.quickTips.useWrenchMenuDescription"\n      i18n-default-message="Use the wrench menu for other useful things."\n    ></li>\n    <li\n      i18n-id="console.welcomePage.quickTips.cUrlFormatForRequestsDescription"\n      i18n-default-message="You can paste requests in cURL format and they will be translated to the Console syntax."\n    ></li>\n    <li\n      i18n-id="console.welcomePage.quickTips.resizeEditorDescription"\n      i18n-default-message="You can resize the editor and output panes by dragging the separator between them."\n    ></li>\n    <li\n      i18n-id="console.welcomePage.quickTips.keyboardShortcutsDescription"\n      i18n-default-message="Study the keyboard shortcuts under the Help button. Good stuff in there!"\n    ></li>\n  </ul>\n\n  <button\n    type="button"\n    class="kuiButton kuiButton--primary"\n    data-test-subj="help-close-button"\n    ng-click="kbnTopNav.close()"\n    i18n-id="console.welcomePage.closeButtonLabel"\n    i18n-default-message="Get to work"\n  >\n  </button>\n\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4729)},function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(10);var _xpack_info=__webpack_require__(46);var _grokdebugger_route=__webpack_require__(4730);var _grokdebugger_route2=_interopRequireDefault(_grokdebugger_route);__webpack_require__(4731);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}_routes2.default.when("/dev_tools/grokdebugger",{template:_grokdebugger_route2.default,resolve:{licenseCheckResults:function licenseCheckResults(Private){var xpackInfo=Private(_xpack_info.XPackInfoProvider);return{showPage:xpackInfo.get("features.grokdebugger.enableLink"),message:xpackInfo.get("features.grokdebugger.message")}}},controller:function GrokDebuggerRouteController($injector){_classCallCheck(this,GrokDebuggerRouteController);var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");var licenseCheckResults=$route.current.locals.licenseCheckResults;if(!licenseCheckResults.showPage){kbnUrl.change("/dev_tools");_notify.toastNotifications.addDanger(licenseCheckResults.message);return}}})},function(module,exports){module.exports='<kbn-dev-tools-app class="grokdebuggerDevTool">\n  <grokdebugger></grokdebugger>\n</kbn-dev-tools-app>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4732)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);__webpack_require__(4733);var _grok_debugger=__webpack_require__(4741);var _reactDom=__webpack_require__(15);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("xpack/grokdebugger");app.directive("grokdebugger",function($injector){var grokdebuggerService=$injector.get("grokdebuggerService");return{restrict:"E",link:function link(scope,el){(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_grok_debugger.GrokDebugger,{grokdebuggerService:grokdebuggerService})),el[0])}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4734)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _grokdebugger_service=__webpack_require__(4735);_modules.uiModules.get("xpack/grokdebugger").factory("grokdebuggerService",function($injector){var $http=$injector.get("$http");return new _grokdebugger_service.GrokdebuggerService($http)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokdebuggerService=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(548);var _grokdebugger_response=__webpack_require__(4739);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var GrokdebuggerService=exports.GrokdebuggerService=function(){function GrokdebuggerService($http){_classCallCheck(this,GrokdebuggerService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(GrokdebuggerService,[{key:"simulate",value:function simulate(grokdebuggerRequest){return this.$http.post(this.basePath+"/simulate",grokdebuggerRequest.upstreamJSON).then(function(response){return _grokdebugger_response.GrokdebuggerResponse.fromUpstreamJSON(response.data.grokdebuggerResponse)}).catch(function(e){throw e.data.message})}}]);return GrokdebuggerService}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ROUTES=exports.ROUTES={API_ROOT:"/api/grokdebugger"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var PLUGIN=exports.PLUGIN={ID:"grokdebugger"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var EDITOR=exports.EDITOR={PATTERN_MIN_LINES:3,PATTERN_MAX_LINES:10,SAMPLE_DATA_MIN_LINES:3,SAMPLE_DATA_MAX_LINES:50}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _grokdebugger_response=__webpack_require__(4740);Object.defineProperty(exports,"GrokdebuggerResponse",{enumerable:true,get:function get(){return _grokdebugger_response.GrokdebuggerResponse}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokdebuggerResponse=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var GrokdebuggerResponse=exports.GrokdebuggerResponse=function(){function GrokdebuggerResponse(props){_classCallCheck(this,GrokdebuggerResponse);this.structuredEvent=(0,_lodash.get)(props,"structuredEvent",{});this.error=(0,_lodash.get)(props,"error",{})}_createClass(GrokdebuggerResponse,null,[{key:"fromUpstreamJSON",value:function fromUpstreamJSON(grokdebuggerResponse){return new GrokdebuggerResponse(grokdebuggerResponse)}}]);return GrokdebuggerResponse}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _grok_debugger=__webpack_require__(4742);Object.defineProperty(exports,"GrokDebugger",{enumerable:true,get:function get(){return _grok_debugger.GrokDebugger}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokDebugger=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _eui=__webpack_require__(2);var _event_input=__webpack_require__(4743);var _pattern_input=__webpack_require__(4745);var _custom_patterns_input=__webpack_require__(4750);var _event_output=__webpack_require__(4752);var _grokdebugger_request=__webpack_require__(4754);var _notify=__webpack_require__(10);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var GrokDebugger=exports.GrokDebugger=function(_React$Component){_inherits(GrokDebugger,_React$Component);function GrokDebugger(props){var _this2=this;_classCallCheck(this,GrokDebugger);var _this=_possibleConstructorReturn(this,(GrokDebugger.__proto__||Object.getPrototypeOf(GrokDebugger)).call(this,props));_this.onRawEventChange=function(rawEvent){_this.setState({rawEvent:rawEvent});_this.grokdebuggerRequest.rawEvent=rawEvent};_this.onPatternChange=function(pattern){_this.setState({pattern:pattern});_this.grokdebuggerRequest.pattern=pattern};_this.onCustomPatternsChange=function(customPatterns){_this.setState({customPatterns:customPatterns});customPatterns=customPatterns.trim();var customPatternsObj={};if(!customPatterns){_this.grokdebuggerRequest.customPatterns=customPatternsObj;return}customPatterns.split("\n").forEach(function(customPattern){var _ref=customPattern.match(/(\S+)\s+(.+)/)||[],_ref2=_slicedToArray(_ref,3),patternName=_ref2[1],patternDefinition=_ref2[2];if(patternName&&patternDefinition){customPatternsObj[patternName]=patternDefinition}});_this.grokdebuggerRequest.customPatterns=customPatternsObj};_this.simulateGrok=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var simulateResponse;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this.props.grokdebuggerService.simulate(_this.grokdebuggerRequest);case 3:simulateResponse=_context.sent;_this.setState({structuredEvent:simulateResponse.structuredEvent});if(!(0,_lodash.isEmpty)(simulateResponse.error)){_notify.toastNotifications.addDanger(simulateResponse.error)}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);_notify.toastNotifications.addDanger(_context.t0);case 11:case"end":return _context.stop()}}},_callee,_this2,[[0,8]])}));_this.onSimulateClick=function(){_this.setState({structuredEvent:{}},_this.simulateGrok)};_this.isSimulateDisabled=function(){return _this.state.rawEvent.trim()===""||_this.state.pattern.trim()===""};_this.state={rawEvent:"",pattern:"",customPatterns:"",structuredEvent:{}};_this.grokdebuggerRequest=new _grokdebugger_request.GrokdebuggerRequest;return _this}_createClass(GrokDebugger,[{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_eui.EuiPageContentBody,null,_react2.default.createElement(_eui.EuiForm,{className:"grokdebugger-container","data-test-subj":"grokDebugger"},_react2.default.createElement(_event_input.EventInput,{value:this.state.rawEvent,onChange:this.onRawEventChange}),_react2.default.createElement(_pattern_input.PatternInput,{value:this.state.pattern,onChange:this.onPatternChange}),_react2.default.createElement(_custom_patterns_input.CustomPatternsInput,{value:this.state.customPatterns,onChange:this.onCustomPatternsChange}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiButton,{fill:true,onClick:this.onSimulateClick,isDisabled:this.isSimulateDisabled(),"data-test-subj":"btnSimulate"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.grokDebugger.simulateButtonLabel",defaultMessage:"Simulate"})),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_event_output.EventOutput,{value:this.state.structuredEvent}))))))}}]);return GrokDebugger}(_react2.default.Component)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _event_input=__webpack_require__(4744);Object.defineProperty(exports,"EventInput",{enumerable:true,get:function get(){return _event_input.EventInput}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventInput=EventInput;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _constants=__webpack_require__(548);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function EventInput(_ref){var value=_ref.value,onChange=_ref.onChange;return _react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.grokDebugger.sampleDataLabel",defaultMessage:"Sample Data"}),fullWidth:true,"data-test-subj":"aceEventInput"},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react2.default.createElement(_eui.EuiCodeEditor,{width:"100%",value:value,onChange:onChange,setOptions:{highlightActiveLine:false,highlightGutterLine:false,minLines:_constants.EDITOR.SAMPLE_DATA_MIN_LINES,maxLines:_constants.EDITOR.SAMPLE_DATA_MAX_LINES}})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pattern_input=__webpack_require__(4746);Object.defineProperty(exports,"PatternInput",{enumerable:true,get:function get(){return _pattern_input.PatternInput}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PatternInput=PatternInput;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _constants=__webpack_require__(548);var _ace=__webpack_require__(4747);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PatternInput(_ref){var value=_ref.value,onChange=_ref.onChange;return _react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.grokDebugger.grokPatternLabel",defaultMessage:"Grok Pattern"}),fullWidth:true,"data-test-subj":"acePatternInput"},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react2.default.createElement(_eui.EuiCodeEditor,{width:"100%",value:value,onChange:onChange,mode:new _ace.GrokMode,setOptions:{highlightActiveLine:false,highlightGutterLine:false,minLines:_constants.EDITOR.PATTERN_MIN_LINES,maxLines:_constants.EDITOR.PATTERN_MAX_LINES}})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _grok_mode=__webpack_require__(4748);Object.defineProperty(exports,"GrokMode",{enumerable:true,get:function get(){return _grok_mode.GrokMode}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokMode=undefined;var _ace=__webpack_require__(205);var _ace2=_interopRequireDefault(_ace);var _grok_highlight_rules=__webpack_require__(4749);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TextMode=_ace2.default.acequire("ace/mode/text").Mode;var GrokMode=exports.GrokMode=function(_TextMode){_inherits(GrokMode,_TextMode);function GrokMode(){_classCallCheck(this,GrokMode);var _this=_possibleConstructorReturn(this,(GrokMode.__proto__||Object.getPrototypeOf(GrokMode)).call(this));_this.HighlightRules=_grok_highlight_rules.GrokHighlightRules;return _this}return GrokMode}(TextMode)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokHighlightRules=undefined;var _ace=__webpack_require__(205);var _ace2=_interopRequireDefault(_ace);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _ace$acequire=_ace2.default.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_ace$acequire.TextHighlightRules;var GrokHighlightRules=exports.GrokHighlightRules=function(_TextHighlightRules){_inherits(GrokHighlightRules,_TextHighlightRules);function GrokHighlightRules(){_classCallCheck(this,GrokHighlightRules);var _this=_possibleConstructorReturn(this,(GrokHighlightRules.__proto__||Object.getPrototypeOf(GrokHighlightRules)).call(this));_this.$rules={start:[{token:["grokStart","grokPatternName","grokSeparator","grokFieldName","grokEnd"],regex:"(%{)([^:]+)(:)([^:]+)(})"},{token:["grokStart","grokPatternName","grokSeparator","grokFieldName","grokSeparator","grokFieldType","grokEnd"],regex:"(%{)([^:]+)(:)([^:]+)(:)([^:]+)(})"},{token:function token(escapeToken){if(escapeToken){return["grokEscape","grokEscaped"]}return"grokRegex"},regex:"(\\\\)?([\\[\\]\\(\\)\\?\\:\\|])"}]};return _this}return GrokHighlightRules}(TextHighlightRules)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _custom_patterns_input=__webpack_require__(4751);Object.defineProperty(exports,"CustomPatternsInput",{enumerable:true,get:function get(){return _custom_patterns_input.CustomPatternsInput}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CustomPatternsInput=CustomPatternsInput;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _constants=__webpack_require__(548);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function CustomPatternsInput(_ref){var value=_ref.value,onChange=_ref.onChange;var sampleCustomPatterns="POSTFIX_QUEUEID [0-9A-F]{10,11}\nMSG message-id=<%{GREEDYDATA}>";return _react2.default.createElement(_eui.EuiAccordion,{id:"customPatternsInput",buttonContent:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.grokDebugger.customPatternsButtonLabel",defaultMessage:"Custom Patterns"}),"data-test-subj":"btnToggleCustomPatternsInput"},_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.grokDebugger.customPatterns.callOutTitle",defaultMessage:"Enter one custom pattern per line. For example:"})},_react2.default.createElement(_eui.EuiCodeBlock,null,sampleCustomPatterns)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFormRow,{fullWidth:true,"data-test-subj":"aceCustomPatternsInput"},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react2.default.createElement(_eui.EuiCodeEditor,{width:"100%",value:value,onChange:onChange,setOptions:{highlightActiveLine:false,highlightGutterLine:false,minLines:_constants.EDITOR.PATTERN_MIN_LINES,maxLines:_constants.EDITOR.PATTERN_MAX_LINES}}))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _event_output=__webpack_require__(4753);Object.defineProperty(exports,"EventOutput",{enumerable:true,get:function get(){return _event_output.EventOutput}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventOutput=EventOutput;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function EventOutput(_ref){var value=_ref.value;return _react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.grokDebugger.structuredDataLabel",defaultMessage:"Structured Data"}),fullWidth:true,"data-test-subj":"aceEventOutput"},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react2.default.createElement(_eui.EuiCodeEditor,{mode:"json",isReadOnly:true,width:"100%",height:"340px",value:JSON.stringify(value,null,2),setOptions:{highlightActiveLine:false,highlightGutterLine:false}})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _grokdebugger_request=__webpack_require__(4755);Object.defineProperty(exports,"GrokdebuggerRequest",{enumerable:true,get:function get(){return _grokdebugger_request.GrokdebuggerRequest}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokdebuggerRequest=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var GrokdebuggerRequest=exports.GrokdebuggerRequest=function(){function GrokdebuggerRequest(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,GrokdebuggerRequest);this.rawEvent=(0,_lodash.get)(props,"rawEvent","");this.pattern=(0,_lodash.get)(props,"pattern","");this.customPatterns=(0,_lodash.get)(props,"customPatterns",{})}_createClass(GrokdebuggerRequest,[{key:"upstreamJSON",get:function get(){return(0,_lodash.pick)(this,["rawEvent","pattern","customPatterns"])}}]);return GrokdebuggerRequest}()},function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _modules=__webpack_require__(4);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(10);var _xpack_info=__webpack_require__(46);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);__webpack_require__(205);__webpack_require__(5050);__webpack_require__(4758);var _range=__webpack_require__(4765);var _ns_to_pretty=__webpack_require__(4766);var _ms_to_pretty=__webpack_require__(1352);var _app_util=__webpack_require__(4767);__webpack_require__(207);var _index=__webpack_require__(4768);var _index2=_interopRequireDefault(_index);var _default_query=__webpack_require__(4769);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/dev_tools/searchprofiler",{template:_index2.default,controller:function controller($scope,i18n){$scope.registerLicenseLinkLabel=i18n("xpack.searchProfiler.registerLicenseLinkLabel",{defaultMessage:"register a license"});$scope.trialLicense=i18n("xpack.searchProfiler.trialLicenseTitle",{defaultMessage:"Trial"});$scope.basicLicense=i18n("xpack.searchProfiler.basicLicenseTitle",{defaultMessage:"Basic"});$scope.goldLicense=i18n("xpack.searchProfiler.goldLicenseTitle",{defaultMessage:"Gold"});$scope.platinumLicense=i18n("xpack.searchProfiler.platinumLicenseTitle",{defaultMessage:"Platinum"})}});_modules.uiModules.get("app/searchprofiler",["ui.bootstrap.buttons","ui.ace"]).controller("profileViz",profileVizController).filter("nsToPretty",function(){return _ns_to_pretty.nsToPretty}).filter("msToPretty",function(){return _ms_to_pretty.msToPretty}).factory("HighlightService",function(){var service={details:null};return service});function profileVizController($scope,$route,$interval,$http,HighlightService,Private){$scope.title="Search Profile";$scope.description="Search profiling and visualization";$scope.profileResponse=[];$scope.highlight=HighlightService;$scope.activeTab={search:true};$scope.markers=[];$scope.query=_default_query.defaultQuery;var xpackInfo=Private(_xpack_info.XPackInfoProvider);$scope.licenseEnabled=xpackInfo.get("features.searchprofiler.enableAppLink");$scope.aceLoaded=function(_editor){$scope.ace=_editor;$scope.ace.$blockScrolling=Infinity;$scope.ace.setReadOnly(!$scope.licenseEnabled);if(!$scope.licenseEnabled){$scope.ace.container.style.pointerEvents="none";$scope.ace.container.style.opacity=.5;$scope.ace.renderer.setStyle("disabled",true);$scope.ace.blur()}};$scope.profile=function(){if(!$scope.licenseEnabled){return}$scope.resetHighlightPanel();var json=(0,_app_util.checkForParseErrors)($scope.query);if(json.status===false){_notify.notify.error(json.error);return}json=json.parsed;if(json.profile&&json.profile.shards){$scope.renderProfile(json.profile.shards)}else{var requestBody={query:$scope.query};if($scope.index==null||$scope.index===""){requestBody.index="_all"}else{requestBody.index=$scope.index}if(!$scope.type===""){requestBody.type=$scope.type}$scope.executeRemoteQuery(requestBody)}};$scope.executeRemoteQuery=function(requestBody){$http.post("../api/searchprofiler/profile",requestBody).then(function(resp){if(!resp.data.ok){_notify.notify.error(resp.data.err.msg);try{var regex=/line=([0-9]+) col=([0-9]+)/g;var _regex$exec=regex.exec(resp.data.err.msg),_regex$exec2=_slicedToArray(_regex$exec,3),row=_regex$exec2[1],column=_regex$exec2[2];$scope.markers.push($scope.ace.session.addMarker(new _range.Range(row-1,0,row-1,column),"errorMarker","fullLine"))}catch(e){}return}$scope.renderProfile(resp.data.resp.profile.shards)}).catch(_notify.notify.error)};$scope.renderProfile=function(data){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=data[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var shard=_step.value;shard.id=shard.id.match(/\[([^\]\[]*?)\]/g);shard.id=_lodash2.default.map(shard.id,function(id){return id.replace("[","").replace("]","")})}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}$scope.hasAggregations=data[0].aggregations!=null&&data[0].aggregations.length>0;$scope.hasSearch=data[0].searches!=null&&data[0].searches.length>0;$scope.profileResponse=data;if(!$scope.hasAggregations){$scope.activateTab("search")}};$scope.activateTab=function(tab){$scope.resetHighlightPanel();$scope.activeTab={};if(tab==="aggregations"&&$scope.hasAggregations){$scope.activeTab.aggregations=true}else{$scope.activeTab.search=true}};$scope.resetHighlightPanel=function(){$scope.highlight.details=null}}},,function(module,exports,__webpack_require__){"use strict";__webpack_require__(4759);__webpack_require__(4763)},function(module,exports,__webpack_require__){"use strict";var _index=__webpack_require__(4760);var _index2=_interopRequireDefault(_index);var _util=__webpack_require__(4761);var _modules=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("app/searchprofiler/directives",[]);uiModule.directive("profiletree",function(HighlightService){return{restrict:"E",scope:{data:"=",target:"@"},template:_index2.default,link:function link($scope){$scope.visible={foo:{}};$scope.indexVisibility={};$scope.highlightedRow=null;$scope.updateDetail=function(row,indexName,shardID,shardNumber){HighlightService.details=row;HighlightService.details.indexName=indexName;HighlightService.details.shardID=shardID;HighlightService.details.shardNumber=shardNumber;HighlightService.details.highlightedRow=row.id};$scope.getHighlightedRow=function(){if(HighlightService.details){return HighlightService.details.highlightedRow}return null};$scope.toggle=function(id){if($scope.visible[id].visible===true){(0,_util.closeNode)($scope.visible,id)}else{$scope.visible[id].visible=true}};function render(data){if(data.length===0){return}$scope.visible={};var indices={};var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=data[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var shard=_step.value;initShardTargets(shard);if($scope.target==="searches"){shard.time[$scope.target]=collectSearchTimes(shard)}else if($scope.target==="aggregations"){shard.time[$scope.target]=collectAggTimes(shard)}if(!indices[shard.id[1]]){indices[shard.id[1]]={shards:[],time:{searches:0,aggregations:0},name:shard.id[1]}}indices[shard.id[1]].shards.push(shard);indices[shard.id[1]].time[$scope.target]+=shard.time[$scope.target]}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}data=null;var finalIndices=(0,_util.normalizeIndices)(indices,$scope.indexVisibility,$scope.target);indices=null;$scope.profileResponse=finalIndices}function collectSearchTimes(shard){if(shard.searches==null){return 0}shard.rewrite_time=0;var shardTime=0;var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=shard.searches[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var search=_step2.value;shard.rewrite_time+=search.rewrite_time;var totalTime=(0,_util.calcTimes)(search.query);shardTime+=totalTime;(0,_util.normalizeTimes)(search.query,totalTime,0);var flat=[];(0,_util.flattenResults)(search.query,flat,0,$scope.visible);search.flat=flat;search.query=null}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}return shardTime}function collectAggTimes(shard){if(shard.aggregations==null){return 0}var shardTime=0;var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=shard.aggregations[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var agg=_step3.value;var totalTime=(0,_util.calcTimes)([agg]);shardTime+=totalTime}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=shard.aggregations[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var _agg=_step4.value;(0,_util.normalizeTimes)([_agg],shardTime,0);var flat=[];(0,_util.flattenResults)([_agg],flat,0,$scope.visible);_agg.flat=flat}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return()}}finally{if(_didIteratorError4){throw _iteratorError4}}}return shardTime}function initShardTargets(shard){if(!shard.time){shard.time={searches:0,aggregations:0}}if(!shard.color){shard.color={searches:0,aggregations:0}}if(!shard.relative){shard.relative={searches:0,aggregations:0}}}$scope.$watch("data",render)}}})},function(module,exports){module.exports='<div class="prfDevTool__panel panel-default prfDevTool__index" ng-repeat="index in profileResponse">\n  <div class="prfDevTool__shardDetails--dim">\n    <span\n      tooltip-placement="bottom"\n      tooltip="{{:: \'xpack.searchProfiler.profileTree.cumulativeTimeTooltip\' | i18n: { defaultMessage: \'The cumulative time of all shards in the index. Note: this is not wall-clock time, as shards can execute in parallel.\' } }}">\n      <h3>{{:: \'xpack.searchProfiler.profileTree.cumulativeTimeTitle\' | i18n: { defaultMessage: "Cumulative Time:" } }} {{ index.time[target] | msToPretty: 3 }}</h3>\n    </span><br/>\n  </div>\n  <div class="prfDevTool__shardDetails" style="margin-left:5px">\n    <h3>\n      <b\n        i18n-id="xpack.searchProfiler.profileTree.indexTitle"\n        i18n-default-message="Index:"\n      ></b>\n      {{index.name}}\n    </h3>\n  </div>\n  <div ng-repeat="shard in index.shards">\n    <div class="prfDevTool__panel prfDevTool__shard">\n      <div class="prfDevTool__shardBody">\n        <div class="prfDevTool__shardDetails--dim" style="width:150px">\n          <div class="prfDevTool__graph progress">\n            <div class="prfDevTool__bar" style="width:{{shard.relative[target]}}%"></div>\n            <p class="prfDevTool__graphLabel">{{shard.time[target] | msToPretty: 3}}</p>\n          </div>\n\n        </div>\n        <div class="prfDevTool__shardDetails">\n          <span class="fa" aria-hidden="true"\n                  ng-click="shardVisibility = !shardVisibility"\n                  ng-class="visible[row.id].visible ? \'fa-chevron-down\' : \'fa-chevron-right\'"\n                  style="font-size:9px">\n                </span>\n                <b>[{{shard.id[0]}}][{{shard.id[2]}}]</b>\n        </div>\n        <div class="treeviewwrapper"\n            ng-repeat="search in shard[target]"\n            ng-hide="!shardVisibility"\n            ng-class="{\'prfDevTool__panelBody\' : shardVisibility}">\n          <div class="prfDevTool__tvHeader">\n            <div\n              class="prfDevTool__cell prfDevTool__description"\n              i18n-id="xpack.searchProfiler.profileTree.header.typeTitle"\n              i18n-default-message="Type"\n            ></div>\n            <div\n              class="prfDevTool__cell prfDevTool__time"\n              i18n-id="xpack.searchProfiler.profileTree.header.selfTimeTitle"\n              i18n-default-message="Self Time"\n            ></div>\n            <div\n              class="prfDevTool__cell prfDevTool__totalTime"\n              i18n-id="xpack.searchProfiler.profileTree.header.totalTimeTitle"\n              i18n-default-message="Total Time"\n            ></div>\n            <div\n              class="prfDevTool__cell prfDevTool__percentage"\n              i18n-id="xpack.searchProfiler.profileTree.header.percentageTimeTitle"\n              i18n-default-message="% Time"\n            ></div>\n          </div>\n          <div class="prfDevTool__tvRow"\n            ng-repeat="row in search.flat"\n            ng-show="row.depth === 0 ? true : visible[row.parentId].visible"\n            style="background-color:{{row.absoluteColor}}"\n            ng-mouseenter="updateDetail(row, index.name, shard.id[0], shard.id[2])"\n            ng-class="row.id == getHighlightedRow() ? \'prfDevTool__tvRow--last\' : \'\'">\n            <div class="prfDevTool__cell prfDevTool__description" style="padding-left:{{row.depth * 10}}px;">\n              <div style="display:inline;" ng-class="row.hasChildren ? \'\' : \'fa-bars\'">\n                <span class="fa" aria-hidden="true"\n                  ng-click="toggle(row.id)"\n                  ng-class="visible[row.id].visible ? \'fa-chevron-down\' : \'fa-chevron-right\'"\n                  ng-hide="!row.hasChildren"\n                  style="font-size:9px">\n                </span>&nbsp;\n              </div>\n              {{row.query_type}}\n              <span class=\'prfDevTool__detail\'>\n              <span\n                tooltip-placement="top"\n                tooltip="{{row.lucene.length > 40 ? row.lucene : \'\'}}">\n              {{row.lucene | limitTo : 40}}{{row.lucene.length > 40 ? \'...\' : \'\'}}\n              </span>\n              </span>\n            </div>\n            <div class="prfDevTool__cell prfDevTool__time">{{row.selfTime | msToPretty: 1}}</div>\n            <div class="prfDevTool__cell prfDevTool__totalTime">{{row.time | msToPretty: 1}}</div>\n            <div class="prfDevTool__cell prfDevTool__percentage">\n              <div class="prfDevTool__graph progress">\n                <div class="prfDevTool__bar" style="width:{{row.timePercentage}}%"></div>\n                <p class="prfDevTool__graphLabel">{{row.timePercentage}}%</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();exports.timeInMilliseconds=timeInMilliseconds;exports.calcTimes=calcTimes;exports.normalizeBreakdown=normalizeBreakdown;exports.normalizeTimes=normalizeTimes;exports.normalizeIndices=normalizeIndices;exports.flattenResults=flattenResults;exports.closeNode=closeNode;var _uuid=__webpack_require__(64);var _uuid2=_interopRequireDefault(_uuid);var _tinycolor=__webpack_require__(5051);var _tinycolor2=_interopRequireDefault(_tinycolor);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var comparator=function comparator(v1,v2){if(v1<v2){return 1}return v1>v2?-1:0};function getToolTip(key){switch(key){case"build_scorer":return"The time taken to create the Scoring object, which is later used to execute the actual scoring of each doc.";case"create_weight":return"The time taken to create the Weight object, which holds temporary information during scoring.";case"next_doc":return"The time taken to advance the iterator to the next matching document.";case"score":return"The time taken in actually scoring the document against the query.";case"match":return"The time taken to execute a secondary, more precise scoring phase (used by phrase queries).";case"advance":return"The time taken to advance the iterator to the next document.";default:return""}}function timeInMilliseconds(data){if(data.time_in_nanos){return data.time_in_nanos/1e6}if(typeof data.time==="string"){return data.time.replace("ms","")}return data.time}function calcTimes(data,parentId){if(data==null){return}var totalTime=0;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=data[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var child=_step.value;totalTime+=timeInMilliseconds(child);child.id=_uuid2.default.v4();child.parentId=parentId;child.childrenIds=[];child.breakdown=normalizeBreakdown(child.breakdown);var childrenTime=0;if(child.children!=null&&child.children.length!==0){childrenTime=calcTimes(child.children,child.id);child.hasChildren=true;var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=child.children[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var c=_step2.value;child.childrenIds.push(c.id)}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}}child.selfTime=timeInMilliseconds(child)-childrenTime}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return totalTime}function normalizeBreakdown(breakdown){var final=[];var total=Object.keys(breakdown).reduce(function(partialTotal,currentKey){if(currentKey.indexOf("_count")===-1){partialTotal+=breakdown[currentKey]}return partialTotal},0);Object.keys(breakdown).sort().forEach(function(key){var relative=0;if(key.indexOf("_count")===-1){relative=(breakdown[key]/total*100).toFixed(1)}final.push({key:key,time:breakdown[key],relative:relative,color:_tinycolor2.default.mix("#F5F5F5","#FFAFAF",relative).toHexString(),tip:getToolTip(key)})});return final.sort(function(a,b){if(comparator(a.time,b.time)!==0){return comparator(a.time,b.time)}return-1*comparator(a.key,b.key)})}function normalizeTimes(data,totalTime,depth){var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=data[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var child=_step3.value;child.timePercentage=(timeInMilliseconds(child)/totalTime*100).toFixed(2);child.absoluteColor=_tinycolor2.default.mix("#F5F5F5","#FFAFAF",child.timePercentage).toHexString();child.depth=depth;if(child.children!=null&&child.children.length!==0){normalizeTimes(child.children,totalTime,depth+1)}}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}data.sort(function(a,b){return comparator(timeInMilliseconds(a),timeInMilliseconds(b))})}function normalizeIndices(indices,visibility,target){var sortQueryComponents=void 0;if(target==="searches"){sortQueryComponents=function sortQueryComponents(a,b){var aTime=_lodash2.default.sum(a.searches,function(search){return search.flat[0].time});var bTime=_lodash2.default.sum(b.searches,function(search){return search.flat[0].time});return comparator(aTime,bTime)}}else if(target==="aggregations"){sortQueryComponents=function sortQueryComponents(a,b){var aTime=_lodash2.default.sum(a.aggregations,function(agg){return agg.flat[0].time});var bTime=_lodash2.default.sum(b.aggregations,function(agg){return agg.flat[0].time});return comparator(aTime,bTime)}}var sortedIndices=[];var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=Object.entries(indices)[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var _ref=_step4.value;var _ref2=_slicedToArray(_ref,2);var key=_ref2[0];var index=_ref2[1];index.shards.sort(sortQueryComponents);var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=index.shards[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var shard=_step5.value;shard.relative[target]=(shard.time[target]/index.time[target]*100).toFixed(2);shard.color[target]=_tinycolor2.default.mix("#F5F5F5","#FFAFAF",shard.relative[target]).toHexString()}}catch(err){_didIteratorError5=true;_iteratorError5=err}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return()}}finally{if(_didIteratorError5){throw _iteratorError5}}}sortedIndices.push(index);visibility[key]=false}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return()}}finally{if(_didIteratorError4){throw _iteratorError4}}}sortedIndices.sort(function(a,b){return comparator(a.time,b.time)});return sortedIndices}function flattenResults(data,accumulator,depth,visibleMap){if(data==null){return}var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=data[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var child=_step6.value;if(!child.description){child.description=child.lucene;child.lucene=null;child.type=child.query_type;child.query_type=null}accumulator.push({id:child.id,parentId:child.parentId,childrenIds:child.childrenIds,lucene:child.description,time:timeInMilliseconds(child),selfTime:child.selfTime,timePercentage:child.timePercentage,query_type:child.type.split(".").pop(),absoluteColor:child.absoluteColor,depth:depth,hasChildren:child.hasChildren,breakdown:child.breakdown});visibleMap[child.id]={visible:child.timePercentage>20,children:child.children};if(child.children!=null&&child.children.length!==0){flattenResults(child.children,accumulator,depth+1,visibleMap)}}}catch(err){_didIteratorError6=true;_iteratorError6=err}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return){_iterator6.return()}}finally{if(_didIteratorError6){throw _iteratorError6}}}}function closeNode(visibleMap,id){visibleMap[id].visible=false;if(visibleMap[id].children==null||visibleMap[id].children.length===0){return}var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=undefined;try{for(var _iterator7=visibleMap[id].children[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var child=_step7.value;closeNode(visibleMap,child.id)}}catch(err){_didIteratorError7=true;_iteratorError7=err}finally{try{if(!_iteratorNormalCompletion7&&_iterator7.return){_iterator7.return()}}finally{if(_didIteratorError7){throw _iteratorError7}}}}},,function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _index=__webpack_require__(4764);var _index2=_interopRequireDefault(_index);var _modules=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("app/searchprofiler/directives",[]);uiModule.directive("highlightdetails",function(HighlightService){return{restrict:"E",scope:{data:"@"},template:_index2.default,link:function link($scope){function render(data){if(!data){return}data.breakdown=_lodash2.default.filter(data.breakdown,function(o){return o.key.indexOf("_count")===-1});$scope.detailRow=data}$scope.$watch(function(){return HighlightService.details},render)}}})},function(module,exports){module.exports='<div>\n  <b>{{detailRow.indexName}}</b>\n  <p>[{{detailRow.shardID}}][{{detailRow.shardNumber}}]</p>\n  <br/>\n  <b\n    i18n-id="xpack.searchProfiler.highlightDetails.typeTitle"\n    i18n-default-message="Type"\n  ></b>\n  <p>{{detailRow.query_type}}</p>\n  <b\n    i18n-id="xpack.searchProfiler.highlightDetails.descriptionTitle"\n    i18n-default-message="Description"\n  ></b>\n  <p>{{detailRow.lucene}}</p>\n  <b>\n    <span\n      tooltip="{{:: \'xpack.searchProfiler.highlightDetails.totalTimeTooltip\' | i18n: { defaultMessage: \'The total time spent at this query component, inclusive of children\' } }}"\n      tooltip-placement="left"\n      i18n-id="xpack.searchProfiler.highlightDetails.totalTimeTitle"\n      i18n-default-message="Total Time"\n    ></span>\n  </b>\n  <p>{{detailRow.time | msToPretty:3 }}</p>\n  <b>\n    <span\n      tooltip="{{:: \'xpack.searchProfiler.highlightDetails.selfTimeTooltip\' | i18n: { defaultMessage: \'The time spent by this query component alone, exclusive of children\' } }}"\n      tooltip-placement="left"\n      i18n-id="xpack.searchProfiler.highlightDetails.selfTimeTitle"\n      i18n-default-message="Self Time"\n    ></span>\n  </b>\n  <p>{{detailRow.selfTime | msToPretty:3 }}</p>\n  <b\n    i18n-id="xpack.searchProfiler.highlightDetails.timingBreakdownTitle"\n    i18n-default-message="Timing Breakdown"\n  ></b>\n  <table class="prfDevTool__breakdown">\n    <tr style="background-color:{{breakdown.color}}" ng-repeat="breakdown in detailRow.breakdown">\n      <td><span tooltip="{{breakdown.tip}}" tooltip-placement="left">{{breakdown.key}}</span></td>\n      <td>{{breakdown.time | nsToPretty: 1}}</td>\n      <td style="width:33%; background-color:white;">\n        <div class="prfDevTool__graph progress">\n          <div class="prfDevTool__bar" style="width:{{breakdown.relative}}%"></div>\n          <p class="prfDevTool__graphLabel">{{breakdown.relative}}%</p>\n        </div>\n      </td>\n    </tr>\n  </table>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.Range=Range;var comparePoints=function comparePoints(p1,p2){return p1.row-p2.row||p1.column-p2.column};function Range(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn};this.end={row:endRow,column:endColumn}}(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(row,column){return this.compare(row,column)===0};this.compareRange=function(range){var cmp=void 0;var end=range.end;var start=range.start;cmp=this.compare(end.row,end.column);if(cmp===1){cmp=this.compare(start.row,start.column);if(cmp===1){return 2}else if(cmp===0){return 1}else{return 0}}else if(cmp===-1){return-2}else{cmp=this.compare(start.row,start.column);if(cmp===-1){return-1}else if(cmp===1){return 42}else{return 0}}};this.comparePoint=function(p){return this.compare(p.row,p.column)};this.containsRange=function(range){return this.comparePoint(range.start)===0&&this.comparePoint(range.end)===0};this.intersects=function(range){var cmp=this.compareRange(range);return cmp===-1||cmp===0||cmp===1};this.isEnd=function(row,column){return this.end.row===row&&this.end.column===column};this.isStart=function(row,column){return this.start.row===row&&this.start.column===column};this.setStart=function(row,column){if((typeof row==="undefined"?"undefined":_typeof(row))==="object"){this.start.column=row.column;this.start.row=row.row}else{this.start.row=row;this.start.column=column}};this.setEnd=function(row,column){if((typeof row==="undefined"?"undefined":_typeof(row))==="object"){this.end.column=row.column;this.end.row=row.row}else{this.end.row=row;this.end.column=column}};this.inside=function(row,column){if(this.compare(row,column)===0){if(this.isEnd(row,column)||this.isStart(row,column)){return false}else{return true}}return false};this.insideStart=function(row,column){if(this.compare(row,column)===0){if(this.isEnd(row,column)){return false}else{return true}}return false};this.insideEnd=function(row,column){if(this.compare(row,column)===0){if(this.isStart(row,column)){return false}else{return true}}return false};this.compare=function(row,column){if(!this.isMultiLine()){if(row===this.start.row){if(column<this.start.column){return-1}return column>this.end.column?1:0}}if(row<this.start.row){return-1}if(row>this.end.row){return 1}if(this.start.row===row){return column>=this.start.column?0:-1}if(this.end.row===row){return column<=this.end.column?0:1}return 0};this.compareStart=function(row,column){if(this.start.row===row&&this.start.column===column){return-1}else{return this.compare(row,column)}};this.compareEnd=function(row,column){if(this.end.row===row&&this.end.column===column){return 1}else{return this.compare(row,column)}};this.compareInside=function(row,column){if(this.end.row===row&&this.end.column===column){return 1}else if(this.start.row===row&&this.start.column===column){return-1}else{return this.compare(row,column)}};this.clipRows=function(firstRow,lastRow){var end=void 0;var start=void 0;if(this.end.row>lastRow){end={row:lastRow+1,column:0}}else if(this.end.row<firstRow){end={row:firstRow,column:0}}if(this.start.row>lastRow){start={row:lastRow+1,column:0}}else if(this.start.row<firstRow){start={row:firstRow,column:0}}return Range.fromPoints(start||this.start,end||this.end)};this.extend=function(row,column){var cmp=this.compare(row,column);if(cmp===0){return this}var start=void 0;var end=void 0;if(cmp===-1){start={row:row,column:column}}else{end={row:row,column:column}}return Range.fromPoints(start||this.start,end||this.end)};this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return Range.fromPoints(this.start,this.end)};this.collapseRows=function(){if(this.end.column===0){return new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0)}return new Range(this.start.row,0,this.end.row,0)};this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start);var screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)};this.moveBy=function(row,column){this.start.row+=row;this.start.column+=column;this.end.row+=row;this.end.column+=column}}).call(Range.prototype);Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)};Range.comparePoints=comparePoints;Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.nsToPretty=nsToPretty;var _ms_to_pretty=__webpack_require__(1352);function nsToPretty(ns,precision){if(!precision){precision=1}var units=["ns","µs"];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=units[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var unit=_step.value;if(ns<1e3){return ns.toFixed(precision)+unit}ns/=1e3}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return(0,_ms_to_pretty.msToPretty)(ns,precision)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checkForParseErrors=checkForParseErrors;function checkForParseErrors(json){try{json=JSON.parse(json)}catch(error){return{status:false,error:error}}return{status:true,parsed:json}}},function(module,exports){module.exports='<kbn-dev-tools-app class="prfDevTool">\n  <div class="prfDevTool__container kuiViewContent kuiViewContentItem" ng-controller="profileViz">\n    <div class="prfDevTool__wrapper">\n      <div class="prfDevTool__main">\n        <tabset ng-show="profileResponse.length > 0">\n          <tab\n            heading="{{ \'xpack.searchProfiler.queryProfileTabTitle\' | i18n: { defaultMessage: \'Query Profile\' } }}"\n            active="activeTab.search"\n            ng-click="activateTab(\'search\')"\n            disabled="!hasSearch">\n              <profileTree data="profileResponse" target="searches"></profileTree>\n          </tab>\n          <tab heading="{{ \'xpack.searchProfiler.aggregationProfileTabTitle\' | i18n: { defaultMessage: \'Aggregation Profile\' } }}"\n            ng-click="activateTab(\'aggregations\')"\n            disabled="!hasAggregations">\n              <profileTree data="profileResponse" target="aggregations"></profileTree>\n          </tab>\n        </tabset>\n\n        \x3c!-- License error notice --\x3e\n        <div class="euiCallout euiCallOut--warning" ng-hide="licenseEnabled">\n          <h2\n            class="kuiTitle kuiVerticalRhythmSmall"\n            i18n-id="xpack.searchProfiler.licenseErrorMessageTitle"\n            i18n-default-message="{warningIcon} License error"\n            i18n-values="{ html_warningIcon: \'<span class=\\\'kuiIcon fa-warning kuiIcon--error\\\'></span>\' }"\n          ></h2>\n\n          <p\n            class="kuiText kuiVerticalRhythmSmall"\n            i18n-id="xpack.searchProfiler.licenseErrorMessageDescription"\n            i18n-default-message="The Profiler Visualization requires an active license ({licenseTypeList} or {platinumLicenseType}), but none were found in your cluster."\n            i18n-values="{\n              html_licenseTypeList: \'<code>\' + trialLicense + \'</code>, <code>\' + basicLicense + \'</code>, <code>\' + goldLicense + \'</code>\',\n              html_platinumLicenseType: \'<code>\' + platinumLicense + \'</code>\',\n            }"\n          ></p>\n\n          <p\n            class="kuiText kuiVerticalRhythmSmall"\n            i18n-id="xpack.searchProfiler.registerLicenseDescription"\n            i18n-default-message="Please {registerLicenseLink} to continue using the Search Profiler"\n            i18n-values="{\n              html_registerLicenseLink: \'<a class=\\\'kuiLink\\\' href=\\\'https://www.elastic.co/subscriptions\\\' rel=\\\'noopener noreferrer\\\'>\' + registerLicenseLinkLabel + \'</a>\',\n            }"\n          ></p>\n        </div>\n      </div>\n\n      <div class="prfDevTool__sense">\n        \x3c!-- Form --\x3e\n        <div class="kuiFieldGroup">\n          <div class="kuiFieldGroupSection">\n            <div class="kuiVerticalRhythmSmall">\n              <label\n                class="kuiLabel"\n                for="searchProfilerIndexInput"\n                i18n-id="xpack.searchProfiler.formIndexLabel"\n                i18n-default-message="Index"\n              ></label>\n            </div>\n\n            <div class="kuiVerticalRhythmSmall">\n              <input\n                id="searchProfilerIndexInput"\n                class="kuiTextInput"\n                type="text"\n                ng-model="index"\n                placeholder="_all"\n                ng-disabled="!licenseEnabled"\n              ></input>\n            </div>\n          </div>\n\n          <div class="kuiFieldGroupSection">\n            <div class="kuiVerticalRhythmSmall">\n              <label\n                class="kuiLabel"\n                for="searchProfilerTypeInput"\n                i18n-id="xpack.searchProfiler.formTypeLabel"\n                i18n-default-message="Type"\n              ></label>\n            </div>\n\n            <div class="kuiVerticalRhythmSmall">\n              <input\n                id="searchProfilerTypeInput"\n                class="kuiTextInput"\n                type="text"\n                ng-model="type"\n                ng-disabled="!licenseEnabled"\n              ></input>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Code editor --\x3e\n        <div style="height:85%;margin-bottom:5px;padding-top:20px">\n          <div ui-ace="{ onLoad : aceLoaded, mode: \'json\' }" ng-model="query" class="ace_editor"></div>\n        </div>\n\n        \x3c!-- Actions --\x3e\n        <button\n          class="kuiButton kuiButton--primary"\n          style="float:right;"\n          ng-click="profile()"\n          ng-disabled="!licenseEnabled || !query"\n          i18n-id="xpack.searchProfiler.formProfileButtonLabel"\n          i18n-default-message="Profile"\n        >\n        </button>\n      </div>\n      <aside class="prfDevTool__details">\n        <highlightdetails ng-show="highlight.details && licenseEnabled"></highlightdetails>\n      </aside>\n    </div>\n  </div>\n</kbn-dev-tools-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var defaultQuery=exports.defaultQuery='{\n  "query":{\n    "match_all" : {}\n  }\n}'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4771);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _home_ng_wrapper=__webpack_require__(4772);var _home_ng_wrapper2=_interopRequireDefault(_home_ng_wrapper);var _feature_catalogue=__webpack_require__(39);var _modules=__webpack_require__(4);var _home_app=__webpack_require__(4773);var _persisted_log=__webpack_require__(193);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("apps/home",[]);app.directive("homeApp",function(reactDirective){return reactDirective(_home_app.HomeApp)});var homeTitle=_i18n.i18n.translate("kbn.home.breadcrumbs.homeTitle",{defaultMessage:"Home"});function getRoute(){return{template:_home_ng_wrapper2.default,controller:function controller($scope,config,indexPatterns,Private){$scope.directories=Private(_feature_catalogue.FeatureCatalogueRegistryProvider).inTitleOrder;$scope.recentlyAccessed=_persisted_log.recentlyAccessed.get().map(function(item){item.link=_chrome2.default.addBasePath(item.link);return item})},k7Breadcrumbs:function k7Breadcrumbs(){return[{text:homeTitle}]}}}_routes2.default.when("/home",getRoute());_routes2.default.when("/home/feature_directory",getRoute());_routes2.default.when("/home/tutorial_directory/:tab?",getRoute());_routes2.default.when("/home/tutorial/:id",getRoute())},function(module,exports,__webpack_require__){},function(module,exports){module.exports='<home-app\n  directories="directories"\n  recently-accessed="recentlyAccessed"\n/>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HomeApp=HomeApp;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _home=__webpack_require__(4774);var _feature_directory=__webpack_require__(4777);var _tutorial_directory=__webpack_require__(4778);var _tutorial=__webpack_require__(4783);var _reactRouterDom=__webpack_require__(37);var _load_tutorials=__webpack_require__(1354);var _replace_template_strings=__webpack_require__(4793);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _recently_accessed=__webpack_require__(1353);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HomeApp(_ref){var directories=_ref.directories,recentlyAccessed=_ref.recentlyAccessed;var isCloudEnabled=_chrome2.default.getInjected("isCloudEnabled",false);var apmUiEnabled=_chrome2.default.getInjected("apmUiEnabled",true);var mlEnabled=_chrome2.default.getInjected("mlEnabled",false);var savedObjectsClient=_chrome2.default.getSavedObjectsClient();var isK7Design=_chrome2.default.getUiSettingsClient().get("k7design",false);var renderTutorialDirectory=function renderTutorialDirectory(props){return _react2.default.createElement(_tutorial_directory.TutorialDirectory,{addBasePath:_chrome2.default.addBasePath,openTab:props.match.params.tab,isCloudEnabled:isCloudEnabled,isK7Design:isK7Design})};var renderTutorial=function renderTutorial(props){return _react2.default.createElement(_tutorial.Tutorial,{addBasePath:_chrome2.default.addBasePath,isCloudEnabled:isCloudEnabled,getTutorial:_load_tutorials.getTutorial,replaceTemplateStrings:_replace_template_strings.replaceTemplateStrings,tutorialId:props.match.params.id,bulkCreate:savedObjectsClient.bulkCreate,isK7Design:isK7Design})};return _react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Route,{path:"/home/tutorial/:id",render:renderTutorial}),_react2.default.createElement(_reactRouterDom.Route,{path:"/home/tutorial_directory/:tab?",render:renderTutorialDirectory}),_react2.default.createElement(_reactRouterDom.Route,{path:"/home/feature_directory"},_react2.default.createElement(_feature_directory.FeatureDirectory,{addBasePath:_chrome2.default.addBasePath,directories:directories})),_react2.default.createElement(_reactRouterDom.Route,{path:"/home"},_react2.default.createElement(_home.Home,{addBasePath:_chrome2.default.addBasePath,directories:directories,apmUiEnabled:apmUiEnabled,mlEnabled:mlEnabled,recentlyAccessed:recentlyAccessed,find:savedObjectsClient.find,localStorage:localStorage,urlBasePath:_chrome2.default.getBasePath()})))))}HomeApp.propTypes={directories:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,icon:_propTypes2.default.string.isRequired,path:_propTypes2.default.string.isRequired,showOnHomePage:_propTypes2.default.bool.isRequired,category:_propTypes2.default.string.isRequired})),recentlyAccessed:_propTypes2.default.arrayOf(_recently_accessed.recentlyAccessedShape).isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Home=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _synopsis=__webpack_require__(803);var _add_data=__webpack_require__(4775);var _recently_accessed=__webpack_require__(1353);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _welcome=__webpack_require__(4776);var _feature_catalogue=__webpack_require__(39);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var KEY_ENABLE_WELCOME="home:welcome:show";var Home=exports.Home=function(_Component){_inherits(Home,_Component);function Home(props){var _this2=this;_classCallCheck(this,Home);var _this=_possibleConstructorReturn(this,(Home.__proto__||Object.getPrototypeOf(Home)).call(this,props));_this.fetchIsNewKibanaInstance=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var resp;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setTimeout(function(){if(_this.state.isLoading){_this.setState({isWelcomeEnabled:false})}},500);_context.next=4;return _this.props.find({type:"index-pattern",fields:["title"],search:"*",search_fields:["title"],perPage:1});case 4:resp=_context.sent;_this.endLoading({isNewKibanaInstance:resp.total===0});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);_this.endLoading();case 11:case"end":return _context.stop()}}},_callee,_this2,[[0,8]])}));_this.endLoading=function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(_this._isMounted){_this.setState(_extends({},state,{isLoading:false}))}};_this.skipWelcome=function(){_this.props.localStorage.setItem(KEY_ENABLE_WELCOME,"false");_this._isMounted&&_this.setState({isWelcomeEnabled:false})};_this.renderDirectories=function(category){var _this$props=_this.props,addBasePath=_this$props.addBasePath,directories=_this$props.directories;return directories.filter(function(directory){return directory.showOnHomePage&&directory.category===category}).map(function(directory){return _react2.default.createElement(_eui.EuiFlexItem,{style:{minHeight:64},key:directory.id},_react2.default.createElement(_synopsis.Synopsis,{description:directory.description,iconType:directory.icon,title:directory.title,url:addBasePath(directory.path)}))})};var isWelcomeEnabled=props.localStorage.getItem(KEY_ENABLE_WELCOME)!=="false";_this.state={isLoading:isWelcomeEnabled,isNewKibanaInstance:false,isWelcomeEnabled:isWelcomeEnabled};return _this}_createClass(Home,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this.fetchIsNewKibanaInstance()}},{key:"renderNormal",value:function renderNormal(){var _props=this.props,apmUiEnabled=_props.apmUiEnabled,recentlyAccessed=_props.recentlyAccessed,mlEnabled=_props.mlEnabled;var recentlyAccessedPanel=void 0;if(recentlyAccessed.length>0){recentlyAccessedPanel=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_recently_accessed.RecentlyAccessed,{recentlyAccessed:recentlyAccessed}),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}))}return _react2.default.createElement(_eui.EuiPage,{className:"homPage"},_react2.default.createElement(_eui.EuiPageBody,null,recentlyAccessedPanel,_react2.default.createElement(_add_data.AddData,{apmUiEnabled:apmUiEnabled,mlEnabled:mlEnabled,isNewKibanaInstance:this.state.isNewKibanaInstance}),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.directories.visualize.nameTitle",defaultMessage:"Visualize and Explore Data"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2},this.renderDirectories(_feature_catalogue.FeatureCatalogueCategory.DATA)))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.directories.manage.nameTitle",defaultMessage:"Manage and Administer the Elastic Stack"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2},this.renderDirectories(_feature_catalogue.FeatureCatalogueCategory.ADMIN))))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.directories.notFound.description",defaultMessage:"Didn’t find what you were looking for?"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiButton,{href:"#/home/feature_directory"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.directories.notFound.viewFullButtonLabel",defaultMessage:"View full directory of Kibana plugins"}))))))}},{key:"renderLoading",value:function renderLoading(){return""}},{key:"renderWelcome",value:function renderWelcome(){return _react2.default.createElement(_welcome.Welcome,{onSkip:this.skipWelcome,urlBasePath:this.props.urlBasePath})}},{key:"render",value:function render(){var _state=this.state,isLoading=_state.isLoading,isWelcomeEnabled=_state.isWelcomeEnabled,isNewKibanaInstance=_state.isNewKibanaInstance;if(isWelcomeEnabled){if(isLoading){return this.renderLoading()}if(isNewKibanaInstance){return this.renderWelcome()}}return this.renderNormal()}}]);return Home}(_react.Component);Home.propTypes={addBasePath:_propTypes2.default.func.isRequired,directories:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,icon:_propTypes2.default.string.isRequired,path:_propTypes2.default.string.isRequired,showOnHomePage:_propTypes2.default.bool.isRequired,category:_propTypes2.default.string.isRequired})),apmUiEnabled:_propTypes2.default.bool.isRequired,recentlyAccessed:_propTypes2.default.arrayOf(_recently_accessed.recentlyAccessedShape).isRequired,find:_propTypes2.default.func.isRequired,localStorage:_propTypes2.default.object.isRequired,urlBasePath:_propTypes2.default.string.isRequired,mlEnabled:_propTypes2.default.bool.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddData=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _classnames=__webpack_require__(192);var _classnames2=_interopRequireDefault(_classnames);var _react3=__webpack_require__(3);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var basePath=_chrome2.default.getBasePath();var AddDataUi=function AddDataUi(_ref){var apmUiEnabled=_ref.apmUiEnabled,isNewKibanaInstance=_ref.isNewKibanaInstance,intl=_ref.intl,mlEnabled=_ref.mlEnabled;var renderCards=function renderCards(){var apmTitle=intl.formatMessage({id:"kbn.home.addData.apm.nameTitle",defaultMessage:"APM"});var apmDescription=intl.formatMessage({id:"kbn.home.addData.apm.nameDescription",defaultMessage:"APM automatically collects in-depth performance metrics and errors from inside your applications."});var loggingTitle=intl.formatMessage({id:"kbn.home.addData.logging.nameTitle",defaultMessage:"Logging"});var loggingDescription=intl.formatMessage({id:"kbn.home.addData.logging.nameDescription",defaultMessage:"Ingest logs from popular data sources and easily visualize in preconfigured dashboards."});var metricsTitle=intl.formatMessage({id:"kbn.home.addData.metrics.nameTitle",defaultMessage:"Metrics"});var metricsDescription=intl.formatMessage({id:"kbn.home.addData.metrics.nameDescription",defaultMessage:"Collect metrics from the operating system and services running on your servers."});var securityTitle=intl.formatMessage({id:"kbn.home.addData.security.nameTitle",defaultMessage:"Security analytics"});var securityDescription=intl.formatMessage({id:"kbn.home.addData.security.nameDescription",defaultMessage:"Centralize security events for interactive investigation in ready-to-go visualizations."});var getApmCard=function getApmCard(){return _react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{className:"homAddData__card",icon:_react2.default.createElement(_eui.EuiIcon,{className:"homAddData__icon",type:"apmApp"}),title:apmTitle,description:apmDescription,footer:_react2.default.createElement(_eui.EuiButton,{className:"homAddData__button",href:"#/home/tutorial/apm"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.apm.addApmButtonLabel",defaultMessage:"Add APM"}))}))};return _react2.default.createElement(_eui.EuiFlexGroup,{wrap:true,gutterSize:"none"},apmUiEnabled!==false&&getApmCard(),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{className:"homAddData__card",icon:_react2.default.createElement(_eui.EuiIcon,{className:"homAddData__icon",type:"loggingApp"}),title:loggingTitle,description:loggingDescription,footer:_react2.default.createElement(_eui.EuiButton,{className:"homAddData__button",href:"#/home/tutorial_directory/logging"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.logging.addLogDataButtonLabel",defaultMessage:"Add log data"}))})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{className:"homAddData__card",icon:_react2.default.createElement(_eui.EuiIcon,{className:"homAddData__icon",type:"monitoringApp"}),title:metricsTitle,description:metricsDescription,footer:_react2.default.createElement(_eui.EuiButton,{className:"homAddData__button",href:"#/home/tutorial_directory/metrics"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.metrics.addMetricsDataButtonLabel",defaultMessage:"Add metric data"}))})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{className:"homAddData__card",icon:_react2.default.createElement(_eui.EuiIcon,{className:"homAddData__icon",type:"securityApp"}),title:securityTitle,description:securityDescription,footer:_react2.default.createElement(_eui.EuiButton,{className:"homAddData__button",href:"#/home/tutorial_directory/security"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.security.addSecurityEventsButtonLabel",defaultMessage:"Add security events"}))})))};var footerItemClasses=(0,_classnames2.default)("homAddData__footerItem",{"homAddData__footerItem--highlight":isNewKibanaInstance});return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.addDataToKibanaTitle",defaultMessage:"Add Data to Kibana"}))),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.addDataToKibanaDescription",defaultMessage:"Use these solutions to quickly turn your data into pre-built dashboards and monitoring systems."}))))),_react2.default.createElement(_eui.EuiSpacer,null),renderCards(),_react2.default.createElement(_eui.EuiHorizontalRule,null),_react2.default.createElement(_eui.EuiFlexGrid,{columns:mlEnabled!==false?3:2},_react2.default.createElement(_eui.EuiFlexItem,{className:footerItemClasses},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",{style:{height:38}},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.sampleDataTitle",defaultMessage:"Add sample data"})),_react2.default.createElement(_eui.EuiLink,{style:{display:"block",textAlign:"center"},href:"#/home/tutorial_directory/sampleData"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.sampleDataLink",defaultMessage:"Load a data set and a Kibana dashboard"})))),mlEnabled!==false?_react2.default.createElement(_eui.EuiFlexItem,{className:footerItemClasses},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",{style:{height:38}},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.uploadFileTitle",defaultMessage:"Upload data from log file"})),_react2.default.createElement(_eui.EuiLink,{style:{display:"block",textAlign:"center"},href:basePath+"/app/ml#/filedatavisualizer"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.uploadFileLink",defaultMessage:"Import a CSV, NDJSON, or log file"})))):null,_react2.default.createElement(_eui.EuiFlexItem,{className:footerItemClasses},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",{style:{height:38}},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.yourDataTitle",defaultMessage:"Use Elasticsearch data"})),_react2.default.createElement(_eui.EuiLink,{style:{display:"block",textAlign:"center"},href:"#/management/kibana/index"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.addData.yourDataLink",defaultMessage:"Connect to your Elasticsearch index"}))))))};AddDataUi.propTypes={apmUiEnabled:_propTypes2.default.bool.isRequired,mlEnabled:_propTypes2.default.bool.isRequired,isNewKibanaInstance:_propTypes2.default.bool.isRequired};var AddData=exports.AddData=(0,_react3.injectI18n)(AddDataUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Welcome=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Welcome=exports.Welcome=function(_React$Component){_inherits(Welcome,_React$Component);function Welcome(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Welcome);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Welcome.__proto__||Object.getPrototypeOf(Welcome)).call.apply(_ref,[this].concat(args))),_this),_this.hideOnEsc=function(e){if(e.key==="Escape"){_this.props.onSkip()}},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(Welcome,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("keydown",this.hideOnEsc)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("keydown",this.hideOnEsc)}},{key:"render",value:function render(){var _props=this.props,urlBasePath=_props.urlBasePath,onSkip=_props.onSkip;return _react2.default.createElement("div",{className:"homWelcome"},_react2.default.createElement("header",{className:"homWelcome__header"},_react2.default.createElement("div",{className:"homWelcome__content eui-textCenter"},_react2.default.createElement(_eui.EuiSpacer,{size:"xxl"}),_react2.default.createElement("span",{className:"homWelcome__logo"},_react2.default.createElement(_eui.EuiIcon,{type:"logoKibana",size:"xxl"})),_react2.default.createElement(_eui.EuiTitle,{size:"l",className:"homWelcome__title"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.welcomeTitle",defaultMessage:"Welcome to Kibana"}))),_react2.default.createElement(_eui.EuiText,{size:"s",color:"subdued",className:"homWelcome__subtitle"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.welcomeDescription",defaultMessage:"Your window into the Elastic Stack"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}))),_react2.default.createElement("div",{className:"homWelcome__content homWelcome-body"},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"l"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{image:urlBasePath+"/plugins/kibana/assets/illo_dashboard.png",textAlign:"left",title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.letsStartTitle",defaultMessage:"Let's get started"}),description:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.letsStartDescription",defaultMessage:"We noticed that you don't have any data in your cluster.\nYou can try our sample data and dashboards or jump in with your own data."}),footer:_react2.default.createElement("footer",null,_react2.default.createElement(_eui.EuiButton,{fill:true,className:"homWelcome__footerAction",href:"#/home/tutorial_directory/sampleData"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.tryButtonLabel",defaultMessage:"Try our sample data"})),_react2.default.createElement(_eui.EuiButtonEmpty,{className:"homWelcome__footerAction",onClick:onSkip,"data-test-subj":"skipWelcomeScreen"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.exploreButtonLabel",defaultMessage:"Explore on my own"})))})))))}}]);return Welcome}(_react2.default.Component);Welcome.propTypes={urlBasePath:_propTypes2.default.string.isRequired,onSkip:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FeatureDirectory=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _synopsis=__webpack_require__(803);var _eui=__webpack_require__(2);var _feature_catalogue=__webpack_require__(39);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ALL_TAB_ID="all";var OTHERS_TAB_ID="others";var isOtherCategory=function isOtherCategory(directory){return directory.category!==_feature_catalogue.FeatureCatalogueCategory.DATA&&directory.category!==_feature_catalogue.FeatureCatalogueCategory.ADMIN};var FeatureDirectory=exports.FeatureDirectory=function(_React$Component){_inherits(FeatureDirectory,_React$Component);function FeatureDirectory(props){_classCallCheck(this,FeatureDirectory);var _this=_possibleConstructorReturn(this,(FeatureDirectory.__proto__||Object.getPrototypeOf(FeatureDirectory)).call(this,props));_this.onSelectedTabChanged=function(id){_this.setState({selectedTabId:id})};_this.renderTabs=function(){return _this.tabs.map(function(tab,index){return _react2.default.createElement(_eui.EuiTab,{onClick:function onClick(){return _this.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this.state.selectedTabId,key:index},tab.name)})};_this.renderDirectories=function(){return _this.props.directories.filter(function(directory){if(_this.state.selectedTabId===ALL_TAB_ID){return true}if(_this.state.selectedTabId===OTHERS_TAB_ID){return isOtherCategory(directory)}return _this.state.selectedTabId===directory.category}).map(function(directory){return _react2.default.createElement(_eui.EuiFlexItem,{key:directory.id},_react2.default.createElement(_synopsis.Synopsis,{description:directory.description,iconType:directory.icon,title:directory.title,url:_this.props.addBasePath(directory.path),wrapInPanel:true}))})};_this.tabs=[{id:ALL_TAB_ID,name:_i18n.i18n.translate("kbn.home.directory.tabs.allTitle",{defaultMessage:"All"})},{id:_feature_catalogue.FeatureCatalogueCategory.DATA,name:_i18n.i18n.translate("kbn.home.directory.tabs.dataTitle",{defaultMessage:"Data Exploration & Visualization"})},{id:_feature_catalogue.FeatureCatalogueCategory.ADMIN,name:_i18n.i18n.translate("kbn.home.directory.tabs.administrativeTitle",{defaultMessage:"Administrative"})}];if(props.directories.some(isOtherCategory)){_this.tabs.push({id:OTHERS_TAB_ID,name:_i18n.i18n.translate("kbn.home.directory.tabs.otherTitle",{defaultMessage:"Other"})})}_this.state={selectedTabId:ALL_TAB_ID};return _this}_createClass(FeatureDirectory,[{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiPage,{className:"homPage"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.directory.directoryTitle",defaultMessage:"Directory"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiTabs,{className:"homeDirectoryTabs"},this.renderTabs()),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGrid,{columns:4},this.renderDirectories())))}}]);return FeatureDirectory}(_react2.default.Component);FeatureDirectory.propTypes={addBasePath:_propTypes2.default.func.isRequired,directories:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,icon:_propTypes2.default.string.isRequired,path:_propTypes2.default.string.isRequired,showOnHomePage:_propTypes2.default.bool.isRequired,category:_propTypes2.default.string.isRequired}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TutorialDirectory=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _synopsis=__webpack_require__(803);var _sample_data_set_cards=__webpack_require__(4779);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _eui=__webpack_require__(2);var _load_tutorials=__webpack_require__(1354);var _react3=__webpack_require__(3);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ALL_TAB_ID="all";var SAMPLE_DATA_TAB_ID="sampleData";var homeTitle=_i18n.i18n.translate("kbn.home.breadcrumbs.homeTitle",{defaultMessage:"Home"});var addDataTitle=_i18n.i18n.translate("kbn.home.breadcrumbs.addDataTitle",{defaultMessage:"Add data"});var TutorialDirectoryUi=function(_React$Component){_inherits(TutorialDirectoryUi,_React$Component);function TutorialDirectoryUi(props){_classCallCheck(this,TutorialDirectoryUi);var _this=_possibleConstructorReturn(this,(TutorialDirectoryUi.__proto__||Object.getPrototypeOf(TutorialDirectoryUi)).call(this,props));_this.onSelectedTabChanged=function(id){_this.setState({selectedTabId:id})};_this.renderTabs=function(){return _this.tabs.map(function(tab,index){return _react2.default.createElement(_eui.EuiTab,{onClick:function onClick(){return _this.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this.state.selectedTabId,key:index},tab.name)})};_this.renderTabContent=function(){if(_this.state.selectedTabId===SAMPLE_DATA_TAB_ID){return _react2.default.createElement(_sample_data_set_cards.SampleDataSetCards,{addBasePath:_this.props.addBasePath})}return _react2.default.createElement(_eui.EuiFlexGrid,{columns:4},_this.state.tutorialCards.filter(function(tutorial){return _this.state.selectedTabId===ALL_TAB_ID||_this.state.selectedTabId===tutorial.category}).map(function(tutorial){return _react2.default.createElement(_eui.EuiFlexItem,{key:tutorial.name},_react2.default.createElement(_synopsis.Synopsis,{iconType:tutorial.icon,description:tutorial.description,title:tutorial.name,wrapInPanel:true,url:tutorial.url,onClick:tutorial.onClick,isBeta:tutorial.isBeta}))}))};_this.tabs=[{id:ALL_TAB_ID,name:_this.props.intl.formatMessage({id:"kbn.home.tutorial.tabs.allTitle",defaultMessage:"All"})},{id:"logging",name:_this.props.intl.formatMessage({id:"kbn.home.tutorial.tabs.loggingTitle",defaultMessage:"Logging"})},{id:"metrics",name:_this.props.intl.formatMessage({id:"kbn.home.tutorial.tabs.metricsTitle",defaultMessage:"Metrics"})},{id:"security",name:_this.props.intl.formatMessage({id:"kbn.home.tutorial.tabs.securityAnalyticsTitle",defaultMessage:"Security analytics"})},{id:SAMPLE_DATA_TAB_ID,name:_this.props.intl.formatMessage({id:"kbn.home.tutorial.tabs.sampleDataTitle",defaultMessage:"Sample data"})}];var openTab=ALL_TAB_ID;if(props.openTab&&_this.tabs.some(function(tab){return tab.id===props.openTab})){openTab=props.openTab}_this.state={selectedTabId:openTab,tutorialCards:[]};return _this}_createClass(TutorialDirectoryUi,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this2=this;var tutorialConfigs,tutorialCards;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this._isMounted=true;if(this.props.isK7Design){_chrome2.default.breadcrumbs.set([{text:homeTitle,href:"#/home"},{text:addDataTitle}])}_context.next=4;return(0,_load_tutorials.getTutorials)();case 4:tutorialConfigs=_context.sent;if(this._isMounted){_context.next=7;break}return _context.abrupt("return");case 7:tutorialCards=tutorialConfigs.map(function(tutorialConfig){return{category:tutorialConfig.category,icon:tutorialConfig.euiIconType,name:tutorialConfig.name,description:tutorialConfig.shortDescription,url:_this2.props.addBasePath("#/home/tutorial/"+tutorialConfig.id),elasticCloud:tutorialConfig.elasticCloud}});tutorialCards.push({name:this.props.intl.formatMessage({id:"kbn.home.tutorial.card.sampleDataTitle",defaultMessage:"Sample Data"}),description:this.props.intl.formatMessage({id:"kbn.home.tutorial.card.sampleDataDescription",defaultMessage:'Get started exploring Kibana with these "one click" data sets.'}),url:this.props.addBasePath("#/home/tutorial_directory/sampleData"),elasticCloud:true,onClick:this.onSelectedTabChanged.bind(null,SAMPLE_DATA_TAB_ID)});if(this.props.isCloudEnabled){tutorialCards=tutorialCards.filter(function(tutorial){return _lodash2.default.has(tutorial,"elasticCloud")})}tutorialCards.sort(function(a,b){return a.name.toLowerCase().localeCompare(b.name.toLowerCase())});this.setState({tutorialCards:tutorialCards});case 12:case"end":return _context.stop()}}},_callee,this)}));function componentDidMount(){return _ref.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){var breadcrumbs=void 0;if(!this.props.isK7Design){breadcrumbs=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiLink,{href:"#/home"},homeTitle)," / ",addDataTitle),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}))}return _react2.default.createElement(_eui.EuiPage,{className:"homPage"},_react2.default.createElement(_eui.EuiPageBody,null,breadcrumbs,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.tutorial.addDataToKibanaTitle",defaultMessage:"Add Data to Kibana"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiTabs,null,this.renderTabs()),_react2.default.createElement(_eui.EuiSpacer,null),this.renderTabContent()))}}]);return TutorialDirectoryUi}(_react2.default.Component);TutorialDirectoryUi.propTypes={addBasePath:_propTypes2.default.func.isRequired,openTab:_propTypes2.default.string,isCloudEnabled:_propTypes2.default.bool.isRequired,isK7Design:_propTypes2.default.bool.isRequired};var TutorialDirectory=exports.TutorialDirectory=(0,_react3.injectI18n)(TutorialDirectoryUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SampleDataSetCards=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _sample_data_set_card=__webpack_require__(4780);var _notify=__webpack_require__(10);var _sample_data_client=__webpack_require__(4781);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SampleDataSetCards=exports.SampleDataSetCards=function(_React$Component){_inherits(SampleDataSetCards,_React$Component);function SampleDataSetCards(props){var _this2=this;_classCallCheck(this,SampleDataSetCards);var _this=_possibleConstructorReturn(this,(SampleDataSetCards.__proto__||Object.getPrototypeOf(SampleDataSetCards)).call(this,props));_this.loadSampleDataSets=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var sampleDataSets;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:sampleDataSets=void 0;_context.prev=1;_context.next=4;return(0,_sample_data_client.listSampleDataSets)();case 4:sampleDataSets=_context.sent;_context.next=11;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.home.sampleDataSet.unableToLoadListErrorMessage",{defaultMessage:"Unable to load sample data sets list"}),text:""+_context.t0.message});sampleDataSets=[];case 11:if(_this._isMounted){_context.next=13;break}return _context.abrupt("return");case 13:_this.setState({sampleDataSets:sampleDataSets.sort(function(a,b){return a.name.toLowerCase().localeCompare(b.name.toLowerCase())}),processingStatus:{}});case 14:case"end":return _context.stop()}}},_callee,_this2,[[1,7]])}));_this.install=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(id){var targetSampleDataSet;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:targetSampleDataSet=_this.state.sampleDataSets.find(function(sampleDataSet){return sampleDataSet.id===id});_this.setState(function(prevState){return{processingStatus:_extends({},prevState.processingStatus,_defineProperty({},id,true))}});_context2.prev=2;_context2.next=5;return(0,_sample_data_client.installSampleDataSet)(id,targetSampleDataSet.defaultIndex);case 5:_context2.next=12;break;case 7:_context2.prev=7;_context2.t0=_context2["catch"](2);if(_this._isMounted){_this.setState(function(prevState){return{processingStatus:_extends({},prevState.processingStatus,_defineProperty({},id,false))}})}_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.home.sampleDataSet.unableToInstallErrorMessage",{defaultMessage:"Unable to install sample data set: {name}",values:{name:targetSampleDataSet.name}}),text:""+_context2.t0.message});return _context2.abrupt("return");case 12:if(_this._isMounted){_this.setState(function(prevState){return{processingStatus:_extends({},prevState.processingStatus,_defineProperty({},id,false)),sampleDataSets:prevState.sampleDataSets.map(function(sampleDataSet){if(sampleDataSet.id===id){sampleDataSet.status=_sample_data_set_card.INSTALLED_STATUS}return sampleDataSet})}})}_notify.toastNotifications.addSuccess(_defineProperty({title:_i18n.i18n.translate("kbn.home.sampleDataSet.installedLabel",{defaultMessage:"{name} installed",values:{name:targetSampleDataSet.name}})},"data-test-subj","sampleDataSetInstallToast"));case 14:case"end":return _context2.stop()}}},_callee2,_this2,[[2,7]])}));return function(_x){return _ref2.apply(this,arguments)}}();_this.uninstall=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(id){var targetSampleDataSet;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:targetSampleDataSet=_this.state.sampleDataSets.find(function(sampleDataSet){return sampleDataSet.id===id});_this.setState(function(prevState){return{processingStatus:_extends({},prevState.processingStatus,_defineProperty({},id,true))}});_context3.prev=2;_context3.next=5;return(0,_sample_data_client.uninstallSampleDataSet)(id,targetSampleDataSet.defaultIndex);case 5:_context3.next=12;break;case 7:_context3.prev=7;_context3.t0=_context3["catch"](2);if(_this._isMounted){_this.setState(function(prevState){return{processingStatus:_extends({},prevState.processingStatus,_defineProperty({},id,false))}})}_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.home.sampleDataSet.unableToUninstallErrorMessage",{defaultMessage:"Unable to uninstall sample data set: {name}",values:{name:targetSampleDataSet.name}}),text:""+_context3.t0.message});return _context3.abrupt("return");case 12:if(_this._isMounted){_this.setState(function(prevState){return{processingStatus:_extends({},prevState.processingStatus,_defineProperty({},id,false)),sampleDataSets:prevState.sampleDataSets.map(function(sampleDataSet){if(sampleDataSet.id===id){sampleDataSet.status=_sample_data_set_card.UNINSTALLED_STATUS}return sampleDataSet})}})}_notify.toastNotifications.addSuccess(_defineProperty({title:_i18n.i18n.translate("kbn.home.sampleDataSet.uninstalledLabel",{defaultMessage:"{name} uninstalled",values:{name:targetSampleDataSet.name}})},"data-test-subj","sampleDataSetUninstallToast"));case 14:case"end":return _context3.stop()}}},_callee3,_this2,[[2,7]])}));return function(_x2){return _ref3.apply(this,arguments)}}();_this.state={sampleDataSets:[],processingStatus:{}};return _this}_createClass(SampleDataSetCards,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:this._isMounted=true;this.loadSampleDataSets();case 2:case"end":return _context4.stop()}}},_callee4,this)}));function componentDidMount(){return _ref4.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){var _this3=this;return _react2.default.createElement(_eui.EuiFlexGrid,{columns:4},this.state.sampleDataSets.map(function(sampleDataSet){return _react2.default.createElement(_eui.EuiFlexItem,{key:sampleDataSet.id},_react2.default.createElement(_sample_data_set_card.SampleDataSetCard,{id:sampleDataSet.id,description:sampleDataSet.description,name:sampleDataSet.name,launchUrl:_this3.props.addBasePath("/app/kibana#/dashboard/"+sampleDataSet.overviewDashboard),status:sampleDataSet.status,isProcessing:_lodash2.default.get(_this3.state.processingStatus,sampleDataSet.id,false),statusMsg:sampleDataSet.statusMsg,previewUrl:_this3.props.addBasePath(sampleDataSet.previewImagePath),onInstall:_this3.install,onUninstall:_this3.uninstall}))}))}}]);return SampleDataSetCards}(_react2.default.Component);SampleDataSetCards.propTypes={addBasePath:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SampleDataSetCard=exports.UNINSTALLED_STATUS=exports.INSTALLED_STATUS=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var INSTALLED_STATUS=exports.INSTALLED_STATUS="installed";var UNINSTALLED_STATUS=exports.UNINSTALLED_STATUS="not_installed";var SampleDataSetCard=exports.SampleDataSetCard=function(_React$Component){_inherits(SampleDataSetCard,_React$Component);function SampleDataSetCard(){var _ref;var _temp,_this,_ret;_classCallCheck(this,SampleDataSetCard);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=SampleDataSetCard.__proto__||Object.getPrototypeOf(SampleDataSetCard)).call.apply(_ref,[this].concat(args))),_this),_this.isInstalled=function(){if(_this.props.status===INSTALLED_STATUS){return true}return false},_this.install=function(){_this.props.onInstall(_this.props.id)},_this.uninstall=function(){_this.props.onUninstall(_this.props.id)},_this.renderBtn=function(){switch(_this.props.status){case INSTALLED_STATUS:return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{isLoading:_this.props.isProcessing,onClick:_this.uninstall,color:"danger","data-test-subj":"removeSampleDataSet"+_this.props.id},_this.props.isProcessing?_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.sampleDataSetCard.removingButtonLabel",defaultMessage:"Removing"}):_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.sampleDataSetCard.removeButtonLabel",defaultMessage:"Remove"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{href:_this.props.launchUrl,"data-test-subj":"launchSampleDataSet"+_this.props.id},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.sampleDataSetCard.viewDataButtonLabel",defaultMessage:"View data"}))));case UNINSTALLED_STATUS:return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{isLoading:_this.props.isProcessing,onClick:_this.install,"data-test-subj":"addSampleDataSet"+_this.props.id},_this.props.isProcessing?_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.sampleDataSetCard.addingButtonLabel",defaultMessage:"Adding"}):_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.sampleDataSetCard.addButtonLabel",defaultMessage:"Add"}))));default:{return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiToolTip,{position:"top",content:_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.sampleDataSetCard.default.unableToVerifyErrorMessage",defaultMessage:"Unable to verify dataset status, error: {statusMsg}",values:{statusMsg:_this.props.statusMsg}}))},_react2.default.createElement(_eui.EuiButton,{isDisabled:true,"data-test-subj":"addSampleDataSet"+_this.props.id},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.sampleDataSetCard.default.addButtonLabel",defaultMessage:"Add"})))))}}},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(SampleDataSetCard,[{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiCard,{className:"homSampleDataSetCard",image:this.props.previewUrl,title:this.props.name,description:this.props.description,betaBadgeLabel:this.isInstalled()?"INSTALLED":null,footer:this.renderBtn(),"data-test-subj":"sampleDataSetCard"+this.props.id})}}]);return SampleDataSetCard}(_react2.default.Component);SampleDataSetCard.propTypes={id:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,name:_propTypes2.default.string.isRequired,launchUrl:_propTypes2.default.string.isRequired,status:_propTypes2.default.oneOf([INSTALLED_STATUS,UNINSTALLED_STATUS,"unknown"]).isRequired,isProcessing:_propTypes2.default.bool.isRequired,statusMsg:_propTypes2.default.string,previewUrl:_propTypes2.default.string.isRequired,onInstall:_propTypes2.default.func.isRequired,onUninstall:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uninstallSampleDataSet=exports.installSampleDataSet=exports.listSampleDataSets=undefined;var listSampleDataSets=exports.listSampleDataSets=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_kfetch.kfetch)({method:"GET",pathname:sampleDataUrl});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}},_callee,this)}));return function listSampleDataSets(){return _ref.apply(this,arguments)}}();var installSampleDataSet=exports.installSampleDataSet=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(id,sampleDataDefaultIndex){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_kfetch.kfetch)({method:"POST",pathname:sampleDataUrl+"/"+id});case 2:if(_chrome2.default.getUiSettingsClient().isDefault("defaultIndex")){_chrome2.default.getUiSettingsClient().set("defaultIndex",sampleDataDefaultIndex)}clearIndexPatternsCache();case 4:case"end":return _context2.stop()}}},_callee2,this)}));return function installSampleDataSet(_x,_x2){return _ref2.apply(this,arguments)}}();var uninstallSampleDataSet=exports.uninstallSampleDataSet=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(id,sampleDataDefaultIndex){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return(0,_kfetch.kfetch)({method:"DELETE",pathname:sampleDataUrl+"/"+id});case 2:if(!_chrome2.default.getUiSettingsClient().isDefault("defaultIndex")&&_chrome2.default.getUiSettingsClient().get("defaultIndex")===sampleDataDefaultIndex){_chrome2.default.getUiSettingsClient().set("defaultIndex",null)}clearIndexPatternsCache();case 4:case"end":return _context3.stop()}}},_callee3,this)}));return function uninstallSampleDataSet(_x3,_x4){return _ref3.apply(this,arguments)}}();var _kfetch=__webpack_require__(216);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _kibana_services=__webpack_require__(4782);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var sampleDataUrl="/api/sample_data";function clearIndexPatternsCache(){_kibana_services.indexPatternService.getIds.clearCache()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexPatternService=undefined;var _modules=__webpack_require__(4);var indexPatternService=exports.indexPatternService=void 0;_modules.uiModules.get("kibana").run(function($injector){exports.indexPatternService=indexPatternService=$injector.get("indexPatterns")})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Tutorial=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _footer=__webpack_require__(4784);var _introduction=__webpack_require__(4785);var _instruction_set=__webpack_require__(4786);var _saved_objects_installer=__webpack_require__(4792);var _eui=__webpack_require__(2);var _status_check_states=__webpack_require__(1355);var StatusCheckStates=_interopRequireWildcard(_status_check_states);var _react3=__webpack_require__(3);var _i18n=__webpack_require__(9);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var INSTRUCTIONS_TYPE={ELASTIC_CLOUD:"elasticCloud",ON_PREM:"onPrem",ON_PREM_ELASTIC_CLOUD:"onPremElasticCloud"};var homeTitle=_i18n.i18n.translate("kbn.home.breadcrumbs.homeTitle",{defaultMessage:"Home"});var addDataTitle=_i18n.i18n.translate("kbn.home.breadcrumbs.addDataTitle",{defaultMessage:"Add data"});var TutorialUi=function(_React$Component){_inherits(TutorialUi,_React$Component);function TutorialUi(props){var _this2=this;_classCallCheck(this,TutorialUi);var _this=_possibleConstructorReturn(this,(TutorialUi.__proto__||Object.getPrototypeOf(TutorialUi)).call(this,props));_this.getInstructions=function(){if(!_this.state.tutorial){return{instructionSets:[]}}switch(_this.state.visibleInstructions){case INSTRUCTIONS_TYPE.ELASTIC_CLOUD:return _this.state.tutorial.elasticCloud;case INSTRUCTIONS_TYPE.ON_PREM:return _this.state.tutorial.onPrem;case INSTRUCTIONS_TYPE.ON_PREM_ELASTIC_CLOUD:return _this.state.tutorial.onPremElasticCloud;default:throw new Error(_this.props.intl.formatMessage({id:"kbn.home.tutorial.unhandledInstructionTypeErrorDescription",defaultMessage:"Unhandled instruction type {visibleInstructions}"},{visibleInstructions:_this.state.visibleInstructions}))}};_this.getInstructionSets=function(){return _this.getInstructions().instructionSets};_this.initInstructionsState=function(){var instructions=_this.getInstructions();var paramValues={};if(instructions.params){instructions.params.forEach(function(param){paramValues[param.id]=param.defaultValue})}var statusCheckStates=new Array(instructions.instructionSets.length).fill(StatusCheckStates.NOT_CHECKED);_this.setState({paramValues:paramValues,statusCheckStates:statusCheckStates})};_this.setVisibleInstructions=function(instructionsType){_this.setState({visibleInstructions:instructionsType},_this.initInstructionsState)};_this.setParameter=function(paramId,newValue){_this.setState(function(previousState){var paramValues=_lodash2.default.cloneDeep(previousState.paramValues);paramValues[paramId]=newValue;return{paramValues:paramValues}})};_this.checkInstructionSetStatus=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(instructionSetIndex){var instructionSet,esHitsCheckConfig,statusCheckState;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:instructionSet=_this.getInstructionSets()[instructionSetIndex];esHitsCheckConfig=_lodash2.default.get(instructionSet,"statusCheck.esHitsCheck");if(!esHitsCheckConfig){_context.next=7;break}_context.next=5;return _this.fetchEsHitsStatus(esHitsCheckConfig);case 5:statusCheckState=_context.sent;_this.setState(function(prevState){return{statusCheckStates:_extends({},prevState.statusCheckStates,_defineProperty({},instructionSetIndex,statusCheckState))}});case 7:case"end":return _context.stop()}}},_callee,_this2)}));return function(_x){return _ref.apply(this,arguments)}}();_this.fetchEsHitsStatus=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(esHitsCheckConfig){var searchHeader,searchBody,response,results,numHits;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:searchHeader=JSON.stringify({index:esHitsCheckConfig.index});searchBody=JSON.stringify({query:esHitsCheckConfig.query,size:1});_context2.next=4;return fetch(_this.props.addBasePath("/elasticsearch/_msearch"),{method:"post",body:searchHeader+"\n"+searchBody+"\n",headers:{accept:"application/json","content-type":"application/x-ndjson","kbn-xsrf":"kibana"},credentials:"same-origin"});case 4:response=_context2.sent;if(!(response.status>300)){_context2.next=7;break}return _context2.abrupt("return",StatusCheckStates.ERROR);case 7:_context2.next=9;return response.json();case 9:results=_context2.sent;numHits=_lodash2.default.get(results,"responses.[0].hits.hits.length",0);return _context2.abrupt("return",numHits===0?StatusCheckStates.NO_DATA:StatusCheckStates.HAS_DATA);case 12:case"end":return _context2.stop()}}},_callee2,_this2)}));return function(_x2){return _ref2.apply(this,arguments)}}();_this.renderInstructionSetsToggle=function(){if(!_this.props.isCloudEnabled&&_this.state.tutorial.onPremElasticCloud){var selfManagedLabel=_this.props.intl.formatMessage({id:"kbn.home.tutorial.selfManagedButtonLabel",defaultMessage:"Self managed"});var cloudLabel=_this.props.intl.formatMessage({id:"kbn.home.tutorial.elasticCloudButtonLabel",defaultMessage:"Elastic Cloud"});var radioButtons=[{id:INSTRUCTIONS_TYPE.ON_PREM,label:selfManagedLabel},{id:INSTRUCTIONS_TYPE.ON_PREM_ELASTIC_CLOUD,label:cloudLabel}];return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonGroup,{options:radioButtons,idSelected:_this.state.visibleInstructions,onChange:_this.setVisibleInstructions,color:"primary"})))}};_this.onStatusCheck=function(instructionSetIndex){_this.setState(function(prevState){return{statusCheckStates:_extends({},prevState.statusCheckStates,_defineProperty({},instructionSetIndex,StatusCheckStates.FETCHING))}},_this.checkInstructionSetStatus.bind(null,instructionSetIndex))};_this.renderInstructionSets=function(instructions){var offset=1;return instructions.instructionSets.map(function(instructionSet,index){var currentOffset=offset;offset+=instructionSet.instructionVariants[0].instructions.length;return _react2.default.createElement(_instruction_set.InstructionSet,{title:instructionSet.title,instructionVariants:instructionSet.instructionVariants,statusCheckConfig:instructionSet.statusCheck,statusCheckState:_this.state.statusCheckStates[index],onStatusCheck:function onStatusCheck(){_this.onStatusCheck(index)},offset:currentOffset,params:instructions.params,paramValues:_this.state.paramValues,setParameter:_this.setParameter,replaceTemplateStrings:_this.props.replaceTemplateStrings,key:index})})};_this.renderSavedObjectsInstaller=function(){if(!_this.state.tutorial.savedObjects){return}return _react2.default.createElement(_saved_objects_installer.SavedObjectsInstaller,{bulkCreate:_this.props.bulkCreate,savedObjects:_this.state.tutorial.savedObjects,installMsg:_this.state.tutorial.savedObjectsInstallMsg})};_this.renderFooter=function(){var label=void 0;var url=void 0;if(_lodash2.default.has(_this.state,"tutorial.artifacts.application")){label=_this.state.tutorial.artifacts.application.label;url=_this.props.addBasePath(_this.state.tutorial.artifacts.application.path)}else if(_lodash2.default.has(_this.state,"tutorial.artifacts.dashboards")){var overviewDashboard=_this.state.tutorial.artifacts.dashboards.find(function(dashboard){return dashboard.isOverview});if(overviewDashboard){label=overviewDashboard.linkLabel;url=_this.props.addBasePath("/app/kibana#/dashboard/"+overviewDashboard.id)}}if(url&&label){return _react2.default.createElement(_footer.Footer,{label:label,url:url})}};_this.state={notFound:false,paramValues:{},statusCheckStates:[],tutorial:null};if(props.isCloudEnabled){_this.state.visibleInstructions=INSTRUCTIONS_TYPE.ELASTIC_CLOUD}else{_this.state.visibleInstructions=INSTRUCTIONS_TYPE.ON_PREM}return _this}_createClass(TutorialUi,[{key:"componentWillMount",value:function componentWillMount(){this._isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var tutorial;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.props.getTutorial(this.props.tutorialId);case 2:tutorial=_context3.sent;if(this._isMounted){_context3.next=5;break}return _context3.abrupt("return");case 5:if(tutorial){this.setState({tutorial:tutorial},this.initInstructionsState)}else{this.setState({notFound:true})}if(this.props.isK7Design){_chrome2.default.breadcrumbs.set([{text:homeTitle,href:"#/home"},{text:addDataTitle,href:"#/home/tutorial_directory"},{text:tutorial?tutorial.name:this.props.tutorialId}])}case 7:case"end":return _context3.stop()}}},_callee3,this)}));function componentDidMount(){return _ref3.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){var content=void 0;if(this.state.notFound){content=_react2.default.createElement("div",{className:"homTutorial__notFoundPanel"},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.tutorial.noTutorialLabel",defaultMessage:"Unable to find tutorial {tutorialId}",values:{tutorialId:this.props.tutorialId}}))))}if(this.state.tutorial){var previewUrl=void 0;if(this.state.tutorial.previewImagePath){previewUrl=this.props.addBasePath(this.state.tutorial.previewImagePath)}var exportedFieldsUrl=void 0;if(_lodash2.default.has(this.state,"tutorial.artifacts.exportedFields")){exportedFieldsUrl=this.props.replaceTemplateStrings(this.state.tutorial.artifacts.exportedFields.documentationUrl)}var instructions=this.getInstructions();content=_react2.default.createElement("div",null,_react2.default.createElement(_introduction.Introduction,{title:this.state.tutorial.name,description:this.props.replaceTemplateStrings(this.state.tutorial.longDescription),previewUrl:previewUrl,exportedFieldsUrl:exportedFieldsUrl,iconType:this.state.tutorial.euiIconType,isBeta:this.state.tutorial.isBeta}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement("div",{className:"eui-textCenter"},this.renderInstructionSetsToggle()),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},this.renderInstructionSets(instructions),this.renderSavedObjectsInstaller(),this.renderFooter()))}var breadcrumbs=void 0;if(!this.props.isK7Design){breadcrumbs=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiLink,{href:"#/home"},homeTitle)," /"," ",_react2.default.createElement(_eui.EuiLink,{href:"#/home/tutorial_directory"},addDataTitle)," /"," ",this.state.tutorial?this.state.tutorial.name:this.props.tutorialId),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}))}return _react2.default.createElement(_eui.EuiPage,{className:"homPage"},_react2.default.createElement(_eui.EuiPageBody,null,breadcrumbs,content))}}]);return TutorialUi}(_react2.default.Component);TutorialUi.propTypes={addBasePath:_propTypes2.default.func.isRequired,isCloudEnabled:_propTypes2.default.bool.isRequired,getTutorial:_propTypes2.default.func.isRequired,replaceTemplateStrings:_propTypes2.default.func.isRequired,tutorialId:_propTypes2.default.string.isRequired,bulkCreate:_propTypes2.default.func.isRequired,isK7Design:_propTypes2.default.bool.isRequired};var Tutorial=exports.Tutorial=(0,_react3.injectI18n)(TutorialUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Footer=Footer;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Footer(_ref){var url=_ref.url,label=_ref.label;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiHorizontalRule,null),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.exploreYourDataDescription",defaultMessage:"When all steps are complete, you're ready to explore your data."})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{fill:true,href:url},label))))}Footer.propTypes={url:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Introduction=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _content=__webpack_require__(804);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function IntroductionUI(_ref){var description=_ref.description,previewUrl=_ref.previewUrl,title=_ref.title,exportedFieldsUrl=_ref.exportedFieldsUrl,iconType=_ref.iconType,isBeta=_ref.isBeta,intl=_ref.intl;var img=void 0;if(previewUrl){img=_react2.default.createElement(_eui.EuiImage,{size:"l",hasShadow:true,allowFullScreen:true,fullScreenIconColor:"dark",alt:intl.formatMessage({id:"kbn.home.tutorial.introduction.imageAltDescription",defaultMessage:"screenshot of primary dashboard."}),url:previewUrl})}var exportedFields=void 0;if(exportedFieldsUrl){exportedFields=_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiButton,{href:exportedFieldsUrl,target:"_blank",rel:"noopener noreferrer"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.tutorial.introduction.viewButtonLabel",defaultMessage:"View exported fields"})))}var icon=void 0;if(iconType){icon=_react2.default.createElement(_eui.EuiIcon,{type:iconType,size:"xl",style:{marginRight:16}})}var betaBadge=void 0;if(isBeta){betaBadge=_react2.default.createElement(_eui.EuiBetaBadge,{label:intl.formatMessage({id:"kbn.home.tutorial.introduction.betaLabel",defaultMessage:"Beta"})})}return _react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},icon),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h2",null,title,"  ",betaBadge)))),_react2.default.createElement(_content.Content,{text:description}),exportedFields),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},img))}IntroductionUI.propTypes={description:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,previewUrl:_propTypes2.default.string,exportedFieldsUrl:_propTypes2.default.string,iconType:_propTypes2.default.string,isBeta:_propTypes2.default.bool};IntroductionUI.defaultProps={isBeta:false};var Introduction=exports.Introduction=(0,_react3.injectI18n)(IntroductionUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InstructionSet=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _classnames=__webpack_require__(192);var _classnames2=_interopRequireDefault(_classnames);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _components=__webpack_require__(243);var _instruction=__webpack_require__(4787);var _parameter_form=__webpack_require__(4788);var _content=__webpack_require__(804);var _instruction_variant=__webpack_require__(4791);var _eui=__webpack_require__(2);var _status_check_states=__webpack_require__(1355);var StatusCheckStates=_interopRequireWildcard(_status_check_states);var _react3=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var InstructionSetUi=function(_React$Component){_inherits(InstructionSetUi,_React$Component);function InstructionSetUi(props){_classCallCheck(this,InstructionSetUi);var _this=_possibleConstructorReturn(this,(InstructionSetUi.__proto__||Object.getPrototypeOf(InstructionSetUi)).call(this,props));_this.handleToggleVisibility=function(){_this.setState(function(prevState){return{isParamFormVisible:!prevState.isParamFormVisible}})};_this.onSelectedTabChanged=function(id){_this.setState({selectedTabId:id})};_this.renderTabs=function(){return _this.tabs.map(function(tab,index){return _react2.default.createElement(_eui.EuiTab,{onClick:function onClick(){return _this.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this.state.selectedTabId,key:index},tab.name)})};_this.renderInstructions=function(){var instructionVariant=_this.props.instructionVariants.find(function(variant){return variant.id===_this.state.selectedTabId});if(!instructionVariant){return}var steps=instructionVariant.instructions.map(function(instruction,index){var step=_react2.default.createElement(_instruction.Instruction,{commands:instruction.commands,paramValues:_this.props.paramValues,textPre:instruction.textPre,textPost:instruction.textPost,replaceTemplateStrings:_this.props.replaceTemplateStrings});return{title:instruction.title,children:step,key:index}});if(_this.props.statusCheckConfig){steps.push(_this.renderStatusCheck())}return _react2.default.createElement(_eui.EuiSteps,{steps:steps,firstStepNumber:_this.props.offset})};_this.renderHeader=function(){var paramsVisibilityToggle=void 0;if(_this.props.params){var visibilityToggleClasses=(0,_classnames2.default)("kuiIcon kuiSideBarCollapsibleTitle__caret",{"fa-caret-right":!_this.state.isParamFormVisible,"fa-caret-down":_this.state.isParamFormVisible});var ariaLabel=_this.props.intl.formatMessage({id:"kbn.home.tutorial.instructionSet.toggleAriaLabel",defaultMessage:"toggle command parameters visibility"});paramsVisibilityToggle=_react2.default.createElement("div",{className:"kuiSideBarCollapsibleTitle",style:{cursor:"pointer"}},_react2.default.createElement("div",{"aria-label":ariaLabel,className:"kuiSideBarCollapsibleTitle__label",onClick:_this.handleToggleVisibility},_react2.default.createElement("span",{className:visibilityToggleClasses}),_react2.default.createElement("span",{className:"kuiSideBarCollapsibleTitle__text"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.tutorial.instructionSet.customizeLabel",defaultMessage:"Customize your code snippets"}))))}return _react2.default.createElement(_components.KuiBar,{className:"kuiVerticalRhythm"},_react2.default.createElement(_components.KuiBarSection,null,_react2.default.createElement("div",{className:"kuiTitle"},_this.props.title)),_react2.default.createElement(_components.KuiBarSection,null,paramsVisibilityToggle))};_this.tabs=props.instructionVariants.map(function(variant){return{id:variant.id,name:(0,_instruction_variant.getDisplayText)(variant.id)}});_this.state={isParamFormVisible:false};if(_this.tabs.length>0){_this.state.selectedTabId=_this.tabs[0].id}return _this}_createClass(InstructionSetUi,[{key:"renderStatusCheckMessage",value:function renderStatusCheckMessage(){var message=void 0;var color=void 0;switch(this.props.statusCheckState){case StatusCheckStates.NOT_CHECKED:case StatusCheckStates.FETCHING:return null;case StatusCheckStates.HAS_DATA:message=this.props.statusCheckConfig.success?this.props.statusCheckConfig.success:this.props.intl.formatMessage({id:"kbn.home.tutorial.instructionSet.successLabel",defaultMessage:"Success"});color="success";break;case StatusCheckStates.ERROR:case StatusCheckStates.NO_DATA:message=this.props.statusCheckConfig.error?this.props.statusCheckConfig.error:this.props.intl.formatMessage({id:"kbn.home.tutorial.instructionSet.noDataLabel",defaultMessage:"No data found"});color="warning";break}return _react2.default.createElement(_eui.EuiCallOut,{title:message,color:color})}},{key:"getStepStatus",value:function getStepStatus(statusCheckState){switch(statusCheckState){case undefined:case StatusCheckStates.NOT_CHECKED:case StatusCheckStates.FETCHING:return"incomplete";case StatusCheckStates.HAS_DATA:return"complete";case StatusCheckStates.NO_DATA:return"warning";case StatusCheckStates.ERROR:return"danger";default:throw new Error(this.props.intl.formatMessage({id:"kbn.home.tutorial.unexpectedStatusCheckStateErrorDescription",defaultMessage:"Unexpected status check state {statusCheckState}"},{statusCheckState:statusCheckState}))}}},{key:"renderStatusCheck",value:function renderStatusCheck(){var _props=this.props,statusCheckState=_props.statusCheckState,statusCheckConfig=_props.statusCheckConfig,onStatusCheck=_props.onStatusCheck;var checkStatusStep=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_content.Content,{text:statusCheckConfig.text})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{onClick:onStatusCheck,isLoading:statusCheckState===StatusCheckStates.FETCHING},statusCheckConfig.btnLabel||_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.tutorial.instructionSet.checkStatusButtonLabel",defaultMessage:"Check status"})))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderStatusCheckMessage());return{title:statusCheckConfig.title||this.props.intl.formatMessage({id:"kbn.home.tutorial.instructionSet.statusCheckTitle",defaultMessage:"Status Check"}),status:this.getStepStatus(statusCheckState),children:checkStatusStep,key:"checkStatusStep"}}},{key:"render",value:function render(){var paramsForm=void 0;if(this.props.params&&this.state.isParamFormVisible){paramsForm=_react2.default.createElement(_parameter_form.ParameterForm,{params:this.props.params,paramValues:this.props.paramValues,setParameter:this.props.setParameter})}return _react2.default.createElement("div",{className:"kuiVerticalRhythmLarge"},this.renderHeader(),paramsForm,_react2.default.createElement(_eui.EuiTabs,{className:"kuiVerticalRhythm"},this.renderTabs()),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderInstructions())}}]);return InstructionSetUi}(_react2.default.Component);var instructionShape=_propTypes2.default.shape({title:_propTypes2.default.string,textPre:_propTypes2.default.string,commands:_propTypes2.default.arrayOf(_propTypes2.default.string),textPost:_propTypes2.default.string});var instructionVariantShape=_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,instructions:_propTypes2.default.arrayOf(instructionShape).isRequired});var statusCheckConfigShape=_propTypes2.default.shape({success:_propTypes2.default.string,error:_propTypes2.default.string,title:_propTypes2.default.string,text:_propTypes2.default.string,btnLabel:_propTypes2.default.string});InstructionSetUi.propTypes={title:_propTypes2.default.string.isRequired,instructionVariants:_propTypes2.default.arrayOf(instructionVariantShape).isRequired,statusCheckConfig:statusCheckConfigShape,statusCheckState:_propTypes2.default.oneOf([StatusCheckStates.FETCHING,StatusCheckStates.NOT_CHECKED,StatusCheckStates.HAS_DATA,StatusCheckStates.NO_DATA,StatusCheckStates.ERROR]),onStatusCheck:_propTypes2.default.func.isRequired,offset:_propTypes2.default.number.isRequired,params:_propTypes2.default.array,paramValues:_propTypes2.default.object.isRequired,setParameter:_propTypes2.default.func,replaceTemplateStrings:_propTypes2.default.func.isRequired};var InstructionSet=exports.InstructionSet=(0,_react3.injectI18n)(InstructionSetUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Instruction=Instruction;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _content=__webpack_require__(804);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Instruction(_ref){var commands=_ref.commands,paramValues=_ref.paramValues,textPost=_ref.textPost,textPre=_ref.textPre,replaceTemplateStrings=_ref.replaceTemplateStrings;var pre=void 0;if(textPre){pre=_react2.default.createElement(_content.Content,{text:replaceTemplateStrings(textPre)})}var post=void 0;if(textPost){post=_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_content.Content,{text:replaceTemplateStrings(textPost)}))}var copyButton=void 0;var commandBlock=void 0;if(commands){var cmdText=commands.map(function(cmd){return replaceTemplateStrings(cmd,paramValues)}).join("\n");copyButton=_react2.default.createElement(_eui.EuiCopy,{textToCopy:cmdText},function(copy){return _react2.default.createElement(_eui.EuiButton,{size:"s",onClick:copy},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.home.tutorial.instruction.copyButtonLabel",defaultMessage:"Copy snippet"}))});commandBlock=_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCodeBlock,{language:"sh"},cmdText))}return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},pre),_react2.default.createElement(_eui.EuiFlexItem,{style:{minWidth:114},grow:false},copyButton)),commandBlock,post,_react2.default.createElement(_eui.EuiSpacer,null))}Instruction.propTypes={commands:_propTypes2.default.array,paramValues:_propTypes2.default.object.isRequired,textPost:_propTypes2.default.string,textPre:_propTypes2.default.string,replaceTemplateStrings:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ParameterForm=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _number_parameter=__webpack_require__(4789);var _string_parameter=__webpack_require__(4790);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ParameterForm=exports.ParameterForm=function(_React$Component){_inherits(ParameterForm,_React$Component);function ParameterForm(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ParameterForm);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ParameterForm.__proto__||Object.getPrototypeOf(ParameterForm)).call.apply(_ref,[this].concat(args))),_this),_this.renderInputs=function(){return _this.props.params.map(function(param){switch(param.type){case"number":return _react2.default.createElement(_number_parameter.NumberParameter,{key:param.id,id:param.id,label:param.label,value:_this.props.paramValues[param.id],setParameter:_this.props.setParameter});case"string":return _react2.default.createElement(_string_parameter.StringParameter,{key:param.id,id:param.id,label:param.label,value:_this.props.paramValues[param.id],setParameter:_this.props.setParameter});default:throw new Error("Unhandled parameter type "+param.type)}})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(ParameterForm,[{key:"render",value:function render(){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"kuiSideBarSection"},this.renderInputs()))}}]);return ParameterForm}(_react2.default.Component);var paramsShape=_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired,type:_propTypes2.default.string.isRequired});ParameterForm.propTypes={params:_propTypes2.default.arrayOf(paramsShape).isRequired,paramValues:_propTypes2.default.object.isRequired,setParameter:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NumberParameter=NumberParameter;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NumberParameter(_ref){var id=_ref.id,label=_ref.label,value=_ref.value,setParameter=_ref.setParameter;var handleChange=function handleChange(evt){setParameter(id,parseFloat(evt.target.value))};return _react2.default.createElement("div",{className:"kuiSideBarFormRow"},_react2.default.createElement("label",{className:"kuiSideBarFormRow__label",htmlFor:id},label),_react2.default.createElement("div",{className:"kuiSideBarFormRow__control kuiFieldGroupSection--wide"},_react2.default.createElement("input",{className:"kuiTextInput",type:"number",value:value,onChange:handleChange,id:id})))}NumberParameter.propTypes={id:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired,value:_propTypes2.default.number.isRequired,setParameter:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StringParameter=StringParameter;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StringParameter(_ref){var id=_ref.id,label=_ref.label,value=_ref.value,setParameter=_ref.setParameter;var handleChange=function handleChange(evt){setParameter(id,evt.target.value)};return _react2.default.createElement("div",{className:"kuiSideBarFormRow"},_react2.default.createElement("label",{className:"kuiSideBarFormRow__label"},label),_react2.default.createElement("div",{className:"kuiSideBarFormRow__control kuiFieldGroupSection--wide"},_react2.default.createElement("input",{className:"kuiTextInput",type:"text",value:value,onChange:handleChange})))}StringParameter.propTypes={id:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired,value:_propTypes2.default.string.isRequired,setParameter:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";var _DISPLAY_MAP;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.getDisplayText=getDisplayText;var INSTRUCTION_VARIANT=exports.INSTRUCTION_VARIANT={OSX:"osx",DEB:"deb",RPM:"rpm",DOCKER:"docker",WINDOWS:"windows",NODE:"node",DJANGO:"django",FLASK:"flask",RAILS:"rails",RACK:"rack",JS:"js",GO:"go",JAVA:"java"};var DISPLAY_MAP=(_DISPLAY_MAP={},_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.OSX,"macOS"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DEB,"DEB"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RPM,"RPM"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DOCKER,"Docker"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.WINDOWS,"Windows"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.NODE,"Node.js"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DJANGO,"Django"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.FLASK,"Flask"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RAILS,"Ruby on Rails"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RACK,"Rack"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.JS,"RUM (JS)"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.GO,"Go"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.JAVA,"Java"),_DISPLAY_MAP);function getDisplayText(id){if(id in DISPLAY_MAP){return DISPLAY_MAP[id]}return id}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SavedObjectsInstaller=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(3);var _react2=__webpack_require__(0);var _react3=_interopRequireDefault(_react2);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SavedObjectsInstallerUi=function(_React$Component){_inherits(SavedObjectsInstallerUi,_React$Component);function SavedObjectsInstallerUi(){var _ref,_this2=this;var _temp,_this,_ret;_classCallCheck(this,SavedObjectsInstallerUi);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=SavedObjectsInstallerUi.__proto__||Object.getPrototypeOf(SavedObjectsInstallerUi)).call.apply(_ref,[this].concat(args))),_this),_this.DEFAULT_BUTTON_LABEL=_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.defaultButtonLabel",defaultMessage:"Load Kibana objects"}),_this.state={isInstalling:false,isInstalled:false,overwrite:false,buttonLabel:_this.DEFAULT_BUTTON_LABEL},_this.installSavedObjects=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var resp,errors,overwriteErrors,hasErrors,statusMsg;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({isInstalling:true});resp=void 0;_context.prev=2;_context.next=5;return _this.props.bulkCreate(_this.props.savedObjects,{overwrite:_this.state.overwrite});case 5:resp=_context.sent;_context.next=14;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);if(_this._isMounted){_context.next=12;break}return _context.abrupt("return");case 12:_this.setState({isInstalling:false,installStatusMsg:_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.requestFailedErrorMessage",defaultMessage:"Request failed, Error: {message}"},{message:_context.t0.message}),isInstalled:false,overwrite:false,buttonLabel:_this.DEFAULT_BUTTON_LABEL});return _context.abrupt("return");case 14:if(_this._isMounted){_context.next=16;break}return _context.abrupt("return");case 16:errors=resp.savedObjects.filter(function(savedObject){return savedObject.hasOwnProperty("error")});overwriteErrors=errors.filter(function(savedObject){return savedObject.error.statusCode===409});if(!(overwriteErrors.length>0)){_context.next=21;break}_this.setState({isInstalling:false,installStatusMsg:_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.installStatusLabel",defaultMessage:"{overwriteErrorsLength} of {savedObjectsLength} objects already exist. Click 'Confirm overwrite' to import and overwrite existing objects. Any changes to the objects will be lost."},{overwriteErrorsLength:overwriteErrors.length,savedObjectsLength:_this.props.savedObjects.length}),isInstalled:false,overwrite:true,buttonLabel:_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.confirmButtonLabel",defaultMessage:"Confirm overwrite"})});return _context.abrupt("return");case 21:hasErrors=errors.length>0;statusMsg=hasErrors?_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.unableToAddErrorMessage",defaultMessage:"Unable to add {errorsLength} of {savedObjectsLength} kibana objects, Error: {errorMessage}"},{errorsLength:errors.length,savedObjectsLength:_this.props.savedObjects.length,errorMessage:errors[0].error.message}):_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.addedLabel",defaultMessage:"{savedObjectsLength} saved objects successfully added"},{savedObjectsLength:_this.props.savedObjects.length});_this.setState({isInstalling:false,installStatusMsg:statusMsg,isInstalled:!hasErrors,overwrite:false,buttonLabel:_this.DEFAULT_BUTTON_LABEL});case 24:case"end":return _context.stop()}}},_callee,_this2,[[2,8]])})),_this.renderInstallStep=function(){var installMsg=_this.props.installMsg?_this.props.installMsg:_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.installLabel",defaultMessage:"Imports index pattern, visualizations and pre-defined dashboards."});var installStep=_react3.default.createElement(_react2.Fragment,null,_react3.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react3.default.createElement(_eui.EuiFlexItem,null,_react3.default.createElement(_eui.EuiText,null,_react3.default.createElement("p",null,installMsg))),_react3.default.createElement(_eui.EuiFlexItem,{grow:false},_react3.default.createElement(_eui.EuiButton,{onClick:_this.installSavedObjects,isLoading:_this.state.isInstalling,"data-test-subj":"loadSavedObjects"},_this.state.buttonLabel))),_react3.default.createElement(_eui.EuiSpacer,{size:"s"}),_this.renderInstallMessage());return{title:_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.loadTitle",defaultMessage:"Load Kibana objects"}),status:_this.state.isInstalled?"complete":"incomplete",children:installStep,key:"installStep"}},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(SavedObjectsInstallerUi,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"renderInstallMessage",value:function renderInstallMessage(){if(!this.state.installStatusMsg){return}return _react3.default.createElement(_eui.EuiCallOut,{title:this.state.installStatusMsg,color:this.state.isInstalled?"success":"warning","data-test-subj":this.state.isInstalled?"loadSavedObjects_success":"loadSavedObjects_failed"})}},{key:"render",value:function render(){return _react3.default.createElement(_eui.EuiSteps,{steps:[this.renderInstallStep()]})}}]);return SavedObjectsInstallerUi}(_react3.default.Component);var savedObjectShape=_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,type:_propTypes2.default.string.isRequired,attributes:_propTypes2.default.object.isRequired});SavedObjectsInstallerUi.propTypes={bulkCreate:_propTypes2.default.func.isRequired,savedObjects:_propTypes2.default.arrayOf(savedObjectShape).isRequired,installMsg:_propTypes2.default.string};var SavedObjectsInstaller=exports.SavedObjectsInstaller=(0,_react.injectI18n)(SavedObjectsInstallerUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.replaceTemplateStrings=replaceTemplateStrings;var _mustache=__webpack_require__(1265);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _metadata=__webpack_require__(190);var _documentation_links=__webpack_require__(382);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TEMPLATE_TAGS=["{","}"];var mustacheWriter=new _mustache.Writer;mustacheWriter.escapedValue=function escapedValue(token,context){var value=context.lookup(token[1]);if(value!=null){return value}};function replaceTemplateStrings(text){var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var variables={curlyOpen:"{",curlyClose:"}",config:{cloud:{id:_chrome2.default.getInjected("cloudId")},docs:{base_url:_documentation_links.ELASTIC_WEBSITE_URL,beats:{filebeat:_documentation_links.documentationLinks.filebeat.base,metricbeat:_documentation_links.documentationLinks.metricbeat.base,heartbeat:_documentation_links.documentationLinks.heartbeat.base},logstash:_documentation_links.documentationLinks.logstash.base,version:_documentation_links.DOC_LINK_VERSION},kibana:{version:_metadata.metadata.version}},params:params};mustacheWriter.parse(text,TEMPLATE_TAGS);return mustacheWriter.render(text,variables)}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(585);__webpack_require__(4795);__webpack_require__(1356);__webpack_require__(4800);__webpack_require__(4806);__webpack_require__(1092);var _feature_catalogue=__webpack_require__(39);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(i18n){return{id:"discover",title:i18n("kbn.discover.discoverTitle",{defaultMessage:"Discover"}),description:i18n("kbn.discover.discoverDescription",{defaultMessage:"Interactively explore your data by querying and filtering raw documents."}),icon:"discoverApp",path:"/app/kibana#/discover",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(53);var _modules=__webpack_require__(4);var _react=__webpack_require__(3);var _no_results=__webpack_require__(4796);var _unsupported_index_pattern=__webpack_require__(4797);__webpack_require__(4798);var app=_modules.uiModules.get("apps/discover",["react"]);app.directive("discoverNoResults",function(reactDirective){return reactDirective((0,_react.injectI18nProvider)(_no_results.DiscoverNoResults))});app.directive("discoverUnsupportedIndexPattern",function(reactDirective){return reactDirective((0,_react.injectI18nProvider)(_unsupported_index_pattern.DiscoverUnsupportedIndexPattern),["unsupportedType"])})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DiscoverNoResults=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DiscoverNoResults=exports.DiscoverNoResults=function(_Component){_inherits(DiscoverNoResults,_Component);function DiscoverNoResults(){var _ref;var _temp,_this,_ret;_classCallCheck(this,DiscoverNoResults);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=DiscoverNoResults.__proto__||Object.getPrototypeOf(DiscoverNoResults)).call.apply(_ref,[this].concat(args))),_this),_this.onClickTimePickerButton=function(){_this.props.topNavToggle("filter")},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(DiscoverNoResults,[{key:"render",value:function render(){var _props=this.props,shardFailures=_props.shardFailures,timeFieldName=_props.timeFieldName,queryLanguage=_props.queryLanguage,getDocLink=_props.getDocLink,isTimePickerOpen=_props.isTimePickerOpen;var shardFailuresMessage=void 0;if(shardFailures&&shardFailures.length){var failures=shardFailures.map(function(failure,index){return _react2.default.createElement("div",{key:""+failure.index+failure.shard+failure.reason},_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.indexFailureShardText",defaultMessage:"{index}, shard {failureShard}",values:{index:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.indexFailureIndexText",defaultMessage:"Index {failureIndex}",values:{failureIndex:"&lsquo;"+failure.index+"&rsquo;"}})),failureShard:"&lsquo;"+failure.shard+"&rsquo;"}})),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiCodeBlock,{paddingSize:"s"},JSON.stringify(failure.reason)),index<shardFailures.length-1?_react2.default.createElement(_eui.EuiSpacer,{size:"l"}):undefined)});shardFailuresMessage=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.addressShardFailuresTitle",defaultMessage:"Address shard failures"})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.shardFailuresDescription",defaultMessage:"The following shard failures occurred:"})),failures))}var timeFieldMessage=void 0;if(timeFieldName){timeFieldMessage=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.expandYourTimeRangeTitle",defaultMessage:"Expand your time range"})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.queryMayNotMatchTitle",defaultMessage:"One or more of the indices you’re looking at contains a date field. Your query may not match anything in the current time range, or there may not be any data at all in the currently selected time range. You can try {timepickerLink} and changing the time range to one which contains data.",values:{timepickerLink:_react2.default.createElement(_eui.EuiLink,{"data-test-subj":"discoverNoResultsTimefilter",onClick:this.onClickTimePickerButton,"aria-expanded":isTimePickerOpen},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.openingTimepickerLinkText",defaultMessage:"opening the time picker"}))}}))))}var luceneQueryMessage=void 0;if(queryLanguage==="lucene"){var searchExamples=[{description:_react2.default.createElement(_eui.EuiCode,null,"200"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.anyField200StatusCodeExampleTitle",defaultMessage:"Find requests that contain the number 200, in any field"})))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:200"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.statusField200StatusCodeExampleTitle",defaultMessage:"Find 200 in the status field"})))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:[400 TO 499]"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.400to499StatusCodeExampleTitle",defaultMessage:"Find all status codes between 400-499"})))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:[400 TO 499] AND extension:PHP"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.400to499StatusCodeWithPhpExtensionExampleTitle",defaultMessage:"Find status codes 400-499 with the extension php"})))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:[400 TO 499] AND (extension:php OR extension:html)"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.400to499StatusCodeWithPhpOrHtmlExtensionExampleTitle",defaultMessage:"Find status codes 400-499 with the extension php or html"})))}];luceneQueryMessage=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.refineYourQueryTitle",defaultMessage:"Refine your query"})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.howTosearchForWebServerLogsDescription",defaultMessage:"The search bar at the top uses Elasticsearch’s support for Lucene {queryStringSyntaxLink}. Here are some examples of how you can search for web server logs that have been parsed into a few fields.",values:{queryStringSyntaxLink:_react2.default.createElement(_eui.EuiLink,{target:"_blank",href:getDocLink("query.luceneQuerySyntax")},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.queryStringSyntaxLinkText",defaultMessage:"Query String syntax"}))}}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column",listItems:searchExamples}),_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}))}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"dscNoResults"},_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.noResultsMatchSearchCriteriaTitle",defaultMessage:"No results match your search criteria"}),color:"warning",iconType:"help","data-test-subj":"discoverNoResults"}),shardFailuresMessage,timeFieldMessage,luceneQueryMessage)))}}]);return DiscoverNoResults}(_react.Component);DiscoverNoResults.propTypes={shardFailures:_propTypes2.default.array,timeFieldName:_propTypes2.default.string,queryLanguage:_propTypes2.default.string,isTimePickerOpen:_propTypes2.default.bool.isRequired,getDocLink:_propTypes2.default.func.isRequired,topNavToggle:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DiscoverUnsupportedIndexPattern=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DiscoverUnsupportedIndexPattern=exports.DiscoverUnsupportedIndexPattern=function DiscoverUnsupportedIndexPattern(_ref){var unsupportedType=_ref.unsupportedType;var message=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.noResults.requiredPluginIsNotInstalledOrDisabledTitle",defaultMessage:"Index patterns based on {unsupportedType} indices require the {unsupportedType} plugin from X-Pack, which is not installed or disabled",values:{unsupportedType:unsupportedType}});return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"dscNoResults"},_react2.default.createElement(_eui.EuiCallOut,{title:message,color:"danger",iconType:"alert"}))))}},function(module,exports,__webpack_require__){"use strict";var _vislib=__webpack_require__(476);var _vislib2=_interopRequireDefault(_vislib);var _modules=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("apps/discover").directive("discoverTimechart",function(Private){var vislib=Private(_vislib2.default);return{restrict:"E",scope:{data:"="},link:function link($scope,elem){var init=function init(){var myChart=new vislib.Chart(elem[0],{addLegend:false});$scope.$watch("data",function(data){if(data!=null){myChart.render(data)}})};init()}}})},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _jquery=__webpack_require__(17);var _jquery2=_interopRequireDefault(_jquery);var _modules=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("kibana").directive("collapsibleSidebar",function(){var listOfWidthClasses=_lodash2.default.times(11,function(i){return"col-md-"+i});return{restrict:"C",link:function link($scope,$elem){var isCollapsed=false;var $collapser=(0,_jquery2.default)('<button\n          data-test-subj="collapseSideBarButton"\n          type="button"\n          aria-expanded="true"\n          aria-label="Toggle sidebar"\n          class="kuiCollapseButton kbnCollapsibleSidebar__collapseButton"\n        ></button>');if($elem.attr("id")){$collapser.attr("aria-controls",$elem.attr("id"))}var $icon=(0,_jquery2.default)('<span class="kuiIcon fa-chevron-circle-left"></span>');$collapser.append($icon);var $siblings=$elem.siblings();var siblingsClass=listOfWidthClasses.reduce(function(prev,className){if(prev)return prev;return $siblings.hasClass(className)&&className},false);var hasSingleSibling=$siblings.length===1&&siblingsClass;$collapser.on("click",function(){if(isCollapsed){isCollapsed=false;$elem.removeClass("closed");$icon.addClass("fa-chevron-circle-left");$icon.removeClass("fa-chevron-circle-right");$collapser.attr("aria-expanded","true")}else{isCollapsed=true;$elem.addClass("closed");$icon.removeClass("fa-chevron-circle-left");$icon.addClass("fa-chevron-circle-right");$collapser.attr("aria-expanded","false")}if(hasSingleSibling){$siblings.toggleClass(siblingsClass+" col-md-12")}if($scope.toggleSidebar)$scope.toggleSidebar()});$collapser.appendTo($elem)}}})},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};__webpack_require__(609);__webpack_require__(610);__webpack_require__(948);__webpack_require__(4801);__webpack_require__(350);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _jquery=__webpack_require__(17);var _jquery2=_interopRequireDefault(_jquery);var _risonNode=__webpack_require__(260);var _risonNode2=_interopRequireDefault(_risonNode);var _field_calculator=__webpack_require__(4804);var _field_list=__webpack_require__(890);var _modules=__webpack_require__(4);var _field_chooser=__webpack_require__(4805);var _field_chooser2=_interopRequireDefault(_field_chooser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("apps/discover");app.directive("discFieldChooser",function($location,globalState,config,$route,i18n){return{restrict:"E",scope:{columns:"=",hits:"=",fieldCounts:"=",state:"=",indexPattern:"=",indexPatternList:"=",onAddField:"=",onAddFilter:"=",onRemoveField:"="},template:_field_chooser2.default,link:function link($scope){$scope.$parent.$watch("showFilter",function(){$scope.toggleFieldFilterButtonAriaLabel=$scope.$parent.showFilter?i18n("kbn.discover.fieldChooser.toggleFieldFilterButtonHideAriaLabel",{defaultMessage:"Hide field settings"}):i18n("kbn.discover.fieldChooser.toggleFieldFilterButtonShowAriaLabel",{defaultMessage:"Show field settings"})});$scope.selectedIndexPattern=$scope.indexPatternList.find(function(pattern){return pattern.id===$scope.indexPattern.id});$scope.indexPatternList=_lodash2.default.sortBy($scope.indexPatternList,function(o){return o.get("title")});$scope.setIndexPattern=function(pattern){$scope.state.index=pattern.id;$scope.state.save()};$scope.$watch("state.index",function(id,previousId){if(previousId==null||previousId===id)return;$route.reload()});var filter=$scope.filter={props:["type","aggregatable","searchable","missing","name"],defaults:{missing:true,type:"any"},boolOpts:[{label:"any",value:undefined},{label:"yes",value:true},{label:"no",value:false}],toggleVal:function toggleVal(name,def){if(filter.vals[name]!==def)filter.vals[name]=def;else filter.vals[name]=undefined},reset:function reset(){filter.vals=_lodash2.default.clone(filter.defaults)},isFieldSelected:function isFieldSelected(field){return field.display},isFieldFiltered:function isFieldFiltered(field){var matchFilter=filter.vals.type==="any"||field.type===filter.vals.type;var isAggregatable=filter.vals.aggregatable==null||field.aggregatable===filter.vals.aggregatable;var isSearchable=filter.vals.searchable==null||field.searchable===filter.vals.searchable;var scriptedOrMissing=!filter.vals.missing||field.scripted||field.rowCount>0;var matchName=!filter.vals.name||field.name.indexOf(filter.vals.name)!==-1;return!field.display&&matchFilter&&isAggregatable&&isSearchable&&scriptedOrMissing&&matchName},popularity:function popularity(field){return field.count>0},getActive:function getActive(){return _lodash2.default.some(filter.props,function(prop){return filter.vals[prop]!==filter.defaults[prop]})}};filter.reset();$scope.$watchCollection("filter.vals",function(){filter.active=filter.getActive()});$scope.$watchMulti(["[]fieldCounts","[]columns","[]hits"],function(cur,prev){var newHits=cur[2]!==prev[2];var fields=$scope.fields;var columns=$scope.columns||[];var fieldCounts=$scope.fieldCounts;if(!fields||newHits){$scope.fields=fields=getFields()}if(!fields)return;_lodash2.default.chain(fields).each(function(field){field.displayOrder=_lodash2.default.indexOf(columns,field.name)+1;field.display=!!field.displayOrder;field.rowCount=fieldCounts[field.name]}).sortBy(function(field){return(field.count||0)*-1}).groupBy(function(field){if(field.display)return"selected";return field.count>0?"popular":"unpopular"}).tap(function(groups){groups.selected=_lodash2.default.sortBy(groups.selected||[],"displayOrder");groups.popular=groups.popular||[];groups.unpopular=groups.unpopular||[];var extras=groups.popular.splice(config.get("fields:popularLimit"));groups.unpopular=extras.concat(groups.unpopular)}).each(function(group,name){$scope[name+"Fields"]=_lodash2.default.sortBy(group,name==="selected"?"display":"name")}).commit();$scope.fieldTypes=_lodash2.default.union(["any"],_lodash2.default.pluck(fields,"type"))});$scope.increaseFieldCounter=function(fieldName){$scope.indexPattern.popularizeField(fieldName,1)};function getVisualizeUrl(field){if(!$scope.state){return""}var agg={};var isGeoPoint=field.type==="geo_point";var type=isGeoPoint?"tile_map":"histogram";if(field.type==="date"&&$scope.indexPattern.timeFieldName===field.name){agg={type:"date_histogram",schema:"segment",params:{field:field.name,interval:"auto"}}}else if(isGeoPoint){agg={type:"geohash_grid",schema:"segment",params:{field:field.name,precision:3}}}else{agg={type:"terms",schema:"segment",params:{field:field.name,size:parseInt(config.get("discover:aggs:terms:size"),10),orderBy:"2"}}}return"#/visualize/create?"+_jquery2.default.param(_lodash2.default.assign(_lodash2.default.clone($location.search()),{indexPattern:$scope.state.index,type:type,_a:_risonNode2.default.encode({filters:$scope.state.filters||[],query:$scope.state.query||undefined,vis:{type:type,aggs:[{schema:"metric",type:"count",id:"2"},agg]}})}))}$scope.computeDetails=function(field,recompute){if(_lodash2.default.isUndefined(field.details)||recompute){field.details=_extends({visualizeUrl:field.visualizable?getVisualizeUrl(field):null},_field_calculator.fieldCalculator.getFieldValueCounts({hits:$scope.hits,field:field,count:5,grouped:false}));_lodash2.default.each(field.details.buckets,function(bucket){bucket.display=field.format.convert(bucket.value)});$scope.increaseFieldCounter(field,1)}else{delete field.details}};function getFields(){var prevFields=$scope.fields;var indexPattern=$scope.indexPattern;var hits=$scope.hits;var fieldCounts=$scope.fieldCounts;if(!indexPattern||!hits||!fieldCounts)return;var fieldSpecs=indexPattern.fields.slice(0);var fieldNamesInDocs=_lodash2.default.keys(fieldCounts);var fieldNamesInIndexPattern=_lodash2.default.keys(indexPattern.fields.byName);_lodash2.default.difference(fieldNamesInDocs,fieldNamesInIndexPattern).forEach(function(unknownFieldName){fieldSpecs.push({name:unknownFieldName,type:"unknown"})});var fields=new _field_list.FieldList(indexPattern,fieldSpecs);if(prevFields){fields.forEach(function(field){field.details=_lodash2.default.get(prevFields,["byName",field.name,"details"])})}return fields}}}})},function(module,exports,__webpack_require__){"use strict";var _jquery=__webpack_require__(17);var _jquery2=_interopRequireDefault(_jquery);var _discover_field=__webpack_require__(4802);var _discover_field2=_interopRequireDefault(_discover_field);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);__webpack_require__(609);__webpack_require__(610);var _string=__webpack_require__(4803);var _string2=_interopRequireDefault(_string);var _modules=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("apps/discover");app.directive("discoverField",function($compile,i18n){return{restrict:"E",template:_discover_field2.default,replace:true,scope:{field:"=",onAddField:"=",onAddFilter:"=",onRemoveField:"=",onShowDetails:"="},link:function link($scope,$elem){var detailsElem=void 0;var detailScope=void 0;var init=function init(){if($scope.field.details){$scope.toggleDetails($scope.field,true)}$scope.addRemoveButtonLabel=$scope.field.display?i18n("kbn.discover.fieldChooser.discoverField.removeButtonLabel",{defaultMessage:"remove"}):i18n("kbn.discover.fieldChooser.discoverField.addButtonLabel",{defaultMessage:"add"})};var getWarnings=function getWarnings(field){var warnings=[];if(field.scripted){warnings.push(i18n("kbn.discover.fieldChooser.discoverField.scriptedFieldsTakeLongExecuteDescription",{defaultMessage:"Scripted fields can take a long time to execute."}))}if(warnings.length>1){warnings=warnings.map(function(warning,i){return(i>0?"\n":"")+(i+1)+" - "+warning})}return warnings};$scope.toggleDisplay=function(field){if(field.display){$scope.onRemoveField(field.name)}else{$scope.onAddField(field.name)}if(field.details){$scope.toggleDetails(field)}};$scope.onClickToggleDetails=function onClickToggleDetails($event,field){if($event.currentTarget!==$event.target){$event.preventDefault()}$scope.toggleDetails(field)};$scope.toggleDetails=function(field,recompute){if(_lodash2.default.isUndefined(field.details)||recompute){$scope.onShowDetails(field,recompute);detailScope=$scope.$new();detailScope.warnings=getWarnings(field);detailScope.getBucketAriaLabel=function(bucket){return i18n("kbn.discover.fieldChooser.discoverField.bucketAriaLabel",{defaultMessage:"Value: {value}",values:{value:bucket.display===""?i18n("kbn.discover.fieldChooser.discoverField.emptyStringText",{defaultMessage:"Empty string"}):bucket.display}})};detailsElem=(0,_jquery2.default)(_string2.default);$compile(detailsElem)(detailScope);$elem.append(detailsElem).addClass("active");$elem.find(".dscSidebarItem").addClass("dscSidebarItem--active")}else{delete field.details;detailScope.$destroy();detailsElem.remove();$elem.removeClass("active");$elem.find(".dscSidebarItem").removeClass("dscSidebarItem--active")}};init()}}})},function(module,exports){module.exports='<li\n  class="sidebar-item"\n  attr-field="{{::field.name}}"\n>\n  <div\n    data-test-subj="field-{{::field.name}}"\n    ng-click="onClickToggleDetails($event, field)"\n    kbn-accessible-click\n    class="sidebar-item-title dscSidebarItem"\n  >\n    <field-name\n      class="dscField dscSidebarItem__label"\n      field="field"\n    ></field-name>\n\n    <button\n      ng-if="field.name !== \'_source\'"\n      ng-click="toggleDisplay(field)"\n      ng-class="::field.display ? \'kuiButton--danger\' : \'kuiButton--primary\'"\n      ng-bind="::addRemoveButtonLabel"\n      class="dscSidebarItem__action kuiButton kuiButton--small"\n      data-test-subj="fieldToggle-{{::field.name}}"\n    ></button>\n  </div>\n</li>\n'},function(module,exports){module.exports='<div class="dscFieldDetails">\n  <div class="kuiVerticalRhythmSmall">\n    <p class="euiText euiText--extraSmall euiTextColor--subdued" ng-show="!field.details.error">\n      <span\n        i18n-id="kbn.discover.fieldChooser.detailViews.topValuesInRecordsDescription"\n        i18n-default-message="Top 5 values in"\n      ></span>\n      <span ng-if="!field.details.error">\n        <a\n          class="kuiLink"\n          kbn-accessible-click\n          ng-show="!field.indexPattern.metaFields.includes(field.name) && !field.scripted"\n          ng-click="onAddFilter(\'_exists_\', field.name, \'+\')">\n          {{::field.details.exists}}\n        </a>\n        <span\n          ng-show="field.indexPattern.metaFields.includes(field.name) || field.scripted">\n          {{::field.details.exists}}\n        </span>\n        / {{::field.details.total}}\n        <span\n          i18n-id="kbn.discover.fieldChooser.detailViews.recordsText"\n          i18n-default-message="records"\n        ></span>\n      </span>\n    </p>\n\n    <div class="clearfix"></div>\n\n    <div ng-if="field.details.error" class="euiText euiText--extraSmall euiTextColor--subdued">{{field.details.error}}</div>\n\n    <div ng-if="!field.details.error">\n      <div ng-repeat="bucket in ::field.details.buckets" class="dscFieldDetailsItem">\n        <div class="dscFieldDetailsItem__title">\n          \x3c!-- Field value --\x3e\n          <div\n            css-truncate\n            css-truncate-expandable="true"\n            class="dscFieldDetails__value"\n            aria-label="{{::getBucketAriaLabel(bucket)}}"\n          >\n            {{::bucket.display}}\n            <em\n              ng-show="bucket.display === \'\'"\n              i18n-id="kbn.discover.fieldChooser.detailViews.emptyStringText"\n              i18n-default-message="Empty string"\n            ></em>\n          </div>\n\n          \x3c!-- Add/remove filter buttons --\x3e\n          <div\n            class="dscFieldDetailsItem__buttonGroup"\n            ng-show="field.filterable"\n          >\n            <button\n              class="dscFieldDetailsItem__button"\n              ng-click="onAddFilter(field, bucket.value, \'+\')"\n              aria-label="{{::\'kbn.discover.fieldChooser.detailViews.filterValueButtonAriaLabel\' | i18n: {defaultMessage: \'Filter for this value\'} }}"\n              data-test-subj="plus-{{::field.name}}-{{::bucket.display}}"\n            >\n              <span\n                aria-hidden="true"\n                class="kuiIcon fa-search-plus dscFieldDetails__filter"\n              ></span>\n            </button>\n\n            <button\n              class="dscFieldDetailsItem__button"\n              ng-click="onAddFilter(field, bucket.value, \'-\')"\n              aria-label="{{::\'kbn.discover.fieldChooser.detailViews.filterOutValueButtonAriaLabel\' | i18n: {defaultMessage: \'Filter out this value\'} }}"\n              data-test-subj="minus-{{::field.name}}-{{::bucket.display}}"\n            >\n              <span\n                aria-hidden="true"\n                class="kuiIcon fa-search-minus dscFieldDetails__filter"\n              ></span>\n            </button>\n          </div>\n        </div>\n        <kbn-tooltip text="{{::bucket.count}}" placement="right" append-to-body="1">\n          <progressbar\n            value="bucket.percent"\n            max="100"\n            animate="false"\n          >\n            <span class="dscFieldDetails__progress">{{bucket.percent}}%</span>\n          </progressbar>\n        </kbn-tooltip>\n      </div>\n    </div>\n  </div>\n\n  <a\n    ng-href="{{field.details.visualizeUrl}}"\n    ng-show="field.visualizable"\n    class="kuiButton kuiButton--secondary kuiButton--small kuiButton--fullWidth kuiVerticalRhythmSmall"\n    data-test-subj="fieldVisualize-{{::field.name}}"\n  >\n    <span\n      i18n-id="kbn.discover.fieldChooser.detailViews.visualizeLinkText"\n      i18n-default-message="Visualize"\n    ></span>\n    <span class="discover-field-vis-warning" ng-show="warnings.length" tooltip="{{warnings.join(\' \')}}">\n    ( <span\n      i18n-id="kbn.discover.fieldChooser.detailViews.warningsText"\n      i18n-default-message="{warningsLength, plural, one {# warning} other {# warnings}}"\n      i18n-values="{ warningsLength: warnings.length }"\n    ></span> <i aria-hidden="true" class="fa fa-warning"></i> )\n    </span>\n  </a>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fieldCalculator=undefined;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getFieldValues(hits,field){var name=field.name;var flattenHit=field.indexPattern.flattenHit;return _lodash2.default.map(hits,function(hit){return flattenHit(hit)[name]})}function getFieldValueCounts(params){params=_lodash2.default.defaults(params,{count:5,grouped:false});if(params.field.type==="geo_point"||params.field.type==="geo_shape"||params.field.type==="attachment"){return{error:_i18n.i18n.translate("kbn.discover.fieldChooser.fieldCalculator.analysisIsNotAvailableForGeoFieldsErrorMessage",{defaultMessage:"Analysis is not available for geo fields."})}}var allValues=getFieldValues(params.hits,params.field);var counts=void 0;var missing=_countMissing(allValues);try{var groups=_groupValues(allValues,params);counts=_lodash2.default.map(_lodash2.default.sortBy(groups,"count").reverse().slice(0,params.count),function(bucket){return{value:bucket.value,count:bucket.count,percent:(bucket.count/(params.hits.length-missing)*100).toFixed(1)}});if(params.hits.length-missing===0){return{error:_i18n.i18n.translate("kbn.discover.fieldChooser.fieldCalculator.fieldIsNotPresentInDocumentsErrorMessage",{defaultMessage:"This field is present in your Elasticsearch mapping but not in the {hitsLength} documents shown in the doc table. You may still be able to visualize or search on it.",values:{hitsLength:params.hits.length}})}}return{total:params.hits.length,exists:params.hits.length-missing,missing:missing,buckets:counts}}catch(e){return{error:e.message}}}function _countMissing(array){return array.length-_lodash2.default.without(array,undefined,null).length}function _groupValues(allValues,params){var groups={};var k=void 0;allValues.forEach(function(value){if(_lodash2.default.isObject(value)&&!Array.isArray(value)){throw new Error(_i18n.i18n.translate("kbn.discover.fieldChooser.fieldCalculator.analysisIsNotAvailableForObjectFieldsErrorMessage",{defaultMessage:"Analysis is not available for object fields."}))}if(Array.isArray(value)&&!params.grouped){k=value}else{k=value==null?undefined:[value]}_lodash2.default.each(k,function(key){if(groups.hasOwnProperty(key)){groups[key].count++}else{groups[key]={value:params.grouped?value:key,count:1}}})});return groups}var fieldCalculator=exports.fieldCalculator={_groupValues:_groupValues,_countMissing:_countMissing,getFieldValues:getFieldValues,getFieldValueCounts:getFieldValueCounts}},function(module,exports){module.exports='<section class="sidebar-list" aria-label="{{::\'kbn.discover.fieldChooser.filter.indexAndFieldsSectionAriaLabel\' | i18n: {defaultMessage: \'Index and fields\'} }}">\n  <div ng-show="indexPatternList.length > 1">\n    <ui-select\n      class="index-pattern-selection"\n      ng-model="selectedIndexPattern"\n      on-select="setIndexPattern($item)"\n    >\n      <ui-select-match>\n        <span\n          class="uiSelectMatch--ellipsis"\n          tooltip="{{$select.selected.get(\'title\')}}"\n          tooltip-append-to-body="true"\n        >\n          {{$select.selected.get(\'title\')}}\n        </span>\n      </ui-select-match>\n      <ui-select-choices repeat="pattern in indexPatternList | filter:$select.search">\n        <div ng-bind-html="pattern.get(\'title\') | highlight: $select.search"></div>\n      </ui-select-choices>\n    </ui-select>\n  </div>\n  <div ng-hide="indexPatternList.length > 1">\n    <div class="index-pattern">\n      <h2\n        class="index-pattern-label"\n        id="index_pattern_id"\n        tabindex="0"\n        css-truncate>\n\n        {{ indexPattern.title }}</h2>\n    </div>\n  </div>\n\n  <div class="dscSidebar__listHeader sidebar-list-header" ng-if="fields.length">\n    <h3\n      class="sidebar-list-header-label"\n      id="selected_fields"\n      tabindex="0"\n      i18n-id="kbn.discover.fieldChooser.filter.selectedFieldsTitle"\n      i18n-default-message="Selected fields"\n    ></h3>\n  </div>\n  <ul class="list-unstyled dscFieldList--selected" >\n    <discover-field\n      ng-repeat="field in fields.raw|filter:{display:true}"\n      field="field"\n      on-add-field="onAddField"\n      on-add-filter="onAddFilter"\n      on-remove-field="onRemoveField"\n      on-show-details="computeDetails"\n    >\n    </discover-field>\n  </ul>\n\n  <div class="sidebar-list-header sidebar-item euiFlexGroup euiFlexGroup--gutterMedium" ng-if="fields.length">\n    <h3\n      class="euiFlexItem sidebar-list-header-label"\n      id="available_fields"\n      tabindex="0"\n      i18n-id="kbn.discover.fieldChooser.filter.availableFieldsTitle"\n      i18n-default-message="Available fields"\n    ></h3>\n\n    <div class="euiFlexItem euiFlexItem--flexGrowZero">\n      <button\n        ng-click="$parent.showFields = !$parent.showFields"\n        aria-hidden="true"\n        class="kuiButton kuiButton--small visible-xs visible-sm pull-right field-collapse-toggle"\n      >\n        <span\n          aria-hidden="true"\n          class="kuiIcon"\n          ng-class="{ \'fa-chevron-right\': !$parent.showFields, \'fa-chevron-down\': $parent.showFields }"\n        ></span>\n      </button>\n    </div>\n    <div class="euiFlexItem euiFlexItem--flexGrowZero">\n      <button\n        type="button"\n        ng-class="{ \'kuiButton--basic\': !filter.active, \'kuiButton--primary\': filter.active, \'hidden-xs\': !$parent.showFields, \'hidden-sm\': !$parent.showFields }"\n        class="kuiButton kuiButton--small pull-right discover-field-filter-toggle"\n        ng-click="$parent.showFilter = !$parent.showFilter"\n        aria-label="{{toggleFieldFilterButtonAriaLabel}}"\n        aria-expanded="{{!!$parent.showFilter}}"\n        aria-controls="discoverFieldFilter"\n        data-test-subj="toggleFieldFilterButton"\n      >\n        <span aria-hidden="true" class="kuiIcon fa-gear"></span>\n      </button>\n    </div>\n  </div>\n\n  <div class="sidebar-item dscFieldDetails" ng-show="showFilter" id="discoverFieldFilter" data-test-subj="discoverFieldFilter">\n    <form role="form">\n      <div class="form-group">\n        <label\n          for="discoverFieldChooserFilterAggregatable"\n          i18n-id="kbn.discover.fieldChooser.filter.aggregatableLabel"\n          i18n-default-message="Aggregatable"\n        ></label>\n        <select\n          id="discoverFieldChooserFilterAggregatable"\n          ng-options="opt.value as opt.label for opt in filter.boolOpts"\n          ng-model="filter.vals.aggregatable"\n          class="form-control">\n        </select>\n      </div>\n      <div class="form-group">\n        <label\n          for="discoverFieldChooserFilterSearchable"\n          i18n-id="kbn.discover.fieldChooser.filter.searchableLabel"\n          i18n-default-message="Searchable"\n        ></label>\n        <select\n          id="discoverFieldChooserFilterSearchable"\n          ng-options="opt.value as opt.label for opt in filter.boolOpts"\n          ng-model="filter.vals.searchable"\n          class="form-control">\n        </select>\n      </div>\n      <div class="form-group">\n        <label\n          for="discoverFieldChooserFilterType"\n          i18n-id="kbn.discover.fieldChooser.filter.typeLabel"\n          i18n-default-message="Type"\n        ></label>\n        <select\n          id="discoverFieldChooserFilterType"\n          ng-options="field as field for field in fieldTypes"\n          ng-model="filter.vals.type"\n          class="form-control">\n        </select>\n      </div>\n      <div class="form-group">\n        <label\n          for="discoverFieldChooserFilterFieldName"\n          i18n-id="kbn.discover.fieldChooser.filter.fieldNameLabel"\n          i18n-default-message="Field name"\n        ></label>\n        <input\n          id="discoverFieldChooserFilterFieldName"\n          type="text"\n          class="form-control"\n          ng-model="filter.vals.name"\n        >\n      </div>\n      <div class="form-group">\n        <label for="discoverFieldChooserHideMissingFields">\n          <input id="discoverFieldChooserHideMissingFields" type="checkbox" ng-model="filter.vals.missing">\n          <span\n            i18n-id="kbn.discover.fieldChooser.filter.hideMissingFieldsLabel"\n            i18n-default-message="Hide missing fields"\n          ></span>\n        </label>\n      </div>\n      <button\n        ng-click="filter.reset()"\n        ng-disabled="!filter.active"\n        class="kuiButton kuiButton--danger kuiButton--fullWidth"\n        i18n-id="kbn.discover.fieldChooser.filter.resetFiltersButtonLabel"\n        i18n-default-message="Reset filters"\n      ></button>\n    </form>\n  </div>\n\n  <ul\n    ng-show="(popularFields | filter:filter.isFieldFiltered).length > 0"\n    ng-class="{ \'hidden-sm\': !showFields, \'hidden-xs\': !showFields }"\n    class="list-unstyled sidebar-well dscFieldList--popular">\n    <li class="sidebar-item sidebar-list-header">\n      <h6\n        i18n-id="kbn.discover.fieldChooser.filter.popularTitle"\n        i18n-default-message="Popular"\n      ></h6>\n    </li>\n    <discover-field\n      ng-repeat="field in popularFields | filter:filter.isFieldFiltered"\n      field="field"\n      on-add-field="onAddField"\n      on-add-filter="onAddFilter"\n      on-remove-field="onRemoveField"\n      on-show-details="computeDetails"\n    >\n    </discover-field>\n  </ul>\n\n  <ul\n    ng-class="{ \'hidden-sm\': !showFields, \'hidden-xs\': !showFields  }"\n    class="list-unstyled dscFieldList--unpopular">\n    <discover-field\n      ng-repeat="field in unpopularFields | filter:filter.isFieldFiltered"\n      field="field"\n      on-add-field="onAddField"\n      on-add-filter="onAddFilter"\n      on-remove-field="onRemoveField"\n      on-show-details="computeDetails"\n    >\n    </discover-field>\n  </ul>\n\n</section>\n'},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _angular=__webpack_require__(21);var _angular2=_interopRequireDefault(_angular);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _get_sort=__webpack_require__(1091);var _columns=__webpack_require__(1094);var columnActions=_interopRequireWildcard(_columns);var _filter=__webpack_require__(1112);var filterActions=_interopRequireWildcard(_filter);var _datemath=__webpack_require__(57);var _datemath2=_interopRequireDefault(_datemath);__webpack_require__(1090);__webpack_require__(1357);__webpack_require__(4807);__webpack_require__(944);__webpack_require__(334);__webpack_require__(217);__webpack_require__(442);var _timefilter=__webpack_require__(16);__webpack_require__(678);var _courier=__webpack_require__(195);var _notify=__webpack_require__(10);var _vis=__webpack_require__(898);var _vislib=__webpack_require__(1081);var _doc_title=__webpack_require__(294);var _hit_sort_fn=__webpack_require__(4808);var _hit_sort_fn2=_interopRequireDefault(_hit_sort_fn);var _query_filter=__webpack_require__(239);var _interval_options=__webpack_require__(911);var _state_monitor_factory=__webpack_require__(680);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(4);var _index=__webpack_require__(4809);var _index2=_interopRequireDefault(_index);var _state=__webpack_require__(556);var _migrate_legacy_query=__webpack_require__(453);var _filter_manager=__webpack_require__(461);var _saved_objects=__webpack_require__(50);var _visualize_loader=__webpack_require__(481);var _persisted_log=__webpack_require__(193);var _documentation_links=__webpack_require__(65);__webpack_require__(4810);var _get_painless_error=__webpack_require__(4812);var _share=__webpack_require__(684);var _state_hashing=__webpack_require__(291);var _inspector=__webpack_require__(343);var _adapters=__webpack_require__(410);var _courier_inspector_utils=__webpack_require__(458);var _show_open_search_panel=__webpack_require__(4813);var _tabify=__webpack_require__(4815);var _show_saved_object_save_modal=__webpack_require__(681);var _saved_object_save_modal=__webpack_require__(682);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var app=_modules.uiModules.get("apps/discover",["kibana/notify","kibana/courier","kibana/url","kibana/index_patterns"]);_routes2.default.defaults(/discover/,{requireDefaultIndex:true}).when("/discover/:id?",{template:_index2.default,reloadOnSearch:false,resolve:{ip:function ip(Promise,indexPatterns,config,$location,Private){var State=Private(_state.StateProvider);var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);return savedObjectsClient.find({type:"index-pattern",fields:["title"],perPage:1e4}).then(function(_ref){var savedObjects=_ref.savedObjects;var state=new State("_a",{});var specified=!!state.index;var exists=_lodash2.default.findIndex(savedObjects,function(o){return o.id===state.index})>-1;var id=exists?state.index:config.get("defaultIndex");state.destroy();return Promise.props({list:savedObjects,loaded:indexPatterns.get(id),stateVal:state.index,stateValFound:specified&&exists})})},savedSearch:function savedSearch(redirectWhenMissing,savedSearches,$route){var savedSearchId=$route.current.params.id;return savedSearches.get(savedSearchId).then(function(savedSearch){if(savedSearchId){_persisted_log.recentlyAccessed.add(savedSearch.getFullPath(),savedSearch.title,savedSearchId)}return savedSearch}).catch(redirectWhenMissing({search:"/discover","index-pattern":"/management/kibana/objects/savedSearches/"+$route.current.params.id}))}}});app.directive("discoverApp",function(){return{restrict:"E",controllerAs:"discoverApp",controller:discoverController}});function discoverController($element,$route,$scope,$timeout,$window,AppState,Notifier,Private,Promise,config,courier,kbnUrl,localStorage,i18n){var _this=this;var saveDataSource=function(){var _ref10=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(saveOptions){var id;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return $scope.updateDataSource();case 2:savedSearch.columns=$scope.state.columns;savedSearch.sort=$scope.state.sort;_context6.prev=4;_context6.next=7;return savedSearch.save(saveOptions);case 7:id=_context6.sent;$scope.$evalAsync(function(){stateMonitor.setInitialState($state.toJSON());if(id){_notify.toastNotifications.addSuccess({title:i18n("kbn.discover.notifications.savedSearchTitle",{defaultMessage:"Search '{savedSearchTitle}' was saved",values:{savedSearchTitle:savedSearch.title}}),"data-test-subj":"saveSearchSuccess"});if(savedSearch.id!==$route.current.params.id){kbnUrl.change("/discover/{{id}}",{id:savedSearch.id})}else{$state.setDefaults(getStateDefaults());docTitle.change(savedSearch.lastSavedTitle)}}});return _context6.abrupt("return",{id:id});case 12:_context6.prev=12;_context6.t0=_context6["catch"](4);_notify.toastNotifications.addDanger({title:i18n("kbn.discover.notifications.notSavedSearchTitle",{defaultMessage:"Search '{savedSearchTitle}' was not saved.",values:{savedSearchTitle:savedSearch.title}}),text:_context6.t0.message});return _context6.abrupt("return",{error:_context6.t0});case 16:case"end":return _context6.stop()}}},_callee6,this,[[4,12]])}));return function saveDataSource(_x4){return _ref10.apply(this,arguments)}}();var setupVisualization=function(){var _ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(){var _this2=this;var visStateAggs,visState,visSavedObject;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if($scope.opts.timefield){_context8.next=2;break}return _context8.abrupt("return");case 2:visStateAggs=[{type:"count",schema:"metric"},{type:"date_histogram",schema:"segment",params:{field:$scope.opts.timefield,interval:$state.interval,timeRange:_timefilter.timefilter.getTime()}}];if(!$scope.vis){_context8.next=8;break}visState=$scope.vis.getEnabledState();visState.aggs=visStateAggs;$scope.vis.setState(visState);return _context8.abrupt("return");case 8:visSavedObject={indexPattern:$scope.indexPattern.id,visState:{type:"histogram",title:savedSearch.title,params:{addLegend:false,addTimeMarker:true},aggs:visStateAggs}};$scope.vis=new Vis($scope.searchSource.getField("index"),visSavedObject.visState);visSavedObject.vis=$scope.vis;$scope.searchSource.onRequestStart(function(searchSource,searchRequest){return $scope.vis.getAggConfig().onSearchRequestStart(searchSource,searchRequest)});$scope.searchSource.setField("aggs",function(){return $scope.vis.getAggConfig().toDsl()});$timeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var visEl;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:visEl=$element.find("#discoverHistogram")[0];_context7.next=3;return visualizeLoader.embedVisualizationWithSavedObject(visEl,visSavedObject,{autoFetch:false});case 3:visualizeHandler=_context7.sent;case 4:case"end":return _context7.stop()}}},_callee7,_this2)})));case 14:case"end":return _context8.stop()}}},_callee8,this)}));return function setupVisualization(){return _ref11.apply(this,arguments)}}();var visualizeLoader=Private(_visualize_loader.VisualizeLoaderProvider);var visualizeHandler=void 0;var Vis=Private(_vis.VisProvider);var docTitle=Private(_doc_title.DocTitleProvider);var HitSortFn=Private(_hit_sort_fn2.default);var queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);var responseHandler=Private(_vislib.VislibSeriesResponseHandlerProvider).handler;var filterManager=Private(_filter_manager.FilterManagerProvider);var notify=new Notifier({location:"Discover"});var getUnhashableStates=Private(_state_hashing.getUnhashableStatesProvider);var shareContextMenuExtensions=Private(_share.ShareContextMenuExtensionsRegistryProvider);var inspectorAdapters={requests:new _adapters.RequestAdapter};$scope.getDocLink=_documentation_links.getDocLink;$scope.intervalOptions=_interval_options.intervalOptions;$scope.showInterval=false;$scope.minimumVisibleRows=50;$scope.intervalEnabled=function(interval){return interval.val!=="custom"};var savedSearch=$route.current.locals.savedSearch;$scope.$on("$destroy",savedSearch.destroy);var $appStatus=$scope.appStatus=this.appStatus={dirty:!savedSearch.id};$scope.topNavMenu=[{key:"new",label:i18n("kbn.discover.localMenu.localMenu.newSearchTitle",{defaultMessage:"New"}),description:i18n("kbn.discover.localMenu.newSearchDescription",{defaultMessage:"New Search"}),run:function run(){kbnUrl.change("/discover")},testId:"discoverNewButton"},{key:"save",label:i18n("kbn.discover.localMenu.saveTitle",{defaultMessage:"Save"}),description:i18n("kbn.discover.localMenu.saveSearchDescription",{defaultMessage:"Save Search"}),testId:"discoverSaveButton",run:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var onSave,saveModal;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:onSave=function onSave(_ref3){var newTitle=_ref3.newTitle,newCopyOnSave=_ref3.newCopyOnSave,isTitleDuplicateConfirmed=_ref3.isTitleDuplicateConfirmed,onTitleDuplicate=_ref3.onTitleDuplicate;var currentTitle=savedSearch.title;savedSearch.title=newTitle;savedSearch.copyOnSave=newCopyOnSave;var saveOptions={confirmOverwrite:false,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate};return saveDataSource(saveOptions).then(function(_ref4){var id=_ref4.id,error=_ref4.error;if(!id||error){savedSearch.title=currentTitle}return{id:id,error:error}})};saveModal=_react2.default.createElement(_saved_object_save_modal.SavedObjectSaveModal,{onSave:onSave,onClose:function onClose(){},title:savedSearch.title,showCopyOnSave:savedSearch.id?true:false,objectType:"search"});(0,_show_saved_object_save_modal.showSaveModal)(saveModal);case 3:case"end":return _context.stop()}}},_callee,_this)}));function run(){return _ref2.apply(this,arguments)}return run}()},{key:"open",label:i18n("kbn.discover.localMenu.openTitle",{defaultMessage:"Open"}),description:i18n("kbn.discover.localMenu.openSavedSearchDescription",{defaultMessage:"Open Saved Search"}),testId:"discoverOpenButton",run:function run(){(0,_show_open_search_panel.showOpenSearchPanel)({makeUrl:function makeUrl(searchId){return kbnUrl.eval("#/discover/{{id}}",{id:searchId})}})}},{key:"share",label:i18n("kbn.discover.localMenu.shareTitle",{defaultMessage:"Share"}),description:i18n("kbn.discover.localMenu.shareSearchDescription",{defaultMessage:"Share Search"}),testId:"shareTopNavButton",run:function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(menuItem,navController,anchorElement){var sharingData;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.getSharingData();case 2:sharingData=_context2.sent;(0,_share.showShareContextMenu)({anchorElement:anchorElement,allowEmbed:false,getUnhashableStates:getUnhashableStates,objectId:savedSearch.id,objectType:"search",shareContextMenuExtensions:shareContextMenuExtensions,sharingData:_extends({},sharingData,{title:savedSearch.title}),isDirty:$appStatus.dirty});case 4:case"end":return _context2.stop()}}},_callee2,_this)}));function run(_x,_x2,_x3){return _ref5.apply(this,arguments)}return run}()},{key:"inspect",label:i18n("kbn.discover.localMenu.inspectTitle",{defaultMessage:"Inspect"}),description:i18n("kbn.discover.localMenu.openInspectorForSearchDescription",{defaultMessage:"Open Inspector for search"}),testId:"openInspectorButton",run:function run(){_inspector.Inspector.open(inspectorAdapters,{title:savedSearch.title})}}];$scope.searchSource=savedSearch.searchSource;$scope.indexPattern=resolveIndexPatternLoading();$scope.searchSource.setField("index",$scope.indexPattern).setField("highlightAll",true).setField("version",true);$scope.searchSource.setPreferredSearchStrategyId("default");var timeRangeSearchSource=savedSearch.searchSource.create();if((0,_courier.isDefaultTypeIndexPattern)($scope.indexPattern)){timeRangeSearchSource.setField("filter",function(){return _timefilter.timefilter.createFilter($scope.indexPattern)})}$scope.searchSource.setParent(timeRangeSearchSource);var pageTitleSuffix=savedSearch.id&&savedSearch.title?": "+savedSearch.title:"";docTitle.change("Discover"+pageTitleSuffix);var discoverBreadcrumbsTitle=i18n("kbn.discover.discoverBreadcrumbTitle",{defaultMessage:"Discover"});if(savedSearch.id&&savedSearch.title){_chrome2.default.breadcrumbs.set([{text:discoverBreadcrumbsTitle,href:"#/discover"},{text:savedSearch.title}])}else{_chrome2.default.breadcrumbs.set([{text:discoverBreadcrumbsTitle}])}var stateMonitor=void 0;var $state=$scope.state=new AppState(getStateDefaults());var getFieldCounts=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if($scope.fetchStatus){_context3.next=2;break}return _context3.abrupt("return",$scope.fieldCounts);case 2:_context3.next=4;return new Promise(function(resolve){var unwatch=$scope.$watch("fetchStatus",function(newValue){if(newValue){return}unwatch();resolve($scope.fieldCounts)})});case 4:return _context3.abrupt("return",_context3.sent);case 5:case"end":return _context3.stop()}}},_callee3,_this)}));return function getFieldCounts(){return _ref6.apply(this,arguments)}}();var getSharingDataFields=function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var selectedFields,fieldCounts,timeFieldName,fields;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:selectedFields=$state.columns;if(!(selectedFields.length===1&&selectedFields[0]==="_source")){_context4.next=6;break}_context4.next=4;return getFieldCounts();case 4:fieldCounts=_context4.sent;return _context4.abrupt("return",{searchFields:null,selectFields:_lodash2.default.keys(fieldCounts).sort()});case 6:timeFieldName=$scope.indexPattern.timeFieldName;fields=timeFieldName?[timeFieldName].concat(_toConsumableArray(selectedFields)):selectedFields;return _context4.abrupt("return",{searchFields:fields,selectFields:fields});case 9:case"end":return _context4.stop()}}},_callee4,_this)}));return function getSharingDataFields(){return _ref7.apply(this,arguments)}}();this.getSharingData=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var searchSource,_ref9,searchFields,selectFields,body;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:searchSource=$scope.searchSource.createCopy();_context5.next=3;return getSharingDataFields();case 3:_ref9=_context5.sent;searchFields=_ref9.searchFields;selectFields=_ref9.selectFields;searchSource.setField("fields",searchFields);searchSource.setField("sort",(0,_get_sort.getSort)($state.sort,$scope.indexPattern));searchSource.setField("highlight",null);searchSource.setField("highlightAll",null);searchSource.setField("aggs",null);searchSource.setField("size",null);_context5.next=14;return searchSource.getSearchRequestBody();case 14:body=_context5.sent;return _context5.abrupt("return",{searchRequest:{index:searchSource.getField("index").title,body:body},fields:selectFields,metaFields:$scope.indexPattern.metaFields,conflictedTypesFields:$scope.indexPattern.fields.filter(function(f){return f.type==="conflict"}).map(function(f){return f.name}),indexPatternId:searchSource.getField("index").id});case 16:case"end":return _context5.stop()}}},_callee5,_this)}));$scope.uiState=$state.makeStateful("uiState");function getStateDefaults(){return{query:$scope.searchSource.getField("query")||{query:"",language:localStorage.get("kibana.userQueryLanguage")||config.get("search:queryLanguage")},sort:_get_sort.getSort.array(savedSearch.sort,$scope.indexPattern,config.get("discover:sort:defaultOrder")),columns:savedSearch.columns.length>0?savedSearch.columns:config.get("defaultColumns").slice(),index:$scope.indexPattern.id,interval:"auto",filters:_lodash2.default.cloneDeep($scope.searchSource.getOwnField("filter"))}}$state.index=$scope.indexPattern.id;$state.sort=_get_sort.getSort.array($state.sort,$scope.indexPattern);$scope.getBucketIntervalToolTipText=function(){return i18n("kbn.discover.bucketIntervalTooltip",{defaultMessage:"This interval creates {bucketsDescription} to show in the selected time range, so it has been scaled to {bucketIntervalDescription}",values:{bucketsDescription:$scope.bucketInterval.scale>1?i18n("kbn.discover.bucketIntervalTooltip.tooLargeBucketsText",{defaultMessage:"buckets that are too large"}):i18n("kbn.discover.bucketIntervalTooltip.tooManyBucketsText",{defaultMessage:"too many buckets"}),bucketIntervalDescription:$scope.bucketInterval.description}})};$scope.$watchCollection("state.columns",function(){$state.save()});$scope.opts={sampleSize:config.get("discover:sampleSize"),timefield:(0,_courier.isDefaultTypeIndexPattern)($scope.indexPattern)&&$scope.indexPattern.timeFieldName,savedSearch:savedSearch,indexPatternList:$route.current.locals.ip.list};var init=_lodash2.default.once(function(){stateMonitor=_state_monitor_factory.stateMonitorFactory.create($state,getStateDefaults());stateMonitor.onChange(function(status){$appStatus.dirty=status.dirty||!savedSearch.id});$scope.$on("$destroy",function(){return stateMonitor.destroy()});$scope.updateDataSource().then(function(){$scope.$listen(_timefilter.timefilter,"fetch",function(){$scope.fetch()});$scope.$watchCollection("state.sort",function(sort){if(!sort)return;var currentSort=_lodash2.default.pairs($scope.searchSource.getField("sort")).pop();if(!_angular2.default.equals(sort,currentSort))$scope.fetch()});$scope.$listen(queryFilter,"update",function(){return $scope.updateDataSource().then(function(){$state.save()})});$scope.$listen($state,"fetch_with_changes",function(diff){if(diff.indexOf("query")>=0)$scope.fetch()});$scope.$listen(queryFilter,"fetch",$scope.fetch);_timefilter.timefilter.enableAutoRefreshSelector();$scope.$watch("opts.timefield",function(timefield){if(!!timefield){_timefilter.timefilter.enableTimeRangeSelector()}else{_timefilter.timefilter.disableTimeRangeSelector()}});$scope.$watch("state.interval",function(){$scope.fetch()});$scope.$watch("vis.aggs",function(){if(!$scope.opts.timefield)return;var buckets=$scope.vis.getAggConfig().bySchemaGroup.buckets;if(buckets&&buckets.length===1){$scope.bucketInterval=buckets[0].buckets.getInterval()}});$scope.$watch("state.query",$scope.updateQueryAndFetch);$scope.$watchMulti(["rows","fetchStatus"],function updateResultState(){var prev={};var status={LOADING:"loading",READY:"ready",NO_RESULTS:"none"};function pick(rows,oldRows,fetchStatus){if(rows==null&&oldRows==null)return status.LOADING;var rowsEmpty=_lodash2.default.isEmpty(rows);var preparingForFetch=_lodash2.default.isUndefined(fetchStatus);if(preparingForFetch)return status.LOADING;else if(rowsEmpty&&fetchStatus)return status.LOADING;else if(!rowsEmpty)return status.READY;else return status.NO_RESULTS}return function(){var current={rows:$scope.rows,fetchStatus:$scope.fetchStatus};$scope.resultState=pick(current.rows,prev.rows,current.fetchStatus,prev.fetchStatus);prev=current}}());if($scope.opts.timefield){setupVisualization();$scope.updateTime()}init.complete=true;$state.replace()})});$scope.opts.fetch=$scope.fetch=function(){if(!init.complete)return;$scope.fetchError=undefined;$scope.updateTime();$scope.updateDataSource().then(setupVisualization).then(function(){$state.save();return courier.fetch()}).catch(notify.error)};$scope.updateQueryAndFetch=function(query){$state.query=(0,_migrate_legacy_query.migrateLegacyQuery)(query);$scope.fetch()};function handleSegmentedFetch(segmented){function flushResponseData(){$scope.fetchError=undefined;$scope.hits=0;$scope.failures=[];$scope.rows=[];$scope.fieldCounts={}}if(!$scope.rows)flushResponseData();var sort=$state.sort;var timeField=$scope.indexPattern.timeFieldName;var sortBy=function(){if(!Array.isArray(sort))return"implicit";else if(sort[0]==="_score")return"implicit";else if(sort[0]===timeField)return"time";else return"non-time"}();var sortFn=null;if(sortBy!=="implicit"){sortFn=new HitSortFn(sort[1])}$scope.updateTime();if(sort[0]==="_score"){segmented.setMaxSegments(1)}segmented.setDirection(sortBy==="time"?sort[1]||"desc":"desc");segmented.setSortFn(sortFn);segmented.setSize($scope.opts.sampleSize);var inspectorRequests=[];function logResponseInInspector(resp){if(inspectorRequests.length>0){var inspectorRequest=inspectorRequests.shift();inspectorRequest.stats((0,_courier_inspector_utils.getResponseInspectorStats)($scope.searchSource,resp)).ok({json:resp})}}segmented.on("status",function(status){$scope.fetchStatus=status;if(status.complete===0){inspectorAdapters.requests.reset();inspectorRequests=[]}if(status.remaining>0){var inspectorRequest=inspectorAdapters.requests.start(i18n("kbn.discover.inspectorRequest.segmentFetchCompleteStatusTitle",{defaultMessage:"Segment {fetchCompleteStatus}",values:{fetchCompleteStatus:$scope.fetchStatus.complete}}),{description:i18n("kbn.discover.inspectorRequest.segmentFetchCompleteStatusDescription",{defaultMessage:"This request queries Elasticsearch to fetch the data for the search."})});inspectorRequest.stats((0,_courier_inspector_utils.getRequestInspectorStats)($scope.searchSource));$scope.searchSource.getSearchRequestBody().then(function(body){inspectorRequest.json(body)});inspectorRequests.push(inspectorRequest)}});segmented.on("first",function(){flushResponseData()});segmented.on("segment",function(resp){logResponseInInspector(resp);if(resp._shards.failed>0){$scope.failures=_lodash2.default.union($scope.failures,resp._shards.failures);$scope.failures=_lodash2.default.uniq($scope.failures,false,function(failure){return failure.index+failure.shard+failure.reason})}});segmented.on("emptySegment",function(resp){logResponseInInspector(resp)});segmented.on("mergedSegment",function(merged){$scope.mergedEsResp=merged;if($scope.opts.timefield){var tabifiedData=(0,_tabify.tabifyAggResponse)($scope.vis.aggs,merged);$scope.searchSource.rawResponse=merged;Promise.resolve(responseHandler(tabifiedData)).then(function(resp){visualizeHandler.render(resp)})}$scope.hits=merged.hits.total;var indexPattern=$scope.searchSource.getField("index");$scope.rows=merged.hits.hits.slice();var counts=$scope.fieldCounts;if(!counts||sortFn)counts=$scope.fieldCounts={};$scope.rows.forEach(function(hit){if(hit.$$_counted)return;if(!sortFn)hit.$$_counted=true;var fields=_lodash2.default.keys(indexPattern.flattenHit(hit));var n=fields.length;var field=void 0;while(field=fields[--n]){if(counts[field])counts[field]+=1;else counts[field]=1}})});segmented.on("complete",function(){if($scope.fetchStatus.hitCount===0){flushResponseData()}$scope.fetchStatus=null})}function beginSegmentedFetch(){$scope.searchSource.onBeginSegmentedFetch(handleSegmentedFetch).catch(function(error){var fetchError=(0,_get_painless_error.getPainlessError)(error);if(fetchError){$scope.fetchError=fetchError}else{notify.error(error)}beginSegmentedFetch()})}beginSegmentedFetch();$scope.updateTime=function(){$scope.timeRange={from:_datemath2.default.parse(_timefilter.timefilter.getTime().from),to:_datemath2.default.parse(_timefilter.timefilter.getTime().to,{roundUp:true})}};$scope.resetQuery=function(){kbnUrl.change("/discover/{{id}}",{id:$route.current.params.id})};$scope.newQuery=function(){kbnUrl.change("/discover")};$scope.updateDataSource=Promise.method(function updateDataSource(){$scope.searchSource.setField("size",$scope.opts.sampleSize).setField("sort",(0,_get_sort.getSort)($state.sort,$scope.indexPattern)).setField("query",!$state.query?null:$state.query).setField("filter",queryFilter.getFilters())});$scope.setSortOrder=function setSortOrder(columnName,direction){$scope.state.sort=[columnName,direction]};$scope.filterQuery=function(field,values,operation){$scope.indexPattern.popularizeField(field,1);filterActions.addFilter(field,values,operation,$scope.indexPattern.id,$scope.state,filterManager)};$scope.addColumn=function addColumn(columnName){$scope.indexPattern.popularizeField(columnName,1);columnActions.addColumn($scope.state.columns,columnName)};$scope.removeColumn=function removeColumn(columnName){$scope.indexPattern.popularizeField(columnName,1);columnActions.removeColumn($scope.state.columns,columnName)};$scope.moveColumn=function moveColumn(columnName,newIndex){columnActions.moveColumn($scope.state.columns,columnName,newIndex)};$scope.scrollToTop=function(){$window.scrollTo(0,0)};$scope.scrollToBottom=function(){$timeout(function(){$element.find("#discoverBottomMarker").focus()},0)};$scope.showAllRows=function(){$scope.minimumVisibleRows=$scope.hits};function resolveIndexPatternLoading(){var _$route$current$local=$route.current.locals.ip,loadedIndexPattern=_$route$current$local.loaded,stateVal=_$route$current$local.stateVal,stateValFound=_$route$current$local.stateValFound;var ownIndexPattern=$scope.searchSource.getOwnField("index");if(ownIndexPattern&&!stateVal){return ownIndexPattern}if(stateVal&&!stateValFound){var warningTitle=i18n("kbn.discover.valueIsNotConfiguredIndexPatternIDWarningTitle",{defaultMessage:"{stateVal} is not a configured index pattern ID",values:{stateVal:'"'+stateVal+'"'}});if(ownIndexPattern){_notify.toastNotifications.addWarning({title:warningTitle,text:i18n("kbn.discover.showingSavedIndexPatternWarningDescription",{defaultMessage:'Showing the saved index pattern: "{ownIndexPatternTitle}" ({ownIndexPatternId})',values:{ownIndexPatternTitle:ownIndexPattern.title,ownIndexPatternId:ownIndexPattern.id}})});return ownIndexPattern}_notify.toastNotifications.addWarning({title:warningTitle,text:i18n("kbn.discover.showingDefaultIndexPatternWarningDescription",{defaultMessage:'Showing the default index pattern: "{loadedIndexPatternTitle}" ({loadedIndexPatternId})',values:{loadedIndexPatternTitle:loadedIndexPattern.title,loadedIndexPatternId:loadedIndexPattern.id}})})}return loadedIndexPattern}$scope.isUnsupportedIndexPattern=!(0,_courier.isDefaultTypeIndexPattern)($route.current.locals.ip.loaded)&&!(0,_courier.hasSearchStategyForIndexPattern)($route.current.locals.ip.loaded);if($scope.isUnsupportedIndexPattern){$scope.unsupportedIndexPatternType=$route.current.locals.ip.loaded.type;return}init()}},function(module,exports,__webpack_require__){"use strict";var _jquery=__webpack_require__(17);var _jquery2=_interopRequireDefault(_jquery);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _modules=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SCROLLER_HEIGHT=20;_modules.uiModules.get("kibana").directive("fixedScroll",function(debounce){return{restrict:"A",link:function link($scope,$el){var $window=(0,_jquery2.default)(window);var $scroller=(0,_jquery2.default)('<div class="fixed-scroll-scroller">').height(SCROLLER_HEIGHT);var unlisten=_lodash2.default.noop;function listen(){if(unlisten!==_lodash2.default.noop){throw new Error("fixedScroll listeners were not cleaned up properly before re-listening!")}var blockTo=void 0;function bind($from,$to){function handler(){if(blockTo===$to)return blockTo=null;$to.scrollLeft((blockTo=$from).scrollLeft())}$from.on("scroll",handler);return function(){$from.off("scroll",handler)}}unlisten=_lodash2.default.flow(bind($el,$scroller),bind($scroller,$el),function(){unlisten=_lodash2.default.noop})}function cleanUp(){unlisten();$scroller.detach();$el.css("padding-bottom",0)}function setup(){cleanUp();var containerWidth=$el.width();var contentWidth=$el.prop("scrollWidth");var containerHorizOverflow=contentWidth-containerWidth;var elTop=$el.offset().top-$window.scrollTop();var elBottom=elTop+$el.height();var windowVertOverflow=elBottom-$window.height();var requireScroller=containerHorizOverflow>0&&windowVertOverflow>0;if(!requireScroller)return;$el.css("padding-bottom",SCROLLER_HEIGHT);$scroller.width(containerWidth).html((0,_jquery2.default)("<div>").css({width:contentWidth,height:SCROLLER_HEIGHT})).insertAfter($el);listen()}var width=void 0;var scrollWidth=void 0;function checkWidth(){var newScrollWidth=$el.prop("scrollWidth");var newWidth=$el.width();if(scrollWidth!==newScrollWidth||width!==newWidth){$scope.$apply(setup);scrollWidth=newScrollWidth;width=newWidth}}var debouncedCheckWidth=debounce(checkWidth,100,{invokeApply:false});$scope.$watch(debouncedCheckWidth);$scope.$on("$destroy",function(){cleanUp();debouncedCheckWidth.cancel();$scroller=$window=null})}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=HitSortFnFactory;function HitSortFnFactory(){return function createHitSortFn(direction){var descending=direction==="desc";return function sortHits(hitA,hitB){var bBelowa=null;var aSorts=hitA.sort||[];var bSorts=hitB.sort||[];for(var i=0;i<bSorts.length;i++){var a=aSorts[i];var b=bSorts[i];if(a==null||b>a){bBelowa=!descending;break}if(b<a){bBelowa=descending;break}}if(bBelowa!==null){return bBelowa?-1:1}else{return 0}}}}module.exports=exports["default"]},function(module,exports){module.exports='<discover-app class="app-container">\n  \x3c!-- Local nav. --\x3e\n  <kbn-top-nav name="discover" config="topNavMenu">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <div data-transclude-slot="topLeftCorner" class="kuiLocalBreadcrumbs">\n        <h1 tabindex="0" id="kui_local_breadcrumb" class="kuiLocalBreadcrumb">\n          <span ng-show="opts.savedSearch.id" class="kuiLocalBreadcrumb__emphasis">\n            <span data-test-subj="discoverCurrentQuery" ng-bind="opts.savedSearch.lastSavedTitle"></span>\n            <span\n              id="reload_saved_search"\n              aria-label="{{::\'kbn.discover.reloadSavedSearchAriaLabel\' | i18n: {defaultMessage: \'Reload Saved Search\'} }}"\n              tooltip="{{::\'kbn.discover.reloadSavedSearchTooltip\' | i18n: {defaultMessage: \'Reload Saved Search\'} }}"\n              ng-click="resetQuery()"\n              kbn-accessible-click\n              class="kuiIcon fa-undo small"\n            ></span>&nbsp;\n          </span>\n          <span data-test-subj="discoverQueryHits" class="kuiLocalBreadcrumb__emphasis">{{(hits || 0) | number:0}}</span>\n          <span\n            i18n-id="kbn.discover.hitsPluralTitle"\n            i18n-default-message="{hits, plural, one {hit} other {hits}}"\n            i18n-values="{ hits }"\n          ></span>\n        </h1>\n      </div>\n\n      \x3c!-- Search. --\x3e\n      <div data-transclude-slot="bottomRow" class="fullWidth">\n        <query-bar\n          query="state.query"\n          on-submit="updateQueryAndFetch"\n          app-name="\'discover\'"\n          index-patterns="[indexPattern]"\n        ></query-bar>\n      </div>\n    </div>\n  </kbn-top-nav>\n\n  <main class="container-fluid">\n    <div class="row">\n      <filter-bar\n        state="state"\n        index-patterns="[indexPattern]"\n      ></filter-bar>\n    </div>\n    <div class="row">\n      <div class="col-md-2 sidebar-container collapsible-sidebar" id="discover-sidebar">\n        <disc-field-chooser\n          class="dscFieldChooser"\n          columns="state.columns"\n          hits="rows"\n          field-counts="fieldCounts"\n          index-pattern="searchSource.getField(\'index\')"\n          index-pattern-list="opts.indexPatternList"\n          state="state"\n          on-add-field="addColumn"\n          on-add-filter="filterQuery"\n          on-remove-field="removeColumn"\n        >\n        </disc-field-chooser>\n      </div>\n\n      <div class="dscWrapper col-md-10">\n        <div class="dscWrapper__content">\n          <discover-unsupported-index-pattern\n            ng-if="isUnsupportedIndexPattern"\n            unsupported-type="unsupportedIndexPatternType"\n          ></discover-unsupported-index-pattern>\n\n          <discover-no-results\n            ng-show="resultState === \'none\'"\n            top-nav-toggle="kbnTopNav.toggle"\n            is-time-picker-open="kbnTopNav.isCurrent(\'filter\')"\n            shard-failures="failures"\n            time-field-name="opts.timefield"\n            query-language="state.query.language"\n            get-doc-link="getDocLink"\n          ></discover-no-results>\n\n          \x3c!-- loading --\x3e\n          <div ng-show="resultState === \'loading\'">\n            <discover-fetch-error\n              ng-show="fetchError"\n              fetch-error="fetchError"\n            ></discover-fetch-error>\n\n            <div\n              ng-hide="fetchError"\n              class="dscOverlay"\n            >\n              <div class="euiTitle" >\n                <h2\n                  i18n-id="kbn.discover.searchingTitle"\n                  i18n-default-message="Searching"\n                ></h2>\n              </div>\n              <div class="euiSpacer euiSpacer--m"></div>\n              <div ng-show="fetchStatus">{{fetchStatus.complete}}/{{fetchStatus.total}}</div>\n            </div>\n          </div>\n\n          \x3c!-- result --\x3e\n          <div class="dscResults" ng-show="resultState === \'ready\'">\n            <button\n              class="kuiButton kuiButton--basic kuiButton--iconText dscSkipButton"\n              ng-click="showAllRows(); scrollToBottom()"\n            >\n              <span class="kuiButton__inner">\n                <span aria-hidden="true" class="kuiButton__icon kuiIcon fa-chevron-down"></span>\n                <span\n                  i18n-id="kbn.discover.skipToBottomButtonLabel"\n                  i18n-default-message="Skip to bottom"\n                ></span>\n              </span>\n            </button>\n\n            <section\n              aria-label="{{::\'kbn.discover.histogramOfFoundDocumentsAriaLabel\' | i18n: {defaultMessage: \'Histogram of found documents\'} }}"\n              class="dscTimechart"\n              ng-if="opts.timefield"\n            >\n              <header class="dscTimechart__header">\n                <div class="small">\n                  <span\n                    tooltip="{{::\'kbn.discover.howToChangeTheTimeTooltip\' | i18n: {defaultMessage: \'To change the time, click the clock icon in the navigation bar\'} }}"\n                  >\n                    {{timeRange.from | moment}} - {{timeRange.to | moment}}\n                  </span>\n\n                  &mdash;\n\n                  <span class="form-inline">\n                    <select\n                      class="dscResults__interval form-control"\n                      ng-model="state.interval"\n                      ng-options="interval.val as interval.display for interval in intervalOptions | filter: intervalEnabled"\n                      ng-blur="toggleInterval()"\n                      data-test-subj="discoverIntervalSelect"\n                      >\n                    </select>\n                    <span ng-if="bucketInterval.scaled">\n                      <icon-tip\n                        content="getBucketIntervalToolTipText()"\n                        position="\'top\'"\n                      ></icon-tip>\n                      <span\n                        i18n-id="kbn.discover.scaledToDescription"\n                        i18n-default-message="Scaled to {bucketIntervalDescription}"\n                        i18n-values="{\n                          bucketIntervalDescription: bucketInterval.description\n                        }"\n                      ></span>\n                    </span>\n                  </span>\n                </div>\n\n              </header>\n\n              <div id="discoverHistogram"\n                 ng-show="vis && rows.length !== 0"\n                 style="display: flex; height: 200px"\n                >\n              </div>\n            </section>\n\n            <section\n              class="dscTable"\n              fixed-scroll\n              aria-label="{{::\'kbn.discover.documentsAriaLabel\' | i18n: {defaultMessage: \'Documents\'} }}"\n            >\n              <doc-table\n                hits="rows"\n                index-pattern="indexPattern"\n                sorting="state.sort"\n                columns="state.columns"\n                infinite-scroll="true"\n                filter="filterQuery"\n                filters="state.filters"\n                data-shared-item\n                data-title="{{opts.savedSearch.lastSavedTitle}}"\n                data-description="{{opts.savedSearch.description}}"\n                minimum-visible-rows="minimumVisibleRows"\n                render-complete\n                on-add-column="addColumn"\n                on-change-sort-order="setSortOrder"\n                on-move-column="moveColumn"\n                on-remove-column="removeColumn"\n              ></doc-table>\n\n              <a tabindex="0" id="discoverBottomMarker"></a>\n\n              <div\n                ng-if="rows.length == opts.sampleSize"\n                class="dscTable__footer"\n              >\n                <span\n                  i18n-id="kbn.discover.howToSeeOtherMatchingDocumentsDescription"\n                  i18n-default-message="These are the first {sampleSize} documents matching\n                  your search, refine your search to see others. "\n                  i18n-values="{\n                    sampleSize: opts.sampleSize,\n                  }"\n                ></span>\n                <a\n                  kbn-accessible-click\n                  ng-click="scrollToTop()"\n                  i18n-id="kbn.discover.backToTopLinkText"\n                  i18n-default-message="Back to top."\n                ></a>\n              </div>\n            </section>\n          </div>\n        </div>\n      </div>\n    </div>\n  </main>\n</discover-app>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4811)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(53);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _modules=__webpack_require__(4);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DiscoverFetchError=function DiscoverFetchError(_ref){var fetchError=_ref.fetchError;if(!fetchError){return null}var body=void 0;if(fetchError.lang==="painless"){var managementUrl=_chrome2.default.getNavLinkById("kibana:management").url;var url=managementUrl+"/kibana/indices";body=_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.fetchError.howToAddressErrorDescription",defaultMessage:"You can address this error by editing the {fetchErrorScript} field in {managementLink}, under the {scriptedFields} tab.",values:{fetchErrorScript:"'"+fetchError.script+"'",scriptedFields:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.fetchError.scriptedFieldsText",defaultMessage:"“Scripted fields”"}),managementLink:_react2.default.createElement("a",{href:url},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.fetchError.managmentLinkText",defaultMessage:"Management > Index Patterns"}))}}))}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center","data-test-subj":"discoverFetchError"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"discoverFetchError"},_react2.default.createElement(_eui.EuiCallOut,{title:fetchError.message,color:"danger",iconType:"cross"},body,_react2.default.createElement(_eui.EuiCodeBlock,null,fetchError.error)))),_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}))};var app=_modules.uiModules.get("apps/discover",["react"]);app.directive("discoverFetchError",function(reactDirective){return reactDirective((0,_react3.injectI18nProvider)(DiscoverFetchError))})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPainlessError=getPainlessError;var _tslib=__webpack_require__(5);var tslib_1=_interopRequireWildcard(_tslib);var _i18n=__webpack_require__(9);var _lodash=__webpack_require__(1);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function getPainlessError(error){var rootCause=(0,_lodash.get)(error,"resp.error.root_cause");if(!rootCause){return}var _a=tslib_1.__read(rootCause,1),_b=_a[0],lang=_b.lang,script=_b.script;if(lang!=="painless"){return}return{lang:lang,script:script,message:_i18n.i18n.translate("kbn.discover.painlessError.painlessScriptedFieldErrorMessage",{defaultMessage:"Error with Painless scripted field '{script}'.",values:{script:script}}),error:error.message}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showOpenSearchPanel=showOpenSearchPanel;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _reactDom2=_interopRequireDefault(_reactDom);var _open_search_panel=__webpack_require__(4814);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isOpen=false;function showOpenSearchPanel(_ref){var makeUrl=_ref.makeUrl;if(isOpen){return}isOpen=true;var container=document.createElement("div");var onClose=function onClose(){_reactDom2.default.unmountComponentAtNode(container);document.body.removeChild(container);isOpen=false};document.body.appendChild(container);var element=_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_open_search_panel.OpenSearchPanel,{onClose:onClose,makeUrl:makeUrl}));_reactDom2.default.render(element,container)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OpenSearchPanel=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _saved_object_finder=__webpack_require__(1111);var _risonNode=__webpack_require__(260);var _risonNode2=_interopRequireDefault(_risonNode);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SEARCH_OBJECT_TYPE="search";var OpenSearchPanel=exports.OpenSearchPanel=function(_React$Component){_inherits(OpenSearchPanel,_React$Component);function OpenSearchPanel(){_classCallCheck(this,OpenSearchPanel);return _possibleConstructorReturn(this,(OpenSearchPanel.__proto__||Object.getPrototypeOf(OpenSearchPanel)).apply(this,arguments))}_createClass(OpenSearchPanel,[{key:"renderMangageSearchesButton",value:function renderMangageSearchesButton(){return _react2.default.createElement(_eui.EuiButton,{onClick:this.props.onClose,href:"#/management/kibana/objects?_a="+_risonNode2.default.encode({tab:SEARCH_OBJECT_TYPE})},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.topNav.openSearchPanel.manageSearchesButtonLabel",defaultMessage:"Manage searches"}))}},{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiFlyout,{ownFocus:true,onClose:this.props.onClose,"data-test-subj":"loadSearchForm"},_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.topNav.openSearchPanel.openSearchTitle",defaultMessage:"Open Search"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_saved_object_finder.SavedObjectFinder,{noItemsMessage:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.discover.topNav.openSearchPanel.noSearchesFoundDescription",defaultMessage:"No matching searches found."}),savedObjectType:SEARCH_OBJECT_TYPE,makeUrl:this.props.makeUrl,onChoose:this.props.onClose,callToActionButton:this.renderMangageSearchesButton()})))}}]);return OpenSearchPanel}(_react2.default.Component);OpenSearchPanel.propTypes={onClose:_propTypes2.default.func.isRequired,makeUrl:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _tabify=__webpack_require__(672);Object.defineProperty(exports,"tabifyAggResponse",{enumerable:true,get:function get(){return _tabify.tabifyAggResponse}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4817);__webpack_require__(4820);__webpack_require__(4822);__webpack_require__(4824);__webpack_require__(4825);__webpack_require__(897);__webpack_require__(455);__webpack_require__(601);__webpack_require__(392);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _visualize_listing=__webpack_require__(4826);var _visualize_listing2=_interopRequireDefault(_visualize_listing);var _visualize_listing3=__webpack_require__(4827);var _visualize_constants=__webpack_require__(331);var _feature_catalogue=__webpack_require__(39);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.defaults(/visualize/,{requireDefaultIndex:true}).when(_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH,{template:_visualize_listing2.default,controller:_visualize_listing3.VisualizeListingController,controllerAs:"listingController",resolve:{createNewVis:function createNewVis(){return false}}}).when(_visualize_constants.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH,{template:_visualize_listing2.default,controller:_visualize_listing3.VisualizeListingController,controllerAs:"listingController",resolve:{createNewVis:function createNewVis(){return true}}}).when("/visualize/step/1",{redirectTo:_visualize_constants.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(i18n){return{id:"visualize",title:"Visualize",description:i18n("kbn.visualize.visualizeDescription",{defaultMessage:"Create visualizations and aggregate data stores in your Elasticsearch indices."}),icon:"visualizeApp",path:"/app/kibana#"+_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH,showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);__webpack_require__(455);__webpack_require__(4818);__webpack_require__(1083);__webpack_require__(1357);__webpack_require__(1356);__webpack_require__(678);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _angular=__webpack_require__(21);var _angular2=_interopRequireDefault(_angular);var _notify=__webpack_require__(10);var _vis_types=__webpack_require__(66);var _doc_title=__webpack_require__(294);var _query_filter=__webpack_require__(239);var _state_monitor_factory=__webpack_require__(680);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(4);var _editor=__webpack_require__(4819);var _editor2=_interopRequireDefault(_editor);var _dashboard_constants=__webpack_require__(237);var _visualize_constants=__webpack_require__(331);var _kibana_parsed_url=__webpack_require__(565);var _absolute_to_parsed_url=__webpack_require__(564);var _migrate_legacy_query=__webpack_require__(453);var _persisted_log=__webpack_require__(193);var _timefilter=__webpack_require__(16);var _loader=__webpack_require__(676);var _share=__webpack_require__(684);var _state_hashing=__webpack_require__(291);var _show_saved_object_save_modal=__webpack_require__(681);var _saved_object_save_modal=__webpack_require__(682);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}_routes2.default.when(_visualize_constants.VisualizeConstants.CREATE_PATH,{template:_editor2.default,resolve:{savedVis:function savedVis(savedVisualizations,redirectWhenMissing,$route,Private,i18n){var visTypes=Private(_vis_types.VisTypesRegistryProvider);var visType=_lodash2.default.find(visTypes,{name:$route.current.params.type});var shouldHaveIndex=visType.requiresSearch&&visType.options.showIndexSelection;var hasIndex=$route.current.params.indexPattern||$route.current.params.savedSearchId;if(shouldHaveIndex&&!hasIndex){throw new Error(i18n("kbn.visualize.createVisualization.noIndexPatternOrSavedSearchIdErrorMessage",{defaultMessage:"You must provide either an indexPattern or a savedSearchId"}))}return savedVisualizations.get($route.current.params).catch(redirectWhenMissing({"*":"/visualize"}))}}}).when(_visualize_constants.VisualizeConstants.EDIT_PATH+"/:id",{template:_editor2.default,resolve:{savedVis:function savedVis(savedVisualizations,redirectWhenMissing,$route){return savedVisualizations.get($route.current.params.id).then(function(savedVis){_persisted_log.recentlyAccessed.add(savedVis.getFullPath(),savedVis.title,savedVis.id);return savedVis}).catch(redirectWhenMissing({visualization:"/visualize",search:"/management/kibana/objects/savedVisualizations/"+$route.current.params.id,"index-pattern":"/management/kibana/objects/savedVisualizations/"+$route.current.params.id,"index-pattern-field":"/management/kibana/objects/savedVisualizations/"+$route.current.params.id}))}}});_modules.uiModules.get("app/visualize",["kibana/notify","kibana/url"]).directive("visualizeApp",function(){return{restrict:"E",controllerAs:"visualizeApp",controller:VisEditor}});function VisEditor($scope,$element,$route,AppState,$window,kbnUrl,redirectWhenMissing,Private,Promise,config,kbnBaseUrl,localStorage,i18n){var _this=this;var docTitle=Private(_doc_title.DocTitleProvider);var queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);var getUnhashableStates=Private(_state_hashing.getUnhashableStatesProvider);var shareContextMenuExtensions=Private(_share.ShareContextMenuExtensionsRegistryProvider);var savedVis=$route.current.locals.savedVis;var vis=savedVis.vis,searchSource=savedVis.searchSource;$scope.vis=vis;var $appStatus=this.appStatus={dirty:!savedVis.id};$scope.topNavMenu=[{key:i18n("kbn.topNavMenu.saveVisualizationButtonLabel",{defaultMessage:"save"}),description:i18n("kbn.visualize.topNavMenu.saveVisualizationButtonAriaLabel",{defaultMessage:"Save Visualization"}),testId:"visualizeSaveButton",disableButton:function disableButton(){return Boolean(vis.dirty)},tooltip:function tooltip(){if(vis.dirty){return i18n("kbn.visualize.topNavMenu.saveVisualizationDisabledButtonTooltip",{defaultMessage:"Apply or Discard your changes before saving"})}},run:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var onSave,saveModal;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:onSave=function onSave(_ref2){var newTitle=_ref2.newTitle,newCopyOnSave=_ref2.newCopyOnSave,isTitleDuplicateConfirmed=_ref2.isTitleDuplicateConfirmed,onTitleDuplicate=_ref2.onTitleDuplicate;var currentTitle=savedVis.title;savedVis.title=newTitle;savedVis.copyOnSave=newCopyOnSave;var saveOptions={confirmOverwrite:false,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate};return doSave(saveOptions).then(function(_ref3){var id=_ref3.id,error=_ref3.error;if(!id||error){savedVis.title=currentTitle}return{id:id,error:error}})};saveModal=_react2.default.createElement(_saved_object_save_modal.SavedObjectSaveModal,{onSave:onSave,onClose:function onClose(){},title:savedVis.title,showCopyOnSave:savedVis.id?true:false,objectType:"visualization"});(0,_show_saved_object_save_modal.showSaveModal)(saveModal);case 3:case"end":return _context.stop()}}},_callee,_this)}));function run(){return _ref.apply(this,arguments)}return run}()},{key:i18n("kbn.topNavMenu.shareVisualizationButtonLabel",{defaultMessage:"share"}),description:i18n("kbn.visualize.topNavMenu.shareVisualizationButtonAriaLabel",{defaultMessage:"Share Visualization"}),testId:"shareTopNavButton",run:function run(menuItem,navController,anchorElement){var hasUnappliedChanges=vis.dirty;var hasUnsavedChanges=$appStatus.dirty;(0,_share.showShareContextMenu)({anchorElement:anchorElement,allowEmbed:true,getUnhashableStates:getUnhashableStates,objectId:savedVis.id,objectType:"visualization",shareContextMenuExtensions:shareContextMenuExtensions,sharingData:{title:savedVis.title},isDirty:hasUnappliedChanges||hasUnsavedChanges})}},{key:i18n("kbn.topNavMenu.openInspectorButtonLabel",{defaultMessage:"inspect"}),description:i18n("kbn.visualize.topNavMenu.openInspectorButtonAriaLabel",{defaultMessage:"Open Inspector for visualization"}),testId:"openInspectorButton",disableButton:function disableButton(){return!vis.hasInspector||!vis.hasInspector()},run:function run(){vis.openInspector().bindToAngularScope($scope)},tooltip:function tooltip(){if(!vis.hasInspector||!vis.hasInspector()){return i18n("kbn.visualize.topNavMenu.openInspectorDisabledButtonTooltip",{defaultMessage:"This visualization doesn't support any inspectors."})}}},{key:i18n("kbn.topNavMenu.refreshButtonLabel",{defaultMessage:"refresh"}),description:i18n("kbn.visualize.topNavMenu.refreshButtonAriaLabel",{defaultMessage:"Refresh"}),run:function run(){vis.forceReload()},testId:"visualizeRefreshButton"}];var stateMonitor=void 0;if(savedVis.id){docTitle.change(savedVis.title)}var savedVisState=vis.getState();var stateDefaults={uiState:savedVis.uiStateJSON?JSON.parse(savedVis.uiStateJSON):{},linked:!!savedVis.savedSearchId,query:searchSource.getOwnField("query")||{query:"",language:localStorage.get("kibana.userQueryLanguage")||config.get("search:queryLanguage")},filters:searchSource.getOwnField("filter")||[],vis:savedVisState};var $state=function initState(){var appState=new AppState(stateDefaults);if(!_angular2.default.equals(appState.vis,savedVisState)){Promise.try(function(){vis.setState(appState.vis)}).catch(redirectWhenMissing({"index-pattern-field":"/visualize"}))}return appState}();function init(){$scope.savedVis=savedVis;$scope.indexPattern=vis.indexPattern;$scope.searchSource=searchSource;$scope.state=$state;$scope.uiState=$state.makeStateful("uiState");$scope.appStatus=$appStatus;var addToDashMode=$route.current.params[_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM];kbnUrl.removeParam(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM);$scope.isAddToDashMode=function(){return addToDashMode};$scope.timeRange=_timefilter.timefilter.getTime();$scope.opts=_lodash2.default.pick($scope,"savedVis","isAddToDashMode");stateMonitor=_state_monitor_factory.stateMonitorFactory.create($state,stateDefaults);stateMonitor.ignoreProps(["vis.listeners"]).onChange(function(status){$appStatus.dirty=status.dirty||!savedVis.id});$scope.$watch("state.query",$scope.updateQueryAndFetch);$state.replace();$scope.getVisualizationTitle=function getVisualizationTitle(){return savedVis.lastSavedTitle||i18n("kbn.visualize.topNavMenu.unsavedVisualizationTitle",{defaultMessage:"{visTitle} (unsaved)",values:{visTitle:savedVis.title}})};$scope.$watchMulti(['searchSource.getField("index")',"vis.type.options.showTimePicker"],function(_ref4){var _ref5=_slicedToArray(_ref4,2),index=_ref5[0],requiresTimePicker=_ref5[1];var showTimeFilter=Boolean((!index||index.timeFieldName)&&requiresTimePicker);if(showTimeFilter){_timefilter.timefilter.enableTimeRangeSelector()}else{_timefilter.timefilter.disableTimeRangeSelector()}});var updateTimeRange=function updateTimeRange(){$scope.timeRange=_timefilter.timefilter.getTime();if($scope._handler){$scope._handler.update({timeRange:$scope.timeRange})}};_timefilter.timefilter.enableAutoRefreshSelector();$scope.$listenAndDigestAsync(_timefilter.timefilter,"timeUpdate",updateTimeRange);$scope.$listen(queryFilter,"update",function(){$scope.fetch()});$scope.fetch=function(){$state.save();savedVis.searchSource.setField("query",$state.query);savedVis.searchSource.setField("filter",$state.filters);$scope.globalFilters=queryFilter.getGlobalFilters();$scope.vis.forceReload()};$scope.$on("$destroy",function(){if($scope._handler){$scope._handler.destroy()}savedVis.destroy();stateMonitor.destroy()});if(!$scope.chrome.getVisible()){(0,_loader.getVisualizeLoader)().then(function(loader){$scope._handler=loader.embedVisualizationWithSavedObject($element.find(".visualize")[0],savedVis,{timeRange:$scope.timeRange,uiState:$scope.uiState,appState:$state,listenOnChange:false})})}}$scope.updateQueryAndFetch=function(query){$state.query=(0,_migrate_legacy_query.migrateLegacyQuery)(query);$scope.fetch()};function doSave(saveOptions){$state.vis.title=savedVis.title;$state.vis.type=savedVis.type||$state.vis.type;savedVis.visState=$state.vis;savedVis.uiStateJSON=_angular2.default.toJson($scope.uiState.getChanges());return savedVis.save(saveOptions).then(function(id){$scope.$evalAsync(function(){stateMonitor.setInitialState($state.toJSON());if(id){_notify.toastNotifications.addSuccess({title:i18n("kbn.visualize.topNavMenu.saveVisualization.successNotificationText",{defaultMessage:"Saved '{visTitle}'",values:{visTitle:savedVis.title}}),"data-test-subj":"saveVisualizationSuccess"});if($scope.isAddToDashMode()){var savedVisualizationParsedUrl=new _kibana_parsed_url.KibanaParsedUrl({basePath:_chrome2.default.getBasePath(),appId:kbnBaseUrl.slice("/app/".length),appPath:kbnUrl.eval(_visualize_constants.VisualizeConstants.EDIT_PATH+"/{{id}}",{id:savedVis.id})});$window.history.pushState({},"",savedVisualizationParsedUrl.getRootRelativePath());_chrome2.default.trackSubUrlForApp("kibana:visualize",savedVisualizationParsedUrl);var lastDashboardAbsoluteUrl=_chrome2.default.getNavLinkById("kibana:dashboard").lastSubUrl;var dashboardParsedUrl=(0,_absolute_to_parsed_url.absoluteToParsedUrl)(lastDashboardAbsoluteUrl,_chrome2.default.getBasePath());dashboardParsedUrl.addQueryParameter(_dashboard_constants.DashboardConstants.NEW_VISUALIZATION_ID_PARAM,savedVis.id);kbnUrl.change(dashboardParsedUrl.appPath)}else if(savedVis.id===$route.current.params.id){docTitle.change(savedVis.lastSavedTitle)}else{kbnUrl.change(_visualize_constants.VisualizeConstants.EDIT_PATH+"/{{id}}",{id:savedVis.id})}}});return{id:id}},function(error){console.error(error);_notify.toastNotifications.addDanger({title:i18n("kbn.visualize.topNavMenu.saveVisualization.failureNotificationText",{defaultMessage:"Error on saving '{visTitle}'",values:{visTitle:savedVis.title}}),text:error.message,"data-test-subj":"saveVisualizationError"});return{error:error}})}$scope.unlink=function(){if(!$state.linked)return;$state.linked=false;var searchSourceParent=searchSource.getParent();var searchSourceGrandparent=searchSourceParent.getParent();delete savedVis.savedSearchId;delete vis.savedSearchId;searchSourceParent.setField("filter",_lodash2.default.union(searchSource.getOwnField("filter"),searchSourceParent.getOwnField("filter")));$state.query=searchSourceParent.getField("query");$state.filters=searchSourceParent.getField("filter");searchSource.setField("index",searchSourceParent.getField("index"));searchSource.setParent(searchSourceGrandparent);_notify.toastNotifications.addSuccess(i18n("kbn.visualize.linkedToSearch.unlinkSuccessNotificationText",{defaultMessage:"Unlinked from saved search '{searchTitle}'",values:{searchTitle:savedVis.savedSearch.title}}));$scope.fetch()};$scope.getAdditionalMessage=function(){return'<i class="kuiIcon fa-flask"></i>'+i18n("kbn.visualize.experimentalVisInfoText",{defaultMessage:"This visualization is marked as experimental."})+" "+vis.type.feedbackMessage};init()}},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);__webpack_require__(444);var _vis_editor_types=__webpack_require__(1087);_modules.uiModules.get("kibana/directive",["ngSanitize"]).directive("visualizationEditor",function(Private,$timeout,getAppState){var editorTypes=Private(_vis_editor_types.VisEditorTypesRegistryProvider);return{restrict:"E",scope:{savedObj:"=",uiState:"=?",timeRange:"=",filters:"="},link:function link($scope,element){var editorType=$scope.savedObj.vis.type.editor;var Editor=typeof editorType==="function"?editorType:editorTypes.find(function(editor){return editor.key===editorType});var editor=new Editor(element[0],$scope.savedObj);$scope.renderFunction=function(){editor.render({uiState:$scope.uiState,timeRange:$scope.timeRange,filters:$scope.filters,appState:getAppState()})};$scope.$on("render",function(event){event.preventDefault();$timeout(function(){$scope.renderFunction()})});$scope.$on("$destroy",function(){editor.destroy()});$scope.$watchGroup(["timeRange","filters"],(0,_lodash.debounce)(function(){$scope.renderFunction()},100))}}})},function(module,exports){module.exports='<visualize-app class="app-container visEditor visEditor--{{ vis.type.name }}">\n  \x3c!-- Local nav. --\x3e\n  <kbn-top-nav name="visualize" config="topNavMenu">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <bread-crumbs\n        data-transclude-slot="topLeftCorner"\n        page-title="getVisualizationTitle()"\n        use-links="true"\n        omit-current-page="true"\n        omit-pages="[\'edit\']"\n      ></bread-crumbs>\n\n      \x3c!-- Search. --\x3e\n      <div\n        data-transclude-slot="bottomRow"\n        ng-show="chrome.getVisible()"\n        class="fullWidth"\n      >\n        <div ng-if="vis.type.requiresSearch && state.linked">\n          {{ ::\'kbn.visualize.linkedToSearchInfoText\' | i18n: { defaultMessage: \'Linked to Saved Search\' } }}\n          <a\n            href="#/discover/{{savedVis.savedSearch.id}}"\n          >\n            {{ savedVis.savedSearch.title }}\n          </a>\n          &nbsp;\n          <a\n            data-test-subj="unlinkSavedSearch"\n            href=""\n            ng-dblclick="unlink()"\n            tooltip="{{ ::\'kbn.visualize.linkedToSearch.unlinkButtonTooltip\' | i18n: { defaultMessage: \'Double click to unlink from Saved Search\' } }}"\n          >\n            <span aria-hidden="true" class="kuiIcon fa-chain-broken"></span>\n          </a>\n        </div>\n\n        <div ng-if="vis.type.requiresSearch && vis.type.options.showQueryBar" class="fullWidth">\n          <query-bar\n            query="state.query"\n            app-name="\'visualize\'"\n            on-submit="updateQueryAndFetch"\n            disable-auto-focus="true"\n            index-patterns="[indexPattern]"\n          ></query-bar>\n        </div>\n      </div>\n    </div>\n  </kbn-top-nav>\n\n  \x3c!-- Filters. --\x3e\n  <filter-bar\n    ng-if="vis.type.options.showFilterBar"\n    state="state"\n    index-patterns="[indexPattern]"\n  ></filter-bar>\n\n  <div\n    class="euiCallOut euiCallOut--primary euiCallOut--small hide-for-sharing"\n    ng-if="vis.type.shouldMarkAsExperimentalInUI()"\n    data-test-subj="experimentalVisInfo"\n  >\n    <div class="euiText">\n      <p ng-bind-html="getAdditionalMessage()"></p>\n    </div>\n  </div>\n\n  <div class="visualize" ng-if="!chrome.getVisible()"/>\n\n  <visualization-editor\n    ng-if="chrome.getVisible()"\n    saved-obj="savedVis"\n    ui-state="uiState"\n    time-range="timeRange"\n    filters="globalFilters"\n    class="visEditor__content"\n  />\n\n</visualize-app>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(455);__webpack_require__(611);__webpack_require__(943);__webpack_require__(585);var _dashboard_constants=__webpack_require__(237);var _visualize_constants=__webpack_require__(331);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(4);var _step_=__webpack_require__(4821);var _step_2=_interopRequireDefault(_step_);var _saved_objects=__webpack_require__(50);var _timefilter=__webpack_require__(16);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("app/visualize",["kibana/courier"]);_routes2.default.when("/visualize/step/2",{redirectTo:_visualize_constants.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH});_routes2.default.when(_visualize_constants.VisualizeConstants.WIZARD_STEP_2_PAGE_PATH,{template:_step_2.default,controller:"VisualizeWizardStep2",resolve:{indexPatterns:function indexPatterns(Private){var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);return savedObjectsClient.find({type:"index-pattern",fields:["title"],perPage:1e4}).then(function(response){return response.savedObjects})}}});_module.controller("VisualizeWizardStep2",function($route,$scope,kbnUrl){var type=$route.current.params.type;var addToDashMode=$route.current.params[_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM];kbnUrl.removeParam(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM);$scope.step2WithSearchUrl=function(hit){if(addToDashMode){return kbnUrl.eval("#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?type={{type}}&savedSearchId={{id}}"+("&"+_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM),{type:type,id:hit.id})}return kbnUrl.eval("#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?type={{type}}&savedSearchId={{id}}",{type:type,id:hit.id})};_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();$scope.indexPattern={selection:null,list:$route.current.locals.indexPatterns};$scope.makeUrl=function(pattern){if(!pattern)return;if(addToDashMode){return"#"+_visualize_constants.VisualizeConstants.CREATE_PATH+("?"+_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM)+("&type="+type+"&indexPattern="+pattern.id)}return"#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?type="+type+"&indexPattern="+pattern.id}})},function(module,exports){module.exports='\x3c!-- Local nav. --\x3e\n<kbn-top-nav name="visualize">\n  \x3c!-- Transcluded elements. --\x3e\n  <div data-transclude-slots>\n    \x3c!-- Breadcrumbs. --\x3e\n    <bread-crumbs\n      data-transclude-slot="topLeftCorner"\n      use-links="true"\n      omit-current-page="true"\n      page-title="::\'kbn.visualize.newVisWizard.pageTitle\' | i18n: { defaultMessage: \'Choose search source\' }"\n    ></bread-crumbs>\n  </div>\n</kbn-top-nav>\n\n<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem" data-test-subj="visualizeSelectSearch">\n  <div class="visWizard kuiViewContentItem">\n    <div class="visWizard__column visWizard__column--small">\n      <h2\n        class="kuiTitle kuiVerticalRhythm"\n        i18n-id="kbn.visualize.newVisWizard.createFromNewSearchTitle"\n        i18n-default-message="From a New Search, Select Index"\n      ></h2>\n\n      <paginated-selectable-list\n        per-page="20"\n        list="indexPattern.list"\n        list-property="attributes.title"\n        user-make-url="makeUrl"\n        class="visWizard__row visWizard__list--paginated--selectable kuiVerticalRhythm"\n        disable-auto-focus="true"\n      ></paginated-selectable-list>\n    </div>\n\n    <div class="visWizard__column visWizard__column--large">\n      <h2\n        class="kuiTitle kuiVerticalRhythm"\n        i18n-id="kbn.visualize.newVisWizard.createFromSavedSearchTitle"\n        i18n-default-message="Or, From a Saved Search"\n      ></h2>\n\n      \x3c!-- Saved searches --\x3e\n      <saved-object-finder\n        type="searches"\n        class="visWizard__row visWizard__savedObjectFinder kuiVerticalRhythm"\n        make-url="step2WithSearchUrl"\n        disable-auto-focus="true"\n      ></saved-object-finder>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _dragula=__webpack_require__(5053);var _dragula2=_interopRequireDefault(_dragula);var _modules=__webpack_require__(4);var _collection=__webpack_require__(324);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("kibana").directive("draggableContainer",function(){var $scopes=new WeakMap;return{restrict:"A",scope:true,controllerAs:"draggableContainerCtrl",controller:function controller($scope,$attrs,$parse,$element){$scopes.set($element.get(0),$scope);this.linkDraggableItem=function(el,$scope){$scopes.set(el,$scope)};this.getList=function(){return $parse($attrs.draggableContainer)($scope)}},link:function link($scope,$el){var drake=(0,_dragula2.default)({containers:$el.toArray(),moves:function moves(el,source,handle){var itemScope=$scopes.get(el);if(!itemScope||!("draggableItemCtrl"in itemScope)){return}return itemScope.draggableItemCtrl.moves(handle)}});var drakeEvents=["cancel","cloned","drag","dragend","drop","out","over","remove","shadow"];var prettifiedDrakeEvents={drag:"start",dragend:"end"};drakeEvents.forEach(function(type){drake.on(type,function(el){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}return forwardEvent.apply(undefined,[type,el].concat(args))})});drake.on("drag",markDragging(true));drake.on("dragend",markDragging(false));drake.on("drop",drop);$scope.$on("$destroy",drake.destroy);$scope.drake=drake;function markDragging(isDragging){return function(el){var scope=$scopes.get(el);if(!scope)return;scope.isDragging=isDragging;scope.$apply()}}function forwardEvent(type,el){var name="drag-"+(prettifiedDrakeEvents[type]||type);var scope=$scopes.get(el);if(!scope)return;for(var _len2=arguments.length,args=Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++){args[_key2-2]=arguments[_key2]}scope.$broadcast.apply(scope,[name,el].concat(args))}function drop(el,target,source,sibling){var list=$scope.draggableContainerCtrl.getList();var itemScope=$scopes.get(el);if(!itemScope)return;var item=itemScope.draggableItemCtrl.getItem();var fromIndex=list.indexOf(item);var siblingIndex=getItemIndexFromElement(list,sibling);var toIndex=getTargetIndex(list,fromIndex,siblingIndex);(0,_collection.move)(list,item,toIndex)}function getTargetIndex(list,fromIndex,siblingIndex){if(siblingIndex===-1){return list.length-1}else if(fromIndex<siblingIndex){return siblingIndex-1}return siblingIndex}function getItemIndexFromElement(list,element){if(!element)return-1;var scope=$scopes.get(element);if(!scope)return;var item=scope.draggableItemCtrl.getItem();var index=list.indexOf(item);return index}}}})},,function(module,exports,__webpack_require__){"use strict";var _jquery=__webpack_require__(17);var _jquery2=_interopRequireDefault(_jquery);var _modules=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}_modules.uiModules.get("kibana").directive("draggableItem",function(){return{restrict:"A",require:"^draggableContainer",scope:true,controllerAs:"draggableItemCtrl",controller:function controller($scope,$attrs,$parse){var dragHandles=(0,_jquery2.default)();this.getItem=function(){return $parse($attrs.draggableItem)($scope)};this.registerHandle=function($el){dragHandles.push.apply(dragHandles,_toConsumableArray($el))};this.moves=function(handle){var $handle=(0,_jquery2.default)(handle);var $anywhereInParentChain=$handle.parents().addBack();var movable=dragHandles.is($anywhereInParentChain);return movable}},link:function link($scope,$el,attr,draggableController){draggableController.linkDraggableItem($el.get(0),$scope)}}})},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);_modules.uiModules.get("kibana").directive("draggableHandle",function(){return{restrict:"A",require:"^draggableItem",link:function link($scope,$el,attr,ctrl){ctrl.registerHandle($el);$el.addClass("gu-handle")}}})},function(module,exports){module.exports='\x3c!-- Local nav. --\x3e\n<kbn-top-nav name="visualize">\n  \x3c!-- Transcluded elements. --\x3e\n  <div data-transclude-slots>\n    \x3c!-- Title. --\x3e\n    <div\n      data-transclude-slot="topLeftCorner"\n    >\n      <div\n        class="kuiLocalTitle"\n        role="heading"\n        aria-level="1"\n        ng-if="listingController.showPluginBreadcrumbs"\n        i18n-id="kbn.visualize.listing.topLeftCornerTitle"\n        i18n-default-message="Visualize"\n      ></div>\n    </div>\n  </div>\n</kbn-top-nav>\n\n<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem"\n     data-test-subj="visualizeLandingPage"\n>\n  <div class="kuiViewContentItem kuiVerticalRhythm" ng-if="listingController.showLimitError">\n    <div class="kuiInfoPanel kuiInfoPanel--warning">\n      <div class="kuiInfoPanelBody">\n        <div class="kuiInfoPanelBody__message">\n          <span\n            i18n-id="kbn.visualize.listing.listingLimitHelpText"\n            i18n-default-message="You have {totalItems} visualizations, but your &quot;listingLimit&quot;\n                                  setting prevents the table below from displaying more than {listingLimit}.\n                                  You can change this setting under"\n            i18n-values="{\n              totalItems: listingController.totalItems,\n              listingLimit: listingController.listingLimit\n            }"\n            i18n-description="Part of composite text kbn.visualize.listing.listingLimitHelpText +\n                              kbn.visualize.listing.listingLimitAdvancedSettingsLinkText"\n          ></span>\n          <a\n            kbn-href="#/management/kibana/settings"\n            class="kuiLink"\n            i18n-id="kbn.visualize.listing.listingLimitAdvancedSettingsLinkText"\n            i18n-default-message="Advanced Settings"\n            i18n-description="Part of composite text kbn.visualize.listing.listingLimitHelpText +\n                              kbn.visualize.listing.listingLimitAdvancedSettingsLinkText"\n          ></a>.\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <visualize-listing-table\n    fetch-items="listingController.fetchItems"\n    delete-selected-items="listingController.deleteSelectedItems"\n    on-create-vis="listingController.createNewVis"\n  ></visualize-listing-table>\n\n  <new-vis-modal\n    is-open="listingController.showNewVisModal"\n    on-close="listingController.closeNewVisModal"\n    vis-types-registry="listingController.visTypeRegistry"\n  ></new-vis-modal>\n\n</div>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VisualizeListingController=VisualizeListingController;var _saved_object_registry=__webpack_require__(253);__webpack_require__(491);__webpack_require__(414);var _modules=__webpack_require__(4);var _timefilter=__webpack_require__(16);var _vis_types=__webpack_require__(66);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _visualize_listing_table=__webpack_require__(4828);var _new_vis_modal=__webpack_require__(683);var _visualize_constants=__webpack_require__(331);var _i18n=__webpack_require__(9);var _react=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("app/visualize",["ngRoute","react"]);app.directive("visualizeListingTable",function(reactDirective){return reactDirective((0,_react.injectI18nProvider)(_visualize_listing_table.VisualizeListingTable))});app.directive("newVisModal",function(reactDirective){return reactDirective((0,_react.injectI18nProvider)(_new_vis_modal.NewVisModal))});function VisualizeListingController($injector,createNewVis){var _this=this;var Notifier=$injector.get("Notifier");var Private=$injector.get("Private");var config=$injector.get("config");var kbnUrl=$injector.get("kbnUrl");this.visTypeRegistry=Private(_vis_types.VisTypesRegistryProvider);_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();this.showNewVisModal=false;this.createNewVis=function(){_this.showNewVisModal=true};this.closeNewVisModal=function(){_this.showNewVisModal=false;if(createNewVis){kbnUrl.changePath(_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH)}};if(createNewVis){this.createNewVis()}var services=Private(_saved_object_registry.SavedObjectRegistryProvider).byLoaderPropertiesName;var visualizationService=services.visualizations;var notify=new Notifier({location:"Visualize"});this.fetchItems=function(filter){var isLabsEnabled=config.get("visualize:enableLabs");return visualizationService.find(filter,config.get("savedObjects:listingLimit")).then(function(result){_this.totalItems=result.total;_this.showLimitError=result.total>config.get("savedObjects:listingLimit");_this.listingLimit=config.get("savedObjects:listingLimit");return result.hits.filter(function(result){return isLabsEnabled||result.type.stage!=="experimental"})})};this.deleteSelectedItems=function deleteSelectedItems(selectedIds){return visualizationService.delete(selectedIds).catch(function(error){return notify.error(error)})};_chrome2.default.breadcrumbs.set([{text:_i18n.i18n.translate("kbn.visualize.visualizeListingBreadcrumbsTitle",{defaultMessage:"Visualize"})}]);config.watch("k7design",function(val){return _this.showPluginBreadcrumbs=!val})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VisualizeListingTable=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react3=__webpack_require__(3);var _pager=__webpack_require__(414);var _no_visualizations_prompt=__webpack_require__(4829);var _components=__webpack_require__(243);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var VisualizeListingTableUi=function(_Component){_inherits(VisualizeListingTableUi,_Component);function VisualizeListingTableUi(props){_classCallCheck(this,VisualizeListingTableUi);var _this=_possibleConstructorReturn(this,(VisualizeListingTableUi.__proto__||Object.getPrototypeOf(VisualizeListingTableUi)).call(this,props));_this.calculateItemsOnPage=function(){_this.items=_this.sortableProperties.sortItems(_this.items);_this.pager.setTotalItems(_this.items.length);var pageOfItems=_this.items.slice(_this.pager.startIndex,_this.pager.startIndex+_this.pager.pageSize);_this.setState({pageOfItems:pageOfItems,pageStartNumber:_this.pager.startItem})};_this.deselectAll=function(){_this.setState({selectedRowIds:[]})};_this.isAscending=function(name){return _this.sortableProperties.isAscendingByName(name)};_this.getSortedProperty=function(){return _this.sortableProperties.getSortedProperty()};_this.sortOn=function sortOn(propertyName){this.sortableProperties.sortOn(propertyName);this.setState({selectedRowIds:[],sortedColumn:this.sortableProperties.getSortedProperty().name});this.calculateItemsOnPage()};_this.fetchItems=function(filter){_this.setState({isFetchingItems:true,filter:filter});_this.debouncedFetch(filter)};_this.onNextPage=function(){_this.deselectAll();_this.pager.nextPage();_this.calculateItemsOnPage()};_this.onPreviousPage=function(){_this.deselectAll();_this.pager.previousPage();_this.calculateItemsOnPage()};_this.sortByTitle=function(){return _this.sortOn("title")};_this.sortByType=function(){return _this.sortOn("type")};_this.closeModal=function(){_this.setState({showDeleteModal:false})};_this.onDelete=function(){_this.setState({showDeleteModal:true})};_this.deleteSelectedItems=function(){_this.props.deleteSelectedItems(_this.state.selectedRowIds).then(function(){return _this.fetchItems(_this.state.filter)}).catch(function(){}).then(function(){return _this.deselectAll()}).then(function(){return _this.closeModal()})};_this.onItemSelectionChanged=function(newSelectedIds){_this.setState({selectedRowIds:newSelectedIds})};_this.onCreate=function(){_this.props.onCreateVis()};_this.state={selectedRowIds:[],pageOfItems:[],showDeleteModal:false,filter:"",sortedColumn:"title",pageStartNumber:1,isFetchingItems:false};_this.sortableProperties=new _eui.SortableProperties([{name:"title",getValue:function getValue(item){return item.title.toLowerCase()},isAscending:true},{name:"type",getValue:function getValue(item){return item.type.title.toLowerCase()},isAscending:true}],_this.state.sortedColumn);_this.items=[];_this.pager=new _pager.Pager(_this.items.length,20,1);_this.debouncedFetch=_lodash2.default.debounce(function(filter){_this.props.fetchItems(filter).then(function(items){if(filter===_this.state.filter){_this.setState({isFetchingItems:false,selectedRowIds:[]});_this.items=items;_this.calculateItemsOnPage()}})},300);return _this}_createClass(VisualizeListingTableUi,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.debouncedFetch.cancel()}},{key:"componentDidMount",value:function componentDidMount(){this.fetchItems(this.state.filter)}},{key:"getUrlForItem",value:function getUrlForItem(item){return"#/visualize/edit/"+item.id}},{key:"renderItemTypeIcon",value:function renderItemTypeIcon(item){var icon=void 0;if(item.type.image){icon=_react2.default.createElement("img",{className:"visListingTable__typeImage","aria-hidden":"true",alt:"",src:item.type.image})}else if(!item.type.image&&!item.type.icon){icon=_react2.default.createElement("span",{"aria-hidden":"true",className:"kuiStatusText__icon kuiIcon "+item.type.legacyIcon})}else{icon=_react2.default.createElement(_eui.EuiIcon,{className:"visListingTable__typeIcon","aria-hidden":"true",type:item.icon,size:"m"})}return icon}},{key:"renderHeader",value:function renderHeader(){return[{content:"Title",onSort:this.sortByTitle,isSorted:this.state.sortedColumn==="title",isSortAscending:this.sortableProperties.isAscendingByName("title")},{content:"Type",onSort:this.sortByType,isSorted:this.state.sortedColumn==="type",isSortAscending:this.sortableProperties.isAscendingByName("type")}]}},{key:"renderRowCells",value:function renderRowCells(item){var flaskHolder=void 0;if(item.type.shouldMarkAsExperimentalInUI()){flaskHolder=_react2.default.createElement("span",{className:"kuiIcon fa-flask ng-scope"}," ")}else{flaskHolder=_react2.default.createElement("span",null)}return[_react2.default.createElement("span",null,flaskHolder,_react2.default.createElement("a",{className:"kuiLink",href:this.getUrlForItem(item)},item.title)),_react2.default.createElement("span",{className:"kuiStatusText"},this.renderItemTypeIcon(item),item.type.title)]}},{key:"createRows",value:function createRows(){var _this2=this;return this.state.pageOfItems.map(function(item){return{id:item.id,cells:_this2.renderRowCells(item)}})}},{key:"renderConfirmDeleteModal",value:function renderConfirmDeleteModal(){return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:this.props.intl.formatMessage({id:"kbn.visualize.listing.deleteVisualizations.confirmModalTitle",defaultMessage:"Delete selected visualizations?"}),onCancel:this.closeModal,onConfirm:this.deleteSelectedItems,cancelButtonText:this.props.intl.formatMessage({id:"kbn.visualize.listing.deleteVisualizations.confirmModalCancelButtonText",defaultMessage:"Cancel"}),confirmButtonText:this.props.intl.formatMessage({id:"kbn.visualize.listing.deleteVisualizations.confirmModalConfirmButtonText",defaultMessage:"Delete"})},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.visualize.listing.deleteVisualizations.confirmModalText",defaultMessage:"You can't recover deleted visualizations."}))))}},{key:"renderToolBarActions",value:function renderToolBarActions(){return this.state.selectedRowIds.length>0?_react2.default.createElement(_components.KuiListingTableDeleteButton,{onDelete:this.onDelete,"aria-label":this.props.intl.formatMessage({id:"kbn.visualize.listing.deleteVisualizationsButtonAriaLabel",defaultMessage:"Delete selected visualizations"})}):_react2.default.createElement(_components.KuiListingTableCreateButton,{onCreate:this.onCreate,"data-test-subj":"createNewVis","aria-label":this.props.intl.formatMessage({id:"kbn.visualize.listing.createVisualizationButtonAriaLabel",defaultMessage:"Create new visualization"})})}},{key:"renderPager",value:function renderPager(){return _react2.default.createElement(_components.KuiPager,{startNumber:this.state.pageStartNumber,hasNextPage:this.pager.hasNextPage,hasPreviousPage:this.pager.hasPreviousPage,endNumber:this.pager.endItem,totalItems:this.items.length,onNextPage:this.onNextPage,onPreviousPage:this.onPreviousPage})}},{key:"renderPrompt",value:function renderPrompt(){if(this.state.isFetchingItems){return _react2.default.createElement(_components.KuiListingTableLoadingPrompt,null)}if(this.items.length===0){if(this.state.filter){return _react2.default.createElement(_components.KuiListingTableNoMatchesPrompt,null)}return _react2.default.createElement(_no_visualizations_prompt.NoVisualizationsPrompt,{onCreateVis:this.onCreate})}return null}},{key:"render",value:function render(){return _react2.default.createElement("div",null,this.state.showDeleteModal&&this.renderConfirmDeleteModal(),_react2.default.createElement(_components.KuiListingTable,{pager:this.renderPager(),toolBarActions:this.renderToolBarActions(),selectedRowIds:this.state.selectedRowIds,rows:this.createRows(),header:this.renderHeader(),onFilter:this.fetchItems,filter:this.state.filter,prompt:this.renderPrompt(),onItemSelectionChanged:this.onItemSelectionChanged}))}}]);return VisualizeListingTableUi}(_react.Component);VisualizeListingTableUi.propTypes={deleteSelectedItems:_propTypes2.default.func,fetchItems:_propTypes2.default.func,onCreateVis:_propTypes2.default.func.isRequired};var VisualizeListingTable=exports.VisualizeListingTable=(0,_react3.injectI18n)(VisualizeListingTableUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoVisualizationsPrompt=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);var _components=__webpack_require__(243);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NoVisualizationsPromptUi(_ref){var onCreateVis=_ref.onCreateVis,intl=_ref.intl;return _react2.default.createElement(_components.KuiEmptyTablePromptPanel,null,_react2.default.createElement(_components.KuiEmptyTablePrompt,{actions:_react2.default.createElement(_components.KuiButton,{onClick:onCreateVis,buttonType:"primary",icon:_react2.default.createElement(_components.KuiButtonIcon,{type:"create"})},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.visualize.listing.noVisualizations.createVisualizationButtonLabel",defaultMessage:"Create a visualization"})),message:intl.formatMessage({id:"kbn.visualize.listing.noVisualizationsText",defaultMessage:"Looks like you don't have any visualizations. Let's create some!"})}))}var NoVisualizationsPrompt=exports.NoVisualizationsPrompt=(0,_react3.injectI18n)(NoVisualizationsPromptUi)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4831);__webpack_require__(946);__webpack_require__(1363);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(4);var _app=__webpack_require__(4960);var _app2=_interopRequireDefault(_app);var _landing=__webpack_require__(4961);var _landing2=_interopRequireDefault(_landing);var _management=__webpack_require__(24);var _feature_catalogue=__webpack_require__(39);var _timefilter=__webpack_require__(16);__webpack_require__(598);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/management",{template:_landing2.default,k7Breadcrumbs:function k7Breadcrumbs(){return[_management.MANAGEMENT_BREADCRUMB]}});_routes2.default.when("/management/:section",{redirectTo:"/management"});__webpack_require__(4962)({whenMissingRedirectTo:"/management/kibana/index"});_modules.uiModules.get("apps/management").directive("kbnManagementApp",function(Private,$location){return{restrict:"E",template:_app2.default,transclude:true,scope:{sectionName:"@section",omitPages:"@omitBreadcrumbPages",pageTitle:"="},link:function link($scope){_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();$scope.sections=_management.management.items.inOrder;$scope.section=_management.management.getSection($scope.sectionName)||_management.management;if($scope.section){$scope.section.items.forEach(function(item){item.active=("#"+$location.path()).indexOf(item.url)>-1})}}}});_modules.uiModules.get("apps/management").directive("kbnManagementLanding",function(kbnVersion){return{restrict:"E",link:function link($scope){$scope.sections=_management.management.items.inOrder;$scope.kbnVersion=kbnVersion}}});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(i18n){return{id:"management",title:i18n("kbn.management.managementLabel",{defaultMessage:"Management"}),description:i18n("kbn.management.managementDescription",{defaultMessage:"Your center console for managing the Elastic Stack."}),icon:"managementApp",path:"/app/kibana#/management",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4832);__webpack_require__(4843);__webpack_require__(4865)},function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(24);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(4);var _index=__webpack_require__(4833);var _index2=_interopRequireDefault(_index);var _feature_catalogue=__webpack_require__(39);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _advanced_settings=__webpack_require__(4834);var _i18n=__webpack_require__(9);var _breadcrumbs=__webpack_require__(4842);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REACT_ADVANCED_SETTINGS_DOM_ELEMENT_ID="reactAdvancedSettings";function updateAdvancedSettings($scope,config,query){$scope.$$postDigest(function(){var node=document.getElementById(REACT_ADVANCED_SETTINGS_DOM_ELEMENT_ID);if(!node){return}(0,_reactDom.render)(_react2.default.createElement(_advanced_settings.AdvancedSettings,{config:config,query:query}),node)})}function destroyAdvancedSettings(){var node=document.getElementById(REACT_ADVANCED_SETTINGS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}_routes2.default.when("/management/kibana/settings/:setting?",{template:_index2.default,k7Breadcrumbs:_breadcrumbs.getBreadcrumbs});_modules.uiModules.get("apps/management").directive("kbnManagementAdvanced",function(config,$route){return{restrict:"E",link:function link($scope){config.watchAll(function(){updateAdvancedSettings($scope,config,$route.current.params.setting||"")},$scope);$scope.$on("$destroy",function(){destroyAdvancedSettings()});$route.updateParams({setting:null})}}});_management.management.getSection("kibana").register("settings",{display:_i18n.i18n.translate("kbn.management.settings.sectionLabel",{defaultMessage:"Advanced Settings"}),order:20,url:"#/management/kibana/settings"});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(i18n){return{id:"advanced_settings",title:i18n("kbn.management.settings.advancedSettingsLabel",{defaultMessage:"Advanced Settings"}),description:i18n("kbn.management.settings.advancedSettingsDescription",{defaultMessage:"Directly edit settings that control behavior in Kibana."}),icon:"advancedSettingsApp",path:"/app/kibana#/management/kibana/settings",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <kbn-management-advanced>\n    <div id="reactAdvancedSettings"></div>\n  </kbn-management-advanced>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedSettings=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _call_outs=__webpack_require__(4835);var _search=__webpack_require__(4837);var _form=__webpack_require__(4839);var _lib=__webpack_require__(449);var _default_component_registry=__webpack_require__(864);var _component_registry=__webpack_require__(575);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AdvancedSettings=exports.AdvancedSettings=function(_Component){_inherits(AdvancedSettings,_Component);function AdvancedSettings(props){_classCallCheck(this,AdvancedSettings);var _this=_possibleConstructorReturn(this,(AdvancedSettings.__proto__||Object.getPrototypeOf(AdvancedSettings)).call(this,props));_initialiseProps.call(_this);var _this$props=_this.props,config=_this$props.config,query=_this$props.query;var parsedQuery=_eui.Query.parse(query?'ariaName:"'+(0,_lib.getAriaName)(query)+'"':"");_this.init(config);_this.state={query:parsedQuery,footerQueryMatched:false,filteredSettings:_this.mapSettings(_eui.Query.execute(parsedQuery,_this.settings))};(0,_default_component_registry.registerDefaultComponents)();return _this}_createClass(AdvancedSettings,[{key:"init",value:function init(config){var _this2=this;this.settings=this.mapConfig(config);this.groupedSettings=this.mapSettings(this.settings);this.categories=Object.keys(this.groupedSettings).sort(function(a,b){if(a===_lib.DEFAULT_CATEGORY)return-1;if(b===_lib.DEFAULT_CATEGORY)return 1;if(a>b)return 1;return a===b?0:-1});this.categoryCounts=Object.keys(this.groupedSettings).reduce(function(counts,category){counts[category]=_this2.groupedSettings[category].length;return counts},{})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){var config=nextProps.config;var query=this.state.query;this.init(config);this.setState({filteredSettings:this.mapSettings(_eui.Query.execute(query,this.settings))})}},{key:"mapConfig",value:function mapConfig(config){var all=config.getAll();return Object.entries(all).map(function(setting){return(0,_lib.toEditableConfig)({def:setting[1],name:setting[0],value:setting[1].userValue,isCustom:config.isCustom(setting[0]),isOverridden:config.isOverridden(setting[0])})}).filter(function(c){return!c.readonly}).sort(_eui.Comparators.property("name",_eui.Comparators.default("asc")))}},{key:"mapSettings",value:function mapSettings(settings){return settings.reduce(function(groupedSettings,setting){var category=setting.category[0];(groupedSettings[category]=groupedSettings[category]||[]).push(setting);return groupedSettings},{})}},{key:"render",value:function render(){var _state=this.state,filteredSettings=_state.filteredSettings,query=_state.query,footerQueryMatched=_state.footerQueryMatched;var PageTitle=(0,_component_registry.getSettingsComponent)(_default_component_registry.PAGE_TITLE_COMPONENT);var PageSubtitle=(0,_component_registry.getSettingsComponent)(_default_component_registry.PAGE_SUBTITLE_COMPONENT);var PageFooter=(0,_component_registry.getSettingsComponent)(_default_component_registry.PAGE_FOOTER_COMPONENT);return _react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_eui.EuiPage,{restrictWidth:true},_react2.default.createElement("div",{className:"mgtAdvancedSettings"},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(PageTitle,null)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_search.Search,{query:query,categories:this.categories,onQueryChange:this.onQueryChange}))),_react2.default.createElement(PageSubtitle,null),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_call_outs.CallOuts,null),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_form.Form,{settings:filteredSettings,categories:this.categories,categoryCounts:this.categoryCounts,clearQuery:this.clearQuery,save:this.saveConfig,clear:this.clearConfig,showNoResultsMessage:!footerQueryMatched}),_react2.default.createElement(PageFooter,{query:query,onQueryMatchChange:this.onFooterQueryMatchChange}))))}}]);return AdvancedSettings}(_react.Component);AdvancedSettings.propTypes={config:_propTypes2.default.object.isRequired,query:_propTypes2.default.string};var _initialiseProps=function _initialiseProps(){var _this3=this;this.saveConfig=function(name,value){return _this3.props.config.set(name,value)};this.clearConfig=function(name){return _this3.props.config.remove(name)};this.onQueryChange=function(_ref){var query=_ref.query;_this3.setState({query:query,filteredSettings:_this3.mapSettings(_eui.Query.execute(query,_this3.settings))})};this.clearQuery=function(){_this3.setState({query:_eui.Query.parse(""),footerQueryMatched:false,filteredSettings:_this3.groupedSettings})};this.onFooterQueryMatchChange=function(matched){_this3.setState({footerQueryMatched:matched})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _call_outs=__webpack_require__(4836);Object.defineProperty(exports,"CallOuts",{enumerable:true,get:function get(){return _call_outs.CallOuts}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CallOuts=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CallOuts=exports.CallOuts=function CallOuts(){return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.settings.callOutCautionTitle",defaultMessage:"Caution: You can break stuff here"}),color:"warning",iconType:"bolt"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.settings.callOutCautionDescription",defaultMessage:"Be careful in here, these settings are for very advanced users only. Tweaks you make here can break large portions of Kibana. Some of these settings may be undocumented, unsupported or experimental. If a field has a default value, blanking the field will reset it to its default which may be unacceptable given other configuration directives. Deleting a custom setting will permanently remove it from Kibana's config."}))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _search=__webpack_require__(4838);Object.defineProperty(exports,"Search",{enumerable:true,get:function get(){return _search.Search}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Search=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _lib=__webpack_require__(449);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SearchUI=function(_PureComponent){_inherits(SearchUI,_PureComponent);function SearchUI(props){_classCallCheck(this,SearchUI);var _this=_possibleConstructorReturn(this,(SearchUI.__proto__||Object.getPrototypeOf(SearchUI)).call(this,props));_this.state={isSearchTextValid:true,parseErrorMessage:null};_this.onChange=function(_ref){var query=_ref.query,error=_ref.error;if(error){_this.setState({isSearchTextValid:false,parseErrorMessage:error.message});return}_this.setState({isSearchTextValid:true,parseErrorMessage:null});_this.props.onQueryChange({query:query})};var categories=props.categories;_this.categories=categories.map(function(category){return{value:category,name:(0,_lib.getCategoryName)(category)}});return _this}_createClass(SearchUI,[{key:"render",value:function render(){var _props=this.props,query=_props.query,intl=_props.intl;var box={incremental:true,"data-test-subj":"settingsSearchBar","aria-label":intl.formatMessage({id:"kbn.management.settings.searchBarAriaLabel",defaultMessage:"Search advanced settings"})};var filters=[{type:"field_value_selection",field:"category",name:intl.formatMessage({id:"kbn.management.settings.categorySearchLabel",defaultMessage:"Category"}),multiSelect:"or",options:this.categories}];var queryParseError=void 0;if(!this.state.isSearchTextValid){var parseErrorMsg=intl.formatMessage({id:"kbn.management.settings.searchBar.unableToParseQueryErrorMessage",defaultMessage:"Unable to parse query"});queryParseError=_react2.default.createElement(_eui.EuiFormErrorText,null,parseErrorMsg+". "+this.state.parseErrorMessage)}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSearchBar,{box:box,filters:filters,onChange:this.onChange,query:query}),queryParseError)}}]);return SearchUI}(_react.PureComponent);SearchUI.propTypes={categories:_propTypes2.default.array.isRequired,query:_propTypes2.default.object.isRequired,onQueryChange:_propTypes2.default.func.isRequired};var Search=exports.Search=(0,_react3.injectI18n)(SearchUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _form=__webpack_require__(4840);Object.defineProperty(exports,"Form",{enumerable:true,get:function get(){return _form.Form}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Form=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _lib=__webpack_require__(449);var _field=__webpack_require__(4841);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FormUI=function(_PureComponent){_inherits(FormUI,_PureComponent);function FormUI(){_classCallCheck(this,FormUI);return _possibleConstructorReturn(this,(FormUI.__proto__||Object.getPrototypeOf(FormUI)).apply(this,arguments))}_createClass(FormUI,[{key:"renderClearQueryLink",value:function renderClearQueryLink(totalSettings,currentSettings){var clearQuery=this.props.clearQuery;if(totalSettings!==currentSettings){return _react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement("em",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.settings.form.searchResultText",defaultMessage:"Search terms are hiding {settingsCount} settings {clearSearch}",values:{settingsCount:totalSettings-currentSettings,clearSearch:_react2.default.createElement(_eui.EuiLink,{onClick:clearQuery},_react2.default.createElement("em",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.settings.form.clearSearchResultText",defaultMessage:"(clear search)"})))}})))}return null}},{key:"renderCategory",value:function renderCategory(category,settings,totalSettings){var _this2=this;return _react2.default.createElement(_react.Fragment,{key:category},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"baseline"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement("h2",null,(0,_lib.getCategoryName)(category))),this.renderClearQueryLink(totalSettings,settings.length))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),settings.map(function(setting){return _react2.default.createElement(_field.Field,{key:setting.name,setting:setting,save:_this2.props.save,clear:_this2.props.clear})}))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}))}},{key:"maybeRenderNoSettings",value:function maybeRenderNoSettings(clearQuery){if(this.props.showNoResultsMessage){return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.settings.form.noSearchResultText",defaultMessage:"No settings found {clearSearch}",values:{clearSearch:_react2.default.createElement(_eui.EuiLink,{onClick:clearQuery},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.settings.form.clearNoSearchResultText",defaultMessage:"(clear search)"}))}}))}return null}},{key:"render",value:function render(){var _this3=this;var _props=this.props,settings=_props.settings,categories=_props.categories,categoryCounts=_props.categoryCounts,clearQuery=_props.clearQuery;var currentCategories=[];categories.forEach(function(category){if(settings[category]&&settings[category].length){currentCategories.push(category)}});return _react2.default.createElement(_react.Fragment,null,currentCategories.length?currentCategories.map(function(category){return _this3.renderCategory(category,settings[category],categoryCounts[category])}):this.maybeRenderNoSettings(clearQuery))}}]);return FormUI}(_react.PureComponent);FormUI.propTypes={settings:_propTypes2.default.object.isRequired,categories:_propTypes2.default.array.isRequired,categoryCounts:_propTypes2.default.object.isRequired,clearQuery:_propTypes2.default.func.isRequired,save:_propTypes2.default.func.isRequired,clear:_propTypes2.default.func.isRequired,showNoResultsMessage:_propTypes2.default.bool.isRequired};var Form=exports.Form=(0,_react3.injectI18n)(FormUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field=__webpack_require__(865);Object.defineProperty(exports,"Field",{enumerable:true,get:function get(){return _field.Field}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getBreadcrumbs=getBreadcrumbs;var _management=__webpack_require__(24);var _i18n=__webpack_require__(9);function getBreadcrumbs(){return[_management.MANAGEMENT_BREADCRUMB,{text:_i18n.i18n.translate("kbn.management.settings.breadcrumb",{defaultMessage:"Advanced settings"})}]}},function(module,exports,__webpack_require__){"use strict";var _i18n=__webpack_require__(9);var _management=__webpack_require__(24);__webpack_require__(4844);__webpack_require__(4846);__webpack_require__(205);__webpack_require__(941);var _modules=__webpack_require__(4);var _feature_catalogue=__webpack_require__(39);_modules.uiModules.get("apps/management");_management.management.getSection("kibana").register("objects",{display:_i18n.i18n.translate("kbn.management.objects.savedObjectsSectionLabel",{defaultMessage:"Saved Objects"}),order:10,url:"#/management/kibana/objects"});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"saved_objects",title:_i18n.i18n.translate("kbn.management.objects.savedObjectsTitle",{defaultMessage:"Saved Objects"}),description:_i18n.i18n.translate("kbn.management.objects.savedObjectsDescription",{defaultMessage:"Import, export, and manage your saved searches, visualizations, and dashboards."}),icon:"savedObjectsApp",path:"/app/kibana#/management/kibana/objects",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _angular=__webpack_require__(21);var _angular2=_interopRequireDefault(_angular);var _risonNode=__webpack_require__(260);var _risonNode2=_interopRequireDefault(_risonNode);var _saved_object_registry=__webpack_require__(292);var _view=__webpack_require__(4845);var _view2=_interopRequireDefault(_view);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(4);var _notify=__webpack_require__(10);__webpack_require__(599);var _utils=__webpack_require__(377);var _saved_objects=__webpack_require__(50);var _numeric=__webpack_require__(584);var _breadcrumbs=__webpack_require__(1358);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var location="SavedObject view";_routes2.default.when("/management/kibana/objects/:service/:id",{template:_view2.default,k7Breadcrumbs:_breadcrumbs.getViewBreadcrumbs});_modules.uiModules.get("apps/management").directive("kbnManagementObjectsView",function(kbnIndex,confirmModal,i18n){return{restrict:"E",controller:function controller($scope,$injector,$routeParams,$location,$window,$rootScope,Private){var serviceObj=_saved_object_registry.savedObjectManagementRegistry.get($routeParams.service);var service=$injector.get(serviceObj.service);var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);var createField=function createField(memo,val,key,collection,parents){if(Array.isArray(parents)){parents.push(key)}else{parents=[key]}var field={type:"text",name:parents.join("."),value:val};if(_lodash2.default.isString(field.value)){try{field.value=_angular2.default.toJson(JSON.parse(field.value),true);field.type="json"}catch(err){field.value=field.value}}else if((0,_numeric.isNumeric)(field.value)){field.type="number"}else if(Array.isArray(field.value)){field.type="array";field.value=_angular2.default.toJson(field.value,true)}else if(_lodash2.default.isBoolean(field.value)){field.type="boolean";field.value=field.value}else if(_lodash2.default.isPlainObject(field.value)){return _lodash2.default.reduce(field.value,_lodash2.default.partialRight(createField,parents),memo)}memo.push(field);parents.pop();return memo};var readObjectClass=function readObjectClass(fields,Class){var fieldMap=_lodash2.default.indexBy(fields,"name");_lodash2.default.forOwn(Class.mapping,function(esType,name){if(fieldMap[name])return;fields.push({name:name,type:function(){switch((0,_utils.castEsToKbnFieldTypeName)(esType)){case"string":return"text";case"number":return"number";case"boolean":return"boolean";default:return"json"}}()})});if(Class.searchSource&&!fieldMap["kibanaSavedObjectMeta.searchSourceJSON"]){fields.push({name:"kibanaSavedObjectMeta.searchSourceJSON",type:"json",value:"{}"})}};$scope.notFound=$routeParams.notFound;$scope.title=service.type;savedObjectsClient.get(service.type,$routeParams.id).then(function(obj){$scope.obj=obj;$scope.link=service.urlFor(obj.id);var fields=_lodash2.default.reduce(obj.attributes,createField,[]);if(service.Class)readObjectClass(fields,service.Class);var nameSortedFields=_lodash2.default.sortBy(fields,"name");$scope.fields=_lodash2.default.sortBy(nameSortedFields,function(field){var orderIndex=service.Class.fieldOrder?service.Class.fieldOrder.indexOf(field.name):-1;return orderIndex>-1?orderIndex:Infinity})}).catch(function(error){return(0,_notify.fatalError)(error,location)});var loadedEditors=[];$scope.aceInvalidEditors=[];$scope.aceLoaded=function(editor){if(_lodash2.default.contains(loadedEditors,editor))return;loadedEditors.push(editor);editor.$blockScrolling=Infinity;var session=editor.getSession();var fieldName=editor.container.id;session.setTabSize(2);session.setUseSoftTabs(true);session.on("changeAnnotation",function(){var annotations=session.getAnnotations();if(_lodash2.default.some(annotations,{type:"error"})){if(!_lodash2.default.contains($scope.aceInvalidEditors,fieldName)){$scope.aceInvalidEditors.push(fieldName)}}else{$scope.aceInvalidEditors=_lodash2.default.without($scope.aceInvalidEditors,fieldName)}if(!$rootScope.$$phase)$scope.$apply()})};$scope.cancel=function(){$window.history.back();return false};$scope.delete=function(){function doDelete(){savedObjectsClient.delete(service.type,$routeParams.id).then(function(){return redirectHandler("deleted")}).catch(function(error){return(0,_notify.fatalError)(error,location)})}var confirmModalOptions={onConfirm:doDelete,confirmButtonText:i18n("kbn.management.objects.confirmModalOptions.deleteButtonLabel",{defaultMessage:"Delete"}),title:i18n("kbn.management.objects.confirmModalOptions.modalTitle",{defaultMessage:"Delete saved Kibana object?"})};confirmModal(i18n("kbn.management.objects.confirmModalOptions.modalDescription",{defaultMessage:"You can't recover deleted objects"}),confirmModalOptions)};$scope.submit=function(){var source=_lodash2.default.cloneDeep($scope.obj.attributes);_lodash2.default.each($scope.fields,function(field){var value=field.value;if(field.type==="number"){value=Number(field.value)}if(field.type==="array"){value=JSON.parse(field.value)}_lodash2.default.set(source,field.name,value)});savedObjectsClient.update(service.type,$routeParams.id,source).then(function(){return redirectHandler("updated")}).catch(function(error){return(0,_notify.fatalError)(error,location)})};function redirectHandler(action){$location.path("/management/kibana/objects").search({_a:_risonNode2.default.encode({tab:serviceObj.title})});_notify.toastNotifications.addSuccess(_lodash2.default.capitalize(action)+" '"+$scope.obj.attributes.title+"' "+$scope.title.toLowerCase()+" object")}}}})},function(module,exports){module.exports='<kbn-management-app section="kibana" class="kuiView">\n  <kbn-management-objects-view class="kuiViewContent kuiViewContent--constrainedWidth">\n    \x3c!-- Header --\x3e\n    <div class="kuiViewContentItem kuiBar kuiVerticalRhythm">\n      <div class="kuiBarSection">\n        <h1\n          class="kuiTitle"\n          i18n-id="kbn.management.objects.view.editItemTitle"\n          i18n-default-message="Edit {title}"\n          i18n-values="{ title }"\n        ></h1>\n      </div>\n\n      <div class="kuiBarSection">\n        <a\n          class="kuiButton kuiButton--basic kuiButton--iconText"\n          href="{{ link }}"\n        >\n          <span class="kuiButton__inner">\n            <span class="kuiButton__icon kuiIcon fa-eye"></span>\n            <span\n              i18n-id="kbn.management.objects.view.viewItemButtonLabel"\n              i18n-default-message="View {title}"\n              i18n-values="{ title }"\n            ></span>\n          </span>\n        </a>\n\n        <button\n          class="kuiButton kuiButton--danger kuiButton--iconText"\n          ng-click="delete()"\n        >\n          <span class="kuiButton__inner">\n            <span class="kuiButton__icon kuiIcon fa-trash-o"></span>\n            <span\n              i18n-id="kbn.management.objects.view.deleteItemButtonLabel"\n              i18n-default-message="Delete {title}"\n              i18n-values="{ title }"\n              ></span>\n          </span>\n        </button>\n      </div>\n    </div>\n\n    \x3c!-- Errors --\x3e\n    <div\n      class="kuiViewContentItem kuiVerticalRhythm"\n      ng-if="notFound"\n    >\n      <div class="kuiInfoPanel kuiInfoPanel--error">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span\n            class="kuiInfoPanelHeader__title"\n            i18n-id="kbn.management.objects.view.savedObjectProblemErrorMessage"\n            i18n-default-message="There is a problem with this saved object"\n            ></span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div\n            class="kuiInfoPanelBody__message"\n            ng-if="notFound === \'search\'"\n            i18n-id="kbn.management.objects.view.savedSearchDoesNotExistErrorMessage"\n            i18n-default-message="The saved search associated with this object no longer exists."\n          ></div>\n\n          <div\n            class="kuiInfoPanelBody__message"\n            ng-if="notFound === \'index-pattern\'"\n            i18n-id="kbn.management.objects.view.indexPatternDoesNotExistErrorMessage"\n            i18n-default-message="The index pattern associated with this object no longer exists."\n          ></div>\n\n          <div\n            class="kuiInfoPanelBody__message"\n            ng-if="notFound === \'index-pattern-field\'"\n            i18n-id="kbn.management.objects.view.fieldDoesNotExistErrorMessage"\n            i18n-default-message="A field associated with this object no longer exists in the index pattern."\n          ></div>\n\n          <div\n            class="kuiInfoPanelBody__message"\n            i18n-id="kbn.management.objects.view.howToFixErrorDescription"\n            i18n-default-message="If you know what this error means, go ahead and fix it &mdash; otherwise click the delete button above."\n          ></div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Intro --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <div class="kuiInfoPanel kuiInfoPanel--warning">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--warning fa-bolt"></span>\n          <span\n            class="kuiInfoPanelHeader__title"\n            i18n-id="kbn.management.objects.view.howToModifyObjectTitle"\n            i18n-default-message="Proceed with caution!"\n          ></span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div\n            class="kuiInfoPanelBody__message"\n            i18n-id="kbn.management.objects.view.howToModifyObjectDescription"\n            i18n-default-message=" Modifying objects is for advanced users only. Object properties are not validated and invalid objects could cause errors, data loss, or worse. Unless someone with intimate knowledge of the code told you to be in here, you probably shouldn&rsquo;t be."\n          >\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      \x3c!-- Form --\x3e\n      <form\n        role="form"\n        name="objectForm"\n        ng-submit="submit()"\n      >\n        <div class="kuiFormSection" ng-repeat="field in fields">\n          <label for="{{ field.name }}" class="kuiFormLabel">\n            {{ field.name }}\n          </label>\n\n          <input\n            id="{{ field.name }}"\n            ng-if="field.type === \'number\'"\n            class="kuiTextInput"\n            type="number"\n            ng-model="field.value"\n          >\n\n          <textarea\n            id="{{ field.name }}"\n            ng-if="field.type === \'text\'"\n            class="kuiTextArea"\n            rows="1"\n            msd-elastic=" "\n            ng-model="field.value"\n          ></textarea>\n\n          <input\n            ng-if="field.type === \'boolean\'"\n            class="kuiCheckBox"\n            type="checkbox"\n            ng-model="field.value"\n            ng-checked="field.value"\n          >\n\n          <div\n            ng-if="field.type === \'json\' || field.type === \'array\'"\n            kbn-ui-ace-keyboard-mode\n            ui-ace="{ onLoad: aceLoaded, mode: \'json\' }"\n            id="{{field.name}}"\n            ng-model="field.value"\n            class="form-control"\n          ></div>\n        </div>\n      </form>\n\n      \x3c!-- Actions --\x3e\n      <div class="kuiButtonGroup">\n        <button\n          class="kuiButton kuiButton--primary"\n          aria-label="{{ \'kbn.management.objects.view.saveButtonAriaLabel\' | i18n: { defaultMessage: \'Save { title } Object\', values: { title } } }}"\n          ng-click="submit()"\n          ng-disabled="objectForm.$invalid || aceInvalidEditors.length !==0"\n          i18n-id="kbn.management.objects.view.saveButtonLabel"\n          i18n-default-message="Save { title } Object"\n          i18n-values="{ title }"\n        ></button>\n\n        <button\n          class="kuiButton kuiButton--basic"\n          aria-label="{{ \'kbn.management.objects.view.cancelButtonAriaLabel\' | i18n: { defaultMessage: \'Cancel\'} }}"\n          ng-click="cancel()"\n          i18n-id="kbn.management.objects.view.cancelButtonLabel"\n          i18n-default-message="Cancel"\n        ></button>\n      </div>\n    </div>\n  </kbn-management-objects-view>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";var _saved_object_registry=__webpack_require__(292);var _objects=__webpack_require__(4847);var _objects2=_interopRequireDefault(_objects);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _notify=__webpack_require__(10);var _saved_objects=__webpack_require__(50);var _modules=__webpack_require__(4);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _objects_table=__webpack_require__(4848);var _get_in_app_url=__webpack_require__(1362);var _react3=__webpack_require__(3);var _breadcrumbs=__webpack_require__(1358);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REACT_OBJECTS_TABLE_DOM_ELEMENT_ID="reactSavedObjectsTable";function updateObjectsTable($scope,$injector,i18n){var Private=$injector.get("Private");var indexPatterns=$injector.get("indexPatterns");var $http=$injector.get("$http");var kbnUrl=$injector.get("kbnUrl");var config=$injector.get("config");var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);var services=_saved_object_registry.savedObjectManagementRegistry.all().map(function(obj){return $injector.get(obj.service)});var allServices=_saved_object_registry.savedObjectManagementRegistry.all();var typeToServiceName=function typeToServiceName(type){return allServices.reduce(function(serviceName,service){return service.title.includes(type)?service.service:serviceName},null)};$scope.$$postDigest(function(){var node=document.getElementById(REACT_OBJECTS_TABLE_DOM_ELEMENT_ID);if(!node){return}(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_objects_table.ObjectsTable,{savedObjectsClient:savedObjectsClient,services:services,indexPatterns:indexPatterns,$http:$http,perPageConfig:config.get("savedObjects:perPage"),basePath:_chrome2.default.getBasePath(),newIndexPatternUrl:kbnUrl.eval("#/management/kibana/index"),getEditUrl:function getEditUrl(id,type){if(type==="index-pattern"||type==="indexPatterns"){return kbnUrl.eval("#/management/kibana/indices/"+id)}var serviceName=typeToServiceName(type);if(!serviceName){_notify.toastNotifications.addWarning(i18n("kbn.management.objects.unknownSavedObjectTypeNotificationMessage",{defaultMessage:"Unknown saved object type: {type}",values:{type:type}}));return null}return kbnUrl.eval("#/management/kibana/objects/"+serviceName+"/"+id)},goInApp:function goInApp(id,type){kbnUrl.change((0,_get_in_app_url.getInAppUrl)(id,type));$scope.$apply()}})),node)})}function destroyObjectsTable(){var node=document.getElementById(REACT_OBJECTS_TABLE_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}_routes2.default.when("/management/kibana/objects",{template:_objects2.default,k7Breadcrumbs:_breadcrumbs.getIndexBreadcrumbs}).when("/management/kibana/objects/:service",{redirectTo:"/management/kibana/objects"});_modules.uiModules.get("apps/management").directive("kbnManagementObjects",function(){return{restrict:"E",controllerAs:"managementObjectsController",controller:function controller($scope,$injector,i18n){updateObjectsTable($scope,$injector,i18n);$scope.$on("$destroy",destroyObjectsTable)}}})},function(module,exports){module.exports='<kbn-management-app section="kibana" class="kuiView">\n  <kbn-management-objects>\n    <div id="reactSavedObjectsTable"></div>\n  </kbn-management-objects>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _objects_table=__webpack_require__(1359);Object.defineProperty(exports,"ObjectsTable",{enumerable:true,get:function get(){return _objects_table.ObjectsTable}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(4850);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Header=exports.Header=function Header(_ref){var onExportAll=_ref.onExportAll,onImport=_ref.onImport,onRefresh=_ref.onRefresh,filteredCount=_ref.filteredCount;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"baseline"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.header.savedObjectsTitle",defaultMessage:"Saved Objects"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"baseline",gutterSize:"m",responsive:false},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",iconType:"exportAction","data-test-subj":"exportAllObjects",onClick:onExportAll},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.header.exportButtonLabel",defaultMessage:"Export {filteredCount, plural, one{# object} other {# objects}}",values:{filteredCount:filteredCount}}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",iconType:"importAction","data-test-subj":"importObjects",onClick:onImport},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.header.importButtonLabel",defaultMessage:"Import"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",iconType:"refresh",onClick:onRefresh},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.header.refreshButtonLabel",defaultMessage:"Refresh"})))))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.howToDeleteSavedObjectsDescription",defaultMessage:"From here you can delete saved objects, such as saved searches. You can also edit the raw data of saved objects. Typically objects are only modified via their associated application, which is probably what you should use instead of this screen."})))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))};Header.propTypes={onExportAll:_propTypes2.default.func.isRequired,onImport:_propTypes2.default.func.isRequired,onRefresh:_propTypes2.default.func.isRequired,filteredCount:_propTypes2.default.number.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _flyout=__webpack_require__(4852);Object.defineProperty(exports,"Flyout",{enumerable:true,get:function get(){return _flyout.Flyout}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Flyout=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _eui=__webpack_require__(2);var _import_file=__webpack_require__(1360);var _resolve_saved_objects=__webpack_require__(1361);var _objects_table=__webpack_require__(1359);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FlyoutUI=function(_Component){_inherits(FlyoutUI,_Component);function FlyoutUI(props){var _this2=this;_classCallCheck(this,FlyoutUI);var _this=_possibleConstructorReturn(this,(FlyoutUI.__proto__||Object.getPrototypeOf(FlyoutUI)).call(this,props));_this.fetchIndexPatterns=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var indexPatterns;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.indexPatterns.getFields(["id","title"]);case 2:indexPatterns=_context.sent;_this.setState({indexPatterns:indexPatterns});case 4:case"end":return _context.stop()}}},_callee,_this2)}));_this.changeOverwriteAll=function(){_this.setState(function(state){return{isOverwriteAllChecked:!state.isOverwriteAllChecked}})};_this.setImportFile=function(_ref2){var _ref3=_slicedToArray(_ref2,1),file=_ref3[0];_this.setState({file:file})};_this.import=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _this$props,services,indexPatterns,intl,_this$state,file,isOverwriteAllChecked,contents,_ref5,conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs,importedObjectCount,failedImports,byId,conflicts;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$props=_this.props,services=_this$props.services,indexPatterns=_this$props.indexPatterns,intl=_this$props.intl;_this$state=_this.state,file=_this$state.file,isOverwriteAllChecked=_this$state.isOverwriteAllChecked;_this.setState({isLoading:true,error:undefined});contents=void 0;_context2.prev=4;_context2.next=7;return(0,_import_file.importFile)(file);case 7:contents=_context2.sent;_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2["catch"](4);_this.setState({isLoading:false,error:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.importFileErrorMessage",defaultMessage:"The file could not be processed."})});return _context2.abrupt("return");case 14:if(Array.isArray(contents)){_context2.next=17;break}_this.setState({isLoading:false,error:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.invalidFormatOfImportedFileErrorMessage",defaultMessage:"Saved objects file format is invalid and cannot be imported."})});return _context2.abrupt("return");case 17:contents=contents.filter(function(content){return _objects_table.INCLUDED_TYPES.includes(content._type)}).map(function(doc){return _extends({},doc,{_migrationVersion:doc._migrationVersion||{}})});_context2.next=20;return(0,_resolve_saved_objects.resolveSavedObjects)(contents,isOverwriteAllChecked,services,indexPatterns);case 20:_ref5=_context2.sent;conflictedIndexPatterns=_ref5.conflictedIndexPatterns;conflictedSavedObjectsLinkedToSavedSearches=_ref5.conflictedSavedObjectsLinkedToSavedSearches;conflictedSearchDocs=_ref5.conflictedSearchDocs;importedObjectCount=_ref5.importedObjectCount;failedImports=_ref5.failedImports;byId=(0,_lodash.groupBy)(conflictedIndexPatterns,function(_ref6){var obj=_ref6.obj;return obj.searchSource.getOwnField("index")});conflicts=Object.entries(byId).reduce(function(accum,_ref7){var _ref8=_slicedToArray(_ref7,2),existingIndexPatternId=_ref8[0],list=_ref8[1];accum.push({existingIndexPatternId:existingIndexPatternId,newIndexPatternId:undefined,list:list.map(function(_ref9){var doc=_ref9.doc;return{id:existingIndexPatternId,type:doc._type,name:doc._source.title}})});return accum},[]);_this.setState({conflictedIndexPatterns:conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,failedImports:failedImports,conflicts:conflicts,importCount:importedObjectCount,isLoading:false,wasImportSuccessful:conflicts.length===0});case 29:case"end":return _context2.stop()}}},_callee2,_this2,[[4,10]])}));_this.confirmImport=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var _this$state2,conflictedIndexPatterns,isOverwriteAllChecked,conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs,failedImports,_this$props2,services,indexPatterns,intl,importCount,resolutions;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this$state2=_this.state,conflictedIndexPatterns=_this$state2.conflictedIndexPatterns,isOverwriteAllChecked=_this$state2.isOverwriteAllChecked,conflictedSavedObjectsLinkedToSavedSearches=_this$state2.conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs=_this$state2.conflictedSearchDocs,failedImports=_this$state2.failedImports;_this$props2=_this.props,services=_this$props2.services,indexPatterns=_this$props2.indexPatterns,intl=_this$props2.intl;_this.setState({error:undefined,isLoading:true,loadingMessage:undefined});importCount=_this.state.importCount;if(!_this.hasConflicts){_context3.next=30;break}_context3.prev=5;resolutions=_this.resolutions;_this.setState({loadingMessage:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.confirmImport.resolvingConflictsLoadingMessage",defaultMessage:"Resolving conflicts…"})});if(!resolutions.length){_context3.next=12;break}_context3.next=11;return(0,_resolve_saved_objects.resolveIndexPatternConflicts)(resolutions,conflictedIndexPatterns,isOverwriteAllChecked);case 11:importCount+=_context3.sent;case 12:_this.setState({loadingMessage:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.confirmImport.savingConflictsLoadingMessage",defaultMessage:"Saving conflicts…"})});_context3.next=15;return(0,_resolve_saved_objects.saveObjects)(conflictedSavedObjectsLinkedToSavedSearches,isOverwriteAllChecked);case 15:importCount+=_context3.sent;_this.setState({loadingMessage:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.confirmImport.savedSearchAreLinkedProperlyLoadingMessage",defaultMessage:"Ensure saved searches are linked properly…"})});_context3.next=19;return(0,_resolve_saved_objects.resolveSavedSearches)(conflictedSearchDocs,services,indexPatterns,isOverwriteAllChecked);case 19:importCount+=_context3.sent;_this.setState({loadingMessage:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.confirmImport.retryingFailedObjectsLoadingMessage",defaultMessage:"Retrying failed objects…"})});_context3.next=23;return(0,_resolve_saved_objects.saveObjects)(failedImports.map(function(_ref11){var obj=_ref11.obj;return obj}),isOverwriteAllChecked);case 23:importCount+=_context3.sent;_context3.next=30;break;case 26:_context3.prev=26;_context3.t0=_context3["catch"](5);_this.setState({error:_context3.t0.message,isLoading:false,loadingMessage:undefined});return _context3.abrupt("return");case 30:_this.setState({isLoading:false,wasImportSuccessful:true,importCount:importCount});case 31:case"end":return _context3.stop()}}},_callee3,_this2,[[5,26]])}));_this.onIndexChanged=function(id,e){var value=e.target.value;_this.setState(function(state){var conflictIndex=state.conflicts.findIndex(function(conflict){return conflict.existingIndexPatternId===id});if(conflictIndex===-1){return state}return{conflicts:[].concat(_toConsumableArray(state.conflicts.slice(0,conflictIndex)),[_extends({},state.conflicts[conflictIndex],{newIndexPatternId:value})],_toConsumableArray(state.conflicts.slice(conflictIndex+1)))}})};_this.state={conflictedIndexPatterns:undefined,conflictedSavedObjectsLinkedToSavedSearches:undefined,conflictedSearchDocs:undefined,conflicts:undefined,error:undefined,file:undefined,importCount:0,indexPatterns:undefined,isOverwriteAllChecked:true,isLoading:false,loadingMessage:undefined,wasImportSuccessful:false};return _this}_createClass(FlyoutUI,[{key:"componentDidMount",value:function componentDidMount(){this.fetchIndexPatterns()}},{key:"renderConflicts",value:function renderConflicts(){var _this3=this;var conflicts=this.state.conflicts;var intl=this.props.intl;if(!conflicts){return null}var columns=[{field:"existingIndexPatternId",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnIdName",defaultMessage:"ID"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnIdDescription",defaultMessage:"ID of the index pattern"}),sortable:true},{field:"list",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnCountName",defaultMessage:"Count"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnCountDescription",defaultMessage:"How many affected objects"}),render:function render(list){return _react2.default.createElement(_react.Fragment,null,list.length)}},{field:"list",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnSampleOfAffectedObjectsName",defaultMessage:"Sample of affected objects"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnSampleOfAffectedObjectsDescription",defaultMessage:"Sample of affected objects"}),render:function render(list){return _react2.default.createElement("ul",{style:{listStyle:"none"}},(0,_lodash.take)(list,3).map(function(obj,key){return _react2.default.createElement("li",{key:key},obj.name)}))}},{field:"existingIndexPatternId",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnNewIndexPatternName",defaultMessage:"New index pattern"}),render:function render(id){var options=_this3.state.indexPatterns.map(function(indexPattern){return _defineProperty({text:indexPattern.get("title"),value:indexPattern.id},"data-test-subj","indexPatternOption-"+indexPattern.get("title"))});options.unshift({text:"-- Skip Import --",value:""});return _react2.default.createElement(_eui.EuiSelect,{"data-test-subj":"managementChangeIndexSelection-"+id,onChange:function onChange(e){return _this3.onIndexChanged(id,e)},options:options})}}];var pagination={pageSizeOptions:[5,10,25]};return _react2.default.createElement(_eui.EuiInMemoryTable,{items:conflicts,columns:columns,pagination:pagination})}},{key:"renderError",value:function renderError(){var error=this.state.error;if(!error){return null}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.errorCalloutTitle",defaultMessage:"Sorry, there was an error"}),color:"danger",iconType:"cross"},_react2.default.createElement("p",null,error)),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}))}},{key:"renderBody",value:function renderBody(){var _state=this.state,isLoading=_state.isLoading,loadingMessage=_state.loadingMessage,isOverwriteAllChecked=_state.isOverwriteAllChecked,wasImportSuccessful=_state.wasImportSuccessful,importCount=_state.importCount,_state$failedImports=_state.failedImports,failedImports=_state$failedImports===undefined?[]:_state$failedImports;if(isLoading){return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingKibana,{size:"xl"}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,loadingMessage))))}if(failedImports.length&&!this.hasConflicts){return _react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importFailedTitle",defaultMessage:"Import failed"}),color:"warning",iconType:"help"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importFailedDescription",defaultMessage:"Failed to import {failedImportCount} of {totalImportCount} objects.Import failed",values:{failedImportCount:failedImports.length,totalImportCount:importCount+failedImports.length}})),_react2.default.createElement("p",null,failedImports.map(function(_ref13){var error=_ref13.error;return(0,_lodash.get)(error,"body.message",error.message||"")}).join(" ")))}if(wasImportSuccessful){if(importCount===0){return _react2.default.createElement(_eui.EuiCallOut,{"data-test-subj":"importSavedObjectsSuccessNoneImported",title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSuccessfulCallout.noObjectsImportedTitle",defaultMessage:"No objects imported"}),color:"primary"})}return _react2.default.createElement(_eui.EuiCallOut,{"data-test-subj":"importSavedObjectsSuccess",title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSuccessfulTitle",defaultMessage:"Import successful"}),color:"success",iconType:"check"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSuccessfulDescription",defaultMessage:"Successfully imported {importCount} objects.",values:{importCount:importCount}})))}if(this.hasConflicts){return this.renderConflicts()}return _react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.selectFileToImportFormRowLabel",defaultMessage:"Please select a JSON file to import"})},_react2.default.createElement(_eui.EuiFilePicker,{initialPromptText:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importPromptText",defaultMessage:"Import"}),onChange:this.setImportFile})),_react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_eui.EuiSwitch,{name:"overwriteAll",label:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.overwriteSavedObjectsLabel",defaultMessage:"Automatically overwrite all saved objects?"}),"data-test-subj":"importSavedObjectsOverwriteToggle",checked:isOverwriteAllChecked,onChange:this.changeOverwriteAll})))}},{key:"renderFooter",value:function renderFooter(){var _state2=this.state,isLoading=_state2.isLoading,wasImportSuccessful=_state2.wasImportSuccessful;var _props=this.props,done=_props.done,close=_props.close;var confirmButton=void 0;if(wasImportSuccessful){confirmButton=_react2.default.createElement(_eui.EuiButton,{onClick:done,size:"s",fill:true,"data-test-subj":"importSavedObjectsDoneBtn"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSuccessful.confirmButtonLabel",defaultMessage:"Done"}))}else if(this.hasConflicts){confirmButton=_react2.default.createElement(_eui.EuiButton,{onClick:this.confirmImport,size:"s",fill:true,isLoading:isLoading,"data-test-subj":"importSavedObjectsConfirmBtn"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSuccessful.confirmAllChangesButtonLabel",defaultMessage:"Confirm all changes"}))}else{confirmButton=_react2.default.createElement(_eui.EuiButton,{onClick:this.import,size:"s",fill:true,isLoading:isLoading,"data-test-subj":"importSavedObjectsImportBtn"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.import.confirmButtonLabel",defaultMessage:"Import"}))}return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{onClick:close,size:"s"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.import.cancelButtonLabel",defaultMessage:"Cancel"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},confirmButton))}},{key:"renderSubheader",value:function renderSubheader(){if(!this.hasConflicts||this.state.isLoading||this.state.wasImportSuccessful){return null}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.indexPatternConflictsTitle",defaultMessage:"Index Pattern Conflicts"}),color:"warning",iconType:"help"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.indexPatternConflictsDescription",defaultMessage:"The following saved objects use index patterns that do not exist. Please select the index patterns you'd like re-associated with them. You can {indexPatternLink} if necessary.",values:{indexPatternLink:_react2.default.createElement(_eui.EuiLink,{href:this.props.newIndexPatternUrl},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.indexPatternConflictsCalloutLinkText",defaultMessage:"create a new index pattern"}))}}))))}},{key:"render",value:function render(){var close=this.props.close;return _react2.default.createElement(_eui.EuiFlyout,{onClose:close,size:"s"},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSavedObjectTitle",defaultMessage:"Import saved objects"}))),this.renderSubheader()),_react2.default.createElement(_eui.EuiFlyoutBody,null,this.renderError(),this.renderBody()),_react2.default.createElement(_eui.EuiFlyoutFooter,null,this.renderFooter()))}},{key:"hasConflicts",get:function get(){return this.state.conflicts&&this.state.conflicts.length>0}},{key:"resolutions",get:function get(){return this.state.conflicts.reduce(function(accum,_ref14){var existingIndexPatternId=_ref14.existingIndexPatternId,newIndexPatternId=_ref14.newIndexPatternId;if(newIndexPatternId){accum.push({oldId:existingIndexPatternId,newId:newIndexPatternId})}return accum},[])}}]);return FlyoutUI}(_react.Component);FlyoutUI.propTypes={close:_propTypes2.default.func.isRequired,done:_propTypes2.default.func.isRequired,services:_propTypes2.default.array.isRequired,newIndexPatternUrl:_propTypes2.default.string.isRequired,indexPatterns:_propTypes2.default.object.isRequired};var Flyout=exports.Flyout=(0,_react3.injectI18n)(FlyoutUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _relationships=__webpack_require__(4854);Object.defineProperty(exports,"Relationships",{enumerable:true,get:function get(){return _relationships.Relationships}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Relationships=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);var _lib=__webpack_require__(549);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var RelationshipsUI=function(_Component){_inherits(RelationshipsUI,_Component);function RelationshipsUI(props){_classCallCheck(this,RelationshipsUI);var _this=_possibleConstructorReturn(this,(RelationshipsUI.__proto__||Object.getPrototypeOf(RelationshipsUI)).call(this,props));_this.state={relationships:undefined,isLoading:false,error:undefined};return _this}_createClass(RelationshipsUI,[{key:"componentWillMount",value:function componentWillMount(){this.getRelationshipData()}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(nextProps.id!==this.props.id){this.getRelationshipData()}}},{key:"getRelationshipData",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _props,id,type,getRelationships,relationships;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_props=this.props,id=_props.id,type=_props.type,getRelationships=_props.getRelationships;this.setState({isLoading:true});_context.prev=2;_context.next=5;return getRelationships(type,id);case 5:relationships=_context.sent;this.setState({relationships:relationships,isLoading:false,error:undefined});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context["catch"](2);this.setState({error:_context.t0.message,isLoading:false});case 12:case"end":return _context.stop()}}},_callee,this,[[2,9]])}));function getRelationshipData(){return _ref.apply(this,arguments)}return getRelationshipData}()},{key:"renderError",value:function renderError(){var error=this.state.error;if(!error){return null}return _react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.renderErrorMessage",defaultMessage:"Error"}),color:"danger"},error)}},{key:"renderRelationships",value:function renderRelationships(){var _this2=this;var _props2=this.props,getEditUrl=_props2.getEditUrl,goInApp=_props2.goInApp,intl=_props2.intl;var _state=this.state,relationships=_state.relationships,isLoading=_state.isLoading,error=_state.error;if(error){return this.renderError()}if(isLoading){return _react2.default.createElement(_eui.EuiLoadingKibana,{size:"xl"})}var items=[];var _loop=function _loop(type,list){if(list.length===0){items.push(_react2.default.createElement(_eui.EuiDescriptionListTitle,{key:type+"_not_found"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.itemNotFoundText",defaultMessage:"No {type} found.",values:{type:type}})))}else{var calloutTitle=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.warningTitle",defaultMessage:"Warning"});var calloutColor="warning";var calloutText=void 0;switch(_this2.props.type){case"dashboard":calloutColor="success";calloutTitle=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.dashboard.calloutTitle",defaultMessage:"Dashboard"});calloutText=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.dashboard.calloutText",defaultMessage:"Here are some visualizations used on this dashboard. You can safely delete this dashboard and the visualizations will still work properly."});break;case"search":if(type==="visualizations"){calloutText=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.search.visualizations.calloutText",defaultMessage:"Here are some visualizations that use this saved search. If you delete this saved search, these visualizations will not longer work properly."})}else{calloutColor="success";calloutTitle=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.search.calloutTitle",defaultMessage:"Saved Search"});calloutText=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.search.calloutText",defaultMessage:"Here is the index pattern tied to this saved search."})}break;case"visualization":calloutText=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.visualization.calloutText",defaultMessage:"Here are some dashboards which contain this visualization. If you delete this visualization, these dashboards will no longer show them."});break;case"index-pattern":if(type==="visualizations"){calloutText=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.indexPattern.visualizations.calloutText",defaultMessage:"Here are some visualizations that use this index pattern. If you delete this index pattern, these visualizations will not longer work properly."})}else if(type==="searches"){calloutText=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.indexPattern.searches.calloutText",defaultMessage:"Here are some saved searches that use this index pattern. If you delete this index pattern, these saved searches will not longer work properly."})}break}items.push(_react2.default.createElement(_react.Fragment,{key:type},_react2.default.createElement(_eui.EuiDescriptionListTitle,{style:{marginBottom:"1rem"}},_react2.default.createElement(_eui.EuiCallOut,{color:calloutColor,title:calloutTitle},_react2.default.createElement("p",null,calloutText))),_react2.default.createElement(_eui.EuiInMemoryTable,{items:list,columns:[{width:24,render:function render(){return _react2.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(type)},_react2.default.createElement(_eui.EuiIcon,{"aria-label":(0,_lib.getSavedObjectLabel)(type),size:"s",type:(0,_lib.getSavedObjectIcon)(type)}))}},{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnTitleName",defaultMessage:"Title"}),field:"title",render:function render(title,item){return _react2.default.createElement(_eui.EuiLink,{href:""+getEditUrl(item.id,type)},title)}},{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnActionsName",defaultMessage:"Actions"}),actions:[{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnActions.inAppName",defaultMessage:"In app"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnActions.inAppDescription",defaultMessage:"View this saved object within Kibana"}),icon:"eye",onClick:function onClick(object){return goInApp(object.id,type)}}]}],pagination:true})))}};var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=Object.entries(relationships)[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _ref2=_step.value;var _ref3=_slicedToArray(_ref2,2);var type=_ref3[0];var list=_ref3[1];_loop(type,list)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return _react2.default.createElement(_eui.EuiDescriptionList,null,items)}},{key:"render",value:function render(){var _props3=this.props,close=_props3.close,title=_props3.title,type=_props3.type;return _react2.default.createElement(_eui.EuiFlyout,{onClose:close},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,_react2.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(type)},_react2.default.createElement(_eui.EuiIcon,{"aria-label":(0,_lib.getSavedObjectLabel)(type),size:"m",type:(0,_lib.getSavedObjectIcon)(type)})),"  ",title))),_react2.default.createElement(_eui.EuiFlyoutBody,null,this.renderRelationships()))}}]);return RelationshipsUI}(_react.Component);RelationshipsUI.propTypes={getRelationships:_propTypes2.default.func.isRequired,id:_propTypes2.default.string.isRequired,type:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,close:_propTypes2.default.func.isRequired,getEditUrl:_propTypes2.default.func.isRequired,goInApp:_propTypes2.default.func.isRequired};var Relationships=exports.Relationships=(0,_react3.injectI18n)(RelationshipsUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getRelationships=undefined;var getRelationships=exports.getRelationships=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(type,id,$http,basePath){var url,options,response,respBody,err;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=basePath+"/api/kibana/management/saved_objects/relationships/"+type+"/"+id;options={method:"GET",url:url};_context.prev=2;_context.next=5;return $http(options);case 5:response=_context.sent;return _context.abrupt("return",response?response.data:undefined);case 9:_context.prev=9;_context.t0=_context["catch"](2);respBody=(0,_lodash.get)(_context.t0,"data",{});err=new Error(respBody.message||respBody.error||_context.t0.status+" Response");err.statusCode=respBody.statusCode||_context.t0.status;err.body=respBody;throw err;case 16:case"end":return _context.stop()}}},_callee,this,[[2,9]])}));return function getRelationships(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)}}();var _lodash=__webpack_require__(1);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSavedObjectCounts=undefined;var getSavedObjectCounts=exports.getSavedObjectCounts=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee($http,typesToInclude,searchString){var results;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return $http.post(apiBase+"/counts",{typesToInclude:typesToInclude,searchString:searchString});case 2:results=_context.sent;return _context.abrupt("return",results.data);case 4:case"end":return _context.stop()}}},_callee,this)}));return function getSavedObjectCounts(_x,_x2,_x3){return _ref.apply(this,arguments)}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var apiBase=_chrome2.default.addBasePath("/api/kibana/management/saved_objects/scroll")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSavedObjectIcon=getSavedObjectIcon;function getSavedObjectIcon(type){switch(type){case"search":case"searches":return"search";case"visualization":case"visualizations":return"visualizeApp";case"dashboard":case"dashboards":return"dashboardApp";case"index-pattern":case"index-patterns":case"indexPatterns":return"indexPatternApp";default:return"apps"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSavedObjectLabel=getSavedObjectLabel;function getSavedObjectLabel(type){switch(type){case"index-pattern":case"index-patterns":case"indexPatterns":return"index patterns";default:return type}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseQuery=parseQuery;function parseQuery(query){var queryText=undefined;var visibleTypes=undefined;if(query){if(query.ast.getTermClauses().length){queryText=query.ast.getTermClauses().map(function(clause){return clause.value}).join(" ")}if(query.ast.getFieldClauses("type")){visibleTypes=query.ast.getFieldClauses("type")[0].value}}return{queryText:queryText,visibleTypes:visibleTypes}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.retrieveAndExportDocs=undefined;var retrieveAndExportDocs=exports.retrieveAndExportDocs=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(objs,savedObjectsClient){var response,objects;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return savedObjectsClient.bulkGet(objs);case 2:response=_context.sent;objects=response.savedObjects.map(function(obj){return{_id:obj.id,_type:obj.type,_source:obj.attributes,_migrationVersion:obj.migrationVersion}});(0,_.saveToFile)(JSON.stringify(objects,null,2));case 5:case"end":return _context.stop()}}},_callee,this)}));return function retrieveAndExportDocs(_x,_x2){return _ref.apply(this,arguments)}}();var _=__webpack_require__(549);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.saveToFile=saveToFile;var _filesaver=__webpack_require__(690);function saveToFile(resultsJson){var blob=new Blob([resultsJson],{type:"application/json"});(0,_filesaver.saveAs)(blob,"export.json")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.scanAllTypes=undefined;var scanAllTypes=exports.scanAllTypes=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee($http,typesToInclude){var results;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return $http.post(apiBase+"/export",{typesToInclude:typesToInclude});case 2:results=_context.sent;return _context.abrupt("return",results.data);case 4:case"end":return _context.stop()}}},_callee,this)}));return function scanAllTypes(_x,_x2){return _ref.apply(this,arguments)}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var apiBase=_chrome2.default.addBasePath("/api/kibana/management/saved_objects/scroll")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(4864);Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _lib=__webpack_require__(549);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TableUI=function(_PureComponent){_inherits(TableUI,_PureComponent);function TableUI(){var _ref;var _temp,_this,_ret;_classCallCheck(this,TableUI);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=TableUI.__proto__||Object.getPrototypeOf(TableUI)).call.apply(_ref,[this].concat(args))),_this),_this.state={isSearchTextValid:true,parseErrorMessage:null},_this.onChange=function(_ref2){var query=_ref2.query,error=_ref2.error;if(error){_this.setState({isSearchTextValid:false,parseErrorMessage:error.message});return}_this.setState({isSearchTextValid:true,parseErrorMessage:null});_this.props.onQueryChange({query:query})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(TableUI,[{key:"render",value:function render(){var _props=this.props,pageIndex=_props.pageIndex,pageSize=_props.pageSize,itemId=_props.itemId,items=_props.items,totalItemCount=_props.totalItemCount,isSearching=_props.isSearching,filterOptions=_props.filterOptions,selection=_props.selectionConfig,onDelete=_props.onDelete,onExport=_props.onExport,selectedSavedObjects=_props.selectedSavedObjects,onTableChange=_props.onTableChange,goInApp=_props.goInApp,getEditUrl=_props.getEditUrl,onShowRelationships=_props.onShowRelationships,intl=_props.intl;var pagination={pageIndex:pageIndex,pageSize:pageSize,totalItemCount:totalItemCount,pageSizeOptions:[5,10,20,50]};var filters=[{type:"field_value_selection",field:"type",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.typeFilterName",defaultMessage:"Type"}),multiSelect:"or",options:filterOptions}];var columns=[{field:"type",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnTypeName",defaultMessage:"Type"}),width:"50px",align:"center",description:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnTypeDescription",defaultMessage:"Type of the saved object"}),sortable:false,render:function render(type){return _react2.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(type)},_react2.default.createElement(_eui.EuiIcon,{"aria-label":(0,_lib.getSavedObjectLabel)(type),type:(0,_lib.getSavedObjectIcon)(type),size:"s"}))}},{field:"title",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnTitleName",defaultMessage:"Title"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnTitleDescription",defaultMessage:"Title of the saved object"}),dataType:"string",sortable:false,render:function render(title,object){return _react2.default.createElement(_eui.EuiLink,{href:getEditUrl(object.id,object.type)},title)}},{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnActionsName",defaultMessage:"Actions"}),actions:[{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnActions.viewInAppActionName",defaultMessage:"In app"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnActions.viewInAppActionDescription",defaultMessage:"View this saved object within Kibana"}),type:"icon",icon:"eye",onClick:function onClick(object){return goInApp(object.id,object.type)}},{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnActions.viewRelationshipsActionName",defaultMessage:"Relationships"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnActions.viewRelationshipsActionDescription",defaultMessage:"View the relationships this saved object has to other saved objects"}),type:"icon",icon:"kqlSelector",onClick:function onClick(object){return onShowRelationships(object.id,object.type,object.title)}}]}];var queryParseError=void 0;if(!this.state.isSearchTextValid){var parseErrorMsg=intl.formatMessage({id:"kbn.management.objects.objectsTable.searchBar.unableToParseQueryErrorMessage",defaultMessage:"Unable to parse query"});queryParseError=_react2.default.createElement(_eui.EuiFormErrorText,null,parseErrorMsg+". "+this.state.parseErrorMessage)}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSearchBar,{box:{"data-test-subj":"savedObjectSearchBar"},filters:filters,onChange:this.onChange,toolsRight:[_react2.default.createElement(_eui.EuiButton,{key:"deleteSO",iconType:"trash",color:"danger",onClick:onDelete,isDisabled:selectedSavedObjects.length===0},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.table.deleteButtonLabel",defaultMessage:"Delete"})),_react2.default.createElement(_eui.EuiButton,{key:"exportSO",iconType:"exportAction",onClick:onExport,isDisabled:selectedSavedObjects.length===0},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.objects.objectsTable.table.exportButtonLabel",defaultMessage:"Export"}))]}),queryParseError,_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement("div",{"data-test-subj":"savedObjectsTable"},_react2.default.createElement(_eui.EuiBasicTable,{loading:isSearching,itemId:itemId,items:items,columns:columns,pagination:pagination,selection:selection,onChange:onTableChange})))}}]);return TableUI}(_react.PureComponent);TableUI.propTypes={selectedSavedObjects:_propTypes2.default.array.isRequired,selectionConfig:_propTypes2.default.shape({selectable:_propTypes2.default.func,selectableMessage:_propTypes2.default.func,onSelectionChange:_propTypes2.default.func.isRequired}).isRequired,filterOptions:_propTypes2.default.array.isRequired,onDelete:_propTypes2.default.func.isRequired,onExport:_propTypes2.default.func.isRequired,getEditUrl:_propTypes2.default.func.isRequired,goInApp:_propTypes2.default.func.isRequired,pageIndex:_propTypes2.default.number.isRequired,pageSize:_propTypes2.default.number.isRequired,items:_propTypes2.default.array.isRequired,itemId:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.func]),totalItemCount:_propTypes2.default.number.isRequired,onQueryChange:_propTypes2.default.func.isRequired,onTableChange:_propTypes2.default.func.isRequired,isSearching:_propTypes2.default.bool.isRequired,onShowRelationships:_propTypes2.default.func.isRequired};var Table=exports.Table=(0,_react3.injectI18n)(TableUI)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.destroyIndexPatternList=undefined;exports.updateIndexPatternList=updateIndexPatternList;var _management=__webpack_require__(24);var _index_pattern_list=__webpack_require__(547);var _index_pattern_creation=__webpack_require__(546);__webpack_require__(4866);__webpack_require__(4903);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(4);var _index=__webpack_require__(4951);var _index2=_interopRequireDefault(_index);var _saved_objects=__webpack_require__(50);var _feature_catalogue=__webpack_require__(39);var _i18n=__webpack_require__(9);var _react=__webpack_require__(3);var _react2=__webpack_require__(0);var _react3=_interopRequireDefault(_react2);var _reactDom=__webpack_require__(15);var _index_pattern_list2=__webpack_require__(4952);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var INDEX_PATTERN_LIST_DOM_ELEMENT_ID="indexPatternListReact";function updateIndexPatternList($scope,indexPatternCreationOptions,defaultIndex,indexPatterns){var node=document.getElementById(INDEX_PATTERN_LIST_DOM_ELEMENT_ID);if(!node){return}(0,_reactDom.render)(_react3.default.createElement(_react.I18nProvider,null,_react3.default.createElement(_index_pattern_list2.IndexPatternList,{indexPatternCreationOptions:indexPatternCreationOptions,defaultIndex:defaultIndex,indexPatterns:indexPatterns})),node)}var destroyIndexPatternList=exports.destroyIndexPatternList=function destroyIndexPatternList(){var node=document.getElementById(INDEX_PATTERN_LIST_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)};var indexPatternsResolutions={indexPatterns:function indexPatterns(Private){var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);return savedObjectsClient.find({type:"index-pattern",fields:["title","type"],perPage:1e4}).then(function(response){return response.savedObjects})}};_routes2.default.defaults(/management\/kibana\/(indices|index)/,{resolve:indexPatternsResolutions});_modules.uiModules.get("apps/management").directive("kbnManagementIndices",function($route,config,kbnUrl,Private){return{restrict:"E",transclude:true,template:_index2.default,link:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee($scope){var indexPatternListProvider,indexPatternCreationProvider,indexPatternCreationOptions,renderList;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:indexPatternListProvider=Private(_index_pattern_list.IndexPatternListFactory)();indexPatternCreationProvider=Private(_index_pattern_creation.IndexPatternCreationFactory)();_context.next=4;return indexPatternCreationProvider.getIndexPatternCreationOptions(function(url){$scope.$evalAsync(function(){return kbnUrl.change(url)})});case 4:indexPatternCreationOptions=_context.sent;renderList=function renderList(){$scope.indexPatternList=$route.current.locals.indexPatterns.map(function(pattern){var id=pattern.id;var tags=indexPatternListProvider.getIndexPatternTags(pattern,$scope.defaultIndex===id);return{id:id,title:pattern.get("title"),url:kbnUrl.eval("#/management/kibana/indices/{{id}}",{id:id}),active:$scope.editingId===id,default:$scope.defaultIndex===id,tag:tags&&tags.length?tags[0]:null}}).sort(function(a,b){if(a.default){return-1}if(b.default){return 1}if(a.title<b.title){return-1}if(a.title>b.title){return 1}return 0})||[];updateIndexPatternList($scope,indexPatternCreationOptions,$scope.defaultIndex,$scope.indexPatternList)};$scope.$on("$destroy",destroyIndexPatternList);$scope.editingId=$route.current.params.indexPatternId;$scope.$watch("defaultIndex",function(){return renderList()});config.bindToScope($scope,"defaultIndex");$scope.$apply();case 11:case"end":return _context.stop()}}},_callee,this)}));function link(_x){return _ref.apply(this,arguments)}return link}()}});_management.management.getSection("kibana").register("indices",{display:_i18n.i18n.translate("kbn.management.indexPattern.sectionsHeader",{defaultMessage:"Index Patterns"}),order:0,url:"#/management/kibana/indices/"});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"index_patterns",title:_i18n.i18n.translate("kbn.management.indexPatternHeader",{defaultMessage:"Index Patterns"}),description:_i18n.i18n.translate("kbn.management.indexPatternLabel",{defaultMessage:"Manage the index patterns that help retrieve your data from Elasticsearch."}),icon:"indexPatternApp",path:"/app/kibana#/management/kibana/indices",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";var _saved_objects=__webpack_require__(50);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _angular_template=__webpack_require__(4867);var _angular_template2=_interopRequireDefault(_angular_template);__webpack_require__(217);var _index_pattern_creation=__webpack_require__(546);var _breadcrumbs=__webpack_require__(805);var _render=__webpack_require__(4868);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/management/kibana/index",{template:_angular_template2.default,k7Breadcrumbs:_breadcrumbs.getCreateBreadcrumbs,controller:function controller($scope,$injector){var kbnUrl=$injector.get("kbnUrl");var Private=$injector.get("Private");$scope.$$postDigest(function(){var $routeParams=$injector.get("$routeParams");var indexPatternCreationProvider=Private(_index_pattern_creation.IndexPatternCreationFactory)($routeParams.type);var indexPatternCreationType=indexPatternCreationProvider.getType();var services={config:$injector.get("config"),es:$injector.get("es"),indexPatterns:$injector.get("indexPatterns"),$http:$injector.get("$http"),savedObjectsClient:Private(_saved_objects.SavedObjectsClientProvider),indexPatternCreationType:indexPatternCreationType,changeUrl:function changeUrl(url){$scope.$evalAsync(function(){return kbnUrl.changePath(url)})}};var initialQuery=$routeParams.id?decodeURIComponent($routeParams.id):undefined;(0,_render.renderCreateIndexPatternWizard)(initialQuery,services)});$scope.$on("$destroy",_render.destroyCreateIndexPatternWizard)}})},function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <kbn-management-indices>\n    <div id="createIndexPatternReact"></div>\n  </kbn-management-indices>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.renderCreateIndexPatternWizard=renderCreateIndexPatternWizard;exports.destroyCreateIndexPatternWizard=destroyCreateIndexPatternWizard;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _create_index_pattern_wizard=__webpack_require__(4869);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CREATE_INDEX_PATTERN_DOM_ELEMENT_ID="createIndexPatternReact";function renderCreateIndexPatternWizard(initialQuery,services){var node=document.getElementById(CREATE_INDEX_PATTERN_DOM_ELEMENT_ID);if(!node){return}(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_create_index_pattern_wizard.CreateIndexPatternWizard,{initialQuery:initialQuery,services:services})),node)}function destroyCreateIndexPatternWizard(){var node=document.getElementById(CREATE_INDEX_PATTERN_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CreateIndexPatternWizard=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);var _step_index_pattern=__webpack_require__(4870);var _step_time_field=__webpack_require__(4886);var _header=__webpack_require__(4897);var _loading_state=__webpack_require__(4899);var _empty_state=__webpack_require__(4901);var _constants=__webpack_require__(550);var _lib=__webpack_require__(806);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CreateIndexPatternWizard=exports.CreateIndexPatternWizard=function(_Component){_inherits(CreateIndexPatternWizard,_Component);function CreateIndexPatternWizard(props){var _this2=this;_classCallCheck(this,CreateIndexPatternWizard);var _this=_possibleConstructorReturn(this,(CreateIndexPatternWizard.__proto__||Object.getPrototypeOf(CreateIndexPatternWizard)).call(this,props));_this.catchAndWarn=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(asyncFn,errorValue,errorMsg){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return asyncFn;case 3:return _context.abrupt("return",_context.sent);case 6:_context.prev=6;_context.t0=_context["catch"](0);_this.setState(function(prevState){return{toasts:prevState.toasts.concat([{title:errorMsg,id:errorMsg,color:"warning",iconType:"alert"}])}});return _context.abrupt("return",errorValue);case 10:case"end":return _context.stop()}}},_callee,_this2,[[0,6]])}));return function(_x,_x2,_x3){return _ref.apply(this,arguments)}}();_this.fetchData=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var services,indicesFailMsg,clustersFailMsg;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:services=_this.props.services;_this.setState({allIndices:[],isInitiallyLoadingIndices:true,remoteClustersExist:false});indicesFailMsg=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.loadIndicesFailMsg",defaultMessage:"Failed to load indices"});clustersFailMsg=_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.loadClustersFailMsg",defaultMessage:"Failed to load remote clusters"});(0,_lib.ensureMinimumTime)(_this.catchAndWarn((0,_lib.getIndices)(services.es,_this.indexPatternCreationType,"*",_constants.MAX_SEARCH_SIZE),[],indicesFailMsg)).then(function(allIndices){return _this.setState({allIndices:allIndices,isInitiallyLoadingIndices:false})});_this.catchAndWarn((0,_lib.getIndices)(services.es,_this.indexPatternCreationType,"*:*",1),["a"],clustersFailMsg).then(function(remoteIndices){return _this.setState({remoteClustersExist:!!remoteIndices.length})});case 6:case"end":return _context2.stop()}}},_callee2,_this2)}));_this.createIndexPattern=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(timeFieldName,indexPatternId){var services,indexPattern,emptyPattern,createdId;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:services=_this.props.services;indexPattern=_this.state.indexPattern;_context3.next=4;return services.indexPatterns.get();case 4:emptyPattern=_context3.sent;Object.assign(emptyPattern,_extends({id:indexPatternId,title:indexPattern,timeFieldName:timeFieldName},_this.indexPatternCreationType.getIndexPatternMappings()));_context3.next=8;return emptyPattern.create();case 8:createdId=_context3.sent;if(services.config.get("defaultIndex")){_context3.next=12;break}_context3.next=12;return services.config.set("defaultIndex",createdId);case 12:services.indexPatterns.cache.clear(createdId);services.changeUrl("/management/kibana/indices/"+createdId);case 14:case"end":return _context3.stop()}}},_callee3,_this2)}));return function(_x4,_x5){return _ref3.apply(this,arguments)}}();_this.goToTimeFieldStep=function(indexPattern){_this.setState({step:2,indexPattern:indexPattern})};_this.goToIndexPatternStep=function(){_this.setState({step:1})};_this.onChangeIncludingSystemIndices=function(){_this.setState(function(state){return{isIncludingSystemIndices:!state.isIncludingSystemIndices}})};_this.removeToast=function(removedToast){_this.setState(function(prevState){return{toasts:prevState.toasts.filter(function(toast){return toast.id!==removedToast.id})}})};_this.indexPatternCreationType=_this.props.services.indexPatternCreationType;_this.state={step:1,indexPattern:"",allIndices:[],remoteClustersExist:false,isInitiallyLoadingIndices:true,isIncludingSystemIndices:false,toasts:[]};return _this}_createClass(CreateIndexPatternWizard,[{key:"componentWillMount",value:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:this.fetchData();case 1:case"end":return _context4.stop()}}},_callee4,this)}));function componentWillMount(){return _ref4.apply(this,arguments)}return componentWillMount}()},{key:"renderHeader",value:function renderHeader(){var isIncludingSystemIndices=this.state.isIncludingSystemIndices;return _react2.default.createElement(_header.Header,{prompt:this.indexPatternCreationType.renderPrompt(),showSystemIndices:this.indexPatternCreationType.getShowSystemIndices(),isIncludingSystemIndices:isIncludingSystemIndices,onChangeIncludingSystemIndices:this.onChangeIncludingSystemIndices,indexPatternName:this.indexPatternCreationType.getIndexPatternName(),isBeta:this.indexPatternCreationType.getIsBeta()})}},{key:"renderContent",value:function renderContent(){var _state=this.state,allIndices=_state.allIndices,isInitiallyLoadingIndices=_state.isInitiallyLoadingIndices,isIncludingSystemIndices=_state.isIncludingSystemIndices,step=_state.step,indexPattern=_state.indexPattern,remoteClustersExist=_state.remoteClustersExist;if(isInitiallyLoadingIndices){return _react2.default.createElement(_loading_state.LoadingState,null)}var hasDataIndices=allIndices.some(function(_ref5){var name=_ref5.name;return!name.startsWith(".")});if(!hasDataIndices&&!isIncludingSystemIndices&&!remoteClustersExist){return _react2.default.createElement(_empty_state.EmptyState,{onRefresh:this.fetchData})}if(step===1){var _props=this.props,services=_props.services,initialQuery=_props.initialQuery;return _react2.default.createElement(_step_index_pattern.StepIndexPattern,{allIndices:allIndices,initialQuery:indexPattern||initialQuery,isIncludingSystemIndices:isIncludingSystemIndices,esService:services.es,savedObjectsClient:services.savedObjectsClient,indexPatternCreationType:this.indexPatternCreationType,goToNextStep:this.goToTimeFieldStep})}if(step===2){var _services=this.props.services;return _react2.default.createElement(_step_time_field.StepTimeField,{indexPattern:indexPattern,indexPatternsService:_services.indexPatterns,goToPreviousStep:this.goToIndexPatternStep,createIndexPattern:this.createIndexPattern,indexPatternCreationType:this.indexPatternCreationType})}return null}},{key:"render",value:function render(){var header=this.renderHeader();var content=this.renderContent();return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",null,header,content),_react2.default.createElement(_eui.EuiGlobalToastList,{toasts:this.state.toasts,dismissToast:this.removeToast,toastLifeTimeMs:6e3}))}}]);return CreateIndexPatternWizard}(_react.Component);CreateIndexPatternWizard.propTypes={initialQuery:_propTypes2.default.string,services:_propTypes2.default.shape({es:_propTypes2.default.object.isRequired,indexPatterns:_propTypes2.default.object.isRequired,savedObjectsClient:_propTypes2.default.object.isRequired,indexPatternCreationType:_propTypes2.default.object.isRequired,config:_propTypes2.default.object.isRequired,changeUrl:_propTypes2.default.func.isRequired}).isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _step_index_pattern=__webpack_require__(4871);Object.defineProperty(exports,"StepIndexPattern",{enumerable:true,get:function get(){return _step_index_pattern.StepIndexPattern}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepIndexPattern=exports.StepIndexPatternComponent=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _index_patterns=__webpack_require__(217);var _constants=__webpack_require__(550);var _lib=__webpack_require__(806);var _loading_indices=__webpack_require__(4878);var _status_message=__webpack_require__(4880);var _indices_list=__webpack_require__(4882);var _header=__webpack_require__(4884);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var uiSettings=_chrome2.default.getUiSettingsClient();var StepIndexPatternComponent=exports.StepIndexPatternComponent=function(_Component){_inherits(StepIndexPatternComponent,_Component);function StepIndexPatternComponent(props){_classCallCheck(this,StepIndexPatternComponent);var _this=_possibleConstructorReturn(this,(StepIndexPatternComponent.__proto__||Object.getPrototypeOf(StepIndexPatternComponent)).call(this,props));_initialiseProps.call(_this);var indexPatternCreationType=_this.props.indexPatternCreationType;_this.state={partialMatchedIndices:[],exactMatchedIndices:[],isLoadingIndices:false,existingIndexPatterns:[],indexPatternExists:false,query:props.initialQuery,appendedWildcard:false,showingIndexPatternQueryErrors:false,indexPatternName:indexPatternCreationType.getIndexPatternName()};_this.ILLEGAL_CHARACTERS=[].concat(_toConsumableArray(_index_patterns.INDEX_PATTERN_ILLEGAL_CHARACTERS));_this.lastQuery=null;return _this}_createClass(StepIndexPatternComponent,[{key:"componentWillMount",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.fetchExistingIndexPatterns();if(this.state.query){this.lastQuery=this.state.query;this.fetchIndices(this.state.query)}case 2:case"end":return _context.stop()}}},_callee,this)}));function componentWillMount(){return _ref.apply(this,arguments)}return componentWillMount}()},{key:"renderLoadingState",value:function renderLoadingState(){var isLoadingIndices=this.state.isLoadingIndices;if(!isLoadingIndices){return null}return _react2.default.createElement(_loading_indices.LoadingIndices,{"data-test-subj":"createIndexPatternStep1Loading"})}},{key:"renderStatusMessage",value:function renderStatusMessage(matchedIndices){var indexPatternCreationType=this.props.indexPatternCreationType;var _state=this.state,query=_state.query,isLoadingIndices=_state.isLoadingIndices,indexPatternExists=_state.indexPatternExists,isIncludingSystemIndices=_state.isIncludingSystemIndices;if(isLoadingIndices||indexPatternExists){return null}return _react2.default.createElement(_status_message.StatusMessage,{matchedIndices:matchedIndices,showSystemIndices:indexPatternCreationType.getShowSystemIndices(),isIncludingSystemIndices:isIncludingSystemIndices,query:query})}},{key:"renderList",value:function renderList(_ref2){var visibleIndices=_ref2.visibleIndices,allIndices=_ref2.allIndices;var _state2=this.state,query=_state2.query,isLoadingIndices=_state2.isLoadingIndices,indexPatternExists=_state2.indexPatternExists;if(isLoadingIndices||indexPatternExists){return null}var indicesToList=query.length?visibleIndices:allIndices;return _react2.default.createElement(_indices_list.IndicesList,{"data-test-subj":"createIndexPatternStep1IndicesList",query:query,indices:indicesToList})}},{key:"renderIndexPatternExists",value:function renderIndexPatternExists(){var _state3=this.state,indexPatternExists=_state3.indexPatternExists,query=_state3.query;if(!indexPatternExists){return null}return _react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.warningHeader",defaultMessage:"There's already an index pattern called {query}",values:{query:query}}),iconType:"help",color:"warning"})}},{key:"renderHeader",value:function renderHeader(_ref3){var indices=_ref3.exactMatchedIndices;var _props=this.props,goToNextStep=_props.goToNextStep,indexPatternCreationType=_props.indexPatternCreationType,intl=_props.intl;var _state4=this.state,query=_state4.query,showingIndexPatternQueryErrors=_state4.showingIndexPatternQueryErrors,indexPatternExists=_state4.indexPatternExists,indexPatternName=_state4.indexPatternName;var containsErrors=false;var errors=[];var characterList=this.ILLEGAL_CHARACTERS.slice(0,this.ILLEGAL_CHARACTERS.length-1).join(", ");var checkIndices=indexPatternCreationType.checkIndicesForErrors(indices);if(!query||!query.length||query==="."||query===".."){containsErrors=true}else if((0,_lib.containsIllegalCharacters)(query,_index_patterns.INDEX_PATTERN_ILLEGAL_CHARACTERS)){var errorMessage=intl.formatMessage({id:"kbn.management.createIndexPattern.step.invalidCharactersErrorMessage",defaultMessage:"A {indexPatternName} cannot contain spaces or the characters: {characterList}"},{characterList:characterList,indexPatternName:indexPatternName});errors.push(errorMessage);containsErrors=true}else if(checkIndices){errors.push.apply(errors,_toConsumableArray(checkIndices));containsErrors=true}var isInputInvalid=showingIndexPatternQueryErrors&&containsErrors&&errors.length>0;var isNextStepDisabled=containsErrors||indices.length===0||indexPatternExists;return _react2.default.createElement(_header.Header,{"data-test-subj":"createIndexPatternStep1Header",isInputInvalid:isInputInvalid,errors:errors,characterList:characterList,query:query,onQueryChanged:this.onQueryChanged,goToNextStep:goToNextStep,isNextStepDisabled:isNextStepDisabled})}},{key:"render",value:function render(){var _props2=this.props,isIncludingSystemIndices=_props2.isIncludingSystemIndices,allIndices=_props2.allIndices;var _state5=this.state,query=_state5.query,partialMatchedIndices=_state5.partialMatchedIndices,exactMatchedIndices=_state5.exactMatchedIndices;var matchedIndices=(0,_lib.getMatchedIndices)(allIndices,partialMatchedIndices,exactMatchedIndices,query,isIncludingSystemIndices);return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},this.renderHeader(matchedIndices),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderLoadingState(matchedIndices),this.renderIndexPatternExists(),this.renderStatusMessage(matchedIndices),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderList(matchedIndices))}}]);return StepIndexPatternComponent}(_react.Component);StepIndexPatternComponent.propTypes={allIndices:_propTypes2.default.array.isRequired,isIncludingSystemIndices:_propTypes2.default.bool.isRequired,esService:_propTypes2.default.object.isRequired,savedObjectsClient:_propTypes2.default.object.isRequired,indexPatternCreationType:_propTypes2.default.object.isRequired,goToNextStep:_propTypes2.default.func.isRequired,initialQuery:_propTypes2.default.string};StepIndexPatternComponent.defaultProps={initialQuery:uiSettings.get("indexPattern:placeholder")};var _initialiseProps=function _initialiseProps(){var _this2=this;this.fetchExistingIndexPatterns=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _ref5,savedObjects,existingIndexPatterns;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this2.props.savedObjectsClient.find({type:"index-pattern",fields:["title"],perPage:1e4});case 2:_ref5=_context2.sent;savedObjects=_ref5.savedObjects;existingIndexPatterns=savedObjects.map(function(obj){return obj&&obj.attributes?obj.attributes.title:""});_this2.setState({existingIndexPatterns:existingIndexPatterns});case 6:case"end":return _context2.stop()}}},_callee2,_this2)}));this.fetchIndices=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(query){var _props3,esService,indexPatternCreationType,existingIndexPatterns,_exactMatchedIndices,_ref7,_ref8,partialMatchedIndices,exactMatchedIndices;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_props3=_this2.props,esService=_props3.esService,indexPatternCreationType=_props3.indexPatternCreationType;existingIndexPatterns=_this2.state.existingIndexPatterns;if(!existingIndexPatterns.includes(query)){_context3.next=5;break}_this2.setState({indexPatternExists:true});return _context3.abrupt("return");case 5:_this2.setState({isLoadingIndices:true,indexPatternExists:false});if(!query.endsWith("*")){_context3.next=14;break}_context3.next=9;return(0,_lib.ensureMinimumTime)((0,_lib.getIndices)(esService,indexPatternCreationType,query,_constants.MAX_SEARCH_SIZE));case 9:_exactMatchedIndices=_context3.sent;if(!(query!==_this2.lastQuery)){_context3.next=12;break}return _context3.abrupt("return");case 12:_this2.setState({exactMatchedIndices:_exactMatchedIndices,isLoadingIndices:false});return _context3.abrupt("return");case 14:_context3.next=16;return(0,_lib.ensureMinimumTime)([(0,_lib.getIndices)(esService,indexPatternCreationType,query+"*",_constants.MAX_SEARCH_SIZE),(0,_lib.getIndices)(esService,indexPatternCreationType,query,_constants.MAX_SEARCH_SIZE)]);case 16:_ref7=_context3.sent;_ref8=_slicedToArray(_ref7,2);partialMatchedIndices=_ref8[0];exactMatchedIndices=_ref8[1];if(!(query!==_this2.lastQuery)){_context3.next=22;break}return _context3.abrupt("return");case 22:_this2.setState({partialMatchedIndices:partialMatchedIndices,exactMatchedIndices:exactMatchedIndices,isLoadingIndices:false});case 23:case"end":return _context3.stop()}}},_callee3,_this2)}));return function(_x){return _ref6.apply(this,arguments)}}();this.onQueryChanged=function(e){var appendedWildcard=_this2.state.appendedWildcard;var target=e.target;var query=target.value;if(query.length===1&&(0,_lib.canAppendWildcard)(query)){query+="*";_this2.setState({appendedWildcard:true});setTimeout(function(){return target.setSelectionRange(1,1)})}else{if(query==="*"&&appendedWildcard){query="";_this2.setState({appendedWildcard:false})}}_this2.lastQuery=query;_this2.setState({query:query,showingIndexPatternQueryErrors:!!query.length});_this2.fetchIndices(query)}};var StepIndexPattern=exports.StepIndexPattern=(0,_react3.injectI18n)(StepIndexPatternComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var canAppendWildcard=exports.canAppendWildcard=function canAppendWildcard(keyPressed){if(!keyPressed||!/[a-z0-9]/i.test(keyPressed)||keyPressed.length!==1){return false}return true}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ensureMinimumTime=exports.ensureMinimumTime=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(promiseOrPromises){var minimumTimeMs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:DEFAULT_MINIMUM_TIME_MS;var returnValue,bufferedMinimumTimeMs,asyncActionStartTime,asyncActionCompletionTime,asyncActionDuration,additionalWaitingTime;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:returnValue=void 0;bufferedMinimumTimeMs=minimumTimeMs+5;asyncActionStartTime=(new Date).getTime();if(!Array.isArray(promiseOrPromises)){_context.next=9;break}_context.next=6;return Promise.all(promiseOrPromises);case 6:returnValue=_context.sent;_context.next=12;break;case 9:_context.next=11;return promiseOrPromises;case 11:returnValue=_context.sent;case 12:asyncActionCompletionTime=(new Date).getTime();asyncActionDuration=asyncActionCompletionTime-asyncActionStartTime;if(!(asyncActionDuration<bufferedMinimumTimeMs)){_context.next=18;break}additionalWaitingTime=bufferedMinimumTimeMs-(asyncActionCompletionTime-asyncActionStartTime);_context.next=18;return new Promise(function(resolve){return setTimeout(resolve,additionalWaitingTime)});case 18:return _context.abrupt("return",returnValue);case 19:case"end":return _context.stop()}}},_callee,this)}));return function ensureMinimumTime(_x2){return _ref.apply(this,arguments)}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var DEFAULT_MINIMUM_TIME_MS=exports.DEFAULT_MINIMUM_TIME_MS=300},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIndices=undefined;var getIndices=exports.getIndices=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(es,indexPatternCreationType,rawPattern,limit){var pattern,params,response,type;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:pattern=rawPattern.trim();if(!(pattern==="*:")){_context.next=3;break}return _context.abrupt("return",[]);case 3:if(!(pattern==="")){_context.next=5;break}return _context.abrupt("return",[]);case 5:if(!pattern.startsWith(",")){_context.next=7;break}return _context.abrupt("return",[]);case 7:if(limit){_context.next=9;break}throw new Error("`getIndices()` was called without the required `limit` parameter.");case 9:params={ignoreUnavailable:true,index:pattern,ignore:[404],body:{size:0,aggs:{indices:{terms:{field:"_index",size:limit}}}}};_context.prev=10;_context.next=13;return es.search(params);case 13:response=_context.sent;if(!(!response||response.error||!response.aggregations)){_context.next=16;break}return _context.abrupt("return",[]);case 16:return _context.abrupt("return",(0,_lodash.sortBy)(response.aggregations.indices.buckets.map(function(bucket){return bucket.key}).map(function(indexName){return{name:indexName,tags:indexPatternCreationType.getIndexTags(indexName)}}),"name"));case 19:_context.prev=19;_context.t0=_context["catch"](10);type=(0,_lodash.get)(_context.t0,"body.error.caused_by.type");if(!(type==="index_not_found_exception")){_context.next=24;break}return _context.abrupt("return",[]);case 24:throw _context.t0;case 25:case"end":return _context.stop()}}},_callee,this,[[10,19]])}));return function getIndices(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)}}();var _lodash=__webpack_require__(1);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMatchedIndices=getMatchedIndices;var _constants=__webpack_require__(550);function isSystemIndex(index){if(index.startsWith(".")){return true}if(index.includes(":")){return index.split(":").reduce(function(isSystem,index){return isSystem||isSystemIndex(index)},false)}return false}function filterSystemIndices(indices,isIncludingSystemIndices){if(!indices){return indices}var acceptableIndices=isIncludingSystemIndices?indices:indices.filter(function(index){return!isSystemIndex(index.name)});return acceptableIndices.slice(0,_constants.MAX_NUMBER_OF_MATCHING_INDICES)}function getMatchedIndices(unfilteredAllIndices,unfilteredPartialMatchedIndices,unfilteredExactMatchedIndices,query,isIncludingSystemIndices){var allIndices=filterSystemIndices(unfilteredAllIndices,isIncludingSystemIndices);var partialMatchedIndices=filterSystemIndices(unfilteredPartialMatchedIndices,isIncludingSystemIndices);var exactMatchedIndices=filterSystemIndices(unfilteredExactMatchedIndices,isIncludingSystemIndices);var visibleIndices=void 0;if(exactMatchedIndices.length){visibleIndices=exactMatchedIndices}else if(partialMatchedIndices.length){visibleIndices=partialMatchedIndices}else{visibleIndices=allIndices}return{allIndices:allIndices,exactMatchedIndices:exactMatchedIndices,partialMatchedIndices:partialMatchedIndices,visibleIndices:visibleIndices}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.containsIllegalCharacters=containsIllegalCharacters;function containsIllegalCharacters(pattern,illegalCharacters){return illegalCharacters.some(function(char){return pattern.includes(char)})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractTimeFields=extractTimeFields;var _i18n=__webpack_require__(9);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function extractTimeFields(fields){var dateFields=fields.filter(function(field){return field.type==="date"});var label=_i18n.i18n.translate("kbn.management.createIndexPattern.stepTime.noTimeFieldsLabel",{defaultMessage:"The indices which match this index pattern don't contain any time fields."});if(dateFields.length===0){return[{display:label}]}var disabledDividerOption={isDisabled:true,display:"───",fieldName:""};var noTimeFieldLabel=_i18n.i18n.translate("kbn.management.createIndexPattern.stepTime.noTimeFieldOptionLabel",{defaultMessage:"I don't want to use the Time Filter"});var noTimeFieldOption={display:noTimeFieldLabel,fieldName:undefined};return[].concat(_toConsumableArray(dateFields.map(function(field){return{display:field.name,fieldName:field.name}})),[disabledDividerOption,noTimeFieldOption])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _loading_indices=__webpack_require__(4879);Object.defineProperty(exports,"LoadingIndices",{enumerable:true,get:function get(){return _loading_indices.LoadingIndices}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LoadingIndices=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var LoadingIndices=function LoadingIndices(_ref){var rest=_objectWithoutProperties(_ref,[]);return _react2.default.createElement(_eui.EuiFlexGroup,_extends({justifyContent:"center",alignItems:"center"},rest),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.loadingHeader",defaultMessage:"Looking for matching indices…"}))),_react2.default.createElement(_eui.EuiText,{size:"s",style:{textAlign:"center"}},_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.loadingLabel",defaultMessage:"Just a sec…"})))))};exports.LoadingIndices=LoadingIndices},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _status_message=__webpack_require__(4881);Object.defineProperty(exports,"StatusMessage",{enumerable:true,get:function get(){return _status_message.StatusMessage}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatusMessage=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StatusMessage=exports.StatusMessage=function StatusMessage(_ref){var _ref$matchedIndices=_ref.matchedIndices,_ref$matchedIndices$a=_ref$matchedIndices.allIndices,allIndices=_ref$matchedIndices$a===undefined?[]:_ref$matchedIndices$a,_ref$matchedIndices$e=_ref$matchedIndices.exactMatchedIndices,exactMatchedIndices=_ref$matchedIndices$e===undefined?[]:_ref$matchedIndices$e,_ref$matchedIndices$p=_ref$matchedIndices.partialMatchedIndices,partialMatchedIndices=_ref$matchedIndices$p===undefined?[]:_ref$matchedIndices$p,isIncludingSystemIndices=_ref.isIncludingSystemIndices,query=_ref.query,showSystemIndicies=_ref.showSystemIndicies;var statusIcon=void 0;var statusMessage=void 0;var statusColor=void 0;var allIndicesLength=allIndices.length;if(query.length===0){statusIcon=null;statusColor="default";if(allIndicesLength>1){statusMessage=_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.matchAnyLabel.matchAnyDetail",defaultMessage:"Your index pattern can match any of your {strongIndices}, below.",values:{strongIndices:_react2.default.createElement("strong",null,allIndicesLength," indices")}}))}else if(!isIncludingSystemIndices&&showSystemIndicies){statusMessage=_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.noSystemIndicesWithPromptLabel",defaultMessage:"No Elasticsearch indices match your pattern. To view the matching system indices, toggle the switch in the upper right."}))}else{statusMessage=_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.noSystemIndicesLabel",defaultMessage:"No Elasticsearch indices match your pattern."}))}}else if(exactMatchedIndices.length){statusIcon="check";statusColor="secondary";statusMessage=_react2.default.createElement("span",null," ",_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.successLabel.successDetail",defaultMessage:"{strongSuccess} Your index pattern matches {strongIndices}.",values:{strongSuccess:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.successLabel.strongSuccessLabel",defaultMessage:"Success!"})),strongIndices:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.successLabel.strongIndicesLabel",defaultMessage:"{indicesLength, plural, one {# index} other {# indices}}",values:{indicesLength:exactMatchedIndices.length}}))}}))}else if(partialMatchedIndices.length){statusIcon=null;statusColor="default";statusMessage=_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.partialMatchLabel.partialMatchDetail",defaultMessage:"Your index pattern doesn't match any indices, but you have {strongIndices} which {matchedIndicesLength, plural, one {looks} other {look}} similar.",values:{matchedIndicesLength:partialMatchedIndices.length,strongIndices:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.partialMatchLabel.strongIndicesLabel",defaultMessage:"{matchedIndicesLength, plural, one {# index} other {# indices}}",values:{matchedIndicesLength:partialMatchedIndices.length}}))}}))}else if(allIndicesLength){statusIcon=null;statusColor="default";statusMessage=_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.notMatchLabel.notMatchDetail",defaultMessage:"The index pattern you've entered doesn't match any indices. You can match {indicesLength, plural, one {your} other {any of your}} {strongIndices}, below.",values:{strongIndices:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.notMatchLabel.allIndicesLabel",defaultMessage:"{indicesLength, plural, one {# index} other {# indices}}",values:{indicesLength:allIndicesLength}})),indicesLength:allIndicesLength}}))}return _react2.default.createElement(_eui.EuiText,{size:"s","data-test-subj":"createIndexPatternStatusMessage"},_react2.default.createElement(_eui.EuiTextColor,{color:statusColor},statusIcon?_react2.default.createElement(_eui.EuiIcon,{type:statusIcon}):null,statusMessage))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _indices_list=__webpack_require__(4883);Object.defineProperty(exports,"IndicesList",{enumerable:true,get:function get(){return _indices_list.IndicesList}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndicesList=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(550);var _eui=__webpack_require__(2);var _services=__webpack_require__(654);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IndicesList=exports.IndicesList=function(_Component){_inherits(IndicesList,_Component);function IndicesList(props){_classCallCheck(this,IndicesList);var _this=_possibleConstructorReturn(this,(IndicesList.__proto__||Object.getPrototypeOf(IndicesList)).call(this,props));_this.resetPageTo0=function(){return _this.onChangePage(0)};_this.onChangePage=function(page){_this.pager.goToPageIndex(page);_this.setState({page:page})};_this.onChangePerPage=function(perPage){_this.pager.setItemsPerPage(perPage);_this.setState({perPage:perPage});_this.resetPageTo0();_this.closePerPageControl()};_this.openPerPageControl=function(){_this.setState({isPerPageControlOpen:true})};_this.closePerPageControl=function(){_this.setState({isPerPageControlOpen:false})};_this.state={page:0,perPage:_constants.PER_PAGE_INCREMENTS[1],isPerPageControlOpen:false};_this.pager=new _services.Pager(props.indices.length,_this.state.perPage,_this.state.page);return _this}_createClass(IndicesList,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(nextProps.indices.length!==this.props.indices.length){this.pager.setTotalItems(nextProps.indices.length);this.resetPageTo0()}}},{key:"renderPagination",value:function renderPagination(){var _this2=this;var _state=this.state,perPage=_state.perPage,page=_state.page,isPerPageControlOpen=_state.isPerPageControlOpen;var button=_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",color:"text",iconType:"arrowDown",iconSide:"right",onClick:this.openPerPageControl},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.pagingLabel",defaultMessage:"Rows per page: {perPage}",values:{perPage:perPage}}));var items=_constants.PER_PAGE_INCREMENTS.map(function(increment){return _react2.default.createElement(_eui.EuiContextMenuItem,{key:increment,icon:"empty",onClick:function onClick(){return _this2.onChangePerPage(increment)}},increment)});var pageCount=this.pager.getTotalPages();var paginationControls=pageCount>1?_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiPagination,{pageCount:pageCount,activePage:page,onPageClick:this.onChangePage})):null;return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiPopover,{id:"customizablePagination",button:button,isOpen:isPerPageControlOpen,closePopover:this.closePerPageControl,panelPaddingSize:"none",withTitle:true},_react2.default.createElement(_eui.EuiContextMenuPanel,{items:items}))),paginationControls)}},{key:"highlightIndexName",value:function highlightIndexName(indexName,query){var queryIdx=indexName.indexOf(query);if(!query||queryIdx===-1){return indexName}var preStr=indexName.substr(0,queryIdx);var postStr=indexName.substr(queryIdx+query.length);return _react2.default.createElement("span",null,preStr,_react2.default.createElement("strong",null,query),postStr)}},{key:"render",value:function render(){var _this3=this;var _props=this.props,indices=_props.indices,query=_props.query,rest=_objectWithoutProperties(_props,["indices","query"]);var queryWithoutWildcard=query.endsWith("*")?query.substr(0,query.length-1):query;var paginatedIndices=indices.slice(this.pager.firstItemIndex,this.pager.lastItemIndex+1);var rows=paginatedIndices.map(function(index,key){return _react2.default.createElement(_eui.EuiTableRow,{key:key},_react2.default.createElement(_eui.EuiTableRowCell,null,_this3.highlightIndexName(index.name,queryWithoutWildcard)),_react2.default.createElement(_eui.EuiTableRowCell,null,index.tags.map(function(tag){return _react2.default.createElement(_eui.EuiBadge,{key:"index_"+key+"_tag_"+tag.key,color:"primary"},tag.name)})))});return _react2.default.createElement("div",rest,_react2.default.createElement(_eui.EuiTable,null,_react2.default.createElement(_eui.EuiTableBody,null,rows)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderPagination())}}]);return IndicesList}(_react.Component);IndicesList.propTypes={indices:_propTypes2.default.array.isRequired,query:_propTypes2.default.string.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(4885);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=exports.HeaderComponent=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var HeaderComponent=function HeaderComponent(_ref){var isInputInvalid=_ref.isInputInvalid,errors=_ref.errors,characterList=_ref.characterList,query=_ref.query,onQueryChanged=_ref.onQueryChanged,goToNextStep=_ref.goToNextStep,isNextStepDisabled=_ref.isNextStepDisabled,intl=_ref.intl,rest=_objectWithoutProperties(_ref,["isInputInvalid","errors","characterList","query","onQueryChanged","goToNextStep","isNextStepDisabled","intl"]);return _react2.default.createElement("div",rest,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepHeader",defaultMessage:"Step 1 of 2: Define index pattern"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiForm,{isInvalid:isInputInvalid},_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.indexPatternLabel",defaultMessage:"Index pattern"}),isInvalid:isInputInvalid,error:errors,helpText:_react2.default.createElement("div",null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.indexPattern.allowLabel",defaultMessage:"You can use a {asterisk} as a wildcard in your index pattern.",values:{asterisk:_react2.default.createElement("strong",null,"*")}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.indexPattern.disallowLabel",defaultMessage:"You can't use spaces or the characters {characterList}.",values:{characterList:_react2.default.createElement("strong",null,characterList)}})))},_react2.default.createElement(_eui.EuiFieldText,{name:"indexPattern",placeholder:intl.formatMessage({id:"kbn.management.createIndexPattern.step.indexPatternPlaceholder",defaultMessage:"index-name-*"}),value:query,isInvalid:isInputInvalid,onChange:onQueryChanged,"data-test-subj":"createIndexPatternNameInput"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{iconType:"arrowRight",onClick:function onClick(){return goToNextStep(query)},isDisabled:isNextStepDisabled,"data-test-subj":"createIndexPatternGoToStep2Button"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.step.nextStepButton",defaultMessage:"Next step"})))))};exports.HeaderComponent=HeaderComponent;var Header=exports.Header=(0,_react3.injectI18n)(HeaderComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _step_time_field=__webpack_require__(4887);Object.defineProperty(exports,"StepTimeField",{enumerable:true,get:function get(){return _step_time_field.StepTimeField}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepTimeField=exports.StepTimeFieldComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _lib=__webpack_require__(806);var _header=__webpack_require__(4888);var _time_field=__webpack_require__(4890);var _advanced_options=__webpack_require__(4893);var _action_buttons=__webpack_require__(4895);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var StepTimeFieldComponent=exports.StepTimeFieldComponent=function(_Component){_inherits(StepTimeFieldComponent,_Component);function StepTimeFieldComponent(props){var _this2=this;_classCallCheck(this,StepTimeFieldComponent);var _this=_possibleConstructorReturn(this,(StepTimeFieldComponent.__proto__||Object.getPrototypeOf(StepTimeFieldComponent)).call(this,props));_this.fetchTimeFields=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,indexPatternsService,indexPattern,getFetchForWildcardOptions,fields,timeFields;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,indexPatternsService=_this$props.indexPatternsService,indexPattern=_this$props.indexPattern;getFetchForWildcardOptions=_this.props.indexPatternCreationType.getFetchForWildcardOptions;_this.setState({isFetchingTimeFields:true});_context.next=5;return(0,_lib.ensureMinimumTime)(indexPatternsService.fieldsFetcher.fetchForWildcard(indexPattern,getFetchForWildcardOptions()));case 5:fields=_context.sent;timeFields=(0,_lib.extractTimeFields)(fields);_this.setState({timeFields:timeFields,isFetchingTimeFields:false});case 8:case"end":return _context.stop()}}},_callee,_this2)}));_this.onTimeFieldChanged=function(e){var value=e.target.value;var timeField=_this.state.timeFields.find(function(timeField){return timeField.fieldName===value});var validSelection=value!=="";_this.setState({selectedTimeField:timeField?timeField.fieldName:undefined,timeFieldSet:validSelection})};_this.onChangeIndexPatternId=function(e){_this.setState({indexPatternId:e.target.value})};_this.toggleAdvancedOptions=function(){_this.setState(function(state){return{isAdvancedOptionsVisible:!state.isAdvancedOptionsVisible}})};_this.createIndexPattern=function(){var _this$state=_this.state,selectedTimeField=_this$state.selectedTimeField,indexPatternId=_this$state.indexPatternId;_this.setState({isCreating:true});_this.props.createIndexPattern(selectedTimeField,indexPatternId)};var _props$indexPatternCr=props.indexPatternCreationType,getIndexPatternType=_props$indexPatternCr.getIndexPatternType,getIndexPatternName=_props$indexPatternCr.getIndexPatternName;_this.state={timeFields:[],selectedTimeField:undefined,timeFieldSet:false,isAdvancedOptionsVisible:false,isFetchingTimeFields:false,isCreating:false,indexPatternId:"",indexPatternType:getIndexPatternType(),indexPatternName:getIndexPatternName()};return _this}_createClass(StepTimeFieldComponent,[{key:"componentWillMount",value:function componentWillMount(){this.fetchTimeFields()}},{key:"render",value:function render(){var _state=this.state,timeFields=_state.timeFields,selectedTimeField=_state.selectedTimeField,timeFieldSet=_state.timeFieldSet,isAdvancedOptionsVisible=_state.isAdvancedOptionsVisible,indexPatternId=_state.indexPatternId,isCreating=_state.isCreating,isFetchingTimeFields=_state.isFetchingTimeFields,indexPatternName=_state.indexPatternName;if(isCreating){return _react2.default.createElement(_eui.EuiPanel,null,_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,null)),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.creatingLabel",defaultMessage:"Creating index pattern…"})))))}var _props=this.props,indexPattern=_props.indexPattern,goToPreviousStep=_props.goToPreviousStep;var timeFieldOptions=timeFields?[{text:"",value:""}].concat(_toConsumableArray(timeFields.map(function(timeField){return{text:timeField.display,value:timeField.fieldName,disabled:timeFields.isDisabled}}))):[];var showTimeField=!timeFields||timeFields.length>1;var submittable=!showTimeField||timeFieldSet;return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_header.Header,{indexPattern:indexPattern,indexPatternName:indexPatternName}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_time_field.TimeField,{isVisible:showTimeField,fetchTimeFields:this.fetchTimeFields,timeFieldOptions:timeFieldOptions,isLoading:isFetchingTimeFields,selectedTimeField:selectedTimeField,onTimeFieldChanged:this.onTimeFieldChanged}),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_advanced_options.AdvancedOptions,{isVisible:isAdvancedOptionsVisible,indexPatternId:indexPatternId,toggleAdvancedOptions:this.toggleAdvancedOptions,onChangeIndexPatternId:this.onChangeIndexPatternId}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_action_buttons.ActionButtons,{goToPreviousStep:goToPreviousStep,submittable:submittable,createIndexPattern:this.createIndexPattern}))}}]);return StepTimeFieldComponent}(_react.Component);StepTimeFieldComponent.propTypes={indexPattern:_propTypes2.default.string.isRequired,indexPatternsService:_propTypes2.default.object.isRequired,goToPreviousStep:_propTypes2.default.func.isRequired,createIndexPattern:_propTypes2.default.func.isRequired,indexPatternCreationType:_propTypes2.default.object.isRequired};var StepTimeField=exports.StepTimeField=(0,_react3.injectI18n)(StepTimeFieldComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(4889);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Header=exports.Header=function Header(_ref){var indexPattern=_ref.indexPattern,indexPatternName=_ref.indexPatternName;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTimeHeader",defaultMessage:"Step 2 of 2: Configure settings"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiText,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTimeLabel",defaultMessage:"You've defined {indexPattern} as your {indexPatternName}. Now you can specify some settings before we create it.",values:{indexPattern:_react2.default.createElement("strong",null,indexPattern),indexPatternName:indexPatternName}})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _time_field=__webpack_require__(4891);Object.defineProperty(exports,"TimeField",{enumerable:true,get:function get(){return _time_field.TimeField}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimeField=exports.TimeFieldComponent=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);__webpack_require__(4892);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TimeFieldComponent=exports.TimeFieldComponent=function TimeFieldComponent(_ref){var isVisible=_ref.isVisible,fetchTimeFields=_ref.fetchTimeFields,timeFieldOptions=_ref.timeFieldOptions,isLoading=_ref.isLoading,selectedTimeField=_ref.selectedTimeField,onTimeFieldChanged=_ref.onTimeFieldChanged,intl=_ref.intl;return _react2.default.createElement(_eui.EuiForm,null,isVisible?_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs",justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.fieldHeader",defaultMessage:"Time Filter field name"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},isLoading?_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"s"}):_react2.default.createElement(_eui.EuiLink,{className:"timeFieldRefreshButton",onClick:fetchTimeFields},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.refreshButton",defaultMessage:"Refresh"})))),helpText:_react2.default.createElement("div",null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.fieldLabel",defaultMessage:"The Time Filter will use this field to filter your data by time."})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.fieldWarningLabel",defaultMessage:"You can choose not to have a time field, but you will not be able to narrow down your data by a time range."})))},isLoading?_react2.default.createElement(_eui.EuiSelect,{name:"timeField","data-test-subj":"createIndexPatternTimeFieldSelect",options:[{text:intl.formatMessage({id:"kbn.management.createIndexPattern.stepTime.field.loadingDropDown",defaultMessage:"Loading…"}),value:""}],disabled:true}):_react2.default.createElement(_eui.EuiSelect,{name:"timeField","data-test-subj":"createIndexPatternTimeFieldSelect",options:timeFieldOptions,isLoading:isLoading,disabled:isLoading,value:selectedTimeField,onChange:onTimeFieldChanged})):_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.field.noTimeFieldsLabel",defaultMessage:"The indices which match this index pattern don't contain any time fields."}))))};var TimeField=exports.TimeField=(0,_react3.injectI18n)(TimeFieldComponent)},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _advanced_options=__webpack_require__(4894);Object.defineProperty(exports,"AdvancedOptions",{enumerable:true,get:function get(){return _advanced_options.AdvancedOptions}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedOptions=exports.AdvancedOptionsComponent=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AdvancedOptionsComponent=exports.AdvancedOptionsComponent=function AdvancedOptionsComponent(_ref){var isVisible=_ref.isVisible,indexPatternId=_ref.indexPatternId,toggleAdvancedOptions=_ref.toggleAdvancedOptions,onChangeIndexPatternId=_ref.onChangeIndexPatternId,intl=_ref.intl;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiButtonEmpty,{iconType:isVisible?"arrowDown":"arrowRight",onClick:toggleAdvancedOptions},isVisible?_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.options.hideButton",defaultMessage:"Hide advanced options"}):_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.options.showButton",defaultMessage:"Show advanced options"})),_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),isVisible?_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.options.patternHeader",defaultMessage:"Custom index pattern ID"}),helpText:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.options.patternLabel",defaultMessage:"Kibana will provide a unique identifier for each index pattern. If you do not want to use this unique ID, enter a custom one."})},_react2.default.createElement(_eui.EuiFieldText,{name:"indexPatternId","data-test-subj":"createIndexPatternIdInput",value:indexPatternId,onChange:onChangeIndexPatternId,placeholder:intl.formatMessage({id:"kbn.management.createIndexPattern.stepTime.options.patternPlaceholder",defaultMessage:"custom-index-pattern-id"})}))):null)};var AdvancedOptions=exports.AdvancedOptions=(0,_react3.injectI18n)(AdvancedOptionsComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _action_buttons=__webpack_require__(4896);Object.defineProperty(exports,"ActionButtons",{enumerable:true,get:function get(){return _action_buttons.ActionButtons}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActionButtons=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ActionButtons=exports.ActionButtons=function ActionButtons(_ref){var goToPreviousStep=_ref.goToPreviousStep,submittable=_ref.submittable,createIndexPattern=_ref.createIndexPattern;return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{iconType:"arrowLeft",onClick:goToPreviousStep},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.backButton",defaultMessage:"Back"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{isDisabled:!submittable,"data-test-subj":"createIndexPatternCreateButton",fill:true,onClick:createIndexPattern},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.createPatternButton",defaultMessage:"Create index pattern"}))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(4898);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HeaderUi=function HeaderUi(_ref){var prompt=_ref.prompt,indexPatternName=_ref.indexPatternName,showSystemIndices=_ref.showSystemIndices,isIncludingSystemIndices=_ref.isIncludingSystemIndices,onChangeIncludingSystemIndices=_ref.onChangeIncludingSystemIndices,isBeta=_ref.isBeta,intl=_ref.intl;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPatternHeader",defaultMessage:"Create {indexPatternName}",values:{indexPatternName:indexPatternName}}),isBeta?_react2.default.createElement(_react.Fragment,null," ",_react2.default.createElement(_eui.EuiBetaBadge,{label:intl.formatMessage({id:"kbn.management.createIndexPattern.betaLabel",defaultMessage:"Beta"})})):null)),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPatternLabel",defaultMessage:"Kibana uses index patterns to retrieve data from Elasticsearch indices for things like visualizations."}))))),showSystemIndices?_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiSwitch,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.includeSystemIndicesToggleSwitchLabel",defaultMessage:"Include system indices"}),id:"checkboxShowSystemIndices",checked:isIncludingSystemIndices,onChange:onChangeIncludingSystemIndices})):null),prompt?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),prompt):null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))};var Header=exports.Header=(0,_react3.injectI18n)(HeaderUi)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _loading_state=__webpack_require__(4900);Object.defineProperty(exports,"LoadingState",{enumerable:true,get:function get(){return _loading_state.LoadingState}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LoadingState=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LoadingState=exports.LoadingState=function LoadingState(){return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center",direction:"column",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement("h2",{style:{textAlign:"center"}},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.loadingState.checkingLabel",defaultMessage:"Checking for Elasticsearch data"}))))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"l"}))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _empty_state=__webpack_require__(4902);Object.defineProperty(exports,"EmptyState",{enumerable:true,get:function get(){return _empty_state.EmptyState}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EmptyState=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EmptyState=exports.EmptyState=function EmptyState(_ref){var onRefresh=_ref.onRefresh;return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement("h2",{style:{textAlign:"center"}},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyStateHeader",defaultMessage:"Couldn't find any Elasticsearch data"})))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyStateLabel.emptyStateDetail",defaultMessage:"{needToIndex} {learnHowLink} or {getStartedLink}",values:{needToIndex:_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyStateLabel.needToIndexLabel",defaultMessage:"You'll need to index some data into Elasticsearch before you can create an index pattern."})),learnHowLink:_react2.default.createElement(_eui.EuiLink,{href:"#/home/tutorial_directory"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyStateLabel.learnHowLink",defaultMessage:"Learn how"})),getStartedLink:_react2.default.createElement(_eui.EuiLink,{href:"#/home/tutorial_directory/sampleData"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyStateLabel.getStartedLink",defaultMessage:"get started with some sample data sets."}))}}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{iconType:"refresh",onClick:onRefresh,"data-test-subj":"refreshIndicesButton"},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyState.checkDataButton",defaultMessage:"Check for new data"})))))))};EmptyState.propTypes={onRefresh:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4904)},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);__webpack_require__(4905);__webpack_require__(4908);var _url=__webpack_require__(204);var _edit_sections=__webpack_require__(4926);var _notify=__webpack_require__(10);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(4);var _edit_index_pattern=__webpack_require__(4927);var _edit_index_pattern2=_interopRequireDefault(_edit_index_pattern);var _field_wildcard=__webpack_require__(886);var _index_pattern_list=__webpack_require__(547);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _source_filters_table=__webpack_require__(4928);var _indexed_fields_table=__webpack_require__(4936);var _scripted_fields_table=__webpack_require__(4942);var _react3=__webpack_require__(3);var _i18n=__webpack_require__(9);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _breadcrumbs=__webpack_require__(805);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var REACT_SOURCE_FILTERS_DOM_ELEMENT_ID="reactSourceFiltersTable";var REACT_INDEXED_FIELDS_DOM_ELEMENT_ID="reactIndexedFieldsTable";var REACT_SCRIPTED_FIELDS_DOM_ELEMENT_ID="reactScriptedFieldsTable";function updateSourceFiltersTable($scope,$state){if($state.tab==="sourceFilters"){$scope.$$postDigest(function(){var node=document.getElementById(REACT_SOURCE_FILTERS_DOM_ELEMENT_ID);if(!node){return}(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_source_filters_table.SourceFiltersTable,{indexPattern:$scope.indexPattern,filterFilter:$scope.fieldFilter,fieldWildcardMatcher:$scope.fieldWildcardMatcher,onAddOrRemoveFilter:function onAddOrRemoveFilter(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern,$scope.indexPatternListProvider);$scope.refreshFilters();$scope.$apply()}})),node)})}else{destroySourceFiltersTable()}}function destroySourceFiltersTable(){var node=document.getElementById(REACT_SOURCE_FILTERS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}function updateScriptedFieldsTable($scope,$state){if($state.tab==="scriptedFields"){$scope.$$postDigest(function(){var node=document.getElementById(REACT_SCRIPTED_FIELDS_DOM_ELEMENT_ID);if(!node){return}(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_scripted_fields_table.ScriptedFieldsTable,{indexPattern:$scope.indexPattern,fieldFilter:$scope.fieldFilter,scriptedFieldLanguageFilter:$scope.scriptedFieldLanguageFilter,helpers:{redirectToRoute:function redirectToRoute(obj,route){$scope.kbnUrl.redirectToRoute(obj,route);$scope.$apply()},getRouteHref:function getRouteHref(obj,route){return $scope.kbnUrl.getRouteHref(obj,route)}},onRemoveField:function onRemoveField(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern,$scope.indexPatternListProvider);$scope.refreshFilters()}})),node)})}else{destroyScriptedFieldsTable()}}function destroyScriptedFieldsTable(){var node=document.getElementById(REACT_SCRIPTED_FIELDS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}function updateIndexedFieldsTable($scope,$state){if($state.tab==="indexedFields"){$scope.$$postDigest(function(){var node=document.getElementById(REACT_INDEXED_FIELDS_DOM_ELEMENT_ID);if(!node){return}(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_indexed_fields_table.IndexedFieldsTable,{fields:$scope.fields,indexPattern:$scope.indexPattern,fieldFilter:$scope.fieldFilter,fieldWildcardMatcher:$scope.fieldWildcardMatcher,indexedFieldTypeFilter:$scope.indexedFieldTypeFilter,helpers:{redirectToRoute:function redirectToRoute(obj,route){$scope.kbnUrl.redirectToRoute(obj,route);$scope.$apply()},getFieldInfo:$scope.getFieldInfo}})),node)})}else{destroyIndexedFieldsTable()}}function destroyIndexedFieldsTable(){var node=document.getElementById(REACT_INDEXED_FIELDS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}_routes2.default.when("/management/kibana/indices/:indexPatternId",{template:_edit_index_pattern2.default,k7Breadcrumbs:_breadcrumbs.getEditBreadcrumbs,resolve:{indexPattern:function indexPattern($route,redirectWhenMissing,indexPatterns){return indexPatterns.get($route.current.params.indexPatternId).catch(redirectWhenMissing("/management/kibana/index"))}}});_routes2.default.when("/management/kibana/indices",{redirectTo:function redirectTo(){var defaultIndex=_chrome2.default.getUiSettingsClient().get("defaultIndex");if(defaultIndex){return"/management/kibana/indices/"+defaultIndex}return"/management/kibana/index"}});_modules.uiModules.get("apps/management").controller("managementIndicesEdit",function($scope,$location,$route,config,indexPatterns,Private,AppState,docTitle,confirmModal){var $state=$scope.state=new AppState;var _Private=Private(_field_wildcard.FieldWildcardProvider),fieldWildcardMatcher=_Private.fieldWildcardMatcher;var indexPatternListProvider=Private(_index_pattern_list.IndexPatternListFactory)();$scope.fieldWildcardMatcher=fieldWildcardMatcher;$scope.editSectionsProvider=Private(_edit_sections.IndicesEditSectionsProvider);$scope.kbnUrl=Private(_url.KbnUrlProvider);$scope.indexPattern=$route.current.locals.indexPattern;$scope.indexPatternListProvider=indexPatternListProvider;$scope.indexPattern.tags=indexPatternListProvider.getIndexPatternTags($scope.indexPattern);$scope.getFieldInfo=indexPatternListProvider.getFieldInfo;docTitle.change($scope.indexPattern.title);var otherPatterns=_lodash2.default.filter($route.current.locals.indexPatterns,function(pattern){return pattern.id!==$scope.indexPattern.id});$scope.$watch("indexPattern.fields",function(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern,indexPatternListProvider);$scope.refreshFilters();$scope.fields=$scope.indexPattern.getNonScriptedFields();updateIndexedFieldsTable($scope,$state);updateScriptedFieldsTable($scope,$state)});$scope.refreshFilters=function(){var indexedFieldTypes=[];var scriptedFieldLanguages=[];$scope.indexPattern.fields.forEach(function(field){if(field.scripted){scriptedFieldLanguages.push(field.lang)}else{indexedFieldTypes.push(field.type)}});$scope.indexedFieldTypes=_lodash2.default.unique(indexedFieldTypes);$scope.scriptedFieldLanguages=_lodash2.default.unique(scriptedFieldLanguages)};$scope.changeFilter=function(filter,val){$scope[filter]=val||""};$scope.changeTab=function(obj){$state.tab=obj.index;updateIndexedFieldsTable($scope,$state);updateScriptedFieldsTable($scope,$state);updateSourceFiltersTable($scope,$state);$state.save()};$scope.$watch("state.tab",function(tab){if(!tab)$scope.changeTab($scope.editSections[0])});$scope.$watchCollection("indexPattern.fields",function(){$scope.conflictFields=$scope.indexPattern.fields.filter(function(field){return field.type==="conflict"})});$scope.refreshFields=function(){var _this=this;var confirmMessage=_i18n.i18n.translate("kbn.management.editIndexPattern.refreshLabel",{defaultMessage:"This action resets the popularity counter of each field."});var confirmModalOptions={confirmButtonText:_i18n.i18n.translate("kbn.management.editIndexPattern.refreshButton",{defaultMessage:"Refresh"}),onConfirm:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return $scope.indexPattern.init(true);case 2:$scope.fields=$scope.indexPattern.getNonScriptedFields();case 3:case"end":return _context.stop()}}},_callee,_this)}));function onConfirm(){return _ref.apply(this,arguments)}return onConfirm}(),title:_i18n.i18n.translate("kbn.management.editIndexPattern.refreshHeader",{defaultMessage:"Refresh field list?"})};confirmModal(confirmMessage,confirmModalOptions)};$scope.removePattern=function(){function doRemove(){if($scope.indexPattern.id===config.get("defaultIndex")){config.remove("defaultIndex");if(otherPatterns.length){config.set("defaultIndex",otherPatterns[0].id)}}indexPatterns.delete($scope.indexPattern).then(function(){$location.url("/management/kibana/index")}).catch(_notify.fatalError)}var confirmModalOptions={confirmButtonText:_i18n.i18n.translate("kbn.management.editIndexPattern.deleteButton",{defaultMessage:"Delete"}),onConfirm:doRemove,title:_i18n.i18n.translate("kbn.management.editIndexPattern.deleteHeader",{defaultMessage:"Delete index pattern?"})};confirmModal("",confirmModalOptions)};$scope.setDefaultPattern=function(){config.set("defaultIndex",$scope.indexPattern.id)};$scope.setIndexPatternsTimeField=function(field){if(field.type!=="date"){var errorMessage=_i18n.i18n.translate("kbn.management.editIndexPattern.notDateErrorMessage",{defaultMessage:"That field is a {fieldType} not a date.",values:{fieldType:field.type}});_notify.toastNotifications.addDanger(errorMessage);return}$scope.indexPattern.timeFieldName=field.name;return $scope.indexPattern.save()};$scope.$watch("fieldFilter",function(){if($scope.fieldFilter===undefined){return}switch($state.tab){case"indexedFields":updateIndexedFieldsTable($scope,$state);case"scriptedFields":updateScriptedFieldsTable($scope,$state);case"sourceFilters":updateSourceFiltersTable($scope,$state)}});$scope.$watch("indexedFieldTypeFilter",function(){if($scope.indexedFieldTypeFilter!==undefined&&$state.tab==="indexedFields"){updateIndexedFieldsTable($scope,$state)}});$scope.$watch("scriptedFieldLanguageFilter",function(){if($scope.scriptedFieldLanguageFilter!==undefined&&$state.tab==="scriptedFields"){updateScriptedFieldsTable($scope,$state)}});$scope.$on("$destroy",function(){destroyIndexedFieldsTable();destroyScriptedFieldsTable()});updateScriptedFieldsTable($scope,$state);updateSourceFiltersTable($scope,$state)})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4906)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _index_header=__webpack_require__(4907);var _index_header2=_interopRequireDefault(_index_header);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("apps/management").directive("kbnManagementIndexHeader",function(config){return{restrict:"E",template:_index_header2.default,replace:true,scope:{indexPattern:"=",setDefault:"&",refreshFields:"&",delete:"&"},link:function link($scope,$el,attrs){$scope.delete=attrs.delete?$scope.delete:null;$scope.setDefault=attrs.setDefault?$scope.setDefault:null;$scope.refreshFields=attrs.refreshFields?$scope.refreshFields:null;config.bindToScope($scope,"defaultIndex")}}})},function(module,exports){module.exports='<div class="kuiBar kuiVerticalRhythm">\n  <div class="kuiBarSection">\n    \x3c!-- Index pattern name --\x3e\n    <h1\n      class="kuiTitle kuiVerticalRhythm"\n      data-test-subj="indexPatternTitle"\n    >\n      <span\n        aria-hidden="true"\n        ng-if="defaultIndex === indexPattern.id"\n        class="kuiIcon fa-star"\n      ></span>\n      {{indexPattern.title}}\n    </h1>\n  </div>\n\n  <div class="kuiBarSection">\n    <button\n      ng-if="setDefault"\n      ng-click="setDefault()"\n      aria-label="{{::\'kbn.management.editIndexPattern.setDefaultAria\' | i18n: { defaultMessage: \'Set as default index\' } }}"\n      tooltip="{{::\'kbn.management.editIndexPattern.setDefaultTooltip\' | i18n: { defaultMessage: \'Set as default index\' } }}"\n      class="kuiButton kuiButton--basic"\n      data-test-subj="setDefaultIndexPatternButton"\n    >\n      <span\n        aria-hidden="true"\n        class="kuiIcon fa-star"\n      ></span>\n    </button>\n\n    <button\n      ng-if="refreshFields"\n      ng-click="refreshFields()"\n      aria-label="{{::\'kbn.management.editIndexPattern.refreshAria\' | i18n: { defaultMessage: \'Reload field list\' } }}"\n      tooltip="{{::\'kbn.management.editIndexPattern.refreshTooltip\' | i18n: { defaultMessage: \'Refresh field list\' } }}"\n      class="kuiButton kuiButton--basic"\n    >\n      <span\n        aria-hidden="true"\n        class="kuiIcon fa-refresh"\n      ></span>\n    </button>\n\n    <button\n      ng-if="delete"\n      ng-click="delete()"\n      aria-label="{{::\'kbn.management.editIndexPattern.removeAria\' | i18n: { defaultMessage: \'Remove index pattern\' } }}"\n      tooltip="{{::\'kbn.management.editIndexPattern.removeTooltip\' | i18n: { defaultMessage: \'Remove index pattern\' } }}"\n      class="kuiButton kuiButton--danger"\n      data-test-subj="deleteIndexPatternButton"\n    >\n      <span\n        aria-hidden="true"\n        class="kuiIcon fa-trash"\n      ></span>\n    </button>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4909)},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _field=__webpack_require__(891);var _field_format_editors=__webpack_require__(1257);var _url=__webpack_require__(204);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(10);var _create_edit_field=__webpack_require__(4910);var _create_edit_field2=_interopRequireDefault(_create_edit_field);var _breadcrumbs=__webpack_require__(805);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _field_editor=__webpack_require__(1363);var _react3=__webpack_require__(3);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REACT_FIELD_EDITOR_ID="reactFieldEditor";var renderFieldEditor=function renderFieldEditor($scope,indexPattern,field,_ref){var Field=_ref.Field,getConfig=_ref.getConfig,$http=_ref.$http,fieldFormatEditors=_ref.fieldFormatEditors,redirectAway=_ref.redirectAway;$scope.$$postDigest(function(){var node=document.getElementById(REACT_FIELD_EDITOR_ID);if(!node){return}(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_field_editor.FieldEditor,{indexPattern:indexPattern,field:field,helpers:{Field:Field,getConfig:getConfig,$http:$http,fieldFormatEditors:fieldFormatEditors,redirectAway:redirectAway}})),node)})};var destroyFieldEditor=function destroyFieldEditor(){var node=document.getElementById(REACT_FIELD_EDITOR_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)};_routes2.default.when("/management/kibana/indices/:indexPatternId/field/:fieldName*",{mode:"edit",k7Breadcrumbs:_breadcrumbs.getEditFieldBreadcrumbs}).when("/management/kibana/indices/:indexPatternId/create-field/",{mode:"create",k7Breadcrumbs:_breadcrumbs.getCreateFieldBreadcrumbs}).defaults(/management\/kibana\/indices\/[^\/]+\/(field|create-field)(\/|$)/,{template:_create_edit_field2.default,mapBreadcrumbs:function mapBreadcrumbs($route,breadcrumbs){var indexPattern=$route.current.locals.indexPattern;return breadcrumbs.map(function(crumb){if(crumb.id!==indexPattern.id){return crumb}return _extends({},crumb,{display:indexPattern.title})})},resolve:{indexPattern:function indexPattern($route,redirectWhenMissing,indexPatterns){return indexPatterns.get($route.current.params.indexPatternId).catch(redirectWhenMissing("/management/kibana/indices"))}},controllerAs:"fieldSettings",controller:function FieldEditorPageController($scope,$route,$timeout,$http,Private,docTitle,config){var _this=this;var getConfig=function getConfig(){return config.get.apply(config,arguments)};var fieldFormatEditors=Private(_field_format_editors.RegistryFieldFormatEditorsProvider);var kbnUrl=Private(_url.KbnUrlProvider);this.mode=$route.current.mode;this.indexPattern=$route.current.locals.indexPattern;if(this.mode==="edit"){var _fieldName=$route.current.params.fieldName;this.field=this.indexPattern.fields.byName[_fieldName];if(!this.field){var message=_i18n.i18n.translate("kbn.management.editIndexPattern.scripted.noFieldLabel",{defaultMessage:"'{indexPatternTitle}' index pattern doesn't have a scripted field called '{fieldName}'",values:{indexPatternTitle:this.indexPattern.title,fieldName:_fieldName}});_notify.toastNotifications.add(message);kbnUrl.redirectToRoute(this.indexPattern,"edit");return}}else if(this.mode==="create"){this.field=new _field.Field(this.indexPattern,{scripted:true,type:"number"})}else{var errorMessage=_i18n.i18n.translate("kbn.management.editIndexPattern.scripted.unknownModeErrorMessage",{defaultMessage:"unknown fieldSettings mode {mode}",values:{mode:this.mode}});throw new Error(errorMessage)}var fieldName=this.field.name||_i18n.i18n.translate("kbn.management.editIndexPattern.scripted.newFieldPlaceholder",{defaultMessage:"New Scripted Field"});docTitle.change([fieldName,this.indexPattern.title]);renderFieldEditor($scope,this.indexPattern,this.field,{Field:_field.Field,getConfig:getConfig,$http:$http,fieldFormatEditors:fieldFormatEditors,redirectAway:function redirectAway(){$timeout(function(){kbnUrl.changeToRoute(_this.indexPattern,_this.field.scripted?"scriptedFields":"indexedFields")})}});$scope.$on("$destroy",function(){destroyFieldEditor()})}})},function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <kbn-management-indices>\n    <div class="kuiViewContent">\n      <kbn-management-index-header\n        index-pattern="fieldSettings.indexPattern"\n      ></kbn-management-index-header>\n    </div>\n\n    <div id="reactFieldEditor"></div>\n\n  </kbn-management-indices>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldEditor=exports.FieldEditorComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _scripting_languages=__webpack_require__(1364);var _field_formats=__webpack_require__(175);var _documentation_links=__webpack_require__(65);var _notify=__webpack_require__(10);var _eui=__webpack_require__(2);var _scripting_call_outs=__webpack_require__(4912);var _scripting_help=__webpack_require__(4915);var _field_format_editor=__webpack_require__(4919);var _constants=__webpack_require__(4921);var _lib=__webpack_require__(4922);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FieldEditorComponent=exports.FieldEditorComponent=function(_PureComponent){_inherits(FieldEditorComponent,_PureComponent);function FieldEditorComponent(props){_classCallCheck(this,FieldEditorComponent);var _this=_possibleConstructorReturn(this,(FieldEditorComponent.__proto__||Object.getPrototypeOf(FieldEditorComponent)).call(this,props));_initialiseProps.call(_this);var field=props.field,indexPattern=props.indexPattern,Field=props.helpers.Field;_this.state={isReady:false,isCreating:false,isDeprecatedLang:false,scriptingLangs:[],fieldTypes:[],fieldTypeFormats:[],existingFieldNames:indexPattern.fields.map(function(f){return f.name}),field:(0,_lib.copyField)(field,indexPattern,Field),fieldFormatId:undefined,fieldFormatParams:{},showScriptingHelp:false,showDeleteModal:false,hasFormatError:false,hasScriptError:false,isSaving:false};_this.supportedLangs=(0,_scripting_languages.getSupportedScriptingLanguages)();_this.deprecatedLangs=(0,_scripting_languages.getDeprecatedScriptingLanguages)();_this.init();return _this}_createClass(FieldEditorComponent,[{key:"init",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var $http,field,indexPattern,getEnabledScriptingLanguages,enabledLangs,scriptingLangs,fieldTypes,DefaultFieldFormat,fieldTypeFormats;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:$http=this.props.helpers.$http;field=this.state.field;indexPattern=this.props.indexPattern;getEnabledScriptingLanguages=new _scripting_languages.GetEnabledScriptingLanguagesProvider($http);_context.next=6;return getEnabledScriptingLanguages();case 6:enabledLangs=_context.sent;scriptingLangs=(0,_lodash.intersection)(enabledLangs,(0,_lodash.union)(this.supportedLangs,this.deprecatedLangs));field.lang=scriptingLangs.includes(field.lang)?field.lang:undefined;fieldTypes=(0,_lodash.get)(_constants.FIELD_TYPES_BY_LANG,field.lang,_constants.DEFAULT_FIELD_TYPES);field.type=fieldTypes.includes(field.type)?field.type:fieldTypes[0];DefaultFieldFormat=_field_formats.fieldFormats.getDefaultType(field.type);fieldTypeFormats=[(0,_lib.getDefaultFormat)(DefaultFieldFormat)].concat(_toConsumableArray(_field_formats.fieldFormats.byFieldType[field.type]));this.setState({isReady:true,isCreating:!indexPattern.fields.byName[field.name],isDeprecatedLang:this.deprecatedLangs.includes(field.lang),errors:[],scriptingLangs:scriptingLangs,fieldTypes:fieldTypes,fieldTypeFormats:fieldTypeFormats,fieldFormatId:(0,_lodash.get)(indexPattern,["fieldFormatMap",field.name,"type","id"]),fieldFormatParams:field.format.params()});case 14:case"end":return _context.stop()}}},_callee,this)}));function init(){return _ref.apply(this,arguments)}return init}()},{key:"isDuplicateName",value:function isDuplicateName(){var _state=this.state,isCreating=_state.isCreating,field=_state.field,existingFieldNames=_state.existingFieldNames;return isCreating&&existingFieldNames.includes(field.name)}},{key:"renderName",value:function renderName(){var _this2=this;var _state2=this.state,isCreating=_state2.isCreating,field=_state2.field;var intl=this.props.intl;var isInvalid=!field.name||!field.name.trim();return isCreating?_react2.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"common.ui.fieldEditor.nameLabel",defaultMessage:"Name"}),helpText:this.isDuplicateName()?_react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiIcon,{type:"alert",color:"warning",size:"s"})," ",_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.mappingConflictLabel.mappingConflictDetail",defaultMessage:"{mappingConflict} You already have a field with the name {fieldName}. Naming your scripted field with the same name means you won't be able to query both fields at the same time.",values:{mappingConflict:_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.mappingConflictLabel.mappingConflictLabel",defaultMessage:"Mapping Conflict:"})),fieldName:_react2.default.createElement(_eui.EuiCode,null,field.name)}})):null,isInvalid:isInvalid,error:isInvalid?intl.formatMessage({id:"common.ui.fieldEditor.nameErrorMessage",defaultMessage:"Name is required"}):null},_react2.default.createElement(_eui.EuiFieldText,{value:field.name||"",placeholder:intl.formatMessage({id:"common.ui.fieldEditor.namePlaceholder",defaultMessage:"New scripted field"}),"data-test-subj":"editorFieldName",onChange:function onChange(e){_this2.onFieldChange("name",e.target.value)},isInvalid:isInvalid})):null}},{key:"renderLanguage",value:function renderLanguage(){var _this3=this;var _state3=this.state,field=_state3.field,scriptingLangs=_state3.scriptingLangs,isDeprecatedLang=_state3.isDeprecatedLang;var intl=this.props.intl;return field.scripted?_react2.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"common.ui.fieldEditor.languageLabel",defaultMessage:"Language"}),helpText:isDeprecatedLang?_react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiIcon,{type:"alert",color:"warning",size:"s"})," ",_react2.default.createElement("strong",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningHeader",defaultMessage:"Deprecation Warning:"}))," ",_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningLabel.warningDetail",defaultMessage:"{language} is deprecated and support will be removed in the next major version of Kibana and Elasticsearch. We recommend using {painlessLink} for new scripted fields.",values:{language:_react2.default.createElement(_eui.EuiCode,null,field.lang),painlessLink:_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.painless")},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningLabel.painlessLinkLabel",defaultMessage:"Painless"}))}})):null},_react2.default.createElement(_eui.EuiSelect,{value:field.lang,options:scriptingLangs.map(function(lang){return{value:lang,text:lang}}),"data-test-subj":"editorFieldLang",onChange:function onChange(e){_this3.onLangChange(e.target.value)}})):null}},{key:"renderType",value:function renderType(){var _this4=this;var _state4=this.state,field=_state4.field,fieldTypes=_state4.fieldTypes;var intl=this.props.intl;return _react2.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"common.ui.fieldEditor.typeLabel",defaultMessage:"Type"})},_react2.default.createElement(_eui.EuiSelect,{value:field.type,disabled:!field.scripted,options:fieldTypes.map(function(type){return{value:type,text:type}}),"data-test-subj":"editorFieldType",onChange:function onChange(e){_this4.onTypeChange(e.target.value)}}))}},{key:"renderFormat",value:function renderFormat(){var _this5=this;var _state5=this.state,field=_state5.field,fieldTypeFormats=_state5.fieldTypeFormats,fieldFormatId=_state5.fieldFormatId,fieldFormatParams=_state5.fieldFormatParams;var fieldFormatEditors=this.props.helpers.fieldFormatEditors;var defaultFormat=fieldTypeFormats[0]&&fieldTypeFormats[0].resolvedTitle;var label=defaultFormat?_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.defaultFormatHeader",defaultMessage:"Format (Default: {defaultFormat})",values:{defaultFormat:_react2.default.createElement(_eui.EuiCode,null,defaultFormat)}}):_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.formatHeader",defaultMessage:"Format"});return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:label,helpText:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.formatLabel",defaultMessage:"Formatting allows you to control the way that specific values are displayed. It can also cause values to be completely changed and prevent highlighting in Discover from working."})},_react2.default.createElement(_eui.EuiSelect,{value:fieldFormatId,options:fieldTypeFormats.map(function(format){return{value:format.id||"",text:format.title}}),"data-test-subj":"editorSelectedFormatId",onChange:function onChange(e){_this5.onFormatChange(e.target.value)}})),fieldFormatId?_react2.default.createElement(_field_format_editor.FieldFormatEditor,{fieldType:field.type,fieldFormat:field.format,fieldFormatId:fieldFormatId,fieldFormatParams:fieldFormatParams,fieldFormatEditors:fieldFormatEditors,onChange:this.onFormatParamsChange,onError:this.onFormatParamsError}):null)}},{key:"renderPopularity",value:function renderPopularity(){var _this6=this;var field=this.state.field;var intl=this.props.intl;return _react2.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"common.ui.fieldEditor.popularityLabel",defaultMessage:"Popularity"})},_react2.default.createElement(_eui.EuiFieldNumber,{value:field.count,"data-test-subj":"editorFieldCount",onChange:function onChange(e){_this6.onFieldChange("count",e.target.value?Number(e.target.value):"")}}))}},{key:"renderScript",value:function renderScript(){var _state6=this.state,field=_state6.field,hasScriptError=_state6.hasScriptError;var intl=this.props.intl;var isInvalid=!field.script||!field.script.trim()||hasScriptError;var errorMsg=hasScriptError?_react2.default.createElement("span",{"data-test-subj":"invalidScriptError"},intl.formatMessage({id:"common.ui.fieldEditor.scriptInvalidErrorMessage",defaultMessage:"Script is invalid. View script preview for details"})):intl.formatMessage({id:"common.ui.fieldEditor.scriptRequiredErrorMessage",defaultMessage:"Script is required"});return field.scripted?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"common.ui.fieldEditor.scriptLabel",defaultMessage:"Script"}),isInvalid:isInvalid,error:isInvalid?errorMsg:null},_react2.default.createElement(_eui.EuiTextArea,{value:field.script,"data-test-subj":"editorFieldScript",onChange:this.onScriptChange,isInvalid:isInvalid})),_react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.script.accessWithLabel",defaultMessage:"Access fields with {code}.",values:{code:_react2.default.createElement("code",null,"doc['some_field'].value")}})),_react2.default.createElement("br",null),_react2.default.createElement(_eui.EuiLink,{onClick:this.showScriptingHelp,"data-test-subj":"scriptedFieldsHelpLink"},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.script.getHelpLabel",defaultMessage:"Get help with the syntax and preview the results of your script."}))))):null}},{key:"renderActions",value:function renderActions(){var _state7=this.state,isCreating=_state7.isCreating,field=_state7.field,isSaving=_state7.isSaving;var redirectAway=this.props.helpers.redirectAway;return _react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{fill:true,onClick:this.saveField,isDisabled:this.isSavingDisabled(),isLoading:isSaving,"data-test-subj":"fieldSaveButton"},isCreating?_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.actions.createButton",defaultMessage:"Create field"}):_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.actions.saveButton",defaultMessage:"Save field"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{onClick:redirectAway,"data-test-subj":"fieldCancelButton"},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.actions.cancelButton",defaultMessage:"Cancel"}))),!isCreating&&field.scripted?_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{color:"danger",onClick:this.showDeleteModal},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.actions.deleteButton",defaultMessage:"Delete"}))))):null))}},{key:"isSavingDisabled",value:function isSavingDisabled(){var _state8=this.state,field=_state8.field,hasFormatError=_state8.hasFormatError,hasScriptError=_state8.hasScriptError;if(hasFormatError||hasScriptError||!field.name||!field.name.trim()||field.scripted&&(!field.script||!field.script.trim())){return true}return false}},{key:"render",value:function render(){var _state9=this.state,isReady=_state9.isReady,isCreating=_state9.isCreating,field=_state9.field;return isReady?_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,isCreating?_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.createHeader",defaultMessage:"Create scripted field"}):_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.editHeader",defaultMessage:"Edit {fieldName}",values:{fieldName:field.name}}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiForm,null,this.renderScriptingPanels(),this.renderName(),this.renderLanguage(),this.renderType(),this.renderFormat(),this.renderPopularity(),this.renderScript(),this.renderActions(),this.renderDeleteModal()),_react2.default.createElement(_eui.EuiSpacer,{size:"l"})):null}}]);return FieldEditorComponent}(_react.PureComponent);FieldEditorComponent.propTypes={indexPattern:_propTypes2.default.object.isRequired,field:_propTypes2.default.object.isRequired,helpers:_propTypes2.default.shape({Field:_propTypes2.default.func.isRequired,getConfig:_propTypes2.default.func.isRequired,$http:_propTypes2.default.func.isRequired,fieldFormatEditors:_propTypes2.default.object.isRequired,redirectAway:_propTypes2.default.func.isRequired})};var _initialiseProps=function _initialiseProps(){var _this7=this;this.onFieldChange=function(fieldName,value){var field=_this7.state.field;field[fieldName]=value;_this7.forceUpdate()};this.onTypeChange=function(type){var getConfig=_this7.props.helpers.getConfig;var field=_this7.state.field;var DefaultFieldFormat=_field_formats.fieldFormats.getDefaultType(type);field.type=type;var fieldTypeFormats=[(0,_lib.getDefaultFormat)(DefaultFieldFormat)].concat(_toConsumableArray(_field_formats.fieldFormats.byFieldType[field.type]));var FieldFormat=fieldTypeFormats[0];field.format=new FieldFormat(null,getConfig);_this7.setState({fieldTypeFormats:fieldTypeFormats,fieldFormatId:FieldFormat.id,fieldFormatParams:field.format.params()})};this.onLangChange=function(lang){var field=_this7.state.field;var fieldTypes=(0,_lodash.get)(_constants.FIELD_TYPES_BY_LANG,lang,_constants.DEFAULT_FIELD_TYPES);field.lang=lang;field.type=fieldTypes.includes(field.type)?field.type:fieldTypes[0];_this7.setState({fieldTypes:fieldTypes})};this.onFormatChange=function(formatId,params){var getConfig=_this7.props.helpers.getConfig;var _state10=_this7.state,field=_state10.field,fieldTypeFormats=_state10.fieldTypeFormats;var FieldFormat=fieldTypeFormats.find(function(format){return format.id===formatId})||fieldTypeFormats[0];field.format=new FieldFormat(params,getConfig);_this7.setState({fieldFormatId:FieldFormat.id,fieldFormatParams:field.format.params()})};this.onFormatParamsChange=function(newParams){var fieldFormatId=_this7.state.fieldFormatId;_this7.onFormatChange(fieldFormatId,newParams)};this.onFormatParamsError=function(error){_this7.setState({hasFormatError:!!error})};this.onScriptChange=function(e){_this7.setState({hasScriptError:false});_this7.onFieldChange("script",e.target.value)};this.showScriptingHelp=function(){_this7.setState({showScriptingHelp:true})};this.hideScriptingHelp=function(){_this7.setState({showScriptingHelp:false})};this.renderDeleteModal=function(){var field=_this7.state.field;var intl=_this7.props.intl;return _this7.state.showDeleteModal?_react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:intl.formatMessage({id:"common.ui.fieldEditor.deleteFieldHeader",defaultMessage:"Delete field '{fieldName}'"},{fieldName:field.name}),onCancel:_this7.hideDeleteModal,onConfirm:function onConfirm(){_this7.hideDeleteModal();_this7.deleteField()},cancelButtonText:intl.formatMessage({id:"common.ui.fieldEditor.deleteField.cancelButton",defaultMessage:"Cancel"}),confirmButtonText:intl.formatMessage({id:"common.ui.fieldEditor.deleteField.deleteButton",defaultMessage:"Delete"}),buttonColor:"danger",defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.deleteFieldLabel",defaultMessage:"You can't recover a deleted field.{separator}Are you sure you want to do this?",values:{separator:_react2.default.createElement("span",null,_react2.default.createElement("br",null),_react2.default.createElement("br",null))}})))):null};this.showDeleteModal=function(){_this7.setState({showDeleteModal:true})};this.hideDeleteModal=function(){_this7.setState({showDeleteModal:false})};this.renderScriptingPanels=function(){var _state11=_this7.state,scriptingLangs=_state11.scriptingLangs,field=_state11.field,showScriptingHelp=_state11.showScriptingHelp;if(!field.scripted){return}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_scripting_call_outs.ScriptingDisabledCallOut,{isVisible:!scriptingLangs.length}),_react2.default.createElement(_scripting_call_outs.ScriptingWarningCallOut,{isVisible:true}),_react2.default.createElement(_scripting_help.ScriptingHelpFlyout,{isVisible:showScriptingHelp,onClose:_this7.hideScriptingHelp,indexPattern:_this7.props.indexPattern,lang:field.lang,name:field.name,script:field.script,executeScript:_lib.executeScript}))};this.deleteField=function(){var redirectAway=_this7.props.helpers.redirectAway;var _props=_this7.props,indexPattern=_props.indexPattern,intl=_props.intl;var field=_this7.state.field;var remove=indexPattern.removeScriptedField(field.name);if(remove){remove.then(function(){var message=intl.formatMessage({id:"common.ui.fieldEditor.deleteField.deletedHeader",defaultMessage:"Deleted '{fieldName}'"},{fieldName:field.name});_notify.toastNotifications.addSuccess(message);redirectAway()})}else{redirectAway()}};this.saveField=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var field,_props2,indexPattern,intl,fieldFormatId,isValid,redirectAway,index;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:field=_this7.state.field.toActualField();_props2=_this7.props,indexPattern=_props2.indexPattern,intl=_props2.intl;fieldFormatId=_this7.state.fieldFormatId;if(!field.scripted){_context2.next=11;break}_this7.setState({isSaving:true});_context2.next=7;return(0,_lib.isScriptValid)({name:field.name,lang:field.lang,script:field.script,indexPatternTitle:indexPattern.title});case 7:isValid=_context2.sent;if(isValid){_context2.next=11;break}_this7.setState({hasScriptError:true,isSaving:false});return _context2.abrupt("return");case 11:redirectAway=_this7.props.helpers.redirectAway;index=indexPattern.fields.findIndex(function(f){return f.name===field.name});if(index>-1){indexPattern.fields.splice(index,1,field)}else{indexPattern.fields.push(field)}if(!fieldFormatId){indexPattern.fieldFormatMap[field.name]={}}else{indexPattern.fieldFormatMap[field.name]=field.format}return _context2.abrupt("return",indexPattern.save().then(function(){var message=intl.formatMessage({id:"common.ui.fieldEditor.deleteField.savedHeader",defaultMessage:"Saved '{fieldName}'"},{fieldName:field.name});_notify.toastNotifications.addSuccess(message);redirectAway()}));case 16:case"end":return _context2.stop()}}},_callee2,_this7)}))};var FieldEditor=exports.FieldEditor=(0,_react3.injectI18n)(FieldEditorComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _disabled_call_out=__webpack_require__(4913);Object.defineProperty(exports,"ScriptingDisabledCallOut",{enumerable:true,get:function get(){return _disabled_call_out.ScriptingDisabledCallOut}});var _warning_call_out=__webpack_require__(4914);Object.defineProperty(exports,"ScriptingWarningCallOut",{enumerable:true,get:function get(){return _warning_call_out.ScriptingWarningCallOut}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingDisabledCallOut=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ScriptingDisabledCallOut=exports.ScriptingDisabledCallOut=function ScriptingDisabledCallOut(_ref){var _ref$isVisible=_ref.isVisible,isVisible=_ref$isVisible===undefined?false:_ref$isVisible;return isVisible?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.disabledCallOutHeader",defaultMessage:"Scripting disabled"}),color:"danger",iconType:"alert"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.disabledCallOutLabel",defaultMessage:"All inline scripting has been disabled in Elasticsearch. You must enable inline scripting for at least one language in order to use scripted fields in Kibana."}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"})):null};ScriptingDisabledCallOut.displayName="ScriptingDisabledCallOut"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingWarningCallOut=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _documentation_links=__webpack_require__(65);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ScriptingWarningCallOut=exports.ScriptingWarningCallOut=function ScriptingWarningCallOut(_ref){var _ref$isVisible=_ref.isVisible,isVisible=_ref$isVisible===undefined?false:_ref$isVisible;return isVisible?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningCallOutHeader",defaultMessage:"Proceed with caution"}),color:"warning",iconType:"alert"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningCallOutLabel.callOutDetail",defaultMessage:"Please familiarize yourself with {scripFields} and with {scriptsInAggregation} before using scripted fields.",values:{scripFields:_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.scriptFields")},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningCallOutLabel.scripFieldsLink",defaultMessage:"script fields"})," ",_react2.default.createElement(_eui.EuiIcon,{type:"link"})),scriptsInAggregation:_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.scriptAggs")},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningCallOutLabel.scriptsInAggregationLink",defaultMessage:"scripts in aggregations"})," ",_react2.default.createElement(_eui.EuiIcon,{type:"link"}))}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.warningCallOut.descriptionLabel",defaultMessage:"Scripted fields can be used to display and aggregate calculated values. As such, they can be very slow, and if done incorrectly, can cause Kibana to be unusable. There's no safety net here. If you make a typo, unexpected exceptions will be thrown all over the place!"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"})):null};ScriptingWarningCallOut.displayName="ScriptingWarningCallOut"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _help_flyout=__webpack_require__(4916);Object.defineProperty(exports,"ScriptingHelpFlyout",{enumerable:true,get:function get(){return _help_flyout.ScriptingHelpFlyout}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingHelpFlyout=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _scripting_syntax=__webpack_require__(4917);var _test_script=__webpack_require__(4918);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ScriptingHelpFlyout=exports.ScriptingHelpFlyout=function ScriptingHelpFlyout(_ref){var _ref2,_ref3;var _ref$isVisible=_ref.isVisible,isVisible=_ref$isVisible===undefined?false:_ref$isVisible,_ref$onClose=_ref.onClose,onClose=_ref$onClose===undefined?function(){}:_ref$onClose,indexPattern=_ref.indexPattern,lang=_ref.lang,name=_ref.name,script=_ref.script,executeScript=_ref.executeScript;var tabs=[(_ref2={id:"syntax",name:"Syntax"},_defineProperty(_ref2,"data-test-subj","syntaxTab"),_defineProperty(_ref2,"content",_react2.default.createElement(_scripting_syntax.ScriptingSyntax,null)),_ref2),(_ref3={id:"test",name:"Preview results"},_defineProperty(_ref3,"data-test-subj","testTab"),_defineProperty(_ref3,"content",_react2.default.createElement(_test_script.TestScript,{indexPattern:indexPattern,lang:lang,name:name,script:script,executeScript:executeScript})),_ref3)];return isVisible?_react2.default.createElement(_eui.EuiFlyout,{onClose:onClose,"data-test-subj":"scriptedFieldsHelpFlyout"},_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiTabbedContent,{tabs:tabs,initialSelectedTab:tabs[0]}))):null};ScriptingHelpFlyout.displayName="ScriptingHelpFlyout";ScriptingHelpFlyout.propTypes={indexPattern:_propTypes2.default.object.isRequired,lang:_propTypes2.default.string.isRequired,name:_propTypes2.default.string,script:_propTypes2.default.string,executeScript:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingSyntax=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _documentation_links=__webpack_require__(65);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ScriptingSyntax=exports.ScriptingSyntax=function ScriptingSyntax(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntaxHeader",defaultMessage:"Syntax"})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.defaultLabel.defaultDetail",defaultMessage:"By default, Kibana scripted fields use {painless}, a simple and secure scripting language designed specifically for use with Elasticsearch, to access values in the document use the following format:",values:{painless:_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.painless")},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.defaultLabel.painlessLink",defaultMessage:"Painless"})," ",_react2.default.createElement(_eui.EuiIcon,{type:"link"}))}})),_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiCode,null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.default.formatLabel",defaultMessage:"doc['some_field'].value"}))),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.painlessLabel.painlessDetail",defaultMessage:"Painless is powerful but easy to use. It provides access to many {javaAPIs}. Read up on its {syntax} and you'll be up to speed in no time!",values:{javaAPIs:_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.painlessApi")},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.painlessLabel.javaAPIsLink",defaultMessage:"native Java APIs"})," ",_react2.default.createElement(_eui.EuiIcon,{type:"link"})),syntax:_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.painlessSyntax")},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.painlessLabel.syntaxLink",defaultMessage:"syntax"})," ",_react2.default.createElement(_eui.EuiIcon,{type:"link"}))}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.kibanaLabel",defaultMessage:"Kibana currently imposes one special limitation on the painless scripts you write. They cannot contain named functions."})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.commonLabel.commonDetail",defaultMessage:"Coming from an older version of Kibana? The {lucene} you know and love are still available. Lucene expressions are a lot like JavaScript, but limited to basic arithmetic, bitwise and comparison operations.",values:{lucene:_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.luceneExpressions")},_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.commonLabel.luceneLink",defaultMessage:"Lucene Expressions"})," ",_react2.default.createElement(_eui.EuiIcon,{type:"link"}))}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.limitsLabel",defaultMessage:"There are a few limitations when using Lucene Expressions:"})),_react2.default.createElement("ul",null,_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.limits.typesLabel",defaultMessage:"Only numeric, boolean, date, and geo_point fields may be accessed"})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.limits.fieldsLabel",defaultMessage:"Stored fields are not available"})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.limits.sparseLabel",defaultMessage:"If a field is sparse (only some documents contain a value), documents missing the field will have a value of 0"}))),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operationsLabel",defaultMessage:"Here are all the operations available to lucene expressions:"})),_react2.default.createElement("ul",null,_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.arithmeticLabel",defaultMessage:"Arithmetic operators: {operators}",values:{operators:_react2.default.createElement("code",null,"+ - * / %")}})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.bitwiseLabel",defaultMessage:"Bitwise operators: {operators}",values:{operators:_react2.default.createElement("code",null,"| & ^ ~ << >> >>>")}})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.booleanLabel",defaultMessage:"Boolean operators (including the ternary operator): {operators}",values:{operators:_react2.default.createElement("code",null,"&& || ! ?:")}})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.comparisonLabel",defaultMessage:"Comparison operators: {operators}",values:{operators:_react2.default.createElement("code",null,"< <= == >= >")}})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.mathLabel",defaultMessage:"Common mathematic functions: {operators}",values:{operators:_react2.default.createElement("code",null,"abs ceil exp floor ln log10 logn max min sqrt pow")}})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.trigLabel",defaultMessage:"Trigonometric library functions: {operators}",values:{operators:_react2.default.createElement("code",null,"acosh acos asinh asin atanh atan atan2 cosh cos sinh sin tanh tan")}})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.distanceLabel",defaultMessage:"Distance functions: {operators}",values:{operators:_react2.default.createElement("code",null,"haversin")}})),_react2.default.createElement("li",null,_react2.default.createElement(_react3.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.miscellaneousLabel",defaultMessage:"Miscellaneous functions: {operators}",values:{operators:_react2.default.createElement("code",null,"min, max")}})))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TestScript=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TestScript=exports.TestScript=function(_Component){_inherits(TestScript,_Component);function TestScript(){var _ref,_this2=this;var _temp,_this,_ret;_classCallCheck(this,TestScript);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=TestScript.__proto__||Object.getPrototypeOf(TestScript)).call.apply(_ref,[this].concat(args))),_this),_this.state={isLoading:false,additionalFields:[]},_this.previewScript=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,indexPattern,lang,name,script,executeScript,scriptResponse;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,indexPattern=_this$props.indexPattern,lang=_this$props.lang,name=_this$props.name,script=_this$props.script,executeScript=_this$props.executeScript;if(!(!script||script.length===0)){_context.next=3;break}return _context.abrupt("return");case 3:_this.setState({isLoading:true});_context.next=6;return executeScript({name:name,lang:lang,script:script,indexPatternTitle:indexPattern.title,additionalFields:_this.state.additionalFields.map(function(option){return option.value})});case 6:scriptResponse=_context.sent;if(!(scriptResponse.status!==200)){_context.next=10;break}_this.setState({isLoading:false,previewData:scriptResponse});return _context.abrupt("return");case 10:_this.setState({isLoading:false,previewData:scriptResponse.hits.hits.map(function(hit){return _extends({_id:hit._id},hit._source,hit.fields)})});case 11:case"end":return _context.stop()}}},_callee,_this2)})),_this.onAdditionalFieldsChange=function(selectedOptions){_this.setState({additionalFields:selectedOptions})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(TestScript,[{key:"componentDidMount",value:function componentDidMount(){if(this.props.script){this.previewScript()}}},{key:"renderPreview",value:function renderPreview(){var previewData=this.state.previewData;if(!previewData){return null}if(previewData.error){return _react2.default.createElement(_eui.EuiCallOut,{title:"There's an error in your script",color:"danger",iconType:"cross"},_react2.default.createElement(_eui.EuiCodeBlock,{language:"json",className:"scriptPreviewCodeBlock","data-test-subj":"scriptedFieldPreview"},JSON.stringify(previewData.error,null," ")))}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement("p",null,"First 10 results")),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiCodeBlock,{language:"json",className:"scriptPreviewCodeBlock","data-test-subj":"scriptedFieldPreview"},JSON.stringify(previewData,null," ")))}},{key:"renderToolbar",value:function renderToolbar(){var fieldsByTypeMap=new Map;var fields=[];this.props.indexPattern.fields.filter(function(field){return!field.name.startsWith("_")}).forEach(function(field){if(fieldsByTypeMap.has(field.type)){var fieldsList=fieldsByTypeMap.get(field.type);fieldsList.push(field.name);fieldsByTypeMap.set(field.type,fieldsList)}else{fieldsByTypeMap.set(field.type,[field.name])}});fieldsByTypeMap.forEach(function(fieldsList,fieldType){fields.push({label:fieldType,options:fieldsList.sort().map(function(fieldName){return{value:fieldName,label:fieldName}})})});fields.sort(function(a,b){if(a.label<b.label)return-1;if(a.label>b.label)return 1;return 0});return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:"Additional fields"},_react2.default.createElement(_eui.EuiComboBox,{placeholder:"Select...",options:fields,selectedOptions:this.state.additionalFields,onChange:this.onAdditionalFieldsChange,"data-test-subj":"additionalFieldsSelect"})),_react2.default.createElement(_eui.EuiButton,{onClick:this.previewScript,disabled:this.props.script?false:true,isLoading:this.state.isLoading,"data-test-subj":"runScriptButton"},"Run script"))}},{key:"render",value:function render(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,"Preview results"),_react2.default.createElement("p",null,"Run your script to preview the first 10 results. You can also select some additional fields to include in your results to gain more context.")),_react2.default.createElement(_eui.EuiSpacer,null),this.renderToolbar(),_react2.default.createElement(_eui.EuiSpacer,null),this.renderPreview())}}]);return TestScript}(_react.Component);TestScript.propTypes={indexPattern:_propTypes2.default.object.isRequired,lang:_propTypes2.default.string.isRequired,name:_propTypes2.default.string,script:_propTypes2.default.string,executeScript:_propTypes2.default.func.isRequired};TestScript.defaultProps={name:"myScriptedField"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field_format_editor=__webpack_require__(4920);Object.defineProperty(exports,"FieldFormatEditor",{enumerable:true,get:function get(){return _field_format_editor.FieldFormatEditor}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldFormatEditor=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FieldFormatEditor=exports.FieldFormatEditor=function(_PureComponent){_inherits(FieldFormatEditor,_PureComponent);function FieldFormatEditor(props){_classCallCheck(this,FieldFormatEditor);var _this=_possibleConstructorReturn(this,(FieldFormatEditor.__proto__||Object.getPrototypeOf(FieldFormatEditor)).call(this,props));_this.state={EditorComponent:null};return _this}_createClass(FieldFormatEditor,[{key:"render",value:function render(){var EditorComponent=this.state.EditorComponent;var _props=this.props,fieldType=_props.fieldType,fieldFormat=_props.fieldFormat,fieldFormatParams=_props.fieldFormatParams,onChange=_props.onChange,onError=_props.onError;return _react2.default.createElement(_react.Fragment,null,EditorComponent?_react2.default.createElement(EditorComponent,{fieldType:fieldType,format:fieldFormat,formatParams:fieldFormatParams,onChange:onChange,onError:onError}):null)}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps){return{EditorComponent:nextProps.fieldFormatEditors.getEditor(nextProps.fieldFormatId)||null}}}]);return FieldFormatEditor}(_react.PureComponent);FieldFormatEditor.propTypes={fieldType:_propTypes2.default.string.isRequired,fieldFormat:_propTypes2.default.object.isRequired,fieldFormatId:_propTypes2.default.string.isRequired,fieldFormatParams:_propTypes2.default.object.isRequired,fieldFormatEditors:_propTypes2.default.object.isRequired,onChange:_propTypes2.default.func.isRequired,onError:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_FIELD_TYPES=exports.FIELD_TYPES_BY_LANG=undefined;var _utils=__webpack_require__(377);var FIELD_TYPES_BY_LANG=exports.FIELD_TYPES_BY_LANG={painless:["number","string","date","boolean"],expression:["number"]};var DEFAULT_FIELD_TYPES=exports.DEFAULT_FIELD_TYPES=(0,_utils.getKbnTypeNames)()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _copy_field=__webpack_require__(4923);Object.defineProperty(exports,"copyField",{enumerable:true,get:function get(){return _copy_field.copyField}});var _get_default_format=__webpack_require__(4924);Object.defineProperty(exports,"getDefaultFormat",{enumerable:true,get:function get(){return _get_default_format.getDefaultFormat}});var _validate_script=__webpack_require__(4925);Object.defineProperty(exports,"executeScript",{enumerable:true,get:function get(){return _validate_script.executeScript}});Object.defineProperty(exports,"isScriptValid",{enumerable:true,get:function get(){return _validate_script.isScriptValid}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.copyField=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _lodash=__webpack_require__(1);var copyField=exports.copyField=function copyField(field,indexPattern,Field){var changes={};var newFieldProps={toActualField:{value:function value(){return new Field(indexPattern,_extends({},field.$$spec,changes))}}};Object.getOwnPropertyNames(field).forEach(function(prop){var desc=Object.getOwnPropertyDescriptor(field,prop);newFieldProps[prop]={enumerable:desc.enumerable,get:function get(){return(0,_lodash.has)(changes,prop)?changes[prop]:field[prop]},set:function set(v){changes[prop]=v}}});return Object.create(null,newFieldProps)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getDefaultFormat=undefined;var _i18n=__webpack_require__(9);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var getDefaultFormat=exports.getDefaultFormat=function getDefaultFormat(Format){var DefaultFormat=function(_Format){_inherits(DefaultFormat,_Format);function DefaultFormat(){_classCallCheck(this,DefaultFormat);return _possibleConstructorReturn(this,(DefaultFormat.__proto__||Object.getPrototypeOf(DefaultFormat)).apply(this,arguments))}return DefaultFormat}(Format);DefaultFormat.id="";DefaultFormat.resolvedTitle=Format.title;DefaultFormat.title=_i18n.i18n.translate("common.ui.fieldEditor.defaultFormatDropDown",{defaultMessage:"- Default -"});return DefaultFormat}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isScriptValid=exports.executeScript=undefined;var _kfetch=__webpack_require__(216);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var executeScript=exports.executeScript=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref){var name=_ref.name,lang=_ref.lang,script=_ref.script,indexPatternTitle=_ref.indexPatternTitle,_ref$additionalFields=_ref.additionalFields,additionalFields=_ref$additionalFields===undefined?[]:_ref$additionalFields;var header,search,body,esResp;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:header={index:indexPatternTitle,ignore_unavailable:true};search={query:{match_all:{}},script_fields:_defineProperty({},name,{script:{lang:lang,source:script}}),size:10,timeout:"30s"};if(additionalFields.length>0){search._source=additionalFields}body=JSON.stringify(header)+"\n"+JSON.stringify(search)+"\n";_context.next=6;return(0,_kfetch.kfetch)({method:"POST",pathname:"/elasticsearch/_msearch",body:body});case 6:esResp=_context.sent;return _context.abrupt("return",esResp.responses[0]);case 8:case"end":return _context.stop()}}},_callee,undefined)}));return function executeScript(_x){return _ref2.apply(this,arguments)}}();var isScriptValid=exports.isScriptValid=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref3){var name=_ref3.name,lang=_ref3.lang,script=_ref3.script,indexPatternTitle=_ref3.indexPatternTitle;var scriptResponse;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return executeScript({name:name,lang:lang,script:script,indexPatternTitle:indexPatternTitle});case 2:scriptResponse=_context2.sent;if(!(scriptResponse.status!==200)){_context2.next=5;break}return _context2.abrupt("return",false);case 5:return _context2.abrupt("return",true);case 6:case"end":return _context2.stop()}}},_callee2,undefined)}));return function isScriptValid(_x2){return _ref4.apply(this,arguments)}}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndicesEditSectionsProvider=IndicesEditSectionsProvider;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function IndicesEditSectionsProvider(){return function(indexPattern,indexPatternListProvider){var fieldCount=_lodash2.default.countBy(indexPattern.fields,function(field){return field.scripted?"scripted":"indexed"});_lodash2.default.defaults(fieldCount,{indexed:0,scripted:0,sourceFilters:indexPattern.sourceFilters?indexPattern.sourceFilters.length:0});var editSections=[];editSections.push({title:_i18n.i18n.translate("kbn.management.editIndexPattern.tabs.fieldsHeader",{defaultMessage:"Fields"}),index:"indexedFields",count:fieldCount.indexed});if(indexPatternListProvider.areScriptedFieldsEnabled(indexPattern)){editSections.push({title:_i18n.i18n.translate("kbn.management.editIndexPattern.tabs.scriptedHeader",{defaultMessage:"Scripted fields"}),index:"scriptedFields",count:fieldCount.scripted})}editSections.push({title:_i18n.i18n.translate("kbn.management.editIndexPattern.tabs.sourceHeader",{defaultMessage:"Source filters"}),index:"sourceFilters",count:fieldCount.sourceFilters});return editSections}}},function(module,exports){module.exports='<kbn-management-app section="kibana" omit-breadcrumb-pages="[\'indices\']">\n  <kbn-management-indices>\n    <div\n      ng-controller="managementIndicesEdit"\n      data-test-subj="editIndexPattern"\n      role="region"\n      aria-label="{{::\'kbn.management.editIndexPattern.detailsAria\' | i18n: { defaultMessage: \'Index pattern details\' } }}"\n    >\n      \x3c!-- Header --\x3e\n      <kbn-management-index-header\n        index-pattern="indexPattern"\n        set-default="setDefaultPattern()"\n        refresh-fields="refreshFields()"\n        delete="removePattern()"\n      ></kbn-management-index-header>\n\n      <p class="kuiText kuiVerticalRhythm" ng-if="::(indexPattern.timeFieldName || (indexPattern.tags && indexPattern.tags.length))">\n        <span ng-if="::indexPattern.timeFieldName">\n          <span class="label label-success">\n            <span class="kuiIcon fa-clock-o"></span>\n            <span i18n-id="kbn.management.editIndexPattern.timeFilterHeader"\n                  i18n-default-message="Time Filter field name: {timeFieldName}"\n                  i18n-values="{ timeFieldName: indexPattern.timeFieldName }"></span>\n          </span>\n          &nbsp;\n        </span>\n        <span ng-repeat="tag in indexPattern.tags">\n          <span class="label label-info">{{tag.name}}</span>\n        </span>\n      </p>\n\n\n      <p class="kuiText kuiVerticalRhythm">\n        <span i18n-id="kbn.management.editIndexPattern.timeFilterLabel.timeFilterDetail"\n          i18n-default-message="This page lists every field in the {indexPatternTitle} index and the field\'s associated core type as recorded by Elasticsearch. To change a field type, use the Elasticsearch"\n          i18n-values="{ html_indexPatternTitle: \'<strong>\' + indexPattern.title + \'</strong>\' }"></span>\n        <a target="_window" class="euiLink euiLink--primary" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/mapping.html">\n          <span i18n-id="kbn.management.editIndexPattern.timeFilterLabel.mappingAPILink"\n                i18n-default-message="Mapping API"></span>\n          <i aria-hidden="true" class="fa-link fa"></i>\n        </a>\n      </p>\n\n      \x3c!-- Alerts --\x3e\n      <div\n        ng-if="indexPattern.isUnsupportedTimePattern()"\n        class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm"\n      >\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span class="kuiInfoPanelHeader__title"\n                i18n-id="kbn.management.editIndexPattern.unsupportedTimePatternHeader"\n                i18n-default-message="Support for repeating index patterns removed">\n          </span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            <span i18n-id="kbn.management.editIndexPattern.unsupportedTimePatternLabel"\n                  i18n-default-message="Support for time-interval based index patterns has been removed! In the next major version of Kibana this index patterns will stop working. Migrate saved objects that use this index pattern to a wildcard pattern and delete this one."></span>\n          </div>\n        </div>\n      </div>\n\n      <div\n        ng-if="conflictFields.length"\n        class="kuiInfoPanel kuiInfoPanel--warning kuiVerticalRhythm"\n      >\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--warning fa-bolt"></span>\n          <span class="kuiInfoPanelHeader__title"\n                i18n-id="kbn.management.editIndexPattern.mappingConflictHeader"\n                i18n-default-message="Mapping conflict"></span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            <span i18n-id="kbn.management.editIndexPattern.mappingConflictLabel"\n                  i18n-default-message="{conflictFieldsLength, plural, one {A field is} other {# fields are}} defined as several types (string, integer, etc) across the indices that match this pattern. You may still be able to use these conflict fields in parts of Kibana, but they will be unavailable for functions that require Kibana to know their type. Correcting this issue will require reindexing your data."\n                  i18n-values="{ conflictFieldsLength: conflictFields.length }"></span>\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- Tabs --\x3e\n      <div class="kuiTabs kuiVerticalRhythm">\n        <button\n          class="kuiTab"\n          ng-repeat="editSection in editSections"\n          ng-class="{ \'kuiTab-isSelected\': state.tab === editSection.index }"\n          ng-click="changeTab(editSection)"\n          data-test-subj="tab-{{ editSection.index }}"\n        >\n          {{ editSection.title }}\n          <span\n            data-test-subj="tab-count-{{ editSection.index }}"\n            aria-label="{{:: editSection.count + \' \' + editSection.title}}"\n          >\n            ({{ editSection.count }})\n          </span>\n        </button>\n      </div>\n\n      \x3c!-- Field Filters --\x3e\n      <form role="form" class="kuiFieldGroup kuiVerticalRhythm">\n        <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n          <div class="kuiSearchInput">\n            <div class="kuiSearchInput__icon kuiIcon fa-search"></div>\n            <input\n              class="kuiSearchInput__input"\n              type="text"\n              aria-label="{{::\'kbn.management.editIndexPattern.fields.filterAria\' | i18n: {defaultMessage: \'Filter\'} }}"\n              ng-model="fieldFilter"\n              placeholder="{{::\'kbn.management.editIndexPattern.fields.filterPlaceholder\' | i18n: {defaultMessage: \'Filter\'} }}"\n              data-test-subj="indexPatternFieldFilter"\n            >\n          </div>\n        </div>\n\n        <div\n          class="kuiFieldGroupSection"\n          ng-if="state.tab == \'indexedFields\' && indexedFieldTypes.length > 0"\n        >\n          <select\n            data-test-subj="indexedFieldTypeFilterDropdown"\n            class="kuiSelect"\n            ng-model="indexedFieldTypeFilter"\n            ng-change="changeFilter(\'indexedFieldTypeFilter\', indexedFieldTypeFilter)"\n            ng-options="o for o in indexedFieldTypes"\n          >\n            <option value=""\n                    i18n-id="kbn.management.editIndexPattern.fields.allTypesDropDown"\n                    i18n-default-message="All field types"></option>\n          </select>\n        </div>\n\n        <div\n          class="kuiFieldGroupSection"\n          ng-if="state.tab == \'scriptedFields\' && scriptedFieldLanguages.length > 0"\n        >\n          <select\n            data-test-subj="scriptedFieldLanguageFilterDropdown"\n            class="kuiSelect"\n            ng-model="scriptedFieldLanguageFilter"\n            ng-change="changeFilter(\'scriptedFieldLanguageFilter\', scriptedFieldLanguageFilter)"\n            ng-options="o for o in scriptedFieldLanguages"\n          >\n            <option value=""\n                    i18n-id="kbn.management.editIndexPattern.fields.allLangsDropDown"\n                    i18n-default-message="All languages"></option>\n          </select>\n        </div>\n      </form>\n\n      \x3c!-- Tab content --\x3e\n      <div class="kuiVerticalRhythm">\n        <div id="reactIndexedFieldsTable"></div>\n\n        <div id="reactScriptedFieldsTable"></div>\n\n        <div id="reactSourceFiltersTable"></div>\n      </div>\n    </div>\n  </kbn-management-indices>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _source_filters_table=__webpack_require__(4929);Object.defineProperty(exports,"SourceFiltersTable",{enumerable:true,get:function get(){return _source_filters_table.SourceFiltersTable}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceFiltersTable=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _reselect=__webpack_require__(27);var _eui=__webpack_require__(2);var _table=__webpack_require__(4930);var _header=__webpack_require__(4932);var _add_filter=__webpack_require__(4934);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SourceFiltersTable=exports.SourceFiltersTable=function(_Component){_inherits(SourceFiltersTable,_Component);function SourceFiltersTable(props){_classCallCheck(this,SourceFiltersTable);var _this=_possibleConstructorReturn(this,(SourceFiltersTable.__proto__||Object.getPrototypeOf(SourceFiltersTable)).call(this,props));_initialiseProps.call(_this);_this.clientSideId=0;_this.state={filterToDelete:undefined,isDeleteConfirmationModalVisible:false,isSaving:false,filters:[]};return _this}_createClass(SourceFiltersTable,[{key:"componentWillMount",value:function componentWillMount(){this.updateFilters()}},{key:"renderDeleteConfirmationModal",value:function renderDeleteConfirmationModal(){var filterToDelete=this.state.filterToDelete;if(!filterToDelete){return null}return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.source.deleteSourceFilterLabel",defaultMessage:"Delete source filter '{value}'?",values:{value:filterToDelete.value}}),onCancel:this.hideDeleteConfirmationModal,onConfirm:this.deleteFilter,cancelButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.source.deleteFilter.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.source.deleteFilter.deleteButtonLabel",defaultMessage:"Delete"}),defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON}))}},{key:"render",value:function render(){var _props=this.props,indexPattern=_props.indexPattern,fieldWildcardMatcher=_props.fieldWildcardMatcher;var isSaving=this.state.isSaving;var filteredFilters=this.getFilteredFilters(this.state,this.props);return _react2.default.createElement("div",null,_react2.default.createElement(_header.Header,null),_react2.default.createElement(_add_filter.AddFilter,{onAddFilter:this.onAddFilter}),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_table.Table,{isSaving:isSaving,indexPattern:indexPattern,items:filteredFilters,fieldWildcardMatcher:fieldWildcardMatcher,deleteFilter:this.startDeleteFilter,saveFilter:this.saveFilter}),this.renderDeleteConfirmationModal())}}]);return SourceFiltersTable}(_react.Component);SourceFiltersTable.propTypes={indexPattern:_propTypes2.default.object.isRequired,filterFilter:_propTypes2.default.string,fieldWildcardMatcher:_propTypes2.default.func.isRequired,onAddOrRemoveFilter:_propTypes2.default.func};var _initialiseProps=function _initialiseProps(){var _this2=this;this.updateFilters=function(){var sourceFilters=_this2.props.indexPattern.sourceFilters||[];var filters=sourceFilters.map(function(filter){return _extends({},filter,{clientId:++_this2.clientSideId})});_this2.setState({filters:filters})};this.getFilteredFilters=(0,_reselect.createSelector)(function(state){return state.filters},function(state,props){return props.filterFilter},function(filters,filterFilter){if(filterFilter){var filterFilterToLowercase=filterFilter.toLowerCase();return filters.filter(function(filter){return filter.value.toLowerCase().includes(filterFilterToLowercase)})}return filters});this.startDeleteFilter=function(filter){_this2.setState({filterToDelete:filter,isDeleteConfirmationModalVisible:true})};this.hideDeleteConfirmationModal=function(){_this2.setState({filterToDelete:undefined,isDeleteConfirmationModalVisible:false})};this.deleteFilter=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _props2,indexPattern,onAddOrRemoveFilter,_state,filterToDelete,filters;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_props2=_this2.props,indexPattern=_props2.indexPattern,onAddOrRemoveFilter=_props2.onAddOrRemoveFilter;_state=_this2.state,filterToDelete=_state.filterToDelete,filters=_state.filters;indexPattern.sourceFilters=filters.filter(function(filter){return filter.clientId!==filterToDelete.clientId});_this2.setState({isSaving:true});_context.next=6;return indexPattern.save();case 6:onAddOrRemoveFilter&&onAddOrRemoveFilter();_this2.updateFilters();_this2.setState({isSaving:false});_this2.hideDeleteConfirmationModal();case 10:case"end":return _context.stop()}}},_callee,_this2)}));this.onAddFilter=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(value){var _props3,indexPattern,onAddOrRemoveFilter;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_props3=_this2.props,indexPattern=_props3.indexPattern,onAddOrRemoveFilter=_props3.onAddOrRemoveFilter;indexPattern.sourceFilters=[].concat(_toConsumableArray(indexPattern.sourceFilters||[]),[{value:value}]);_this2.setState({isSaving:true});_context2.next=5;return indexPattern.save();case 5:onAddOrRemoveFilter&&onAddOrRemoveFilter();_this2.updateFilters();_this2.setState({isSaving:false});case 8:case"end":return _context2.stop()}}},_callee2,_this2)}));return function(_x){return _ref2.apply(this,arguments)}}();this.saveFilter=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(_ref3){var filterId=_ref3.filterId,newFilterValue=_ref3.newFilterValue;var indexPattern,filters;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:indexPattern=_this2.props.indexPattern;filters=_this2.state.filters;indexPattern.sourceFilters=filters.map(function(filter){if(filter.clientId===filterId){return{value:newFilterValue,clientId:filter.clientId}}return filter});_this2.setState({isSaving:true});_context3.next=6;return indexPattern.save();case 6:_this2.updateFilters();_this2.setState({isSaving:false});case 8:case"end":return _context3.stop()}}},_callee3,_this2)}));return function(_x2){return _ref4.apply(this,arguments)}}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(4931);Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=exports.TableComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TableComponent=exports.TableComponent=function(_Component){_inherits(TableComponent,_Component);function TableComponent(props){_classCallCheck(this,TableComponent);var _this=_possibleConstructorReturn(this,(TableComponent.__proto__||Object.getPrototypeOf(TableComponent)).call(this,props));_this.startEditingFilter=function(id,value){return _this.setState({editingFilterId:id,editingFilterValue:value})};_this.stopEditingFilter=function(){return _this.setState({editingFilterId:null})};_this.onEditingFilterChange=function(e){return _this.setState({editingFilterValue:e.target.value})};_this.onEditFieldKeyDown=function(_ref){var keyCode=_ref.keyCode;if(_eui.keyCodes.ENTER===keyCode){_this.props.saveFilter({filterId:_this.state.editingFilterId,newFilterValue:_this.state.editingFilterValue});_this.stopEditingFilter()}if(_eui.keyCodes.ESCAPE===keyCode){_this.stopEditingFilter()}};_this.state={editingFilterId:null,editingFilterValue:null};return _this}_createClass(TableComponent,[{key:"getColumns",value:function getColumns(){var _this2=this;var _props=this.props,deleteFilter=_props.deleteFilter,fieldWildcardMatcher=_props.fieldWildcardMatcher,indexPattern=_props.indexPattern,saveFilter=_props.saveFilter,intl=_props.intl;return[{field:"value",name:intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.filterHeader",defaultMessage:"Filter"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.filterDescription",defaultMessage:"Filter name"}),dataType:"string",sortable:true,render:function render(value,filter){if(_this2.state.editingFilterId===filter.clientId){return _react2.default.createElement(_eui.EuiFieldText,{autoFocus:true,value:_this2.state.editingFilterValue,onChange:_this2.onEditingFilterChange,onKeyDown:_this2.onEditFieldKeyDown})}return _react2.default.createElement("span",null,value)}},{field:"value",name:intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.matchesHeader",defaultMessage:"Matches"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.matchesDescription",defaultMessage:"Language used for the field"}),dataType:"string",sortable:true,render:function render(value,filter){var realtimeValue=_this2.state.editingFilterId===filter.clientId?_this2.state.editingFilterValue:value;var matcher=fieldWildcardMatcher([realtimeValue]);var matches=indexPattern.getNonScriptedFields().map(function(f){return f.name}).filter(matcher).sort();if(matches.length){return _react2.default.createElement("span",null,matches.join(", "))}return _react2.default.createElement("em",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.source.table.notMatchedLabel",defaultMessage:"The source filter doesn't match any known fields."}))}},{name:"",align:_eui.RIGHT_ALIGNMENT,width:"100",render:function render(filter){if(_this2.state.editingFilterId===filter.clientId){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",onClick:function onClick(){saveFilter({filterId:_this2.state.editingFilterId,newFilterValue:_this2.state.editingFilterValue});_this2.stopEditingFilter()},iconType:"checkInCircleFilled","aria-label":intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.saveAria",defaultMessage:"Save"})}),_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",onClick:function onClick(){_this2.stopEditingFilter()},iconType:"cross","aria-label":intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.cancelAria",defaultMessage:"Cancel"})}))}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",color:"danger",onClick:function onClick(){return deleteFilter(filter)},iconType:"trash","aria-label":intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.deleteAria",defaultMessage:"Delete"})}),_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",onClick:function onClick(){return _this2.startEditingFilter(filter.clientId,filter.value)},iconType:"pencil","aria-label":intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.editAria",defaultMessage:"Edit"})}))}}]}},{key:"render",value:function render(){var _props2=this.props,items=_props2.items,isSaving=_props2.isSaving;var columns=this.getColumns();var pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]};return _react2.default.createElement(_eui.EuiInMemoryTable,{loading:isSaving,items:items,columns:columns,pagination:pagination,sorting:true})}}]);return TableComponent}(_react.Component);TableComponent.propTypes={indexPattern:_propTypes2.default.object.isRequired,items:_propTypes2.default.array.isRequired,deleteFilter:_propTypes2.default.func.isRequired,fieldWildcardMatcher:_propTypes2.default.func.isRequired,saveFilter:_propTypes2.default.func.isRequired,isSaving:_propTypes2.default.bool.isRequired};var Table=exports.Table=(0,_react3.injectI18n)(TableComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(4933);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Header=exports.Header=function Header(){return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.sourceHeader",defaultMessage:"Source filters"}))),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.sourceLabel",defaultMessage:"Source filters can be used to exclude one or more fields when fetching the document source. This happens when viewing a document in the Discover app, or with a table displaying results from a saved search in the Dashboard app. Each row is built using the source of a single document, and if you have documents with large or unimportant fields you may benefit from filtering those out at this lower level."})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.source.noteLabel",defaultMessage:"Note that multi-fields will incorrectly appear as matches in the table below. These filters only actually apply to fields in the original source document, so matching multi-fields are not actually being filtered."}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _add_filter=__webpack_require__(4935);Object.defineProperty(exports,"AddFilter",{enumerable:true,get:function get(){return _add_filter.AddFilter}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddFilter=exports.AddFilterComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AddFilterComponent=exports.AddFilterComponent=function(_Component){_inherits(AddFilterComponent,_Component);function AddFilterComponent(props){_classCallCheck(this,AddFilterComponent);var _this=_possibleConstructorReturn(this,(AddFilterComponent.__proto__||Object.getPrototypeOf(AddFilterComponent)).call(this,props));_this.onAddFilter=function(){_this.props.onAddFilter(_this.state.filter);_this.setState({filter:""})};_this.state={filter:""};return _this}_createClass(AddFilterComponent,[{key:"render",value:function render(){var _this2=this;var filter=this.state.filter;var intl=this.props.intl;var placeholder=intl.formatMessage({id:"kbn.management.editIndexPattern.sourcePlaceholder",defaultMessage:"source filter, accepts wildcards (e.g., `user*` to filter fields starting with 'user')"});return _react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:10},_react2.default.createElement(_eui.EuiFieldText,{fullWidth:true,value:filter,onChange:function onChange(e){return _this2.setState({filter:e.target.value.trim()})},placeholder:placeholder})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiButton,{isDisabled:filter.length===0,onClick:this.onAddFilter},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.source.addButtonLabel",defaultMessage:"Add"}))))}}]);return AddFilterComponent}(_react.Component);AddFilterComponent.propTypes={onAddFilter:_propTypes2.default.func.isRequired};var AddFilter=exports.AddFilter=(0,_react3.injectI18n)(AddFilterComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _indexed_fields_table=__webpack_require__(4937);Object.defineProperty(exports,"IndexedFieldsTable",{enumerable:true,get:function get(){return _indexed_fields_table.IndexedFieldsTable}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexedFieldsTable=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _reselect=__webpack_require__(27);var _table=__webpack_require__(4938);var _lib=__webpack_require__(4940);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IndexedFieldsTable=exports.IndexedFieldsTable=function(_Component){_inherits(IndexedFieldsTable,_Component);function IndexedFieldsTable(props){_classCallCheck(this,IndexedFieldsTable);var _this=_possibleConstructorReturn(this,(IndexedFieldsTable.__proto__||Object.getPrototypeOf(IndexedFieldsTable)).call(this,props));_initialiseProps.call(_this);_this.state={fields:_this.mapFields(_this.props.fields)};return _this}_createClass(IndexedFieldsTable,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(nextProps.fields!==this.props.fields){this.setState({fields:this.mapFields(nextProps.fields)})}}},{key:"mapFields",value:function mapFields(fields){var _props=this.props,indexPattern=_props.indexPattern,fieldWildcardMatcher=_props.fieldWildcardMatcher,helpers=_props.helpers;var sourceFilters=indexPattern.sourceFilters&&indexPattern.sourceFilters.map(function(f){return f.value});var fieldWildcardMatch=fieldWildcardMatcher(sourceFilters||[]);return fields&&fields.map(function(field){return _extends({},field,{displayName:field.displayName,routes:field.routes,indexPattern:field.indexPattern,format:(0,_lib.getFieldFormat)(indexPattern,field.name),excluded:fieldWildcardMatch?fieldWildcardMatch(field.name):false,info:helpers.getFieldInfo&&helpers.getFieldInfo(indexPattern,field.name)})})||[]}},{key:"render",value:function render(){var _this2=this;var indexPattern=this.props.indexPattern;var fields=this.getFilteredFields(this.state,this.props);return _react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement("div",null,_react2.default.createElement(_table.Table,{indexPattern:indexPattern,items:fields,editField:function editField(field){return _this2.props.helpers.redirectToRoute(field,"edit")}})))}}]);return IndexedFieldsTable}(_react.Component);IndexedFieldsTable.propTypes={fields:_propTypes2.default.array.isRequired,indexPattern:_propTypes2.default.object.isRequired,fieldFilter:_propTypes2.default.string,indexedFieldTypeFilter:_propTypes2.default.string,helpers:_propTypes2.default.shape({redirectToRoute:_propTypes2.default.func.isRequired,getFieldInfo:_propTypes2.default.func}),fieldWildcardMatcher:_propTypes2.default.func.isRequired};var _initialiseProps=function _initialiseProps(){this.getFilteredFields=(0,_reselect.createSelector)(function(state){return state.fields},function(state,props){return props.fieldFilter},function(state,props){return props.indexedFieldTypeFilter},function(fields,fieldFilter,indexedFieldTypeFilter){if(fieldFilter){var normalizedFieldFilter=fieldFilter.toLowerCase();fields=fields.filter(function(field){return field.name.toLowerCase().includes(normalizedFieldFilter)})}if(indexedFieldTypeFilter){fields=fields.filter(function(field){return field.type===indexedFieldTypeFilter})}return fields})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(4939);Object.keys(_table).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _table[key]}})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=exports.TableComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TableComponent=exports.TableComponent=function(_PureComponent){_inherits(TableComponent,_PureComponent);function TableComponent(){_classCallCheck(this,TableComponent);return _possibleConstructorReturn(this,(TableComponent.__proto__||Object.getPrototypeOf(TableComponent)).apply(this,arguments))}_createClass(TableComponent,[{key:"renderBooleanTemplate",value:function renderBooleanTemplate(value,label){return value?_react2.default.createElement(_eui.EuiIcon,{type:"dot",color:"secondary","aria-label":label}):_react2.default.createElement("span",null)}},{key:"renderFieldName",value:function renderFieldName(name,field){var indexPattern=this.props.indexPattern;var intl=this.props.intl;var infoLabel=intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.additionalInfoAriaLabel",defaultMessage:"Additional field information"});var timeLabel=intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.primaryTimeAriaLabel",defaultMessage:"Primary time field"});var timeContent=intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.primaryTimeTooltip",defaultMessage:"This field represents the time that events occurred."});return _react2.default.createElement("span",null,name,field.info&&field.info.length?_react2.default.createElement("span",null," ",_react2.default.createElement(_eui.EuiIconTip,{type:"questionInCircle",color:"primary","aria-label":infoLabel,content:field.info.map(function(info,i){return _react2.default.createElement("div",{key:i},info)})})):null,indexPattern.timeFieldName===name?_react2.default.createElement("span",null," ",_react2.default.createElement(_eui.EuiIconTip,{type:"clock",color:"primary","aria-label":timeLabel,content:timeContent})):null)}},{key:"renderFieldType",value:function renderFieldType(type,isConflict){var intl=this.props.intl;var label=intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.multiTypeAria",defaultMessage:"Multiple type field"});var content=intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.multiTypeTooltip",defaultMessage:"The type of this field changes across indices. It is unavailable for many analysis functions."});return _react2.default.createElement("span",null,type,isConflict?_react2.default.createElement("span",null," ",_react2.default.createElement(_eui.EuiIconTip,{type:"alert",color:"warning","aria-label":label,content:content})):"")}},{key:"render",value:function render(){var _this2=this;var _props=this.props,items=_props.items,editField=_props.editField,intl=_props.intl;var pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]};var columns=[{field:"displayName",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.nameHeader",defaultMessage:"Name"}),dataType:"string",sortable:true,render:function render(value,field){return _this2.renderFieldName(value,field)},width:"38%","data-test-subj":"indexedFieldName"},{field:"type",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.typeHeader",defaultMessage:"Type"}),dataType:"string",sortable:true,render:function render(value){return _this2.renderFieldType(value,value==="conflict")},"data-test-subj":"indexedFieldType"},{field:"format",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.formatHeader",defaultMessage:"Format"}),dataType:"string",sortable:true},{field:"searchable",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.searchableHeader",defaultMessage:"Searchable"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.searchableDescription",defaultMessage:"These fields can be used in the filter bar"}),dataType:"boolean",sortable:true,render:function render(value){return _this2.renderBooleanTemplate(value,intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.isSearchableAria",defaultMessage:"Is searchable"}))}},{field:"aggregatable",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.aggregatableLabel",defaultMessage:"Aggregatable"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.aggregatableDescription",defaultMessage:"These fields can be used in visualization aggregations"}),dataType:"boolean",sortable:true,render:function render(value){return _this2.renderBooleanTemplate(value,intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.isAggregatableAria",defaultMessage:"Is aggregatable"}))}},{field:"excluded",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.excludedLabel",defaultMessage:"Excluded"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.excludedDescription",defaultMessage:"Fields that are excluded from _source when it is fetched"}),dataType:"boolean",sortable:true,render:function render(value){return _this2.renderBooleanTemplate(value,intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.isExcludedAria",defaultMessage:"Is excluded"}))}},{name:"",actions:[{name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.editLabel",defaultMessage:"Edit"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.editDescription",defaultMessage:"Edit"}),icon:"pencil",onClick:editField,type:"icon"}],width:"40px"}];return _react2.default.createElement(_eui.EuiInMemoryTable,{items:items,columns:columns,pagination:pagination,sorting:true})}}]);return TableComponent}(_react.PureComponent);TableComponent.propTypes={indexPattern:_propTypes2.default.object.isRequired,items:_propTypes2.default.array.isRequired,editField:_propTypes2.default.func.isRequired};var Table=exports.Table=(0,_react3.injectI18n)(TableComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_field_format=__webpack_require__(4941);Object.defineProperty(exports,"getFieldFormat",{enumerable:true,get:function get(){return _get_field_format.getFieldFormat}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getFieldFormat=getFieldFormat;var _lodash=__webpack_require__(1);function getFieldFormat(indexPattern,fieldName){return indexPattern&&fieldName?(0,_lodash.get)(indexPattern,["fieldFormatMap",fieldName,"type","title"]):""}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _scripted_fields_table=__webpack_require__(4943);Object.defineProperty(exports,"ScriptedFieldsTable",{enumerable:true,get:function get(){return _scripted_fields_table.ScriptedFieldsTable}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptedFieldsTable=exports.ScriptedFieldsTableComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _scripting_languages=__webpack_require__(1364);var _documentation_links=__webpack_require__(65);var _eui=__webpack_require__(2);var _components=__webpack_require__(4944);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ScriptedFieldsTableComponent=exports.ScriptedFieldsTableComponent=function(_Component){_inherits(ScriptedFieldsTableComponent,_Component);function ScriptedFieldsTableComponent(props){var _this2=this;_classCallCheck(this,ScriptedFieldsTableComponent);var _this=_possibleConstructorReturn(this,(ScriptedFieldsTableComponent.__proto__||Object.getPrototypeOf(ScriptedFieldsTableComponent)).call(this,props));_this.fetchFields=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var fields,deprecatedLangsInUse,deprecatedLangs,supportedLangs,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,_ref2,lang;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.indexPattern.getScriptedFields();case 2:fields=_context.sent;deprecatedLangsInUse=[];deprecatedLangs=(0,_scripting_languages.getDeprecatedScriptingLanguages)();supportedLangs=(0,_scripting_languages.getSupportedScriptingLanguages)();_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context.prev=9;for(_iterator=fields[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){_ref2=_step.value;lang=_ref2.lang;if(deprecatedLangs.includes(lang)||!supportedLangs.includes(lang)){deprecatedLangsInUse.push(lang)}}_context.next=17;break;case 13:_context.prev=13;_context.t0=_context["catch"](9);_didIteratorError=true;_iteratorError=_context.t0;case 17:_context.prev=17;_context.prev=18;if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}case 20:_context.prev=20;if(!_didIteratorError){_context.next=23;break}throw _iteratorError;case 23:return _context.finish(20);case 24:return _context.finish(17);case 25:_this.setState({fields:fields,deprecatedLangsInUse:deprecatedLangsInUse});case 26:case"end":return _context.stop()}}},_callee,_this2,[[9,13,17,25],[18,,20,24]])}));_this.getFilteredItems=function(){var fields=_this.state.fields;var _this$props=_this.props,fieldFilter=_this$props.fieldFilter,scriptedFieldLanguageFilter=_this$props.scriptedFieldLanguageFilter;var languageFilteredFields=fields;if(scriptedFieldLanguageFilter){languageFilteredFields=fields.filter(function(field){return field.lang===_this.props.scriptedFieldLanguageFilter})}var filteredFields=languageFilteredFields;if(fieldFilter){var normalizedFieldFilter=_this.props.fieldFilter.toLowerCase();filteredFields=languageFilteredFields.filter(function(field){return field.name.toLowerCase().includes(normalizedFieldFilter)})}return filteredFields};_this.startDeleteField=function(field){_this.setState({fieldToDelete:field,isDeleteConfirmationModalVisible:true})};_this.hideDeleteConfirmationModal=function(){_this.setState({fieldToDelete:undefined,isDeleteConfirmationModalVisible:false})};_this.deleteField=function(){var _this$props2=_this.props,indexPattern=_this$props2.indexPattern,onRemoveField=_this$props2.onRemoveField;var fieldToDelete=_this.state.fieldToDelete;indexPattern.removeScriptedField(fieldToDelete.name);onRemoveField&&onRemoveField();_this.fetchFields();_this.hideDeleteConfirmationModal()};_this.state={deprecatedLangsInUse:[],fieldToDelete:undefined,isDeleteConfirmationModalVisible:false,fields:[]};return _this}_createClass(ScriptedFieldsTableComponent,[{key:"componentWillMount",value:function componentWillMount(){this.fetchFields()}},{key:"renderCallOuts",value:function renderCallOuts(){var deprecatedLangsInUse=this.state.deprecatedLangsInUse;return _react2.default.createElement(_components.CallOuts,{deprecatedLangsInUse:deprecatedLangsInUse,painlessDocLink:_documentation_links.documentationLinks.scriptedFields.painless})}},{key:"renderDeleteConfirmationModal",value:function renderDeleteConfirmationModal(){var fieldToDelete=this.state.fieldToDelete;if(!fieldToDelete){return null}var intl=this.props.intl;var title=intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.deleteFieldLabel",defaultMessage:"Delete scripted field '{fieldName}'?"},{fieldName:fieldToDelete.name});var cancelButtonText=intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.deleteField.cancelButton",defaultMessage:"Cancel"});var confirmButtonText=intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.deleteField.deleteButton",defaultMessage:"Delete"});return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:title,onCancel:this.hideDeleteConfirmationModal,onConfirm:this.deleteField,cancelButtonText:cancelButtonText,confirmButtonText:confirmButtonText,defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON}))}},{key:"render",value:function render(){var _this3=this;var _props=this.props,helpers=_props.helpers,indexPattern=_props.indexPattern;var items=this.getFilteredItems();return _react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement("div",null,_react2.default.createElement(_components.Header,{addScriptedFieldUrl:helpers.getRouteHref(indexPattern,"addField")}),this.renderCallOuts(),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_components.Table,{indexPattern:indexPattern,items:items,editField:function editField(field){return _this3.props.helpers.redirectToRoute(field,"edit")},deleteField:this.startDeleteField}),this.renderDeleteConfirmationModal()))}}]);return ScriptedFieldsTableComponent}(_react.Component);ScriptedFieldsTableComponent.propTypes={indexPattern:_propTypes2.default.object.isRequired,fieldFilter:_propTypes2.default.string,scriptedFieldLanguageFilter:_propTypes2.default.string,helpers:_propTypes2.default.shape({redirectToRoute:_propTypes2.default.func.isRequired,getRouteHref:_propTypes2.default.func.isRequired}),onRemoveField:_propTypes2.default.func};var ScriptedFieldsTable=exports.ScriptedFieldsTable=(0,_react3.injectI18n)(ScriptedFieldsTableComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(4945);Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}});var _header=__webpack_require__(4947);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}});var _call_outs=__webpack_require__(4949);Object.defineProperty(exports,"CallOuts",{enumerable:true,get:function get(){return _call_outs.CallOuts}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(4946);Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=exports.TableComponent=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TableComponent=exports.TableComponent=function(_PureComponent){_inherits(TableComponent,_PureComponent);function TableComponent(){var _ref;var _temp,_this,_ret;_classCallCheck(this,TableComponent);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=TableComponent.__proto__||Object.getPrototypeOf(TableComponent)).call.apply(_ref,[this].concat(args))),_this),_this.renderFormatCell=function(value){var indexPattern=_this.props.indexPattern;var title=indexPattern.fieldFormatMap[value]&&indexPattern.fieldFormatMap[value].type?indexPattern.fieldFormatMap[value].type.title:"";return _react2.default.createElement("span",null,title)},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(TableComponent,[{key:"render",value:function render(){var _props=this.props,items=_props.items,editField=_props.editField,deleteField=_props.deleteField,intl=_props.intl;var columns=[{field:"displayName",name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.nameHeader",defaultMessage:"Name"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.nameDescription",defaultMessage:"Name of the field"}),dataType:"string",sortable:true,width:"38%"},{field:"lang",name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.langHeader",defaultMessage:"Lang"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.langDescription",defaultMessage:"Language used for the field"}),dataType:"string",sortable:true,"data-test-subj":"scriptedFieldLang"},{field:"script",name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.scriptHeader",defaultMessage:"Script"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.scriptDescription",defaultMessage:"Script for the field"}),dataType:"string",sortable:true},{field:"name",name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.formatHeader",defaultMessage:"Format"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.formatDescription",defaultMessage:"Format used for the field"}),render:this.renderFormatCell,sortable:false},{name:"",actions:[{name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.editHeader",defaultMessage:"Edit"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.editDescription",defaultMessage:"Edit this field"}),icon:"pencil",onClick:editField},{name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.deleteHeader",defaultMessage:"Delete"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.deleteDescription",defaultMessage:"Delete this field"}),icon:"trash",color:"danger",onClick:deleteField}],width:"40px"}];var pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]};return _react2.default.createElement(_eui.EuiInMemoryTable,{items:items,columns:columns,pagination:pagination,sorting:true})}}]);return TableComponent}(_react.PureComponent);TableComponent.propTypes={indexPattern:_propTypes2.default.object.isRequired,items:_propTypes2.default.array.isRequired,editField:_propTypes2.default.func.isRequired,deleteField:_propTypes2.default.func.isRequired};var Table=exports.Table=(0,_react3.injectI18n)(TableComponent)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(4948);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Header=exports.Header=function Header(_ref){var addScriptedFieldUrl=_ref.addScriptedFieldUrl;return _react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.scriptedHeader",defaultMessage:"Scripted fields"}))),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.scriptedLabel",defaultMessage:"You can use scripted fields in visualizations and display them in your documents. However, you cannot search scripted fields."})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"addScriptedFieldLink",href:addScriptedFieldUrl},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.scripted.addFieldButton",defaultMessage:"Add scripted field"}))))};Header.propTypes={addScriptedFieldUrl:_propTypes2.default.string.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _call_outs=__webpack_require__(4950);Object.defineProperty(exports,"CallOuts",{enumerable:true,get:function get(){return _call_outs.CallOuts}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CallOuts=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CallOuts=exports.CallOuts=function CallOuts(_ref){var deprecatedLangsInUse=_ref.deprecatedLangsInUse,painlessDocLink=_ref.painlessDocLink;if(!deprecatedLangsInUse.length){return null}return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.scripted.deprecationLangHeader",defaultMessage:"Deprecation languages in use"}),color:"danger",iconType:"cross"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.scripted.deprecationLangLabel.deprecationLangDetail",defaultMessage:"The following deprecated languages are in use: {deprecatedLangsInUse}. Support for these languages will be removed in the next major version of Kibana and Elasticsearch. Convert you scripted fields to {link} to avoid any problems.",values:{deprecatedLangsInUse:deprecatedLangsInUse.join(", "),link:_react2.default.createElement(_eui.EuiLink,{href:painlessDocLink},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.editIndexPattern.scripted.deprecationLangLabel.painlessDescription",defaultMessage:"Painless"}))}}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))}},function(module,exports){module.exports='<div class="euiPage">\n  <div class="col-md-2 sidebar-container" role="region" aria-label="{{::\'kbn.management.editIndexPatternAria\' | i18n: { defaultMessage: \'Index patterns\' } }}">\n    <div class="sidebar-list">\n      <div id="indexPatternListReact" role="region" aria-label="{{\'kbn.management.editIndexPatternLiveRegionAriaLabel\' | i18n: { defaultMessage: \'Index patterns\' } }}"></div>\n    </div>\n  </div>\n\n  <div class="col-md-10">\n    <div class="euiPanel euiPanel--paddingLarge">\n      <div ng-transclude></div>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_pattern_list=__webpack_require__(4953);Object.defineProperty(exports,"IndexPatternList",{enumerable:true,get:function get(){return _index_pattern_list.IndexPatternList}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternList=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _header=__webpack_require__(4954);var _list=__webpack_require__(4958);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var IndexPatternList=exports.IndexPatternList=function IndexPatternList(_ref){var indexPatternCreationOptions=_ref.indexPatternCreationOptions,defaultIndex=_ref.defaultIndex,indexPatterns=_ref.indexPatterns;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement("div",{className:"indexPatternList__headerWrapper","data-test-subj":"createIndexPatternParent"},_react2.default.createElement(_header.Header,{indexPatternCreationOptions:indexPatternCreationOptions})),_react2.default.createElement(_list.List,{indexPatterns:indexPatterns,defaultIndex:defaultIndex}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(4955);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _create_button=__webpack_require__(4956);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Header=exports.Header=function Header(_ref){var indexPatternCreationOptions=_ref.indexPatternCreationOptions;return _react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_create_button.CreateButton,{options:indexPatternCreationOptions},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.indexPatternList.header.createIndexPatternButtonLabel",defaultMessage:"Create index pattern"})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _create_button=__webpack_require__(4957);Object.defineProperty(exports,"CreateButton",{enumerable:true,get:function get(){return _create_button.CreateButton}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CreateButton=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _eui_theme_k6_light=__webpack_require__(507);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CreateButton=exports.CreateButton=function(_Component){_inherits(CreateButton,_Component);function CreateButton(props){_classCallCheck(this,CreateButton);var _this=_possibleConstructorReturn(this,(CreateButton.__proto__||Object.getPrototypeOf(CreateButton)).call(this,props));_this.togglePopover=function(){_this.setState({isPopoverOpen:!_this.state.isPopoverOpen})};_this.closePopover=function(){_this.setState({isPopoverOpen:false})};_this.renderBetaBadge=function(){var color=(0,_eui.rgbToHex)(_eui_theme_k6_light.euiColorAccent);return _react2.default.createElement(_eui.EuiBadge,{color:color},_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.indexPatternList.createButton.betaLabel",defaultMessage:"Beta"}))};_this.state={isPopoverOpen:false};return _this}_createClass(CreateButton,[{key:"render",value:function render(){var _this2=this;var _props=this.props,options=_props.options,children=_props.children;var isPopoverOpen=this.state.isPopoverOpen;if(!options||!options.length){return null}if(options.length===1){return _react2.default.createElement(_eui.EuiButton,{"data-test-subj":"createIndexPatternButton",fill:true,size:"s",onClick:options[0].onClick},children)}var button=_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"createIndexPatternButton",fill:true,size:"s",iconType:"arrowDown",iconSide:"right",onClick:this.togglePopover},children);if(options.length>1){return _react2.default.createElement(_eui.EuiPopover,{id:"singlePanel",button:button,isOpen:isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:"downLeft"},_react2.default.createElement(_eui.EuiContextMenuPanel,{items:options.map(function(option){return _react2.default.createElement(_eui.EuiContextMenuItem,{key:option.text,onClick:option.onClick,"data-test-subj":option.testSubj},_react2.default.createElement(_eui.EuiDescriptionList,{style:{whiteSpace:"nowrap"}},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,option.text,option.isBeta?_react2.default.createElement(_react.Fragment,null," ",_this2.renderBetaBadge()):null),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,option.description)))})}))}}}]);return CreateButton}(_react.Component);CreateButton.propTypes={options:_propTypes2.default.arrayOf(_propTypes2.default.shape({text:_propTypes2.default.string.isRequired,description:_propTypes2.default.string,onClick:_propTypes2.default.func.isRequired}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _list=__webpack_require__(4959);Object.defineProperty(exports,"List",{enumerable:true,get:function get(){return _list.List}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.List=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(11);var _propTypes2=_interopRequireDefault(_propTypes);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ListUi=function(_Component){_inherits(ListUi,_Component);function ListUi(){_classCallCheck(this,ListUi);return _possibleConstructorReturn(this,(ListUi.__proto__||Object.getPrototypeOf(ListUi)).apply(this,arguments))}_createClass(ListUi,[{key:"renderList",value:function renderList(){var _props=this.props,indexPatterns=_props.indexPatterns,intl=_props.intl;if(indexPatterns&&indexPatterns.length){return _react2.default.createElement("div",null,indexPatterns.map(function(pattern){var id=pattern.id,isDefault=pattern.default,active=pattern.active,url=pattern.url,title=pattern.title,tag=pattern.tag;var icon=void 0;if(isDefault){icon=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("em",{"aria-label":intl.formatMessage({id:"kbn.management.indexPatternList.defaultIndexPatternIconAriaLabel",defaultMessage:"Default index pattern"}),className:"fa fa-star"})," ")}var titleElement=void 0;if(active){titleElement=_react2.default.createElement("strong",null,title)}else{titleElement=title}var tagElement=void 0;if(tag){var key=tag.key,color=tag.color,name=tag.name;tagElement=_react2.default.createElement(_react.Fragment,{key:key}," ",_react2.default.createElement(_eui.EuiBadge,{color:color||"primary"},name))}return _react2.default.createElement("div",{key:id},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"xs",href:url,"data-test-subj":"indexPatternLink"},icon,titleElement,tagElement),_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}))}))}return null}},{key:"renderNoDefaultMessage",value:function renderNoDefaultMessage(){var defaultIndex=this.props.defaultIndex;return!defaultIndex?_react2.default.createElement("div",{className:"indexPatternList__headerWrapper"},_react2.default.createElement(_eui.EuiCallOut,{color:"warning",size:"s",iconType:"alert",title:_react2.default.createElement(_react3.FormattedMessage,{id:"kbn.management.indexPatternList.noDefaultIndexPatternTitle",defaultMessage:"No default index pattern. You must select or create one to continue."})})):null}},{key:"render",value:function render(){return _react2.default.createElement("div",null,this.renderNoDefaultMessage(),this.renderList())}}]);return ListUi}(_react.Component);ListUi.propTypes={indexPatterns:_propTypes2.default.array,defaultIndex:_propTypes2.default.string};var List=exports.List=(0,_react3.injectI18n)(ListUi)},function(module,exports){module.exports='<div class="app-container">\n  \x3c!-- Local nav. --\x3e\n  <kbn-top-nav name="management-subnav" data-test-subj="managementNav">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <bread-crumbs\n        data-transclude-slot="topLeftCorner"\n        omit-current-page="true"\n        use-links="true"\n        omit-pages="omitPages"\n        page-title="pageTitle"\n      ></bread-crumbs>\n\n      \x3c!-- Tabs. --\x3e\n      <div data-transclude-slot="bottomRow" class="kuiLocalTabs" role="tablist" ng-show="!sectionName || section.visibleItems.length > 0">\n        <h2 class="kuiLocalTab" ng-if="!sectionName" id="tabHeader" tabindex="0" role="tab">\n          {{::section.display}}\n        </h2>\n        <a\n          role="tab"\n          ng-if="sectionName"\n          ng-repeat="item in section.visibleItems"\n          class="kuiLocalTab"\n          ng-class="{ \'kuiLocalTab-isSelected\': item.active, \'kuiLocalTab-isDisabled\': !item.active && (item.disabled || !item.url) }"\n          kbn-href="{{::item.disabled ? \'\' : item.url}}"\n          data-test-subj="{{::item.name}}"\n          tooltip="{{::item.tooltip}}"\n          tooltip-placement="bottom"\n          tooltip-popup-delay="400"\n          tooltip-append-to-body="1"\n          aria-selected="{{!!item.active}}"\n          aria-disabled="{{!!item.disabled}}"\n        >\n          {{::item.display}}\n        </a>\n      </div>\n    </div>\n  </kbn-top-nav>\n\n  <main class="management-container" ng-transclude></main>\n</div>\n'},function(module,exports){module.exports='<kbn-management-app>\n  <kbn-management-landing>\n    \x3c!-- General info --\x3e\n    <div class="page-row">\n      <div class="page-row-text">Version: {{::kbnVersion}}</div>\n    </div>\n\n    \x3c!-- Management sections for the ES stack --\x3e\n    <div\n      ng-if="section.visibleItems.length > 0"\n      ng-repeat="section in sections"\n      class="page-row"\n    >\n      <div class="kuiPanel mgtPanel" role="group">\n        <div class="kuiPanelHeader">\n          <div class="kuiPanelHeaderSection">\n            <icon type="\'{{::section.icon}}\'" size="\'l\'"></icon>\n            <h3 class="kuiPanelHeader__title">\n              {{::section.display}}\n            </h3>\n          </div>\n        </div>\n\n        <div class="kuiPanelBody mgtPanel__body">\n          <div class="row">\n            <ul class="list-unstyled">\n              <li\n                class="col-xs-4 col-md-3 mgtPanel__item"\n                ng-repeat="item in section.visibleItems"\n              >\n                <a\n                  data-test-subj="{{::item.id}}"\n                  class="euiLink euiLink--primary mgtPanel__link"\n                  ng-class="{ \'mgtPanel__link--disabled\': item.disabled || !item.url }"\n                  kbn-href="{{::item.disabled ? \'\' : item.url}}"\n                  tooltip="{{::item.tooltip}}"\n                  tooltip-placement="bottom"\n                  tooltip-popup-delay="400"\n                  tooltip-append-to-body="1"\n                >\n                  {{::item.display}}\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </kbn-management-landing>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(opts){opts=opts||{};var whenMissingRedirectTo=opts.whenMissingRedirectTo||null;_routes2.default.addSetupWork(function loadDefaultIndexPattern(Private,Promise,$route,config){var getIds=Private(_get.IndexPatternsGetProvider)("id");var route=_lodash2.default.get($route,"current.$$route");if(!route.requireDefaultIndex){return}return getIds().then(function(patterns){var defaultId=config.get("defaultIndex");var defined=!!defaultId;var exists=_lodash2.default.contains(patterns,defaultId);if(defined&&!exists){config.remove("defaultIndex");defaultId=defined=false}if(!defined){if(patterns.length===1){defaultId=patterns[0];config.set("defaultIndex",defaultId)}else{throw new _errors.NoDefaultIndexPattern}}})}).afterWork(null,function(err,kbnUrl){var hasDefault=!(err instanceof _errors.NoDefaultIndexPattern);if(hasDefault||!whenMissingRedirectTo)throw err;kbnUrl.change(whenMissingRedirectTo);displayBanner()})};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _notify=__webpack_require__(10);var _errors=__webpack_require__(45);var _get=__webpack_require__(583);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _eui=__webpack_require__(2);var _timers=__webpack_require__(5055);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var bannerId=void 0;var timeoutId=void 0;function displayBanner(){(0,_timers.clearTimeout)(timeoutId);bannerId=_notify.banners.set({id:bannerId,component:_react2.default.createElement(_eui.EuiCallOut,{color:"warning",iconType:"iInCircle",title:_i18n.i18n.translate("common.ui.indexPattern.bannerLabel",{defaultMessage:"In order to visualize and explore data in Kibana, you'll need to create an index pattern to retrieve data from Elasticsearch."})})});timeoutId=setTimeout(function(){_notify.banners.remove(bannerId);timeoutId=undefined},15e3)}module.exports=exports["default"]},,function(module,exports,__webpack_require__){"use strict";__webpack_require__(4965)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(10);__webpack_require__(195);__webpack_require__(1093);__webpack_require__(217);var _index=__webpack_require__(4966);var _index2=_interopRequireDefault(_index);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(4);var _timefilter=__webpack_require__(16);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("apps/doc",["kibana/notify","kibana/courier","kibana/index_patterns"]);var resolveIndexPattern={indexPattern:function indexPattern(indexPatterns,savedSearches,$route){return indexPatterns.get($route.current.params.indexPattern)}};_routes2.default.when("/doc/:indexPattern/:index/:type/:id",{template:_index2.default,resolve:resolveIndexPattern}).when("/doc/:indexPattern/:index/:type",{template:_index2.default,resolve:resolveIndexPattern});app.controller("doc",function($scope,$route,es){_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();$scope.indexPattern=$route.current.locals.indexPattern;var computedFields=$scope.indexPattern.getComputedFields();es.search({index:$route.current.params.index,body:{query:{ids:{type:$route.current.params.type,values:[$route.current.params.id]}},stored_fields:computedFields.storedFields,_source:true,script_fields:computedFields.scriptFields,docvalue_fields:computedFields.docvalueFields}}).then(function(resp){if(resp.hits){if(resp.hits.total<1){$scope.status="notFound"}else{$scope.status="found";$scope.hit=resp.hits.hits[0]}}}).catch(function(err){if(err.status===404){$scope.status="notFound"}else{$scope.status="error";$scope.resp=err}})})},function(module,exports){module.exports='<div ng-controller="doc" class="app-container">\n  <div class="kuiLocalNav">\n    <div class="kuiLocalNavRow">\n      <div class="kuiLocalNavRow__section">\n        <div\n          class="kuiLocalTitle"\n          i18n-id="kbn.doc.singleDocumentTitle"\n          i18n-default-message="Single Document"\n        ></div>\n      </div>\n    </div>\n    <div class="kuiLocalNavRow kuiLocalNavRow--secondary">\n      <div class="kuiLocalTabs">\n        <div\n          class="kuiLocalTab kuiLocalTab-isSelected"\n          ng-bind-template="{{ hit._type }}#{{ hit._id | uriescape }}"\n          ng-if="!!hit"\n        ></div>\n        <div\n          class="kuiLocalTab kuiLocalTab-isSelected"\n          ng-if="!hit"\n          i18n-id="kbn.doc.unknownIdTitle"\n          i18n-default-message="Unknown Id"\n        ></div>\n      </div>\n    </div>\n  </div>\n\n  <div class="kuiViewContent">\n    \x3c!-- no results --\x3e\n    <div class="kuiViewContentItem" ng-if="status === \'notFound\'">\n      <div class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span\n            class="kuiInfoPanelHeader__title"\n            i18n-id="kbn.doc.failedToLocateDocumentDescription"\n            i18n-default-message="Failed to locate document"\n          ></span>\n        </div>\n        <div class="kuiInfoPanelBody">\n          <div\n            class="kuiInfoPanelBody__message"\n            i18n-id="kbn.doc.couldNotFindDocumentsDescription"\n            i18n-default-message="Unfortunately I could not find any documents matching that id, of that type, in that index. I tried really hard. I wanted it to be there. Sometimes I swear documents grow legs and just walk out of the index. Sneaky. I wish I could offer some advice here, something to make you feel better"  \n          ></div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- error --\x3e\n    <div class="kuiViewContentItem" ng-if="status === \'error\'">\n      <div class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span\n            class="kuiInfoPanelHeader__title"\n            i18n-id="kbn.doc.failedToExecuteQueryDescription"\n            i18n-default-message="Failed to execute query"\n          ></span>\n        </div>\n        <div class="kuiInfoPanelBody">\n          <div\n            class="kuiInfoPanelBody__message"\n            i18n-id="kbn.doc.somethingWentWrongDescription"\n            i18n-default-message="Oh no. Something went very wrong. Its not just that I couldn\'t find your document, I couldn\'t even try. The index was missing, or the type. Go check out Elasticsearch, something isn\'t quite right here."  \n          ></div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- loading --\x3e\n    <div class="kuiViewContentItem" ng-if="status === undefined">\n      <div class="kuiPanel kuiPanel--centered">\n        <div\n          class="kuiTableInfo"\n          i18n-id="kbn.doc.loadingDescription"\n          i18n-default-message="Loading…"\n        ></div>\n      </div>\n    </div>\n\n    \x3c!-- result --\x3e\n    <div class="kuiViewContentItem" ng-if="status === \'found\'">\n      <doc-viewer hit="hit" index-pattern="indexPattern"></doc-viewer>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _dev_tools=__webpack_require__(326);var _feature_catalogue=__webpack_require__(39);__webpack_require__(4968);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/dev_tools",{resolve:{redirect:function redirect(Private,kbnUrl){var items=Private(_dev_tools.DevToolsRegistryProvider).inOrder;kbnUrl.redirect(items[0].url.substring(1))}}});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(i18n){return{id:"console",title:i18n("kbn.devTools.consoleTitle",{defaultMessage:"Console"}),description:i18n("kbn.devTools.consoleDescription",{defaultMessage:"Skip cURL and use this JSON interface to work with your data directly."}),icon:"consoleApp",path:"/app/kibana#/dev_tools/console",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _dev_tools=__webpack_require__(326);var _dev_tools_app=__webpack_require__(4969);var _dev_tools_app2=_interopRequireDefault(_dev_tools_app);__webpack_require__(598);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("apps/dev_tools").directive("kbnDevToolsApp",function(Private,$location){var devToolsRegistry=Private(_dev_tools.DevToolsRegistryProvider);return{restrict:"E",replace:true,template:_dev_tools_app2.default,transclude:true,scope:{topNavConfig:"="},bindToController:true,controllerAs:"kbnDevToolsApp",controller:function controller(){this.devTools=devToolsRegistry.inOrder;this.currentPath="#"+$location.path();this.onClick=function(item,$event){if(item.disabled){$event.preventDefault()}}}}})},function(module,exports){module.exports='<div class="devApp app-container">\n  <kbn-top-nav name="devtools" config="kbnDevToolsApp.topNavConfig">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <bread-crumbs\n        data-transclude-slot="topLeftCorner"\n        omit-current-page="true"\n      ></bread-crumbs>\n\n      \x3c!-- Tabs. --\x3e\n      <div data-transclude-slot="bottomRow" class="euiTabs" role="tablist">\n        <a\n          role="tab"\n          aria-selected="{{kbnDevToolsApp.currentPath === item.url}}"\n          ng-repeat="item in kbnDevToolsApp.devTools"\n          class="euiTab"\n          ng-class="{\'euiTab-isSelected\': kbnDevToolsApp.currentPath === item.url, \'euiTab-isDisabled\': item.disabled}"\n          ng-disabled="item.disabled"\n          kbn-href="{{::item.url}}"\n          ng-click="kbnDevToolsApp.onClick(item, $event)"\n          tooltip="{{ item.tooltipContent }}"\n          tooltip-placement="bottom"\n          tooltip-popup-delay="0"\n          tooltip-append-to-body="1"\n        >\n          {{::item.display}}\n        </a>\n      </div>\n    </div>\n  </kbn-top-nav>\n  <main class="devApp__container" role="tabpanel" ng-transclude></main>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _query_filter=__webpack_require__(239);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);__webpack_require__(4971);var _index=__webpack_require__(4984);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/context/:indexPatternId/:type/:id*",{controller:ContextAppRouteController,controllerAs:"contextAppRoute",resolve:{indexPattern:function indexPattern($route,indexPatterns){return indexPatterns.get($route.current.params.indexPatternId)}},template:_index2.default});function ContextAppRouteController($routeParams,$scope,AppState,chrome,config,indexPattern,Private){var _this=this;var queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);this.state=new AppState(createDefaultAppState(config,indexPattern));this.state.save(true);$scope.$watchGroup(["contextAppRoute.state.columns","contextAppRoute.state.predecessorCount","contextAppRoute.state.successorCount"],function(){return _this.state.save(true)});$scope.$listen(queryFilter,"update",function(){_this.filters=_lodash2.default.cloneDeep(queryFilter.getFilters())});this.anchorType=$routeParams.type;this.anchorId=$routeParams.id;this.indexPattern=indexPattern;this.discoverUrl=chrome.getNavLinkById("kibana:discover").lastSubUrl;this.filters=_lodash2.default.cloneDeep(queryFilter.getFilters())}function createDefaultAppState(config,indexPattern){return{columns:["_source"],filters:[],predecessorCount:parseInt(config.get("context:defaultSize"),10),sort:[indexPattern.timeFieldName,"desc"],successorCount:parseInt(config.get("context:defaultSize"),10)}}},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _compat=__webpack_require__(68);var _modules=__webpack_require__(4);var _app=__webpack_require__(4972);var _app2=_interopRequireDefault(_app);__webpack_require__(4973);__webpack_require__(4976);var _sorting=__webpack_require__(1365);var _query_parameters=__webpack_require__(1366);var _query=__webpack_require__(4979);var _timefilter=__webpack_require__(16);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var _module=_modules.uiModules.get("apps/context",["elasticsearch","kibana","kibana/config","kibana/notify","ngRoute"]);_module.directive("contextApp",function ContextApp(){return{bindToController:true,controller:(0,_compat.callAfterBindingsWorkaround)(ContextAppController),controllerAs:"contextApp",restrict:"E",scope:{anchorType:"=",anchorId:"=",columns:"=",indexPattern:"=",filters:"=",predecessorCount:"=",successorCount:"=",sort:"=",discoverUrl:"="},template:_app2.default}});function ContextAppController($scope,config,Private){var _this=this;var queryParameterActions=Private(_query_parameters.QueryParameterActionsProvider);var queryActions=Private(_query.QueryActionsProvider);_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();this.state=createInitialState(parseInt(config.get("context:step"),10),(0,_sorting.getFirstSortableField)(this.indexPattern,config.get("context:tieBreakerFields")),this.discoverUrl);this.actions=_lodash2.default.mapValues(_extends({},queryParameterActions,queryActions),function(action){return function(){return action(_this.state).apply(undefined,arguments)}});this.constants={FAILURE_REASONS:_query.FAILURE_REASONS,LOADING_STATUS:_query.LOADING_STATUS};$scope.$watchGroup([function(){return _this.state.rows.predecessors},function(){return _this.state.rows.anchor},function(){return _this.state.rows.successors}],function(newValues){var _actions;return(_actions=_this.actions).setAllRows.apply(_actions,_toConsumableArray(newValues))});$scope.$watchCollection(function(){return _extends({},_lodash2.default.pick(_this,_query_parameters.QUERY_PARAMETER_KEYS),{indexPatternId:_this.indexPattern.id})},function(newQueryParameters){var queryParameters=_this.state.queryParameters;if(newQueryParameters.indexPatternId!==queryParameters.indexPatternId||newQueryParameters.anchorType!==queryParameters.anchorType||newQueryParameters.anchorId!==queryParameters.anchorId||!_lodash2.default.isEqual(newQueryParameters.sort,queryParameters.sort)){_this.actions.fetchAllRowsWithNewQueryParameters(_lodash2.default.cloneDeep(newQueryParameters))}else if(newQueryParameters.predecessorCount!==queryParameters.predecessorCount||newQueryParameters.successorCount!==queryParameters.successorCount||!_lodash2.default.isEqual(newQueryParameters.filters,queryParameters.filters)){_this.actions.fetchContextRowsWithNewQueryParameters(_lodash2.default.cloneDeep(newQueryParameters))}});$scope.$watchCollection(function(){return{predecessorCount:_this.state.queryParameters.predecessorCount,successorCount:_this.state.queryParameters.successorCount}},function(newParameters){_lodash2.default.assign(_this,newParameters)})}function createInitialState(defaultStepSize,tieBreakerField,discoverUrl){return{queryParameters:(0,_query_parameters.createInitialQueryParametersState)(defaultStepSize,tieBreakerField),rows:{all:[],anchor:null,predecessors:[],successors:[]},loadingStatus:(0,_query.createInitialLoadingStatusState)(),navigation:{discover:{url:discoverUrl}}}}},function(module,exports){module.exports='<div class="kuiLocalNav">\n  <div class="kuiLocalNavRow">\n    <div class="kuiLocalNavRow__section">\n      <div\n        class="kuiLocalTitle"\n        role="heading"\n        aria-level="1"\n        i18n-id="kbn.context.surroundingDocumentsDescription"\n        i18n-default-message="Surrounding Documents in {indexPatternId}"\n        i18n-values="{\n          indexPatternId: contextApp.state.queryParameters.indexPatternId \n        }"\n      ></div>\n    </div>\n  </div>\n  <div class="kuiLocalNavRow kuiLocalNavRow--secondary">\n    <div class="kuiLocalTabs">\n      <div class="kuiLocalTab kuiLocalTab-isSelected" >\n        {{ contextApp.state.queryParameters.anchorType }}#{{ contextApp.state.queryParameters.anchorId }}\n      </div>\n    </div>\n  </div>\n</div>\n\n<filter-bar index-patterns="[contextApp.indexPattern]"></filter-bar>\n\n\x3c!-- Error feedback --\x3e\n<div\n  class="kuiViewContent kuiViewContentItem"\n  ng-if="contextApp.state.loadingStatus.anchor.status === contextApp.constants.LOADING_STATUS.FAILED"\n>\n  <div class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm">\n    <div class="kuiInfoPanelHeader">\n      <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n      <span\n        class="kuiInfoPanelHeader__title"\n        i18n-id="kbn.context.failedToLoadAnchorDocumentDescription"\n        i18n-default-message="Failed to load the anchor document"\n      ></span>\n    </div>\n\n    <div class="kuiInfoPanelBody">\n      <div\n        class="kuiInfoPanelBody__message"\n        ng-if="contextApp.state.loadingStatus.anchor.reason === contextApp.constants.FAILURE_REASONS.INVALID_TIEBREAKER"\n        i18n-id="kbn.context.noSearchableTiebreakerFieldDescription"\n        i18n-default-message="No searchable tiebreaker field could be found in the index pattern {indexPatternId}. Please change the advanced setting {tieBreakerFields} to include a valid field for this index pattern."\n        i18n-values="{\n          indexPatternId: contextApp.state.queryParameters.indexPatternId,\n          html_tieBreakerFields: \'<code>context:tieBreakerFields</code>\'\n        }"\n      >\n      </div>\n      <div\n        class="kuiInfoPanelBody__message"\n        ng-if="contextApp.state.loadingStatus.anchor.reason === contextApp.constants.FAILURE_REASONS.UNKNOWN"\n      >\n        <span\n          i18n-id="kbn.context.reloadPageDescription.reloadOrVisitTextMessage"\n          i18n-default-message="Please reload or visit"\n          i18n-description="Part of composite text kbn.context.reloadPageDescription.reloadOrVisitTextMessage + kbn.context.reloadPageDescription.discoverLinkText + kbn.context.reloadPageDescription.selectValidAnchorDocumentTextMessage"\n        ></span>\n        <a\n          ng-href="{{ contextApp.state.navigation.discover.url }}"\n          i18n-id="kbn.context.reloadPageDescription.discoverLinkText"\n          i18n-default-message="Discover"\n          i18n-description="Part of composite text kbn.context.reloadPageDescription.reloadOrVisitTextMessage + kbn.context.reloadPageDescription.discoverLinkText + kbn.context.reloadPageDescription.selectValidAnchorDocumentTextMessage"\n        ></a>\n        <span\n          i18n-id="kbn.context.reloadPageDescription.selectValidAnchorDocumentTextMessage"\n          i18n-default-message="to select a valid anchor document."\n          i18n-description="Part of composite text kbn.context.reloadPageDescription.reloadOrVisitTextMessage + kbn.context.reloadPageDescription.discoverLinkText + kbn.context.reloadPageDescription.selectValidAnchorDocumentTextMessage"\n      ></span>\n    </div>\n    </div>\n  </div>\n</div>\n\n<main\n  class="kuiViewContent kuiViewContentItem"\n  ng-if="contextApp.state.loadingStatus.anchor.status !== contextApp.constants.LOADING_STATUS.FAILED"\n>\n  \x3c!-- Controls --\x3e\n  <div class="kuiBar kuiVerticalRhythm">\n    <div class="kuiBarSection">\n      <context-loading-button\n        data-test-subj="predecessorLoadMoreButton"\n        is-disabled="![\n          contextApp.constants.LOADING_STATUS.LOADED,\n          contextApp.constants.LOADING_STATUS.FAILED,\n        ].includes(contextApp.state.loadingStatus.predecessors.status)"\n        icon="\'fa-chevron-up\'"\n        ng-click="contextApp.actions.fetchMorePredecessorRows()"\n      >\n        <span\n          i18n-id="kbn.context.loadMoreDescription"\n          i18n-default-message="Load {defaultStepSize} more"\n          i18n-values="{\n            defaultStepSize: contextApp.state.queryParameters.defaultStepSize\n          }"\n        ></span>\n      </context-loading-button>\n      <context-size-picker\n        count="contextApp.state.queryParameters.predecessorCount"\n        data-test-subj="predecessorCountPicker"\n        is-disabled="contextApp.state.loadingStatus.anchor.status !== contextApp.constants.LOADING_STATUS.LOADED"\n        on-change-count="contextApp.actions.fetchGivenPredecessorRows"\n      ></context-size-picker>\n      <span\n        i18n-id="kbn.context.newerDocumentsDescription"\n        i18n-default-message="newer documents"\n      ></span>\n      <span\n        class="kuiStatusText kuiStatusText--warning"\n        ng-if="(contextApp.state.loadingStatus.predecessors.status === contextApp.constants.LOADING_STATUS.LOADED)\n          && (contextApp.state.queryParameters.predecessorCount > contextApp.state.rows.predecessors.length)"\n      >\n        <span class="kuiStatusText__icon kuiIcon fa-bolt"></span>\n        <span ng-bind-template="Only {{ contextApp.state.rows.predecessors.length }} documents newer than the anchor could be found."></span>\n      </span>\n    </div>\n\n    <div class="kuiBarSection">\n    </div>\n  </div>\n\n  \x3c!-- Loading feedback --\x3e\n  <div\n    ng-if="[\n      contextApp.constants.LOADING_STATUS.UNINITIALIZED,\n      contextApp.constants.LOADING_STATUS.LOADING,\n    ].includes(contextApp.state.loadingStatus.anchor.status)"\n    class="kuiPanel kuiPanel--centered kuiVerticalRhythm"\n  >\n    <div\n      class="kuiTableInfo"\n      i18n-id="kbn.context.loadingDescription"\n      i18n-default-message="Loading…"\n    ></div>\n  </div>\n\n  \x3c!-- Table --\x3e\n  <div\n    ng-if="contextApp.state.loadingStatus.anchor.status === contextApp.constants.LOADING_STATUS.LOADED"\n    class="kuiPanel kuiVerticalRhythm"\n  >\n    <div class="discover-table" fixed-scroll>\n      <doc-table\n        filter="contextApp.actions.addFilter"\n        hits="contextApp.state.rows.all"\n        index-pattern="contextApp.indexPattern"\n        sorting="contextApp.state.queryParameters.sort"\n        columns="contextApp.state.queryParameters.columns"\n        infinite-scroll="true"\n        minimum-visible-rows="contextApp.state.rows.all.length"\n      ></doc-table>\n    </div>\n  </div>\n\n  \x3c!-- Controls --\x3e\n  <div class="kuiBar kuiVerticalRhythm">\n    <div class="kuiBarSection">\n      <context-loading-button\n        data-test-subj="successorLoadMoreButton"\n        is-disabled="![\n          contextApp.constants.LOADING_STATUS.LOADED,\n          contextApp.constants.LOADING_STATUS.FAILED,\n        ].includes(contextApp.state.loadingStatus.successors.status)"\n        icon="\'fa-chevron-down\'"\n        ng-click="contextApp.actions.fetchMoreSuccessorRows()"\n      >\n        <span\n          i18n-id="kbn.context.loadMoreDescription"\n          i18n-default-message="Load {defaultStepSize} more"\n          i18n-values="{\n            defaultStepSize: contextApp.state.queryParameters.defaultStepSize\n          }"\n        ></span>\n      </context-loading-button>\n      <context-size-picker\n        count="contextApp.state.queryParameters.successorCount"\n        data-test-subj="successorCountPicker"\n        is-disabled="contextApp.state.loadingStatus.anchor.status !== contextApp.constants.LOADING_STATUS.LOADED"\n        on-change-count="contextApp.actions.fetchGivenSuccessorRows"\n      ></context-size-picker>\n      <div\n        i18n-id="kbn.context.olderDocumentsDescription"\n        i18n-default-message="older documents"\n      ></div>\n      <span\n        class="kuiStatusText kuiStatusText--warning"\n        ng-if="(contextApp.state.loadingStatus.successors.status === contextApp.constants.LOADING_STATUS.LOADED)\n          && (contextApp.state.queryParameters.successorCount > contextApp.state.rows.successors.length)"\n      >\n        <span class="kuiStatusText__icon kuiIcon fa-bolt"></span>\n        <span ng-bind-template="Only {{ contextApp.state.rows.successors.length }} documents older than the anchor could be found."></span>\n      </span>\n    </div>\n\n    <div class="kuiBarSection">\n    </div>\n  </div>\n</main>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4974)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _loading_button=__webpack_require__(4975);var _loading_button2=_interopRequireDefault(_loading_button);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("apps/context",["kibana","ngRoute"]);_module.directive("contextLoadingButton",function ContextLoadingButton(){return{replace:true,restrict:"E",scope:{isDisabled:"=",icon:"="},template:_loading_button2.default,transclude:true}})},function(module,exports){module.exports='<button\n  class="kuiButton kuiButton--basic kuiButton--iconText"\n  ng-disabled="isDisabled"\n>\n  <span class="kuiButton__inner">\n    <span\n      class="kuiButton__icon kuiIcon fa-spinner fa-spin"\n      ng-class="isDisabled ? [\'fa-spinner\', \'fa-spin\'] : [icon]"\n    />\n    <span ng-transclude />\n  </span>\n</button>\n'},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _modules=__webpack_require__(4);var _compat=__webpack_require__(68);var _size_picker=__webpack_require__(4977);var _size_picker2=_interopRequireDefault(_size_picker);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("apps/context",["kibana"]);_module.directive("contextSizePicker",function ContextSizePicker(){return{bindToController:true,controller:(0,_compat.callAfterBindingsWorkaround)(ContextSizePickerController),controllerAs:"contextSizePicker",link:linkContextSizePicker,replace:true,restrict:"E",require:"ngModel",scope:{count:"=",isDisabled:"=",onChangeCount:"="},template:_size_picker2.default}});function linkContextSizePicker(scope,element,attrs,ngModel){scope.countModel=ngModel}function ContextSizePickerController($scope){var _this=this;$scope.$watch(function(){return _this.count},function(){return $scope.countModel.$rollbackViewValue()});this.getOrSetCount=function(count){return _lodash2.default.isUndefined(count)?_this.count:_this.onChangeCount(count)}}},function(module,exports){module.exports='<input\n  class="kuiTextInput cxtSizePicker"\n  ng-disabled="contextSizePicker.isDisabled"\n  ng-model-options="{updateOn: \'change\', getterSetter: true, debounce: 200}"\n  ng-model="contextSizePicker.getOrSetCount"\n  type="number"\n>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.QueryParameterActionsProvider=QueryParameterActionsProvider;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _filter_manager=__webpack_require__(461);var _constants=__webpack_require__(1367);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function QueryParameterActionsProvider(indexPatterns,Private){var _this=this;var filterManager=Private(_filter_manager.FilterManagerProvider);var setPredecessorCount=function setPredecessorCount(state){return function(predecessorCount){return state.queryParameters.predecessorCount=clamp(_constants.MIN_CONTEXT_SIZE,_constants.MAX_CONTEXT_SIZE,predecessorCount)}};var increasePredecessorCount=function increasePredecessorCount(state){return function(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:state.queryParameters.defaultStepSize;return setPredecessorCount(state)(state.queryParameters.predecessorCount+value)}};var setSuccessorCount=function setSuccessorCount(state){return function(successorCount){return state.queryParameters.successorCount=clamp(_constants.MIN_CONTEXT_SIZE,_constants.MAX_CONTEXT_SIZE,successorCount)}};var increaseSuccessorCount=function increaseSuccessorCount(state){return function(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:state.queryParameters.defaultStepSize;return setSuccessorCount(state)(state.queryParameters.successorCount+value)}};var setQueryParameters=function setQueryParameters(state){return function(queryParameters){return Object.assign(state.queryParameters,_lodash2.default.pick(queryParameters,_constants.QUERY_PARAMETER_KEYS))}};var addFilter=function addFilter(state){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(field,values,operation){var indexPatternId,indexPattern;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:indexPatternId=state.queryParameters.indexPatternId;filterManager.add(field,values,operation,indexPatternId);_context.next=4;return indexPatterns.get(indexPatternId);case 4:indexPattern=_context.sent;indexPattern.popularizeField(field.name,1);case 6:case"end":return _context.stop()}}},_callee,_this)}));return function(_x3,_x4,_x5){return _ref.apply(this,arguments)}}()};return{addFilter:addFilter,increasePredecessorCount:increasePredecessorCount,increaseSuccessorCount:increaseSuccessorCount,setPredecessorCount:setPredecessorCount,setQueryParameters:setQueryParameters,setSuccessorCount:setSuccessorCount}}function clamp(minimum,maximum,value){return Math.max(Math.min(maximum,value),minimum)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _actions=__webpack_require__(4980);Object.defineProperty(exports,"QueryActionsProvider",{enumerable:true,get:function get(){return _actions.QueryActionsProvider}});var _constants=__webpack_require__(807);Object.defineProperty(exports,"FAILURE_REASONS",{enumerable:true,get:function get(){return _constants.FAILURE_REASONS}});Object.defineProperty(exports,"LOADING_STATUS",{enumerable:true,get:function get(){return _constants.LOADING_STATUS}});var _state=__webpack_require__(4983);Object.defineProperty(exports,"createInitialLoadingStatusState",{enumerable:true,get:function get(){return _state.createInitialLoadingStatusState}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.QueryActionsProvider=QueryActionsProvider;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _markdown=__webpack_require__(323);var _notify=__webpack_require__(10);var _anchor=__webpack_require__(4981);var _context=__webpack_require__(4982);var _query_parameters=__webpack_require__(1366);var _constants=__webpack_require__(807);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function QueryActionsProvider(courier,Private,Promise,i18n){var fetchAnchor=Private(_anchor.fetchAnchorProvider);var _Private=Private(_context.fetchContextProvider),fetchPredecessors=_Private.fetchPredecessors,fetchSuccessors=_Private.fetchSuccessors;var _Private2=Private(_query_parameters.QueryParameterActionsProvider),increasePredecessorCount=_Private2.increasePredecessorCount,increaseSuccessorCount=_Private2.increaseSuccessorCount,setPredecessorCount=_Private2.setPredecessorCount,setQueryParameters=_Private2.setQueryParameters,setSuccessorCount=_Private2.setSuccessorCount;var setFailedStatus=function setFailedStatus(state){return function(subject){var details=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return state.loadingStatus[subject]=_extends({status:_constants.LOADING_STATUS.FAILED,reason:_constants.FAILURE_REASONS.UNKNOWN},details)}};var setLoadedStatus=function setLoadedStatus(state){return function(subject){return state.loadingStatus[subject]={status:_constants.LOADING_STATUS.LOADED}}};var setLoadingStatus=function setLoadingStatus(state){return function(subject){return state.loadingStatus[subject]={status:_constants.LOADING_STATUS.LOADING}}};var fetchAnchorRow=function fetchAnchorRow(state){return function(){var _state$queryParameter=state.queryParameters,indexPatternId=_state$queryParameter.indexPatternId,anchorType=_state$queryParameter.anchorType,anchorId=_state$queryParameter.anchorId,sort=_state$queryParameter.sort,tieBreakerField=_state$queryParameter.tieBreakerField;if(!tieBreakerField){return Promise.reject(setFailedStatus(state)("anchor",{reason:_constants.FAILURE_REASONS.INVALID_TIEBREAKER}))}setLoadingStatus(state)("anchor");return Promise.try(function(){return fetchAnchor(indexPatternId,anchorType,anchorId,[_lodash2.default.zipObject([sort]),_defineProperty({},tieBreakerField,"asc")])}).then(function(anchorDocument){setLoadedStatus(state)("anchor");state.rows.anchor=anchorDocument;return anchorDocument},function(error){setFailedStatus(state)("anchor",{error:error});_notify.toastNotifications.addDanger({title:i18n("kbn.context.unableToLoadAnchorDocumentDescription",{defaultMessage:"Unable to load the anchor document"}),text:_react2.default.createElement(_markdown.MarkdownSimple,null,error.message)});throw error})}};var fetchPredecessorRows=function fetchPredecessorRows(state){return function(){var _state$queryParameter2=state.queryParameters,indexPatternId=_state$queryParameter2.indexPatternId,filters=_state$queryParameter2.filters,predecessorCount=_state$queryParameter2.predecessorCount,sort=_state$queryParameter2.sort,tieBreakerField=_state$queryParameter2.tieBreakerField,anchor=state.rows.anchor;if(!tieBreakerField){return Promise.reject(setFailedStatus(state)("predecessors",{reason:_constants.FAILURE_REASONS.INVALID_TIEBREAKER}))}setLoadingStatus(state)("predecessors");return Promise.try(function(){return fetchPredecessors(indexPatternId,sort[0],sort[1],anchor.sort[0],tieBreakerField,"asc",anchor.sort[1],predecessorCount,filters)}).then(function(predecessorDocuments){setLoadedStatus(state)("predecessors");state.rows.predecessors=predecessorDocuments;return predecessorDocuments},function(error){setFailedStatus(state)("predecessors",{error:error});_notify.toastNotifications.addDanger({title:i18n("kbn.context.unableToLoadDocumentDescription",{defaultMessage:"Unable to load documents"}),text:_react2.default.createElement(_markdown.MarkdownSimple,null,error.message)});throw error})}};var fetchSuccessorRows=function fetchSuccessorRows(state){return function(){var _state$queryParameter3=state.queryParameters,indexPatternId=_state$queryParameter3.indexPatternId,filters=_state$queryParameter3.filters,sort=_state$queryParameter3.sort,successorCount=_state$queryParameter3.successorCount,tieBreakerField=_state$queryParameter3.tieBreakerField,anchor=state.rows.anchor;if(!tieBreakerField){return Promise.reject(setFailedStatus(state)("successors",{reason:_constants.FAILURE_REASONS.INVALID_TIEBREAKER}))}setLoadingStatus(state)("successors");return Promise.try(function(){return fetchSuccessors(indexPatternId,sort[0],sort[1],anchor.sort[0],tieBreakerField,"asc",anchor.sort[1],successorCount,filters)}).then(function(successorDocuments){setLoadedStatus(state)("successors");state.rows.successors=successorDocuments;return successorDocuments},function(error){setFailedStatus(state)("successors",{error:error});_notify.toastNotifications.addDanger({title:"Unable to load documents",text:_react2.default.createElement(_markdown.MarkdownSimple,null,error.message)});throw error})}};var fetchContextRows=function fetchContextRows(state){return function(){return Promise.all([fetchPredecessorRows(state)(),fetchSuccessorRows(state)()])}};var fetchAllRows=function fetchAllRows(state){return function(){return Promise.try(fetchAnchorRow(state)).then(fetchContextRows(state))}};var fetchContextRowsWithNewQueryParameters=function fetchContextRowsWithNewQueryParameters(state){return function(queryParameters){setQueryParameters(state)(queryParameters);return fetchContextRows(state)()}};var fetchAllRowsWithNewQueryParameters=function fetchAllRowsWithNewQueryParameters(state){return function(queryParameters){setQueryParameters(state)(queryParameters);return fetchAllRows(state)()}};var fetchGivenPredecessorRows=function fetchGivenPredecessorRows(state){return function(count){setPredecessorCount(state)(count);return fetchPredecessorRows(state)()}};var fetchGivenSuccessorRows=function fetchGivenSuccessorRows(state){return function(count){setSuccessorCount(state)(count);return fetchSuccessorRows(state)()}};var fetchMorePredecessorRows=function fetchMorePredecessorRows(state){return function(){increasePredecessorCount(state)();return fetchPredecessorRows(state)()}};var fetchMoreSuccessorRows=function fetchMoreSuccessorRows(state){return function(){increaseSuccessorCount(state)();return fetchSuccessorRows(state)()}};var setAllRows=function setAllRows(state){return function(predecessorRows,anchorRow,successorRows){return state.rows.all=[].concat(_toConsumableArray(predecessorRows||[]),_toConsumableArray(anchorRow?[anchorRow]:[]),_toConsumableArray(successorRows||[]))}};return{fetchAllRows:fetchAllRows,fetchAllRowsWithNewQueryParameters:fetchAllRowsWithNewQueryParameters,fetchAnchorRow:fetchAnchorRow,fetchContextRows:fetchContextRows,fetchContextRowsWithNewQueryParameters:fetchContextRowsWithNewQueryParameters,fetchGivenPredecessorRows:fetchGivenPredecessorRows,fetchGivenSuccessorRows:fetchGivenSuccessorRows,fetchMorePredecessorRows:fetchMorePredecessorRows,fetchMoreSuccessorRows:fetchMoreSuccessorRows,fetchPredecessorRows:fetchPredecessorRows,fetchSuccessorRows:fetchSuccessorRows,setAllRows:setAllRows}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.fetchAnchorProvider=fetchAnchorProvider;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _courier=__webpack_require__(195);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function fetchAnchorProvider(indexPatterns,Private,i18n){var SearchSource=Private(_courier.SearchSourceProvider);return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(indexPatternId,anchorType,anchorId,sort){var indexPattern,searchSource,response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return indexPatterns.get(indexPatternId);case 2:indexPattern=_context.sent;searchSource=(new SearchSource).setParent(false).setField("index",indexPattern).setField("version",true).setField("size",1).setField("query",{query:{constant_score:{filter:{ids:{type:anchorType,values:[anchorId]}}}},language:"lucene"}).setField("sort",sort);_context.next=6;return searchSource.fetch();case 6:response=_context.sent;if(!(_lodash2.default.get(response,["hits","total"],0)<1)){_context.next=9;break}throw new Error(i18n("kbn.context.failedToLoadAnchorDocumentErrorDescription",{defaultMessage:"Failed to load anchor document."}));case 9:return _context.abrupt("return",_extends({},_lodash2.default.get(response,["hits","hits",0]),{$$_isAnchor:true}));case 10:case"end":return _context.stop()}}},_callee,this)}));function fetchAnchor(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)}return fetchAnchor}()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchContextProvider=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _courier=__webpack_require__(195);var _sorting=__webpack_require__(1365);var _marked=regeneratorRuntime.mark(asPairs);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var DAY_MILLIS=24*60*60*1e3;var LOOKUP_OFFSETS=[0,1,7,30,365,1e4].map(function(days){return days*DAY_MILLIS});function fetchContextProvider(indexPatterns,Private){var fetchSuccessors=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(indexPatternId,timeField,timeSortDirection,timeValue,tieBreakerField,tieBreakerSortDirection,tieBreakerValue,size,filters){var searchSource,offsetSign,intervals,successors,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,_ref2,_ref3,startTimeValue,endTimeValue,remainingSize,_ref4,_ref5,afterTimeValue,afterTieBreakerValue,hits;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return createSearchSource(indexPatternId,filters);case 2:searchSource=_context.sent;offsetSign=timeSortDirection==="asc"?1:-1;intervals=asPairs([].concat(_toConsumableArray(LOOKUP_OFFSETS.map(function(offset){return timeValue+offset*offsetSign})),[null]));successors=[];_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context.prev=9;_iterator=intervals[Symbol.iterator]();case 11:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context.next=27;break}_ref2=_step.value;_ref3=_slicedToArray(_ref2,2);startTimeValue=_ref3[0];endTimeValue=_ref3[1];remainingSize=size-successors.length;if(!(remainingSize<=0)){_context.next=19;break}return _context.abrupt("break",27);case 19:_ref4=successors.length>0?successors[successors.length-1].sort:[timeValue,tieBreakerValue],_ref5=_slicedToArray(_ref4,2),afterTimeValue=_ref5[0],afterTieBreakerValue=_ref5[1];_context.next=22;return fetchHitsInInterval(searchSource,timeField,timeSortDirection,startTimeValue,endTimeValue,afterTimeValue,tieBreakerField,tieBreakerSortDirection,afterTieBreakerValue,remainingSize);case 22:hits=_context.sent;successors=[].concat(_toConsumableArray(successors),_toConsumableArray(hits));case 24:_iteratorNormalCompletion=true;_context.next=11;break;case 27:_context.next=33;break;case 29:_context.prev=29;_context.t0=_context["catch"](9);_didIteratorError=true;_iteratorError=_context.t0;case 33:_context.prev=33;_context.prev=34;if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}case 36:_context.prev=36;if(!_didIteratorError){_context.next=39;break}throw _iteratorError;case 39:return _context.finish(36);case 40:return _context.finish(33);case 41:return _context.abrupt("return",successors);case 42:case"end":return _context.stop()}}},_callee,this,[[9,29,33,41],[34,,36,40]])}));return function fetchSuccessors(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8,_x9){return _ref.apply(this,arguments)}}();var fetchPredecessors=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(indexPatternId,timeField,timeSortDirection,timeValue,tieBreakerField,tieBreakerSortDirection,tieBreakerValue,size,filters){var searchSource,offsetSign,intervals,predecessors,_iteratorNormalCompletion2,_didIteratorError2,_iteratorError2,_iterator2,_step2,_ref7,_ref8,startTimeValue,endTimeValue,remainingSize,_ref9,_ref10,afterTimeValue,afterTieBreakerValue,hits;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return createSearchSource(indexPatternId,filters);case 2:searchSource=_context2.sent;offsetSign=timeSortDirection==="desc"?1:-1;intervals=asPairs([].concat(_toConsumableArray(LOOKUP_OFFSETS.map(function(offset){return timeValue+offset*offsetSign})),[null]));predecessors=[];_iteratorNormalCompletion2=true;_didIteratorError2=false;_iteratorError2=undefined;_context2.prev=9;_iterator2=intervals[Symbol.iterator]();case 11:if(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done){_context2.next=27;break}_ref7=_step2.value;_ref8=_slicedToArray(_ref7,2);startTimeValue=_ref8[0];endTimeValue=_ref8[1];remainingSize=size-predecessors.length;if(!(remainingSize<=0)){_context2.next=19;break}return _context2.abrupt("break",27);case 19:_ref9=predecessors.length>0?predecessors[0].sort:[timeValue,tieBreakerValue],_ref10=_slicedToArray(_ref9,2),afterTimeValue=_ref10[0],afterTieBreakerValue=_ref10[1];_context2.next=22;return fetchHitsInInterval(searchSource,timeField,(0,_sorting.reverseSortDirection)(timeSortDirection),startTimeValue,endTimeValue,afterTimeValue,tieBreakerField,(0,_sorting.reverseSortDirection)(tieBreakerSortDirection),afterTieBreakerValue,remainingSize);case 22:hits=_context2.sent;predecessors=[].concat(_toConsumableArray(hits.slice().reverse()),_toConsumableArray(predecessors));case 24:_iteratorNormalCompletion2=true;_context2.next=11;break;case 27:_context2.next=33;break;case 29:_context2.prev=29;_context2.t0=_context2["catch"](9);_didIteratorError2=true;_iteratorError2=_context2.t0;case 33:_context2.prev=33;_context2.prev=34;if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return()}case 36:_context2.prev=36;if(!_didIteratorError2){_context2.next=39;break}throw _iteratorError2;case 39:return _context2.finish(36);case 40:return _context2.finish(33);case 41:return _context2.abrupt("return",predecessors);case 42:case"end":return _context2.stop()}}},_callee2,this,[[9,29,33,41],[34,,36,40]])}));return function fetchPredecessors(_x10,_x11,_x12,_x13,_x14,_x15,_x16,_x17,_x18){return _ref6.apply(this,arguments)}}();var createSearchSource=function(){var _ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(indexPatternId,filters){var indexPattern;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return indexPatterns.get(indexPatternId);case 2:indexPattern=_context3.sent;return _context3.abrupt("return",(new SearchSource).setParent(false).setField("index",indexPattern).setField("filter",filters));case 4:case"end":return _context3.stop()}}},_callee3,this)}));return function createSearchSource(_x19,_x20){return _ref11.apply(this,arguments)}}();var fetchHitsInInterval=function(){var _ref12=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(searchSource,timeField,timeSortDirection,startTimeValue,endTimeValue,afterTimeValue,tieBreakerField,tieBreakerSortDirection,tieBreakerValue,maxCount){var startRange,endRange,response;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:startRange=_defineProperty({},timeSortDirection==="asc"?"gte":"lte",startTimeValue);endRange=endTimeValue===null?{}:_defineProperty({},timeSortDirection==="asc"?"lte":"gte",endTimeValue);_context4.next=4;return searchSource.setField("size",maxCount).setField("query",{query:{constant_score:{filter:{range:_defineProperty({},timeField,_extends({format:"epoch_millis"},startRange,endRange))}}},language:"lucene"}).setField("searchAfter",[afterTimeValue!==null?afterTimeValue:startTimeValue,tieBreakerValue]).setField("sort",[_defineProperty({},timeField,timeSortDirection),_defineProperty({},tieBreakerField,tieBreakerSortDirection)]).setField("version",true).fetch();case 4:response=_context4.sent;return _context4.abrupt("return",response.hits?response.hits.hits:[]);case 6:case"end":return _context4.stop()}}},_callee4,this)}));return function fetchHitsInInterval(_x21,_x22,_x23,_x24,_x25,_x26,_x27,_x28,_x29,_x30){return _ref12.apply(this,arguments)}}();var SearchSource=Private(_courier.SearchSourceProvider);return{fetchPredecessors:fetchPredecessors,fetchSuccessors:fetchSuccessors}}function asPairs(iterable){var currentPair,_iteratorNormalCompletion3,_didIteratorError3,_iteratorError3,_iterator3,_step3,value;return regeneratorRuntime.wrap(function asPairs$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:currentPair=[];_iteratorNormalCompletion3=true;_didIteratorError3=false;_iteratorError3=undefined;_context5.prev=4;_iterator3=iterable[Symbol.iterator]();case 6:if(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done){_context5.next=15;break}value=_step3.value;currentPair=[].concat(_toConsumableArray(currentPair),[value]).slice(-2);if(!(currentPair.length===2)){_context5.next=12;break}_context5.next=12;return currentPair;case 12:_iteratorNormalCompletion3=true;_context5.next=6;break;case 15:_context5.next=21;break;case 17:_context5.prev=17;_context5.t0=_context5["catch"](4);_didIteratorError3=true;_iteratorError3=_context5.t0;case 21:_context5.prev=21;_context5.prev=22;if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return()}case 24:_context5.prev=24;if(!_didIteratorError3){_context5.next=27;break}throw _iteratorError3;case 27:return _context5.finish(24);case 28:return _context5.finish(21);case 29:case"end":return _context5.stop()}}},_marked,this,[[4,17,21,29],[22,,24,28]])}exports.fetchContextProvider=fetchContextProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createInitialLoadingStatusState=createInitialLoadingStatusState;var _constants=__webpack_require__(807);function createInitialLoadingStatusState(){return{anchor:_constants.LOADING_STATUS.UNINITIALIZED,predecessors:_constants.LOADING_STATUS.UNINITIALIZED,successors:_constants.LOADING_STATUS.UNINITIALIZED}}},function(module,exports){module.exports='<context-app\n  anchor-type="contextAppRoute.anchorType"\n  anchor-id="contextAppRoute.anchorId"\n  columns="contextAppRoute.state.columns"\n  discover-url="contextAppRoute.discoverUrl"\n  index-pattern="contextAppRoute.indexPattern"\n  filters="contextAppRoute.filters"\n  predecessor-count="contextAppRoute.state.predecessorCount"\n  successor-count="contextAppRoute.state.successorCount"\n  sort="contextAppRoute.state.sort"\n></context-app>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(2467)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(967)},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(2291)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(2578)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(2558)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(2415)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3428)},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3429)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3432)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3433)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(930)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(2247)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3337)},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(2421)},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(374)}]);