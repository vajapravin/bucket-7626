/*! Copyright Elasticsearch B.V. and/or license to Elasticsearch B.V. under one or more contributor license agreements
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var executeModules=data[2];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}deferredModules.push.apply(deferredModules,executeModules||[]);return checkDeferredModules()}function checkDeferredModules(){var result;for(var i=0;i<deferredModules.length;i++){var deferredModule=deferredModules[i];var fulfilled=true;for(var j=1;j<deferredModule.length;j++){var depId=deferredModule[j];if(installedChunks[depId]!==0)fulfilled=false}if(fulfilled){deferredModules.splice(i--,1);result=__webpack_require__(__webpack_require__.s=deferredModule[0])}}return result}var installedModules={};var installedChunks={11:0};var deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="__REPLACE_WITH_PUBLIC_PATH__";var jsonpArray=window["webpackJsonp"]=window["webpackJsonp"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([1917,0]);return checkDeferredModules()})({176:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _monitoring_timeseries=__webpack_require__(955);Object.defineProperty(exports,"MonitoringTimeseries",{enumerable:true,get:function get(){return _monitoring_timeseries.MonitoringTimeseries}});var _info_tooltip=__webpack_require__(960);Object.defineProperty(exports,"InfoTooltip",{enumerable:true,get:function get(){return _info_tooltip.InfoTooltip}});var _get_title=__webpack_require__(953);Object.defineProperty(exports,"getTitle",{enumerable:true,get:function get(){return _get_title.getTitle}});var _get_units=__webpack_require__(954);Object.defineProperty(exports,"getUnits",{enumerable:true,get:function get(){return _get_units.getUnits}});var _monitoring_timeseries_container=__webpack_require__(952);Object.defineProperty(exports,"MonitoringTimeseriesContainer",{enumerable:true,get:function get(){return _monitoring_timeseries_container.MonitoringTimeseriesContainer}})},177:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringViewBaseController=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _reactDom=__webpack_require__(15);var _get_page_data=__webpack_require__(2023);var _components=__webpack_require__(336);var _timefilter=__webpack_require__(16);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var MonitoringViewBaseController=exports.MonitoringViewBaseController=function(){function MonitoringViewBaseController(_ref){var _this=this;var _ref$title=_ref.title,title=_ref$title===undefined?"":_ref$title,_ref$api=_ref.api,api=_ref$api===undefined?"":_ref$api,apiUrlFn=_ref.apiUrlFn,_ref$getPageData=_ref.getPageData,_getPageData=_ref$getPageData===undefined?_get_page_data.getPageData:_ref$getPageData,defaultData=_ref.defaultData,_ref$reactNodeId=_ref.reactNodeId,reactNodeId=_ref$reactNodeId===undefined?null:_ref$reactNodeId,$scope=_ref.$scope,$injector=_ref.$injector,_ref$options=_ref.options,options=_ref$options===undefined?{}:_ref$options;_classCallCheck(this,MonitoringViewBaseController);var titleService=$injector.get("title");var $executor=$injector.get("$executor");titleService($scope.cluster,title);$scope.pageData=this.data=_extends({},defaultData);this._isDataInitialized=false;this.reactNodeId=reactNodeId;var _options$enableTimeFi=options.enableTimeFilter,enableTimeFilter=_options$enableTimeFi===undefined?true:_options$enableTimeFi,_options$enableAutoRe=options.enableAutoRefresh,enableAutoRefresh=_options$enableAutoRe===undefined?true:_options$enableAutoRe;if(enableTimeFilter===false){_timefilter.timefilter.disableTimeRangeSelector()}else{_timefilter.timefilter.enableTimeRangeSelector()}if(enableAutoRefresh===false){_timefilter.timefilter.disableAutoRefreshSelector()}else{_timefilter.timefilter.enableAutoRefreshSelector()}this.updateDataPromise=null;this.updateData=function(){if(_this.updateDataPromise){return _this.updateDataPromise}var _api=apiUrlFn?apiUrlFn():api;return _this.updateDataPromise=_getPageData($injector,_api).then(function(pageData){_this._isDataInitialized=true;$scope.pageData=_this.data=pageData;_this.updateDataPromise=null}).catch(function(){_this.updateDataPromise=null})};this.updateData();$executor.register({execute:function execute(){return _this.updateData()}});$executor.start($scope);$scope.$on("$destroy",function(){if(_this.reactNodeId){(0,_reactDom.unmountComponentAtNode)(document.getElementById(_this.reactNodeId))}$executor.destroy()});this.onBrush=function(_ref2){var xaxis=_ref2.xaxis;var to=xaxis.to,from=xaxis.from;_timefilter.timefilter.setTime({from:(0,_moment2.default)(from),to:(0,_moment2.default)(to),mode:"absolute"})};this.setTitle=function(title){return titleService($scope.cluster,title)}}_createClass(MonitoringViewBaseController,[{key:"renderReact",value:function renderReact(component){if(this._isDataInitialized===false){(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_components.PageLoading,null)),document.getElementById(this.reactNodeId))}else{(0,_reactDom.render)(component,document.getElementById(this.reactNodeId))}}}]);return MonitoringViewBaseController}()},186:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(1944);Object.defineProperty(exports,"MonitoringTable",{enumerable:true,get:function get(){return _table.MonitoringTable}});var _eui_table=__webpack_require__(1948);Object.defineProperty(exports,"EuiMonitoringTable",{enumerable:true,get:function get(){return _eui_table.EuiMonitoringTable}});var _storage=__webpack_require__(1949);Object.defineProperty(exports,"tableStorageGetter",{enumerable:true,get:function get(){return _storage.tableStorageGetter}});Object.defineProperty(exports,"tableStorageSetter",{enumerable:true,get:function get(){return _storage.tableStorageSetter}});Object.defineProperty(exports,"euiTableStorageGetter",{enumerable:true,get:function get(){return _storage.euiTableStorageGetter}});Object.defineProperty(exports,"euiTableStorageSetter",{enumerable:true,get:function get(){return _storage.euiTableStorageSetter}})},1917:function(module,exports,__webpack_require__){"use strict";__webpack_require__(75);__webpack_require__(76);__webpack_require__(77);__webpack_require__(78);__webpack_require__(79);__webpack_require__(80);__webpack_require__(81);__webpack_require__(82);__webpack_require__(83);__webpack_require__(84);__webpack_require__(85);__webpack_require__(86);__webpack_require__(87);__webpack_require__(88);__webpack_require__(89);__webpack_require__(90);__webpack_require__(91);__webpack_require__(92);__webpack_require__(93);__webpack_require__(94);__webpack_require__(95);__webpack_require__(96);__webpack_require__(97);__webpack_require__(98);__webpack_require__(99);__webpack_require__(100);__webpack_require__(101);__webpack_require__(102);__webpack_require__(103);__webpack_require__(104);__webpack_require__(105);__webpack_require__(106);__webpack_require__(107);__webpack_require__(108);__webpack_require__(109);__webpack_require__(110);__webpack_require__(111);__webpack_require__(112);__webpack_require__(113);__webpack_require__(114);__webpack_require__(115);__webpack_require__(116);__webpack_require__(117);__webpack_require__(118);__webpack_require__(119);__webpack_require__(120);__webpack_require__(121);__webpack_require__(122);__webpack_require__(123);__webpack_require__(124);__webpack_require__(125);__webpack_require__(126);__webpack_require__(127);__webpack_require__(128);__webpack_require__(129);__webpack_require__(130);__webpack_require__(131);__webpack_require__(132);__webpack_require__(133);__webpack_require__(134);__webpack_require__(135);__webpack_require__(136);__webpack_require__(137);__webpack_require__(138);__webpack_require__(139);__webpack_require__(140);__webpack_require__(141);__webpack_require__(142);__webpack_require__(143);__webpack_require__(144);__webpack_require__(145);__webpack_require__(146);__webpack_require__(147);__webpack_require__(148);__webpack_require__(149);__webpack_require__(150);__webpack_require__(151);__webpack_require__(152);__webpack_require__(153);__webpack_require__(154);__webpack_require__(155);__webpack_require__(156);__webpack_require__(157);__webpack_require__(158);__webpack_require__(159);__webpack_require__(160);__webpack_require__(161);__webpack_require__(162);__webpack_require__(163);__webpack_require__(164);__webpack_require__(165);__webpack_require__(166);__webpack_require__(167);__webpack_require__(168);__webpack_require__(169);__webpack_require__(170);__webpack_require__(171);__webpack_require__(172);__webpack_require__(173);__webpack_require__(185);var _i18n=__webpack_require__(9);var _kibanaCore__=__webpack_require__(174);var injectedMetadata=JSON.parse(document.querySelector("kbn-injected-metadata").getAttribute("data"));_i18n.i18n.init(injectedMetadata.legacyMetadata.translations);new _kibanaCore__.CoreSystem({injectedMetadata:injectedMetadata,rootDomElement:document.body,requireLegacyFiles:function requireLegacyFiles(){__webpack_require__(1918)}}).start()},1918:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);__webpack_require__(207);__webpack_require__(1919);__webpack_require__(1920);__webpack_require__(1921);__webpack_require__(1922);__webpack_require__(1924);__webpack_require__(1925);__webpack_require__(1926);__webpack_require__(1928);__webpack_require__(1973);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiSettings=_chrome2.default.getUiSettingsClient();uiSettings.overrideLocalDefault("timepicker:timeDefaults",JSON.stringify({from:"now-1h",to:"now",mode:"quick"}));uiSettings.overrideLocalDefault("timepicker:refreshIntervalDefaults",JSON.stringify({display:"10 seconds",pause:false,value:1e4}));_routes2.default.enable()},1919:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _format_number=__webpack_require__(29);var _extract_ip=__webpack_require__(951);var uiModule=_modules.uiModules.get("monitoring/filters",[]);uiModule.filter("capitalize",function(){return function(input){return(0,_lodash.capitalize)(input.toLowerCase())}});uiModule.filter("formatNumber",function(){return _format_number.formatNumber});uiModule.filter("formatMetric",function(){return _format_number.formatMetric});uiModule.filter("extractIp",function(){return _extract_ip.extractIp})},1920:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _ajax_error_handler=__webpack_require__(42);var _timefilter=__webpack_require__(16);var uiModule=_modules.uiModules.get("monitoring/clusters");uiModule.service("monitoringClusters",function($injector){return function(clusterUuid,ccs){var _timefilter$getBounds=_timefilter.timefilter.getBounds(),min=_timefilter$getBounds.min,max=_timefilter$getBounds.max;var url="../api/monitoring/v1/clusters";if(clusterUuid){url+="/"+clusterUuid}var $http=$injector.get("$http");return $http.post(url,{ccs:ccs,timeRange:{min:min.toISOString(),max:max.toISOString()}}).then(function(response){return response.data}).then(function(data){if(clusterUuid){return data[0]}return data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}})},1921:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _modules=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/features",[]);uiModule.service("features",function($window){function getData(){var returnData={};var monitoringData=$window.localStorage.getItem("xpack.monitoring.data");try{returnData=monitoringData&&JSON.parse(monitoringData)||{}}catch(e){console.error("Monitoring UI: error parsing locally stored monitoring data",e)}return returnData}function update(featureName,value){var monitoringDataObj=getData();monitoringDataObj[featureName]=value;$window.localStorage.setItem("xpack.monitoring.data",JSON.stringify(monitoringDataObj))}function isEnabled(featureName,defaultSetting){var monitoringDataObj=getData();if(_lodash2.default.has(monitoringDataObj,featureName)){return monitoringDataObj[featureName]}if(_lodash2.default.isUndefined(defaultSetting)){return false}return defaultSetting}return{isEnabled:isEnabled,update:update}})},1922:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _executor_provider=__webpack_require__(1923);var uiModule=_modules.uiModules.get("monitoring/executor",[]);uiModule.service("$executor",_executor_provider.executorProvider)},1923:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.executorProvider=executorProvider;var _timefilter=__webpack_require__(16);function executorProvider(Promise,$timeout){var queue=[];var executionTimer=void 0;var ignorePaused=false;function reset(){cancel();_start()}function killTimer(){if(executionTimer){$timeout.cancel(executionTimer)}}function cancel(){killTimer()}function register(service){queue.push(service)}function destroy(){cancel();ignorePaused=false;queue.splice(0,queue.length)}function run(){var noop=function noop(){return Promise.resolve()};return Promise.all(queue.map(function(service){return service.execute().then(service.handleResponse||noop).catch(service.handleError||noop)})).finally(reset)}function reFetch(_changes){cancel();run()}function killIfPaused(){if(_timefilter.timefilter.getRefreshInterval().pause){killTimer()}}function _start(){if((ignorePaused||_timefilter.timefilter.getRefreshInterval().pause===false)&&_timefilter.timefilter.getRefreshInterval().value>0){executionTimer=$timeout(run,_timefilter.timefilter.getRefreshInterval().value)}}return{register:register,start:function start($scope){$scope.$listenAndDigestAsync(_timefilter.timefilter,"fetch",reFetch);$scope.$listenAndDigestAsync(_timefilter.timefilter,"refreshIntervalUpdate",killIfPaused);_start()},run:run,destroy:destroy,reset:reset,cancel:cancel}}},1924:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _constants=__webpack_require__(59);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var uiModule=_modules.uiModules.get("monitoring/license",[]);uiModule.service("license",function(){return new(function(){function LicenseService(){_classCallCheck(this,LicenseService);this.license={type:null,expiry_date_in_millis:-Infinity}}_createClass(LicenseService,[{key:"setLicense",value:function setLicense(license){this.license=license}},{key:"isBasic",value:function isBasic(){return this.license.type==="basic"}},{key:"mlIsSupported",value:function mlIsSupported(){return(0,_lodash.contains)(_constants.ML_SUPPORTED_LICENSES,this.license.type)}},{key:"doesExpire",value:function doesExpire(){var expiryDateInMillis=this.license.expiry_date_in_millis;return expiryDateInMillis!==undefined}},{key:"isActive",value:function isActive(){var expiryDateInMillis=this.license.expiry_date_in_millis;return(new Date).getTime()<expiryDateInMillis}},{key:"isExpired",value:function isExpired(){if(this.doesExpire()){var expiryDateInMillis=this.license.expiry_date_in_millis;return(new Date).getTime()>=expiryDateInMillis}return false}}]);return LicenseService}())})},1925:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _modules=__webpack_require__(4);var _doc_title=__webpack_require__(294);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/title",[]);uiModule.service("title",function(Private,i18n){var docTitle=Private(_doc_title.DocTitleProvider);return function changeTitle(cluster,suffix){var clusterName=_lodash2.default.get(cluster,"cluster_name");clusterName=clusterName?"- "+clusterName:"";suffix=suffix?"- "+suffix:"";docTitle.change(i18n("xpack.monitoring.monitoringDocTitle",{defaultMessage:"Monitoring {clusterName} {suffix}",values:{clusterName:clusterName,suffix:suffix}}),true)}})},1926:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(4);var _breadcrumbs_provider=__webpack_require__(1927);var uiModule=_modules.uiModules.get("monitoring/breadcrumbs",[]);uiModule.service("breadcrumbs",_breadcrumbs_provider.breadcrumbsProvider)},1927:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.breadcrumbsProvider=breadcrumbsProvider;var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var createCrumb=function createCrumb(url,label,testSubj){var crumb={url:url,label:label};if(testSubj){crumb.testSubj=testSubj}return crumb};function getElasticsearchBreadcrumbs(mainInstance){var breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/elasticsearch","Elasticsearch"));if(mainInstance.name==="indices"){breadcrumbs.push(createCrumb("#/elasticsearch/indices",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.es.indicesLabel",{defaultMessage:"Indices"}),"breadcrumbEsIndices"))}else if(mainInstance.name==="nodes"){breadcrumbs.push(createCrumb("#/elasticsearch/nodes",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.es.nodesLabel",{defaultMessage:"Nodes"}),"breadcrumbEsNodes"))}else if(mainInstance.name==="ml"){breadcrumbs.push(createCrumb("#/elasticsearch/ml_jobs",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.es.jobsLabel",{defaultMessage:"Jobs"})))}else if(mainInstance.name==="ccr_shard"){breadcrumbs.push(createCrumb("#/elasticsearch/ccr",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.es.ccrLabel",{defaultMessage:"CCR"})))}breadcrumbs.push(createCrumb(null,mainInstance.instance))}else{breadcrumbs.push(createCrumb(null,"Elasticsearch"))}return breadcrumbs}function getKibanaBreadcrumbs(mainInstance){var breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/kibana","Kibana"));breadcrumbs.push(createCrumb("#/kibana/instances",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.kibana.instancesLabel",{defaultMessage:"Instances"})))}else{breadcrumbs.push(createCrumb(null,"Kibana"))}return breadcrumbs}function getLogstashBreadcrumbs(mainInstance){var logstashLabel=_i18n.i18n.translate("xpack.monitoring.breadcrumbs.logstashLabel",{defaultMessage:"Logstash"});var breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/logstash",logstashLabel));if(mainInstance.name==="nodes"){breadcrumbs.push(createCrumb("#/logstash/nodes",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.logstash.nodesLabel",{defaultMessage:"Nodes"})))}breadcrumbs.push(createCrumb(null,mainInstance.instance))}else if(mainInstance.page==="pipeline"){breadcrumbs.push(createCrumb("#/logstash",logstashLabel));breadcrumbs.push(createCrumb("#/logstash/pipelines",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.logstash.pipelinesLabel",{defaultMessage:"Pipelines"})))}else{breadcrumbs.push(createCrumb(null,logstashLabel))}return breadcrumbs}function getBeatsBreadcrumbs(mainInstance){var beatsLabel=_i18n.i18n.translate("xpack.monitoring.breadcrumbs.beatsLabel",{defaultMessage:"Beats"});var breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/beats",beatsLabel));breadcrumbs.push(createCrumb("#/beats/beats",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.beats.instancesLabel",{defaultMessage:"Instances"})));breadcrumbs.push(createCrumb(null,mainInstance.instance))}else{breadcrumbs.push(createCrumb(null,beatsLabel))}return breadcrumbs}function getApmBreadcrumbs(mainInstance){var apmLabel=_i18n.i18n.translate("xpack.monitoring.breadcrumbs.apmLabel",{defaultMessage:"APM"});var breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/apm",apmLabel));breadcrumbs.push(createCrumb("#/apm/instances",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.apm.instancesLabel",{defaultMessage:"Instances"})))}else{breadcrumbs.push(createCrumb(null,apmLabel))}return breadcrumbs}function breadcrumbsProvider(){return function createBreadcrumbs(clusterName,mainInstance){var breadcrumbs=[createCrumb("#/home",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.clustersLabel",{defaultMessage:"Clusters"}),"breadcrumbClusters")];if(!mainInstance.inOverview&&clusterName){breadcrumbs.push(createCrumb("#/overview",clusterName))}if(mainInstance.inElasticsearch){breadcrumbs=breadcrumbs.concat(getElasticsearchBreadcrumbs(mainInstance))}if(mainInstance.inKibana){breadcrumbs=breadcrumbs.concat(getKibanaBreadcrumbs(mainInstance))}if(mainInstance.inLogstash){breadcrumbs=breadcrumbs.concat(getLogstashBreadcrumbs(mainInstance))}if(mainInstance.inBeats){breadcrumbs=breadcrumbs.concat(getBeatsBreadcrumbs(mainInstance))}if(mainInstance.inApm){breadcrumbs=breadcrumbs.concat(getApmBreadcrumbs(mainInstance))}_chrome2.default.breadcrumbs.set(breadcrumbs.map(function(b){return{text:b.label,href:b.url}}));return breadcrumbs}}},1928:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1929);__webpack_require__(1931);__webpack_require__(1941);__webpack_require__(1943);__webpack_require__(1951);__webpack_require__(1953);__webpack_require__(1954);__webpack_require__(1956);__webpack_require__(1958);__webpack_require__(1959);__webpack_require__(1960);__webpack_require__(1961);__webpack_require__(1968);__webpack_require__(1970)},1929:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringMainController=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(4);var _index=__webpack_require__(1930);var _index2=_interopRequireDefault(_index);var _formatting=__webpack_require__(272);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var MonitoringMainController=exports.MonitoringMainController=function(){function MonitoringMainController(){_classCallCheck(this,MonitoringMainController);this.inListing=false;this.inAlerts=false;this.inOverview=false;this.inElasticsearch=false;this.inKibana=false;this.inLogstash=false;this.inBeats=false;this.inApm=false}_createClass(MonitoringMainController,[{key:"setup",value:function setup(options){var _this=this;this._licenseService=options.licenseService;this._breadcrumbsService=options.breadcrumbsService;this._kbnUrlService=options.kbnUrlService;Object.assign(this,options.attributes);if(this.product){this.inElasticsearch=this.product==="elasticsearch";this.inKibana=this.product==="kibana";this.inLogstash=this.product==="logstash";this.inBeats=this.product==="beats";this.inApm=this.product==="apm"}else{this.inOverview=this.name==="overview";this.inAlerts=this.name==="alerts";this.inListing=this.name==="listing"||this.name==="no-data"}if(!this.inListing){this.breadcrumbs=this._breadcrumbsService(options.clusterName,this)}if(this.pipelineHash){this.pipelineHashShort=(0,_formatting.shortenPipelineHash)(this.pipelineHash);this.onChangePipelineHash=function(){return _this._kbnUrlService.changePath("/logstash/pipelines/"+_this.pipelineId+"/"+_this.pipelineHash)}}}},{key:"isActiveTab",value:function isActiveTab(testPath){return this.name===testPath}},{key:"isMlSupported",value:function isMlSupported(){return this._licenseService.mlIsSupported()}}]);return MonitoringMainController}();var uiModule=_modules.uiModules.get("plugins/monitoring/directives",[]);uiModule.directive("monitoringMain",function(breadcrumbs,license,kbnUrl,config){return{restrict:"E",transclude:true,template:_index2.default,controller:MonitoringMainController,controllerAs:"monitoringMain",bindToController:true,link:function link(scope,_element,attributes,controller){config.watch("k7design",function(val){return scope.showPluginBreadcrumbs=!val});function getSetupObj(){return{licenseService:license,breadcrumbsService:breadcrumbs,kbnUrlService:kbnUrl,attributes:{name:attributes.name,product:attributes.product,instance:attributes.instance,resolver:attributes.resolver,page:attributes.page,tabIconClass:attributes.tabIconClass,tabIconLabel:attributes.tabIconLabel,pipelineId:attributes.pipelineId,pipelineHash:attributes.pipelineHash,pipelineVersions:(0,_lodash.get)(scope,"pageData.versions")},clusterName:(0,_lodash.get)(scope,"cluster.cluster_name")}}var setupObj=getSetupObj();controller.setup(setupObj);Object.keys(setupObj.attributes).forEach(function(key){attributes.$observe(key,function(){return controller.setup(getSetupObj())})});scope.$watch("pageData.versions",function(versions){controller.pipelineVersions=versions})}}})},1930:function(module,exports){module.exports='<div class="app-container">\n  <kbn-top-nav name="{{ monitoringMain.name }}-nav">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      \x3c!-- NOTE: The KBN breadCrumbs directive does not work for Monitoring usecase.\n      Breadcrumbs can\'t be automatically derived because the directive doesn\'t\n      automatically know to show the Clusters breadcrumb. We recreate the\n      structure and styles manually --\x3e\n      <div data-transclude-slot="topLeftCorner">\n        <div\n          ng-if="showPluginBreadcrumbs"\n          class="kuiLocalBreadcrumbs">\n          <div ng-repeat="crumb in monitoringMain.breadcrumbs" class="kuiLocalBreadcrumb">\n            <a\n              ng-if="crumb.url"\n              kbn-href="{{ crumb.url }}"\n              class="kuiLocalBreadcrumb__link"\n              data-test-subj="{{ crumb.testSubj }}"\n            >\n              {{ crumb.label }}\n            </a>\n\n            <span ng-if="!crumb.url">\n              {{ crumb.label }}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- Tabs --\x3e\n      <div data-transclude-slot="bottomRow">\n        <div ng-if="monitoringMain.inElasticsearch" class="kuiLocalTabs" role="navigation">\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/elasticsearch"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n            i18n-id="xpack.monitoring.esNavigation.overviewLinkText"\n            i18n-default-message="Overview"\n          ></a>\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/elasticsearch/nodes"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'nodes\')}"\n            i18n-id="xpack.monitoring.esNavigation.nodesLinkText"\n            i18n-default-message="Nodes"\n          ></a>\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/elasticsearch/indices"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'indices\')}"\n            i18n-id="xpack.monitoring.esNavigation.indicesLinkText"\n            i18n-default-message="Indices"\n          ></a>\n          <a\n            ng-if="!monitoringMain.instance && monitoringMain.isMlSupported()"\n            kbn-href="#/elasticsearch/ml_jobs"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'ml\')}"\n            i18n-id="xpack.monitoring.esNavigation.jobsLinkText"\n            i18n-default-message="Jobs"\n          ></a>\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/elasticsearch/ccr"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'ccr\')}"\n            i18n-id="xpack.monitoring.esNavigation.ccrLinkText"\n            i18n-default-message="CCR"\n          ></a>\n          <a\n            ng-if="monitoringMain.instance && (monitoringMain.name === \'nodes\' || monitoringMain.name === \'indices\')"\n            kbn-href="#/elasticsearch/{{ monitoringMain.name }}/{{ monitoringMain.resolver }}"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'overview\'}"\n          >\n            <span ng-if="monitoringMain.tabIconClass" class="fa {{ monitoringMain.tabIconClass }}" title="{{ monitoringMain.tabIconLabel }}"></span>\n            <span\n              i18n-id="xpack.monitoring.esNavigation.instance.overviewLinkText"\n              i18n-default-message="Overview"\n            ></span>\n          </a>\n          <a\n            ng-if="monitoringMain.instance && (monitoringMain.name === \'nodes\' || monitoringMain.name === \'indices\')"\n            kbn-href="#/elasticsearch/{{ monitoringMain.name }}/{{ monitoringMain.resolver }}/advanced"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'advanced\'}"\n            i18n-id="xpack.monitoring.esNavigation.instance.advancedLinkText"\n            i18n-default-message="Advanced"\n          >\n          </a>\n            \x3c!-- ML Instance (for use later) --\x3e\n          <a\n            ng-if="monitoringMain.instance && monitoringMain.name !== \'nodes\' && monitoringMain.name !== \'indices\'"\n            class="kuiLocalTab">{{ monitoringMain.instance }}</a>\n        </div>\n\n        <div ng-if="monitoringMain.inKibana" class="kuiLocalTabs" role="navigation">\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/kibana"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n            i18n-id="xpack.monitoring.kibanaNavigation.overviewLinkText"\n            i18n-default-message="Overview"\n          ></a>\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/kibana/instances"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'kibanas\')}"\n            i18n-id="xpack.monitoring.kibanaNavigation.instancesLinkText"\n            i18n-default-message="Instances"\n          ></a>\n          <a ng-if="monitoringMain.instance" class="kuiLocalTab">{{ monitoringMain.instance }}</a>\n        </div>\n\n        <div ng-if="monitoringMain.inApm" class="kuiLocalTabs" role="navigation">\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/apm"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n            i18n-id="xpack.monitoring.apmNavigation.overviewLinkText"\n            i18n-default-message="Overview"\n          ></a>\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/apm/instances"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'apms\')}"\n            i18n-id="xpack.monitoring.apmNavigation.instancesLinkText"\n            i18n-default-message="Instances"\n          ></a>\n          <a ng-if="monitoringMain.instance" class="kuiLocalTab">{{ monitoringMain.instance }}</a>\n        </div>\n\n        <div ng-if="monitoringMain.inBeats" class="kuiLocalTabs" role="navigation">\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/beats"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\':\n            monitoringMain.isActiveTab(\'overview\')}"\n            i18n-id="xpack.monitoring.beatsNavigation.overviewLinkText"\n            i18n-default-message="Overview"\n          >\n          </a>\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/beats/beats"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'beats\')}"\n            i18n-id="xpack.monitoring.beatsNavigation.instancesLinkText"\n            i18n-default-message="Instances"\n          >\n          </a>\n          <a\n            ng-if="monitoringMain.instance"\n            kbn-href="#/beats/beat/{{ monitoringMain.resolver }}"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'overview\'}"\n            i18n-id="xpack.monitoring.beatsNavigation.instance.overviewLinkText"\n            i18n-default-message="Overview"\n          >\n          </a>\n        </div>\n\n        <div ng-if="monitoringMain.inLogstash" class="kuiLocalTabs" role="navigation">\n          <a\n            ng-if="!monitoringMain.instance && !monitoringMain.pipelineId"\n            kbn-href="#/logstash"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n            i18n-id="xpack.monitoring.logstashNavigation.overviewLinkText"\n            i18n-default-message="Overview"\n          >\n          </a>\n          <a\n            ng-if="!monitoringMain.instance && !monitoringMain.pipelineId"\n            kbn-href="#/logstash/nodes"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'nodes\')}"\n            i18n-id="xpack.monitoring.logstashNavigation.nodesLinkText"\n            i18n-default-message="Nodes"\n          >\n          </a>\n          <a\n            ng-if="!monitoringMain.instance && !monitoringMain.pipelineId"\n            kbn-href="#/logstash/pipelines"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'pipelines\')}"\n          >\n            <span class="kuiIcon fa-flask betaIcon" tooltip="Beta Feature" />\n            <span\n              i18n-id="xpack.monitoring.logstashNavigation.pipelinesLinkText"\n              i18n-default-message="Pipelines"\n            ></span>\n          </a>\n          <a\n            ng-if="monitoringMain.instance"\n            kbn-href="#/logstash/node/{{ monitoringMain.resolver }}"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'overview\'}"\n            i18n-id="xpack.monitoring.logstashNavigation.instance.overviewLinkText"\n            i18n-default-message="Overview"\n          >\n          </a>\n          <a\n            ng-if="monitoringMain.instance"\n            kbn-href="#/logstash/node/{{ monitoringMain.resolver }}/pipelines"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'pipelines\'}"\n          >\n            <span class="kuiIcon fa-flask betaIcon" tooltip="Beta Feature" />\n            <span\n              i18n-id="xpack.monitoring.logstashNavigation.instance.pipelinesLinkText"\n              i18n-default-message="Pipelines"\n            ></span>\n          </a>\n          <a\n            ng-if="monitoringMain.instance"\n            kbn-href="#/logstash/node/{{ monitoringMain.resolver }}/advanced"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'advanced\'}"\n            i18n-id="xpack.monitoring.logstashNavigation.instance.advancedLinkText"\n            i18n-default-message="Advanced"\n          >\n          </a>\n          <div\n            ng-if="monitoringMain.pipelineVersions"\n            class="euiFlexGroup euiFlexGroup--gutterMedium"\n          >\n            <h1 class="kuiTitle euiFlexItem">{{ monitoringMain.pipelineId }}</h1>\n            <select\n              ng-model="monitoringMain.pipelineHash"\n              class="kuiSelect euiFlexItem"\n              ng-change="monitoringMain.onChangePipelineHash()"\n            >\n              <option\n                ng-repeat="version in monitoringMain.pipelineVersions"\n                ng-value="version.hash"\n                i18n-id="xpack.monitoring.logstashNavigation.pipelineVersionDescription"\n                i18n-default-message="Version active {relativeLastSeen} and first seen {relativeFirstSeen}"\n                i18n-values="{relativeLastSeen: version.relativeLastSeen, relativeFirstSeen: version.relativeFirstSeen}"\n              >\n              </option>\n            </select>\n          </div>\n        </div>\n\n        <div ng-if="monitoringMain.inOverview" class="kuiLocalTabs" role="navigation">\n          <a class="kuiLocalTab" data-test-subj="clusterName">{{ pageData.cluster_name }}</a>\n        </div>\n\n        <div ng-if="monitoringMain.inAlerts" class="kuiLocalTabs" role="navigation">\n          <a\n            class="kuiLocalTab"\n            data-test-subj="clusterAlertsListingPage"\n            i18n-id="xpack.monitoring.clusterAlertsNavigation.clusterAlertsLinkText"\n            i18n-default-message="Cluster Alerts"\n          ></a>\n        </div>\n\n        <div ng-if="monitoringMain.inListing" class="kuiLocalTabs" role="navigation">\n         <a\n          class="kuiLocalTab"\n          i18n-id="xpack.monitoring.clustersNavigation.clustersLinkText"\n          i18n-default-message="Clusters"\n        ></a>\n       </div>\n      </div>\n    </div>\n  </kbn-top-nav>\n  <div ng-transclude></div>\n</div>\n'},1931:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _modules=__webpack_require__(4);var _timefilter=__webpack_require__(16);var _monitoring_timeseries_container=__webpack_require__(952);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("plugins/monitoring/directives",[]);uiModule.directive("monitoringChart",function(){return{restrict:"E",scope:{series:"="},link:function link(scope,$elem){function onBrush(_ref){var xaxis=_ref.xaxis;_timefilter.timefilter.setTime({from:(0,_moment2.default)(xaxis.from),to:(0,_moment2.default)(xaxis.to),mode:"absolute"})}scope.$watch("series",function(series){(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_monitoring_timeseries_container.MonitoringTimeseriesContainer,{series:series,onBrush:onBrush}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))),$elem[0])})}}})},1932:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getColor=getColor;function getColor(app,index){var seriesColors=void 0;if(app==="elasticsearch"){seriesColors=["#3ebeb0","#3b73ac","#f08656","#6c478f"]}else{seriesColors=["#e8488b","#3b73ac","#3cab63","#6c478f"]}if(seriesColors[index]){return seriesColors[index]}return"#000"}},1933:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimeseriesVisualization=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _get_last_value=__webpack_require__(1934);var _timeseries_container=__webpack_require__(1935);var _horizontal_legend=__webpack_require__(1939);var _get_values_for_legend=__webpack_require__(1940);var _constants=__webpack_require__(59);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TimeseriesVisualization=exports.TimeseriesVisualization=function(_React$Component){_inherits(TimeseriesVisualization,_React$Component);function TimeseriesVisualization(props){_classCallCheck(this,TimeseriesVisualization);var _this=_possibleConstructorReturn(this,(TimeseriesVisualization.__proto__||Object.getPrototypeOf(TimeseriesVisualization)).call(this,props));_this.debouncedUpdateLegend=_lodash2.default.debounce(_this.updateLegend,_constants.DEBOUNCE_SLOW_MS);_this.debouncedUpdateLegend=_this.debouncedUpdateLegend.bind(_this);_this.toggleFilter=_this.toggleFilter.bind(_this);var values=_this.getLastValues(props);_this.state={values:{},seriesToShow:_lodash2.default.keys(values),ignoreVisibilityUpdates:false};return _this}_createClass(TimeseriesVisualization,[{key:"filterLegend",value:function filterLegend(id){if(!_lodash2.default.has(this.state.values,id)){return[]}var notAllShown=_lodash2.default.keys(this.state.values).length!==this.state.seriesToShow.length;var isCurrentlyShown=_lodash2.default.includes(this.state.seriesToShow,id);var seriesToShow=[];if(notAllShown&&isCurrentlyShown){this.setState({ignoreVisibilityUpdates:false,seriesToShow:Object.keys(this.state.values)})}else{seriesToShow.push(id);this.setState({ignoreVisibilityUpdates:true,seriesToShow:[id]})}return seriesToShow}},{key:"toggleFilter",value:function toggleFilter(_event,id){var seriesToShow=this.filterLegend(id);if(_lodash2.default.isFunction(this.props.onFilter)){this.props.onFilter(seriesToShow)}}},{key:"getLastValues",value:function getLastValues(props){props=props||this.props;var values={};props.series.forEach(function(row){if(!row.id){row.id=row.label}values[row.id]=(0,_get_last_value.getLastValue)(row.data)});return values}},{key:"updateLegend",value:function updateLegend(pos,item){var values={};if(pos){var setValueCallback=function setValueCallback(seriesId,value){values[seriesId]=value};if(item){(0,_get_values_for_legend.getValuesForSeriesIndex)(this.props.series,item.dataIndex,setValueCallback)}else{(0,_get_values_for_legend.getValuesByX)(this.props.series,pos.x,setValueCallback)}}else{_lodash2.default.assign(values,this.getLastValues())}this.setState({values:values})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(props){var values=this.getLastValues(props);var currentKeys=_lodash2.default.keys(this.state.values);var keys=_lodash2.default.keys(values);var diff=_lodash2.default.difference(keys,currentKeys);var nextState={values:values};if(diff.length&&!this.state.ignoreVisibilityUpdates){nextState.seriesToShow=keys}this.setState(nextState)}},{key:"render",value:function render(){var className="monRhythmChart";var style={flexDirection:"column"};var legend=this.props.hasLegend?_react2.default.createElement(_horizontal_legend.HorizontalLegend,_extends({seriesFilter:this.state.seriesToShow,seriesValues:this.state.values,onToggle:this.toggleFilter},this.props)):null;return _react2.default.createElement("div",{className:className},_react2.default.createElement("div",{style:style,className:"monRhythmChart__content"},_react2.default.createElement("div",{className:"monRhythmChart__visualization"},_react2.default.createElement(_timeseries_container.TimeseriesContainer,_extends({seriesToShow:this.state.seriesToShow,updateLegend:this.debouncedUpdateLegend},this.props))),legend))}}]);return TimeseriesVisualization}(_react2.default.Component);TimeseriesVisualization.defaultProps={hasLegend:true}},1934:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLastValue=getLastValue;var _lodash=__webpack_require__(1);function getLastValue(data){if((0,_lodash.isNumber)(data)){return data}if(!Array.isArray(data)){return null}var lastValue=(0,_lodash.get)((0,_lodash.last)(data),"[1]");if((0,_lodash.isNumber)(lastValue)){return lastValue}return null}},1935:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimeseriesContainer=TimeseriesContainer;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _chart_target=__webpack_require__(1936);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function TimeseriesContainer(props){var container={display:"flex",rowDirection:"column",flex:"1 0 auto",position:"relative"};return _react2.default.createElement("div",{style:container},_react2.default.createElement(_chart_target.ChartTarget,props))}},1936:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ChartTarget=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _jqueryFlot=__webpack_require__(612);var _jqueryFlot2=_interopRequireDefault(_jqueryFlot);var _event_bus=__webpack_require__(1937);var _get_chart_options=__webpack_require__(1938);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ChartTarget=exports.ChartTarget=function(_React$Component){_inherits(ChartTarget,_React$Component);function ChartTarget(){_classCallCheck(this,ChartTarget);return _possibleConstructorReturn(this,(ChartTarget.__proto__||Object.getPrototypeOf(ChartTarget)).apply(this,arguments))}_createClass(ChartTarget,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(){return!this.plot}},{key:"shutdownChart",value:function shutdownChart(){if(!this.plot){return}var target=this.refs.target;(0,_jqueryFlot2.default)(target).off("plothover");(0,_jqueryFlot2.default)(target).off("mouseleave");(0,_jqueryFlot2.default)(target).off("plotselected");(0,_jqueryFlot2.default)(target).off("plotselecting");this.plot.shutdown();_event_bus.eventBus.off("thorPlotHover");_event_bus.eventBus.off("thorPlotLeave");_event_bus.eventBus.off("thorPlotSelecting");_event_bus.eventBus.off("thorPlotBrush")}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.shutdownChart();window.removeEventListener("resize",this._handleResize)}},{key:"filterByShow",value:function filterByShow(seriesToShow){if(seriesToShow){return function(metric){return seriesToShow.some(function(id){return _lodash2.default.startsWith(id,metric.id)})}}return function(_metric){return true}}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(newProps){if(this.plot&&!_lodash2.default.isEqual(newProps,this.props)){var series=newProps.series,timeRange=newProps.timeRange;var xaxisOptions=this.plot.getAxes().xaxis.options;xaxisOptions.min=_lodash2.default.get(timeRange,"min");xaxisOptions.max=_lodash2.default.get(timeRange,"max");this.plot.setData(this.filterData(series,newProps.seriesToShow));this.plot.setupGrid();this.plot.draw()}}},{key:"componentDidMount",value:function componentDidMount(){this.renderChart();window.addEventListener("resize",this._handleResize,false)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.shutdownChart();this.renderChart()}},{key:"filterData",value:function filterData(data,seriesToShow){return(0,_lodash2.default)(data).filter(this.filterByShow(seriesToShow)).value()}},{key:"getOptions",value:function getOptions(){var opts=(0,_get_chart_options.getChartOptions)({yaxis:{tickFormatter:this.props.tickFormatter},xaxis:this.props.timeRange});return _extends({},opts,this.props.options)}},{key:"renderChart",value:function renderChart(){var _this2=this;var target=this.refs.target;var series=this.props.series;var data=this.filterData(series,this.props.seriesToShow);this.plot=_jqueryFlot2.default.plot(target,data,this.getOptions());this._handleResize=function(){if(!_this2.plot){return}try{_this2.plot.resize();_this2.plot.setupGrid();_this2.plot.draw()}catch(e){}};this.handleMouseLeave=function(){_event_bus.eventBus.trigger("thorPlotLeave",[])};this.handlePlotHover=function(_event,pos,item){_event_bus.eventBus.trigger("thorPlotHover",[pos,item,_this2.plot])};this.handleThorPlotHover=function(_event,pos,item,originalPlot){if(_this2.plot!==originalPlot){_this2.plot.setCrosshair({x:_lodash2.default.get(pos,"x")})}_this2.props.updateLegend(pos,item)};this.handleThorPlotLeave=function(){_this2.plot.clearCrosshair();_this2.props.updateLegend()};this.handleThorPlotSelecting=function(_event,xaxis,originalPlot){if(_this2.plot!==originalPlot){var preventEvent=true;_this2.plot.setSelection({xaxis:xaxis},preventEvent)}};this.handleThorPlotBrush=function(){_this2.plot.clearSelection()};this.selectingChart=function(_event,ranges){if(ranges){var xaxis=ranges.xaxis;_event_bus.eventBus.trigger("thorPlotSelecting",[xaxis,_this2.plot])}};this.brushChart=function(_event,ranges){_this2.props.onBrush(ranges);_event_bus.eventBus.trigger("thorPlotBrush")};(0,_jqueryFlot2.default)(target).on("plothover",this.handlePlotHover);(0,_jqueryFlot2.default)(target).on("mouseleave",this.handleMouseLeave);(0,_jqueryFlot2.default)(target).on("plotselected",this.brushChart);(0,_jqueryFlot2.default)(target).on("plotselecting",this.selectingChart);_event_bus.eventBus.on("thorPlotHover",this.handleThorPlotHover);_event_bus.eventBus.on("thorPlotLeave",this.handleThorPlotLeave);_event_bus.eventBus.on("thorPlotSelecting",this.handleThorPlotSelecting);_event_bus.eventBus.on("thorPlotBrush",this.handleThorPlotBrush)}},{key:"render",value:function render(){var style={position:"relative",display:"flex",rowDirection:"column",flex:"1 0 auto"};return _react2.default.createElement("div",{ref:"target",style:style})}}]);return ChartTarget}(_react2.default.Component)},1937:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.eventBus=undefined;var _jquery=__webpack_require__(17);var _jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var eventBus=exports.eventBus=(0,_jquery2.default)({})},1938:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getChartOptions=getChartOptions;var _lodash=__webpack_require__(1);var _constants=__webpack_require__(59);function getChartOptions(axisOptions){var opts={legend:{show:false},xaxis:{color:_constants.CHART_LINE_COLOR,timezone:"browser",mode:"time",font:{color:_constants.CHART_TEXT_COLOR}},yaxis:{color:_constants.CHART_LINE_COLOR,font:{color:_constants.CHART_TEXT_COLOR}},series:{points:{show:true,radius:1},lines:{show:true,lineWidth:2},shadowSize:0},grid:{margin:0,borderWidth:1,borderColor:_constants.CHART_LINE_COLOR,hoverable:true},crosshair:{mode:"x",color:"#c66",lineWidth:2},selection:{mode:"x",color:_constants.CHART_TEXT_COLOR}};return(0,_lodash.merge)(opts,axisOptions)}},1939:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HorizontalLegend=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var HorizontalLegendUI=function(_React$Component){_inherits(HorizontalLegendUI,_React$Component);function HorizontalLegendUI(){_classCallCheck(this,HorizontalLegendUI);var _this=_possibleConstructorReturn(this,(HorizontalLegendUI.__proto__||Object.getPrototypeOf(HorizontalLegendUI)).call(this));_this.formatter=_this.formatter.bind(_this);_this.createSeries=_this.createSeries.bind(_this);return _this}_createClass(HorizontalLegendUI,[{key:"formatter",value:function formatter(value){if(value===null){return _react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.chart.horizontalLegend.notAvailableLabel",defaultMessage:"N/A"})}if((0,_lodash.isFunction)(this.props.tickFormatter)){return this.props.tickFormatter(value)}return value}},{key:"createSeries",value:function createSeries(row,rowIdx){var _this2=this;var intl=this.props.intl;var formatter=row.tickFormatter||this.formatter;var value=formatter(this.props.seriesValues[row.id]);var classes=["col-md-4 col-xs-6 monRhythmChart__legendItem"];if(!(0,_lodash.includes)(this.props.seriesFilter,row.id)){classes.push("monRhythmChart__legendItem-isDisabled")}if(!row.label||row.legend===false){return _react2.default.createElement("div",{key:rowIdx,style:{display:"none"}})}return _react2.default.createElement(_eui.EuiKeyboardAccessible,{key:rowIdx},_react2.default.createElement("div",{className:classes.join(" "),onClick:function onClick(event){return _this2.props.onToggle(event,row.id)}},_react2.default.createElement("span",{className:"monRhythmChart__legendLabel"},_react2.default.createElement("span",{className:"fa fa-circle monRhythmChart__legendIndicator",style:{color:row.color},"aria-label":intl.formatMessage({id:"xpack.monitoring.chart.horizontalLegend.toggleButtonAriaLabel",defaultMessage:"toggle button"})})," "+row.label),_react2.default.createElement("span",{className:"monRhythmChart__legendValue"}," "+value)))}},{key:"render",value:function render(){var rows=this.props.series.map(this.createSeries);return _react2.default.createElement("div",{className:"monRhythmChart__legendHorizontal"},_react2.default.createElement("div",{className:"row monRhythmChart__legend-series"},rows))}}]);return HorizontalLegendUI}(_react2.default.Component);var HorizontalLegend=exports.HorizontalLegend=(0,_react3.injectI18n)(HorizontalLegendUI)},1940:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getValuesForSeriesIndex=getValuesForSeriesIndex;exports.getValuesByX=getValuesByX;exports.findIndexByX=findIndexByX;function getValuesForSeriesIndex(datasets,index,callback){for(var i=0;i<datasets.length;i++){var series=datasets[i];var data=series.data;var y=null;if(data.length>index&&data[index]){y=data[index][1]}callback(series.id,y)}}function getValuesByX(datasets,x,callback){for(var i=0;i<datasets.length;i++){var index=findIndexByX(datasets[i].data,x);if(index!==-1){getValuesForSeriesIndex(datasets,index,callback);break}}}function findIndexByX(data,x){var length=data.length;if(length===1){return 0}else if(length!==0){var prev=null;if(data[0]){prev=0}for(var j=1;j<length;++j){if(data[j]){if(data[j][0]>x){var currentDistance=data[j][0]-x;if(prev!==null&&currentDistance>Math.abs(x-data[prev][0])){return prev}return j}prev=j}}}return length-1}},1941:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _reactDom2=_interopRequireDefault(_reactDom);var _modules=__webpack_require__(4);var _sparkline=__webpack_require__(613);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _format_number=__webpack_require__(29);var _timefilter=__webpack_require__(16);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("plugins/monitoring/directives",[]);uiModule.directive("sparkline",function($injector){var config=$injector.get("config");var dateFormat=config.get("dateFormat");return{restrict:"E",scope:{series:"="},link:function link(scope,$elem){function onBrush(xaxis){_timefilter.timefilter.setTime({from:(0,_moment2.default)(xaxis.from),to:(0,_moment2.default)(xaxis.to),mode:"absolute"})}function tooltipXValueFormatter(xValue){return(0,_moment2.default)(xValue).format(dateFormat)}function tooltipYValueFormatter(yValue){return(0,_format_number.formatMetric)(yValue,scope.series.metric.format,scope.series.metric.units)}scope.$watch("series",function(series){var options={xaxis:series.timeRange};_reactDom2.default.render(_react2.default.createElement(_sparkline.Sparkline,{series:series.data,onBrush:onBrush,options:options,tooltip:{xValueFormatter:tooltipXValueFormatter,yValueFormatter:tooltipYValueFormatter}}),$elem[0])},true);scope.$on("$destroy",function(){return _reactDom2.default.unmountComponentAtNode($elem[0])})}}})},1942:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SparklineFlotChart=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _jqueryFlot=__webpack_require__(612);var _jqueryFlot2=_interopRequireDefault(_jqueryFlot);var _constants=__webpack_require__(59);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var flotOptions={grid:{show:false,margin:4,hoverable:true},colors:["#3b73ac"],series:{shadowSize:0,lines:{lineWidth:2},highlightColor:"#3b73ac",points:{radius:2}}};function makeData(){var series=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var data=[];data.push(series);data.push({data:[(0,_lodash.last)(series)],points:{show:true,radius:2,fill:1,fillColor:false}});return data}var SparklineFlotChart=exports.SparklineFlotChart=function(){function SparklineFlotChart(containerElem,initialSeries,onBrush,onHover,overrideOptions){_classCallCheck(this,SparklineFlotChart);_initialiseProps.call(this);this.containerElem=containerElem;this.data=makeData(initialSeries);this.options=_extends({},flotOptions,overrideOptions);if((0,_lodash.isFunction)(onBrush)){this.setupBrushHandling(onBrush)}if((0,_lodash.isFunction)(onHover)){this.setupHoverHandling(onHover)}this.render();window.addEventListener("resize",this.render)}_createClass(SparklineFlotChart,[{key:"update",value:function update(series){this.flotChart.setData(makeData(series));this.flotChart.setupGrid();this.flotChart.draw()}},{key:"shutdown",value:function shutdown(){this.flotChart.shutdown();var container=(0,_jqueryFlot2.default)(this.containerElem);container.off("plotselected");container.off("plothover");window.removeEventListener("resize",this.render)}}]);return SparklineFlotChart}();var _initialiseProps=function _initialiseProps(){var _this=this;this.render=function(){_this.flotChart=_jqueryFlot2.default.plot(_this.containerElem,_this.data,_this.options)};this.setupBrushHandling=function(onBrush){_this.options.selection={mode:"x",color:"#9c9c9c"};(0,_jqueryFlot2.default)(_this.containerElem).off("plotselected");(0,_jqueryFlot2.default)(_this.containerElem).on("plotselected",function(_event,range){onBrush(range.xaxis);_this.flotChart.clearSelection()})};this.setupHoverHandling=function(onHover){var container=(0,_jqueryFlot2.default)(_this.containerElem);var debouncedOnHover=(0,_lodash.debounce)(function(_event,_range,item){if(item===null){return onHover()}onHover({xValue:item.datapoint[0],yValue:item.datapoint[1],xPosition:item.pageX-window.pageXOffset,yPosition:item.pageY-window.pageYOffset,plotTop:container.offset().top,plotLeft:container.offset().left,plotHeight:container.height(),plotWidth:container.width()})},_constants.DEBOUNCE_FAST_MS,{leading:true});container.off("plothover");container.on("plothover",debouncedOnHover)}}},1943:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _lodash=__webpack_require__(1);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _numeral=__webpack_require__(212);var _numeral2=_interopRequireDefault(_numeral);var _modules=__webpack_require__(4);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _eui=__webpack_require__(2);var _notify=__webpack_require__(10);var _table=__webpack_require__(186);var _tooltip=__webpack_require__(295);var _alerts_indicator=__webpack_require__(1950);var _react3=__webpack_require__(3);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var IsClusterSupported=function IsClusterSupported(_ref){var isSupported=_ref.isSupported,children=_ref.children;return isSupported?children:"-"};var IsAlertsSupported=function IsAlertsSupported(props){var _props$cluster$alerts=props.cluster.alerts,_props$cluster$alerts2=_props$cluster$alerts.alertsMeta,alertsMeta=_props$cluster$alerts2===undefined?{enabled:true}:_props$cluster$alerts2,_props$cluster$alerts3=_props$cluster$alerts.clusterMeta,clusterMeta=_props$cluster$alerts3===undefined?{enabled:true}:_props$cluster$alerts3;if(alertsMeta.enabled&&clusterMeta.enabled){return _react2.default.createElement("span",null,props.children)}var message=alertsMeta.message||clusterMeta.message;return _react2.default.createElement(_tooltip.Tooltip,{text:message,placement:"bottom",trigger:"hover"},_react2.default.createElement(_eui.EuiHealth,{color:"subdued","data-test-subj":"alertIcon"},"N/A"))};var getColumns=function getColumns(showLicenseExpiration,changeCluster,handleClickIncompatibleLicense,handleClickInvalidLicense){return[{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.nameColumnTitle",{defaultMessage:"Name"}),field:"cluster_name",sortable:true,render:function render(value,cluster){if(cluster.isSupported){return _react2.default.createElement(_eui.EuiLink,{onClick:function onClick(){return changeCluster(cluster.cluster_uuid,cluster.ccs)},"data-test-subj":"clusterLink"},value)}if(cluster.license){return _react2.default.createElement(_eui.EuiLink,{onClick:function onClick(){return handleClickIncompatibleLicense(cluster.cluster_name)},"data-test-subj":"clusterLink"},value)}return _react2.default.createElement(_eui.EuiLink,{onClick:function onClick(){return handleClickInvalidLicense(cluster.cluster_name)},"data-test-subj":"clusterLink"},value)}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.statusColumnTitle",{defaultMessage:"Status"}),field:"status","data-test-subj":"alertsStatus",sortable:true,render:function render(_status,cluster){return _react2.default.createElement(IsClusterSupported,cluster,_react2.default.createElement(IsAlertsSupported,{cluster:cluster},_react2.default.createElement(_alerts_indicator.AlertsIndicator,{alerts:cluster.alerts})))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.nodesColumnTitle",{defaultMessage:"Nodes"}),field:"elasticsearch.cluster_stats.nodes.count.total","data-test-subj":"nodesCount",sortable:true,render:function render(total,cluster){return _react2.default.createElement(IsClusterSupported,cluster,(0,_numeral2.default)(total).format("0,0"))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.indicesColumnTitle",{defaultMessage:"Indices"}),field:"elasticsearch.cluster_stats.indices.count","data-test-subj":"indicesCount",sortable:true,render:function render(count,cluster){return _react2.default.createElement(IsClusterSupported,cluster,(0,_numeral2.default)(count).format("0,0"))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.dataColumnTitle",{defaultMessage:"Data"}),field:"elasticsearch.cluster_stats.indices.store.size_in_bytes","data-test-subj":"dataSize",sortable:true,render:function render(size,cluster){return _react2.default.createElement(IsClusterSupported,cluster,(0,_numeral2.default)(size).format("0,0[.]0 b"))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.logstashColumnTitle",{defaultMessage:"Logstash"}),field:"logstash.node_count","data-test-subj":"logstashCount",sortable:true,render:function render(count,cluster){return _react2.default.createElement(IsClusterSupported,cluster,(0,_numeral2.default)(count).format("0,0"))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.kibanaColumnTitle",{defaultMessage:"Kibana"}),field:"kibana.count","data-test-subj":"kibanaCount",sortable:true,render:function render(count,cluster){return _react2.default.createElement(IsClusterSupported,cluster,(0,_numeral2.default)(count).format("0,0"))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.licenseColumnTitle",{defaultMessage:"License"}),field:"license.type","data-test-subj":"clusterLicense",sortable:true,render:function render(licenseType,cluster){var license=cluster.license;if(license){var licenseExpiry=function licenseExpiry(){if(license.expiry_date_in_millis<(0,_moment2.default)().valueOf()){return _react2.default.createElement("span",{className:"monTableCell__clusterCellExpired"},"Expired")}return _react2.default.createElement("span",null,"Expires ",(0,_moment2.default)(license.expiry_date_in_millis).format("D MMM YY"))};return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"monTableCell__clusterCellLiscense"},(0,_lodash.capitalize)(licenseType)),_react2.default.createElement("div",{className:"monTableCell__clusterCellExpiration"},showLicenseExpiration?licenseExpiry():null))}return _react2.default.createElement(_eui.EuiLink,{onClick:function onClick(){return handleClickInvalidLicense(cluster.cluster_name)}},_react2.default.createElement(_eui.EuiHealth,{color:"subdued","data-test-subj":"alertIcon"},"N/A"))}}]};var changeCluster=function changeCluster(scope,globalState,kbnUrl,clusterUuid,ccs){scope.$evalAsync(function(){globalState.cluster_uuid=clusterUuid;globalState.ccs=ccs;globalState.save();kbnUrl.changePath("/overview")})};var licenseWarning=function licenseWarning(scope,_ref2){var title=_ref2.title,text=_ref2.text;scope.$evalAsync(function(){_notify.toastNotifications.addWarning({title:title,text:text,"data-test-subj":"monitoringLicenseWarning"})})};var handleClickIncompatibleLicense=function handleClickIncompatibleLicense(scope,clusterName){licenseWarning(scope,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.listing.incompatibleLicense.warningMessageTitle",defaultMessage:"You can't view the {clusterName} cluster",values:{clusterName:'"'+clusterName+'"'}}),text:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.listing.incompatibleLicense.noMultiClusterSupportMessage",defaultMessage:"The Basic license does not support multi-cluster monitoring."})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.listing.incompatibleLicense.infoMessage",defaultMessage:"Need to monitor multiple clusters? {getLicenseInfoLink} to enjoy multi-cluster monitoring.",values:{getLicenseInfoLink:_react2.default.createElement("a",{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.listing.incompatibleLicense.getLicenseLinkLabel",defaultMessage:"Get a license with full functionality"}))}})))})};var handleClickInvalidLicense=function handleClickInvalidLicense(scope,clusterName){var licensingPath=_chrome2.default.getBasePath()+"/app/kibana#/management/elasticsearch/license_management/home";licenseWarning(scope,{title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.listing.invalidLicense.warningMessageTitle",defaultMessage:"You can't view the {clusterName} cluster",values:{clusterName:'"'+clusterName+'"'}}),text:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.listing.invalidLicense.invalidInfoMessage",defaultMessage:"The license information is invalid."})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.listing.invalidLicense.infoMessage",defaultMessage:"Need a license? {getBasicLicenseLink} or {getLicenseInfoLink} to enjoy multi-cluster monitoring.",values:{getBasicLicenseLink:_react2.default.createElement("a",{href:licensingPath},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.listing.invalidLicense.getBasicLicenseLinkLabel",defaultMessage:"Get a free Basic license"})),getLicenseInfoLink:_react2.default.createElement("a",{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.listing.invalidLicense.getLicenseLinkLabel",defaultMessage:"get a license with full functionality"}))}})))})};var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringClusterListing",function($injector){return{restrict:"E",scope:{clusters:"=",sorting:"=",filterText:"=",paginationSettings:"=pagination",onTableChange:"="},link:function link(scope,$el){var globalState=$injector.get("globalState");var kbnUrl=$injector.get("kbnUrl");var showLicenseExpiration=$injector.get("showLicenseExpiration");var _changeCluster=(0,_lodash.partial)(changeCluster,scope,globalState,kbnUrl);var _handleClickIncompatibleLicense=(0,_lodash.partial)(handleClickIncompatibleLicense,scope);var _handleClickInvalidLicense=(0,_lodash.partial)(handleClickInvalidLicense,scope);var sorting=scope.sorting,pagination=scope.pagination,onTableChange=scope.onTableChange;scope.$watch("clusters",function(){var clusters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var clusterTable=_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_table.EuiMonitoringTable,{className:"clusterTable",rows:clusters,columns:getColumns(showLicenseExpiration,_changeCluster,_handleClickIncompatibleLicense,_handleClickInvalidLicense),rowProps:function rowProps(item){return{"data-test-subj":"clusterRow_"+item.cluster_uuid}},sorting:_extends({},sorting,{sort:_extends({},sorting.sort,{field:"cluster_name"})}),pagination:pagination,search:{box:{incremental:true,placeholder:scope.filterText}},onTableChange:onTableChange})))));(0,_reactDom.render)(clusterTable,$el[0])})}}})},1944:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringTable=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _constants=__webpack_require__(59);var _components=__webpack_require__(243);var _toolbar=__webpack_require__(1945);var _no_data=__webpack_require__(1946);var _footer=__webpack_require__(1947);var _classnames=__webpack_require__(192);var _classnames2=_interopRequireDefault(_classnames);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MonitoringTableUI=function(_React$Component){_inherits(MonitoringTableUI,_React$Component);function MonitoringTableUI(props){_classCallCheck(this,MonitoringTableUI);var _this=_possibleConstructorReturn(this,(MonitoringTableUI.__proto__||Object.getPrototypeOf(MonitoringTableUI)).call(this,props));var sortKey=props.sortKey;var sortOrder=props.sortOrder;if(props.sortKey===undefined||props.sortOrder===undefined){var defaultSortColumn=props.columns.find(function(c){return c.hasOwnProperty("sortOrder")});sortKey=defaultSortColumn?defaultSortColumn.sortKey:null;sortOrder=defaultSortColumn?defaultSortColumn.sortOrder:null}var secondarySortColumn=props.columns.find(function(c){return c.hasOwnProperty("secondarySortOrder")});var secondarySortKey=secondarySortColumn?secondarySortColumn.sortKey:null;var secondarySortOrder=secondarySortColumn?secondarySortColumn.secondarySortOrder:null;_this.state={rows:props.rows,sortKey:sortKey,sortOrder:sortOrder,secondarySortKey:secondarySortKey,secondarySortOrder:secondarySortOrder,filterText:props.filterText||"",pageIndex:props.pageIndex||1};_this.paginationOnPrevious=_this.paginationOnPrevious.bind(_this);_this.paginationOnNext=_this.paginationOnNext.bind(_this);_this.onFilterChange=_this.onFilterChange.bind(_this);_this.dispatchTableAction=_this.dispatchTableAction.bind(_this);return _this}_createClass(MonitoringTableUI,[{key:"setFilter",value:function setFilter(filterText){var _this2=this;this.setState(function(prevState){var newState=_extends({},prevState,{pageIndex:1,filterText:filterText});_this2.onNewState(newState);return newState})}},{key:"resetPaging",value:function resetPaging(){var _this3=this;this.setState(function(prevState){var newState=_extends({},prevState,{pageIndex:1});_this3.onNewState(newState);return newState})}},{key:"dispatchTableAction",value:function dispatchTableAction(action,value){switch(action){case _constants.TABLE_ACTION_UPDATE_FILTER:this.setFilter(value);break;case _constants.TABLE_ACTION_RESET_PAGING:this.resetPaging();break;default:throw new Error(this.props.intl.formatMessage({id:"xpack.monitoring.table.unknownTableActionTypeErrorMessage",defaultMessage:"Unknown table action type {action}! This shouldn't happen!"},{action:action}))}}},{key:"onNewState",value:function onNewState(newState){if(this.props.onNewState){this.props.onNewState(newState)}}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){var diffRows=!(0,_lodash.isEqual)(nextProps.rows,this.props.rows);var diffState=!(0,_lodash.isEqual)(nextState,this.state);if(diffRows||diffState){return true}return false}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(_ref){var rows=_ref.rows;this.setState({rows:rows})}},{key:"checkRowFilterMatch",value:function checkRowFilterMatch(row){var values=this.props.filterFields.map(function(field){return(0,_lodash.get)(row,field)});return(0,_lodash.includes)(values.join(" ").toLowerCase(),this.state.filterText.toLowerCase())}},{key:"getFilteredRows",value:function getFilteredRows(){var _this4=this;var rows=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(!this.state.filterText){return rows}return rows.filter(function(row){return _this4.checkRowFilterMatch(row)})}},{key:"onFilterChange",value:function onFilterChange(filterText){this.setFilter(filterText)}},{key:"paginationHasPrevious",value:function paginationHasPrevious(){return this.state.pageIndex>1}},{key:"paginationOnPrevious",value:function paginationOnPrevious(){var _this5=this;this.setState(function(prevState){var newState=_extends({},prevState,{pageIndex:prevState.pageIndex-1});_this5.onNewState(newState);return newState})}},{key:"paginationHasNext",value:function paginationHasNext(numAvailableRows){var pageIndex=this.state.pageIndex;var numPages=Math.ceil(numAvailableRows/this.props.rowsPerPage);return pageIndex<numPages}},{key:"paginationOnNext",value:function paginationOnNext(){var _this6=this;this.setState(function(prevState){var newState=_extends({},prevState,{pageIndex:prevState.pageIndex+1});_this6.onNewState(newState);return newState})}},{key:"getPaginationControls",value:function getPaginationControls(numAvailableRows,alwaysShowPageControls){var shouldShow=false;if(this.isPaginationRequired(numAvailableRows)||alwaysShowPageControls){shouldShow=true}if(!shouldShow){return null}var hasPrevious=this.paginationHasPrevious();var hasNext=this.paginationHasNext(numAvailableRows);return _react2.default.createElement(_components.KuiPagerButtonGroup,{hasNext:hasNext,hasPrevious:hasPrevious,onPrevious:this.paginationOnPrevious,onNext:this.paginationOnNext})}},{key:"calculateFirstRow",value:function calculateFirstRow(){return this.state.pageIndex*this.props.rowsPerPage-this.props.rowsPerPage}},{key:"getToolBar",value:function getToolBar(numVisibleRows,numAvailableRows){var firstRow=this.calculateFirstRow();return _react2.default.createElement(_toolbar.MonitoringTableToolBar,_extends({showSearchBox:this.isSearchBoxShown(),pageIndexFirstRow:numVisibleRows?firstRow+1:0,pageIndexLastRow:numVisibleRows?numVisibleRows+firstRow:0,rowsFiltered:numAvailableRows,totalRows:this.state.rows.length,filterText:this.state.filterText,paginationControls:this.getPaginationControls(numAvailableRows,this.props.alwaysShowPageControls),onFilterChange:this.onFilterChange,dispatchTableAction:this.dispatchTableAction},this.props))}},{key:"setSortColumn",value:function setSortColumn(_ref2){var _this7=this;var sortKey=_ref2.sortKey;this.setState(function(prevState){var newSortOrder=void 0;if(sortKey===_this7.state.sortKey){newSortOrder=prevState.sortOrder*-1}else{newSortOrder=1}var newState=_extends({},prevState,{sortOrder:newSortOrder,sortKey:sortKey});_this7.onNewState(newState);return newState})}},{key:"getTableHeader",value:function getTableHeader(){var _this8=this;return this.props.columns.map(function(col){var headerCellProps={};if(col.headerCellProps){Object.assign(headerCellProps,col.headerCellProps)}var colKey=(0,_lodash.camelCase)(col.title);return _react2.default.createElement(_components.KuiTableHeaderCell,_extends({key:"kuiTableHeaderCell-"+colKey,onSort:col.sortKey!==null?_this8.setSortColumn.bind(_this8,col):null,isSorted:_this8.state.sortKey===col.sortKey,isSortAscending:_this8.state.sortKey===col.sortKey?_this8.state.sortOrder>0:true,"data-test-subj":"tableHeaderCell-"+colKey},headerCellProps),col.title)})}},{key:"getFooter",value:function getFooter(numVisibleRows,numAvailableRows,alwaysShowPageControls){if(!this.isPaginationRequired(numAvailableRows)){return null}var firstRow=this.calculateFirstRow();return _react2.default.createElement(_footer.MonitoringTableFooter,{pageIndexFirstRow:numVisibleRows?firstRow+1:0,pageIndexLastRow:numVisibleRows?numVisibleRows+firstRow:0,rowsFiltered:numAvailableRows,paginationControls:this.getPaginationControls(numAvailableRows,alwaysShowPageControls)})}},{key:"sortRows",value:function sortRows(){var rows=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(!this.state.sortKey){return rows}var _sortOrder=this.state.sortOrder>0?"asc":"desc";var _secondarySortOrder=void 0;if(this.state.secondarySortOrder){_secondarySortOrder=this.state.secondarySortOrder>0?"asc":"desc"}return(0,_lodash.sortByOrder)(rows,[this.state.sortKey,this.state.secondarySortKey],[_sortOrder,_secondarySortOrder])}},{key:"getVisibleRows",value:function getVisibleRows(rows){var filteredRows=this.getFilteredRows(rows);var numAvailableRows=filteredRows.length;var sortedRows=this.sortRows(filteredRows);var firstRow=this.calculateFirstRow();var visibleRows=sortedRows.slice(firstRow,firstRow+this.props.rowsPerPage)||[];return{numAvailableRows:numAvailableRows,visibleRows:visibleRows}}},{key:"isPaginationRequired",value:function isPaginationRequired(numAvailableRows){var hasPrevious=this.paginationHasPrevious();var hasNext=this.paginationHasNext(numAvailableRows);return hasPrevious||hasNext}},{key:"isSearchBoxShown",value:function isSearchBoxShown(){return Boolean(this.props.filterFields)&&this.props.filterFields.length>0}},{key:"render",value:function render(){var _this9=this;var classes=(0,_classnames2.default)(this.props.className,"monTable");var table=void 0;var _getVisibleRows=this.getVisibleRows(this.state.rows||[]),visibleRows=_getVisibleRows.visibleRows,numAvailableRows=_getVisibleRows.numAvailableRows;var numVisibleRows=visibleRows.length;if(this.state.rows===null){table=_react2.default.createElement(_no_data.MonitoringTableNoData,{message:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.table.loadingTitle",defaultMessage:"Loading…"})})}else if(numVisibleRows>0){var RowComponent=this.props.rowComponent;var tBody=visibleRows.map(function(rowData,rowIndex){return _react2.default.createElement(RowComponent,_extends({},rowData,{key:"rowData-"+rowIndex,dispatchTableAction:_this9.dispatchTableAction}))});table=_react2.default.createElement(_components.KuiTable,{shrinkToContent:true},_react2.default.createElement("thead",null,_react2.default.createElement("tr",null,this.getTableHeader())),_react2.default.createElement("tbody",{"data-test-subj":this.props.className+"Body"},tBody))}else{table=_react2.default.createElement(_no_data.MonitoringTableNoData,{message:this.props.getNoDataMessage(this.state.filterText)})}return _react2.default.createElement(_components.KuiControlledTable,{className:classes,"data-test-subj":this.props.className+"Container",style:{margin:10}},this.getToolBar(numVisibleRows,numAvailableRows),table,this.getFooter(numVisibleRows,numAvailableRows,this.props.alwaysShowPageControls))}}]);return MonitoringTableUI}(_react2.default.Component);var defaultGetNoDataMessage=function defaultGetNoDataMessage(filterText){if(filterText){return _constants.DEFAULT_NO_DATA_MESSAGE_WITH_FILTER.replace("{{FILTER}}",filterText.trim())}return _constants.DEFAULT_NO_DATA_MESSAGE};MonitoringTableUI.defaultProps={rows:[],filterFields:[],getNoDataMessage:defaultGetNoDataMessage,alwaysShowPageControls:false,rowsPerPage:20};var MonitoringTable=exports.MonitoringTable=(0,_react3.injectI18n)(MonitoringTableUI)},1945:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringTableToolBar=MonitoringTableToolBar;var _lodash=__webpack_require__(1);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _components=__webpack_require__(243);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MonitoringTableToolBar(props){var searchBox=props.showSearchBox?_react2.default.createElement(_components.KuiToolBarSearchBox,{defaultValue:props.filterText,onFilter:props.onFilterChange,placeholder:props.placeholder,"data-test-subj":"monitoringTableToolBar"}):null;var paginationSection=Boolean(props.paginationControls)?_react2.default.createElement(_components.KuiToolBarSection,null,_react2.default.createElement(_components.KuiToolBarText,null,props.pageIndexFirstRow," – ",props.pageIndexLastRow," of ",props.rowsFiltered),props.paginationControls):null;var totalRows=Boolean(props.showTotalRows)?_react2.default.createElement("p",{tabIndex:"0",className:"monitoringTableToolbarTotalRows"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.table.toolbar.totalRowsDescription",defaultMessage:"{totalRows} in total",values:{totalRows:props.totalRows}})):null;return _react2.default.createElement(_components.KuiToolBar,null,searchBox,totalRows,props.renderToolBarSections(props),paginationSection)}MonitoringTableToolBar.defaultProps={renderToolBarSections:_lodash.noop,showSearchBox:true,showTotalRows:true}},1946:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringTableNoData=MonitoringTableNoData;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _components=__webpack_require__(243);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MonitoringTableNoData(_ref){var message=_ref.message;return _react2.default.createElement(_components.KuiEmptyTablePromptPanel,{"data-test-subj":"monitoringTableNoData"},_react2.default.createElement(_components.KuiTableInfo,null,message))}},1947:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringTableFooter=MonitoringTableFooter;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _components=__webpack_require__(243);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MonitoringTableFooter(_ref){var pageIndexFirstRow=_ref.pageIndexFirstRow,pageIndexLastRow=_ref.pageIndexLastRow,rowsFiltered=_ref.rowsFiltered,paginationControls=_ref.paginationControls;return _react2.default.createElement(_components.KuiToolBarFooter,null,_react2.default.createElement(_components.KuiToolBarFooterSection,null,_react2.default.createElement(_components.KuiToolBarText,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.table.footer.pageRowsDescription",defaultMessage:"{pageIndexFirstRow} – {pageIndexLastRow} of {rowsFiltered}",values:{pageIndexFirstRow:pageIndexFirstRow,pageIndexLastRow:pageIndexLastRow,rowsFiltered:rowsFiltered}})),paginationControls))}},1948:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EuiMonitoringTable=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var EuiMonitoringTable=exports.EuiMonitoringTable=function(_React$PureComponent){_inherits(EuiMonitoringTable,_React$PureComponent);function EuiMonitoringTable(){_classCallCheck(this,EuiMonitoringTable);return _possibleConstructorReturn(this,(EuiMonitoringTable.__proto__||Object.getPrototypeOf(EuiMonitoringTable)).apply(this,arguments))}_createClass(EuiMonitoringTable,[{key:"render",value:function render(){var _props=this.props,items=_props.rows,_props$search=_props.search,search=_props$search===undefined?{}:_props$search,_columns=_props.columns,props=_objectWithoutProperties(_props,["rows","search","columns"]);if(search.box&&!search.box["data-test-subj"]){search.box["data-test-subj"]="monitoringTableToolBar"}var columns=_columns.map(function(column){if(!column["data-test-subj"]){column["data-test-subj"]="monitoringTableHasData"}return column});return _react2.default.createElement("div",{"data-test-subj":this.props.className+"Container"},_react2.default.createElement(_eui.EuiInMemoryTable,_extends({items:items,search:search,columns:columns},props)))}}]);return EuiMonitoringTable}(_react2.default.PureComponent)},1949:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.euiTableStorageSetter=exports.euiTableStorageGetter=exports.tableStorageSetter=exports.tableStorageGetter=undefined;var _lodash=__webpack_require__(1);var _constants=__webpack_require__(59);var tableStorageGetter=exports.tableStorageGetter=function tableStorageGetter(keyPrefix){return function(storage){var localStorageData=storage.get(_constants.STORAGE_KEY)||{};var filterText=(0,_lodash.get)(localStorageData,[keyPrefix,"filterText"]);var pageIndex=(0,_lodash.get)(localStorageData,[keyPrefix,"pageIndex"]);var sortKey=(0,_lodash.get)(localStorageData,[keyPrefix,"sortKey"]);var sortOrder=(0,_lodash.get)(localStorageData,[keyPrefix,"sortOrder"]);return{pageIndex:pageIndex,filterText:filterText,sortKey:sortKey,sortOrder:sortOrder}}};var tableStorageSetter=exports.tableStorageSetter=function tableStorageSetter(keyPrefix){return function(storage,_ref){var filterText=_ref.filterText,pageIndex=_ref.pageIndex,sortKey=_ref.sortKey,sortOrder=_ref.sortOrder;var localStorageData=storage.get(_constants.STORAGE_KEY)||{};(0,_lodash.set)(localStorageData,[keyPrefix,"filterText"],filterText||undefined);(0,_lodash.set)(localStorageData,[keyPrefix,"pageIndex"],pageIndex||undefined);(0,_lodash.set)(localStorageData,[keyPrefix,"sortKey"],sortKey||undefined);(0,_lodash.set)(localStorageData,[keyPrefix,"sortOrder"],sortOrder||undefined);storage.set(_constants.STORAGE_KEY,localStorageData);return localStorageData}};var euiTableStorageGetter=exports.euiTableStorageGetter=function euiTableStorageGetter(keyPrefix){return function(storage){var localStorageData=storage.get(_constants.STORAGE_KEY)||{};var sort=(0,_lodash.get)(localStorageData,[keyPrefix,"sort"]);var page=(0,_lodash.get)(localStorageData,[keyPrefix,"page"]);return{page:page,sort:sort}}};var euiTableStorageSetter=exports.euiTableStorageSetter=function euiTableStorageSetter(keyPrefix){return function(storage,_ref2){var sort=_ref2.sort,page=_ref2.page;var localStorageData=storage.get(_constants.STORAGE_KEY)||{};(0,_lodash.set)(localStorageData,[keyPrefix,"sort"],sort||undefined);(0,_lodash.set)(localStorageData,[keyPrefix,"page"],page||undefined);storage.set(_constants.STORAGE_KEY,localStorageData);return localStorageData}}},1950:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertsIndicator=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _tooltip=__webpack_require__(295);var _map_severity=__webpack_require__(614);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HIGH_SEVERITY=2e3;var MEDIUM_SEVERITY=1e3;var LOW_SEVERITY=0;function AlertsIndicatorUi(_ref){var alerts=_ref.alerts,intl=_ref.intl;if(alerts&&alerts.count>0){var severity=function(){if(alerts.high>0){return HIGH_SEVERITY}if(alerts.medium>0){return MEDIUM_SEVERITY}return LOW_SEVERITY}();var severityIcon=(0,_map_severity.mapSeverity)(severity);var tooltipText=function(){switch(severity){case HIGH_SEVERITY:return intl.formatMessage({id:"xpack.monitoring.cluster.listing.alertsInticator.highSeverityTooltip",defaultMessage:"There are some critical cluster issues that require your immediate attention!"});case MEDIUM_SEVERITY:return intl.formatMessage({id:"xpack.monitoring.cluster.listing.alertsInticator.mediumSeverityTooltip",defaultMessage:"There are some issues that might have impact on your cluster."});default:return intl.formatMessage({id:"xpack.monitoring.cluster.listing.alertsInticator.lowSeverityTooltip",defaultMessage:"There are some low-severity cluster issues"})}}();return _react2.default.createElement(_tooltip.Tooltip,{text:tooltipText,placement:"bottom",trigger:"hover"},_react2.default.createElement(_eui.EuiHealth,{color:severityIcon.color,"data-test-subj":"alertIcon"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.listing.alertsInticator.alertsTooltip",defaultMessage:"Alerts"})))}return _react2.default.createElement(_tooltip.Tooltip,{text:intl.formatMessage({id:"xpack.monitoring.cluster.listing.alertsInticator.clearStatusTooltip",defaultMessage:"Cluster status is clear!"}),placement:"bottom",trigger:"hover"},_react2.default.createElement(_eui.EuiHealth,{color:"success","data-test-subj":"alertIcon"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.listing.alertsInticator.clearTooltip",defaultMessage:"Clear"})))}var AlertsIndicator=exports.AlertsIndicator=(0,_react3.injectI18n)(AlertsIndicatorUi)},1951:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _modules=__webpack_require__(4);var _cluster_status=__webpack_require__(395);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringClusterStatusElasticsearch",function(){return{restrict:"E",scope:{status:"="},link:function link(scope,$el){scope.$watch("status",function(status){(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_cluster_status.ClusterStatus,{stats:status})),$el[0])})}}})},1952:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.SummaryStatus=SummaryStatus;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _eui=__webpack_require__(2);var _index=__webpack_require__(335);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var wrapChild=function wrapChild(_ref,index){var label=_ref.label,value=_ref.value,props=_objectWithoutProperties(_ref,["label","value"]);return _react2.default.createElement(_eui.EuiFlexItem,_extends({key:"summary-status-item-"+index,grow:false},props),_react2.default.createElement(_eui.EuiStat,{title:value,titleSize:"s",textAlign:"left",description:label?label+":":""}))};var DefaultIconComponent=function DefaultIconComponent(_ref2){var status=_ref2.status;return _react2.default.createElement(_react.Fragment,null,"Status: ",_react2.default.createElement(_index.StatusIcon,{type:status.toUpperCase(),label:"Status: "+status}))};var StatusIndicator=function StatusIndicator(_ref3){var status=_ref3.status,isOnline=_ref3.isOnline,IconComponent=_ref3.IconComponent;if((0,_lodash.isEmpty)(status)){return null}return _react2.default.createElement(_eui.EuiFlexItem,{key:"summary-status-item-status",grow:false},_react2.default.createElement(_eui.EuiStat,{title:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(IconComponent,{status:status,isOnline:isOnline})," ",(0,_lodash.capitalize)(status)),titleSize:"s",textAlign:"left",description:"Status:"}))};function SummaryStatus(_ref4){var metrics=_ref4.metrics,status=_ref4.status,isOnline=_ref4.isOnline,_ref4$IconComponent=_ref4.IconComponent,IconComponent=_ref4$IconComponent===undefined?DefaultIconComponent:_ref4$IconComponent,props=_objectWithoutProperties(_ref4,["metrics","status","isOnline","IconComponent"]);return _react2.default.createElement("div",props,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(StatusIndicator,{status:status,IconComponent:IconComponent,isOnline:isOnline}),metrics.map(wrapChild)),_react2.default.createElement(_eui.EuiHorizontalRule,null))}SummaryStatus.propTypes={metrics:_propTypes2.default.array.isRequired}},1953:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _modules=__webpack_require__(4);var _index_detail_status=__webpack_require__(616);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringIndexSummary",function(){return{restrict:"E",scope:{summary:"="},link:function link(scope,$el){scope.$watch("summary",function(summary){(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_index_detail_status.IndexDetailStatus,{stats:summary})),$el[0])})}}})},1954:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _modules=__webpack_require__(4);var _node_detail_status=__webpack_require__(617);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringNodeSummary",function(){return{restrict:"E",scope:{node:"="},link:function link(scope,$el){scope.$watch("node",function(node){(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_node_detail_status.NodeDetailStatus,{stats:node})),$el[0])})}}})},1955:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeStatusIcon=undefined;exports.NodeStatusIconUI=NodeStatusIconUI;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _status_icon=__webpack_require__(335);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NodeStatusIconUI(_ref){var isOnline=_ref.isOnline,status=_ref.status,intl=_ref.intl;var type=isOnline?_status_icon.StatusIcon.TYPES.GREEN:_status_icon.StatusIcon.TYPES.GRAY;return _react2.default.createElement(_status_icon.StatusIcon,{type:type,label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.node.statusIconLabel",defaultMessage:"Status: {status}"},{status:status})})}var NodeStatusIcon=exports.NodeStatusIcon=(0,_react3.injectI18n)(NodeStatusIconUI)},1956:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _lodash=__webpack_require__(1);var _numeral=__webpack_require__(212);var _numeral2=_interopRequireDefault(_numeral);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _modules=__webpack_require__(4);var _table=__webpack_require__(186);var _status_icon=__webpack_require__(1957);var _formatting=__webpack_require__(272);var _eui=__webpack_require__(2);var _cluster_status=__webpack_require__(395);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getColumns=function getColumns(kbnUrl,scope){return[{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.jobIdTitle",{defaultMessage:"Job ID"}),field:"job_id",sortable:true},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.stateTitle",{defaultMessage:"State"}),field:"state",sortable:true,render:function render(state){return _react2.default.createElement("div",null,_react2.default.createElement(_status_icon.MachineLearningJobStatusIcon,{status:state})," ",(0,_lodash.capitalize)(state))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.processedRecordsTitle",{defaultMessage:"Processed Records"}),field:"data_counts.processed_record_count",sortable:true,render:function render(value){return _react2.default.createElement("span",null,(0,_numeral2.default)(value).format(_formatting.LARGE_ABBREVIATED))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.modelSizeTitle",{defaultMessage:"Model Size"}),field:"model_size_stats.model_bytes",sortable:true,render:function render(value){return _react2.default.createElement("span",null,(0,_numeral2.default)(value).format(_formatting.LARGE_BYTES))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.forecastsTitle",{defaultMessage:"Forecasts"}),field:"forecasts_stats.total",sortable:true,render:function render(value){return _react2.default.createElement("span",null,(0,_numeral2.default)(value).format(_formatting.LARGE_ABBREVIATED))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.nodeTitle",{defaultMessage:"Node"}),field:"node.name",sortable:true,render:function render(name,node){if(node){return _react2.default.createElement(_eui.EuiLink,{onClick:function onClick(){scope.$evalAsync(function(){return kbnUrl.changePath("/elasticsearch/nodes/"+node.id)})}},name)}return _react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.mlJobListing.noDataLabel",defaultMessage:"N/A"})}}]};var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringMlListing",function(kbnUrl){return{restrict:"E",scope:{jobs:"=",paginationSettings:"=",sorting:"=",onTableChange:"=",status:"="},link:function link(scope,$el){var columns=getColumns(kbnUrl,scope);var filterJobsPlaceholder=_i18n.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.filterJobsPlaceholder",{defaultMessage:"Filter Jobs…"});scope.$watch("jobs",function(){var jobs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var mlTable=_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_cluster_status.ClusterStatus,{stats:scope.status}),_react2.default.createElement(_table.EuiMonitoringTable,{className:"mlJobsTable",rows:jobs,columns:columns,sorting:_extends({},scope.sorting,{sort:_extends({},scope.sorting.sort,{field:"job_id"})}),pagination:scope.paginationSettings,message:_i18n.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.noJobsDescription",{defaultMessage:"There are no Machine Learning Jobs that match your query. Try changing the time range selection."}),search:{box:{incremental:true,placeholder:filterJobsPlaceholder}},onTableChange:scope.onTableChange})))));(0,_reactDom.render)(mlTable,$el[0])})}}})},1957:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MachineLearningJobStatusIcon=undefined;exports.MachineLearningJobStatusIconUI=MachineLearningJobStatusIconUI;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _status_icon=__webpack_require__(335);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MachineLearningJobStatusIconUI(_ref){var status=_ref.status,intl=_ref.intl;var type=function(){var statusKey=status.toUpperCase();if(statusKey==="OPENED"){return _status_icon.StatusIcon.TYPES.GREEN}else if(statusKey==="CLOSED"){return _status_icon.StatusIcon.TYPES.GRAY}else if(statusKey==="FAILED"){return _status_icon.StatusIcon.TYPES.RED}return _status_icon.StatusIcon.TYPES.YELLOW}();return _react2.default.createElement(_status_icon.StatusIcon,{type:type,label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.mlJobListing.statusIconLabel",defaultMessage:"Job Status: {status}"},{status:status})})}var MachineLearningJobStatusIcon=exports.MachineLearningJobStatusIcon=(0,_react3.injectI18n)(MachineLearningJobStatusIconUI)},1958:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _modules=__webpack_require__(4);var _cluster_status=__webpack_require__(618);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringClusterStatusKibana",function(){return{restrict:"E",scope:{status:"="},link:function link(scope,$el){scope.$watch("status",function(status){(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_cluster_status.ClusterStatus,{stats:status})),$el[0])})}}})},1959:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _modules=__webpack_require__(4);var _components=__webpack_require__(243);var _status_icon=__webpack_require__(465);var _table=__webpack_require__(186);var _constants=__webpack_require__(59);var _format_number=__webpack_require__(29);var _eui=__webpack_require__(2);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var filterFields=["kibana.name","kibana.host","kibana.status","kibana.transport_address"];var columns=[{title:_i18n.i18n.translate("xpack.monitoring.kibana.listing.nameColumnTitle",{defaultMessage:"Name"}),sortKey:"kibana.name",sortOrder:_constants.SORT_ASCENDING},{title:_i18n.i18n.translate("xpack.monitoring.kibana.listing.statusColumnTitle",{defaultMessage:"Status"}),sortKey:"kibana.status"},{title:_i18n.i18n.translate("xpack.monitoring.kibana.listing.loadAverageColumnTitle",{defaultMessage:"Load Average"}),sortKey:"os.load.1m"},{title:_i18n.i18n.translate("xpack.monitoring.kibana.listing.memorySizeColumnTitle",{defaultMessage:"Memory Size"}),sortKey:"process.memory.resident_set_size_in_bytes"},{title:_i18n.i18n.translate("xpack.monitoring.kibana.listing.requestsColumnTitle",{defaultMessage:"Requests"}),sortKey:"requests.total"},{title:_i18n.i18n.translate("xpack.monitoring.kibana.listing.responseTimeColumnTitle",{defaultMessage:"Response Times"}),sortKey:"response_times.average"}];var instanceRowFactory=function instanceRowFactory(scope,kbnUrl){var goToInstance=function goToInstance(uuid){scope.$evalAsync(function(){kbnUrl.changePath("/kibana/instances/"+uuid)})};return(0,_react3.injectI18n)(function KibanaRow(props){return _react2.default.createElement(_components.KuiTableRow,null,_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monTableCell__name"},_react2.default.createElement(_eui.EuiLink,{onClick:goToInstance.bind(null,(0,_lodash.get)(props,"kibana.uuid")),"data-test-subj":"kibanaLink-"+props.kibana.name},props.kibana.name)),_react2.default.createElement("div",{className:"monTableCell__transportAddress"},(0,_lodash.get)(props,"kibana.transport_address"))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monTableCell__status",title:props.intl.formatMessage({id:"xpack.monitoring.kibana.listing.instanceStatusTitle",defaultMessage:"Instance status: {kibanaStatus}"},{kibanaStatus:props.kibana.status})},_react2.default.createElement(_status_icon.KibanaStatusIcon,{status:props.kibana.status,availability:props.availability})," ",!props.availability?_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.kibana.listing.instanceStatus.offlineLabel",defaultMessage:"Offline"}):(0,_lodash.capitalize)(props.kibana.status))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monTableCell__number"},(0,_format_number.formatMetric)((0,_lodash.get)(props,'os.load["1m"]'),"0.00"))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monTableCell__number"},(0,_format_number.formatNumber)(props.process.memory.resident_set_size_in_bytes,"byte"))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monTableCell__number"},(0,_format_number.formatNumber)(props.requests.total,"int_commas"))),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("div",{className:"monTableCell__splitNumber"},props.response_times.average&&(0,_format_number.formatNumber)(props.response_times.average,"int_commas")+" ms avg"),_react2.default.createElement("div",{className:"monTableCell__splitNumber"},(0,_format_number.formatNumber)(props.response_times.max,"int_commas")," ms max")))})};var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringKibanaListing",function(kbnUrl,i18n){return{restrict:"E",scope:{instances:"=",pageIndex:"=",filterText:"=",sortKey:"=",sortOrder:"=",onNewState:"="},link:function link(scope,$el){var filterInstancesPlaceholder=i18n("xpack.monitoring.kibana.listing.filterInstancesPlaceholder",{defaultMessage:"Filter Instances…"});scope.$watch("instances",function(){var instances=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var kibanasTable=_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_table.MonitoringTable,{className:"kibanaInstancesTable",rows:instances,pageIndex:scope.pageIndex,filterText:scope.filterText,sortKey:scope.sortKey,sortOrder:scope.sortOrder,onNewState:scope.onNewState,placeholder:filterInstancesPlaceholder,filterFields:filterFields,columns:columns,rowComponent:instanceRowFactory(scope,kbnUrl)}));(0,_reactDom.render)(kibanasTable,$el[0])})}}})},1960:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _modules=__webpack_require__(4);var _detail_status=__webpack_require__(964);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringKibanaSummary",function(){return{restrict:"E",scope:{kibana:"="},link:function link(scope,$el){scope.$watch("kibana",function(kibana){(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_detail_status.DetailStatus,{stats:kibana})),$el[0])})}}})},1961:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _reactDom=__webpack_require__(15);var _modules=__webpack_require__(4);var _overview=__webpack_require__(1962);var _timefilter=__webpack_require__(16);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringBeatsOverview",function(){return{restrict:"E",scope:{data:"="},link:function link(scope,$el){function onBrush(_ref){var xaxis=_ref.xaxis;_timefilter.timefilter.setTime({from:(0,_moment2.default)(xaxis.from),to:(0,_moment2.default)(xaxis.to),mode:"absolute"})}scope.$watch("data",function(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_overview.BeatsOverview,_extends({},data,{onBrush:onBrush}))),$el[0])})}}})},1962:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _overview=__webpack_require__(1963);Object.defineProperty(exports,"BeatsOverview",{enumerable:true,get:function get(){return _overview.BeatsOverview}})},1963:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BeatsOverview=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.BeatsOverviewUI=BeatsOverviewUI;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _latest_active=__webpack_require__(1964);var _latest_versions=__webpack_require__(1965);var _latest_types=__webpack_require__(1966);var _=__webpack_require__(965);var _chart=__webpack_require__(176);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function renderLatestActive(latestActive,latestTypes,latestVersions,intl){if(latestTypes&&latestTypes.length>0){return _react2.default.createElement(_eui.EuiFlexGroup,{wrap:true},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.beats.overview.activeBeatsInLastDayTitle",defaultMessage:"Active Beats in Last Day"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_latest_active.LatestActive,{latestActive:latestActive}))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.beats.overview.top5BeatTypesInLastDayTitle",defaultMessage:"Top 5 Beat Types in Last Day"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_latest_types.LatestTypes,{latestTypes:latestTypes}))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.beats.overview.top5VersionsInLastDayTitle",defaultMessage:"Top 5 Versions in Last Day"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_latest_versions.LatestVersions,{latestVersions:latestVersions}))))}var calloutMsg=intl.formatMessage({id:"xpack.monitoring.beats.overview.noActivityDescription",defaultMessage:"Hi there! This area is where your latest Beats activity would show up, but you don't seem to have any activity within the last day."});return _react2.default.createElement(_eui.EuiCallOut,{title:calloutMsg,iconType:"gear","data-test-subj":"noRecentActivityMessage"})}function BeatsOverviewUI(_ref){var latestActive=_ref.latestActive,latestTypes=_ref.latestTypes,latestVersions=_ref.latestVersions,stats=_ref.stats,metrics=_ref.metrics,intl=_ref.intl,props=_objectWithoutProperties(_ref,["latestActive","latestTypes","latestVersions","stats","metrics","intl"]);var seriesToShow=[metrics.beat_event_rates,metrics.beat_fail_rates,metrics.beat_throughput_rates,metrics.beat_output_errors];var charts=seriesToShow.map(function(data,index){return _react2.default.createElement(_eui.EuiFlexItem,{style:{minWidth:"45%"},key:index},_react2.default.createElement(_eui.EuiPanel,null,_react2.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:data},props))))});return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_.Stats,{stats:stats}),renderLatestActive(latestActive,latestTypes,latestVersions,intl),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFlexGroup,{wrap:true},charts))))}var BeatsOverview=exports.BeatsOverview=(0,_react3.injectI18n)(BeatsOverviewUI)},1964:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LatestActive=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LatestActiveUi(_ref){var latestActive=_ref.latestActive,intl=_ref.intl;var rangeMap={last1m:intl.formatMessage({id:"xpack.monitoring.beats.overview.latestActive.last1MinuteLabel",defaultMessage:"Last 1 minute"}),last5m:intl.formatMessage({id:"xpack.monitoring.beats.overview.latestActive.last5MinutesLabel",defaultMessage:"Last 5 minutes"}),last20m:intl.formatMessage({id:"xpack.monitoring.beats.overview.latestActive.last20MinutesLabel",defaultMessage:"Last 20 minutes"}),last1h:intl.formatMessage({id:"xpack.monitoring.beats.overview.latestActive.last1HourLabel",defaultMessage:"Last 1 hour"}),last1d:intl.formatMessage({id:"xpack.monitoring.beats.overview.latestActive.last1DayLabel",defaultMessage:"Last 1 day"})};var activity=latestActive.map(function(_ref2){var range=_ref2.range,count=_ref2.count;return{range:rangeMap[range],count:count}});return _react2.default.createElement(_eui.EuiBasicTable,{items:activity,columns:[{field:"range",name:""},{field:"count",dataType:"number",name:""}]})}LatestActiveUi.propTypes={latestActive:_propTypes2.default.arrayOf(_propTypes2.default.shape({range:_propTypes2.default.string.isRequired,count:_propTypes2.default.number.isRequired})).isRequired};var LatestActive=exports.LatestActive=(0,_react3.injectI18n)(LatestActiveUi)},1965:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LatestVersions=LatestVersions;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LatestVersions(_ref){var latestVersions=_ref.latestVersions;return _react2.default.createElement(_eui.EuiBasicTable,{items:latestVersions,columns:[{field:"version",name:""},{field:"count",dataType:"number",name:""}]})}LatestVersions.propTypes={latestVersions:_propTypes2.default.arrayOf(_propTypes2.default.shape({version:_propTypes2.default.string.isRequired,count:_propTypes2.default.number.isRequired})).isRequired}},1966:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LatestTypes=LatestTypes;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LatestTypes(_ref){var latestTypes=_ref.latestTypes;return _react2.default.createElement(_eui.EuiBasicTable,{items:latestTypes,columns:[{field:"type",name:""},{field:"count",dataType:"number",name:""}]})}LatestTypes.propTypes={latestTypes:_propTypes2.default.arrayOf(_propTypes2.default.shape({type:_propTypes2.default.string.isRequired,count:_propTypes2.default.number.isRequired})).isRequired}},1967:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Stats=Stats;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _format_number=__webpack_require__(29);var _summary_status=__webpack_require__(208);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function Stats(_ref){var stats=_ref.stats;var total=stats.total,types=stats.types,_stats$stats=stats.stats,bytesSent=_stats$stats.bytesSent,totalEvents=_stats$stats.totalEvents;var metrics=[{label:"Total Beats",value:(0,_format_number.formatMetric)(total,"int_commas"),"data-test-subj":"totalBeats"}];metrics.push.apply(metrics,_toConsumableArray(types.map(function(_ref2){var type=_ref2.type,count=_ref2.count;return{label:type,value:(0,_format_number.formatMetric)(count,"int_commas"),"data-test-subj":"typeCount","data-test-type-count":type+":"+count}})));metrics.push({label:"Total Events",value:(0,_format_number.formatMetric)(totalEvents,"0.[0]a"),"data-test-subj":"totalEvents"});metrics.push({label:"Bytes Sent",value:(0,_format_number.formatMetric)(bytesSent,"byte"),"data-test-subj":"bytesSent"});return _react2.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,"data-test-subj":"beatsSummaryStatus"})}},1968:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _modules=__webpack_require__(4);var _react3=__webpack_require__(3);var _listing=__webpack_require__(1969);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringBeatsListing",function(kbnUrl){return{restrict:"E",scope:{data:"=",sorting:"=",pagination:"=paginationSettings",onTableChange:"="},link:function link(scope,$el){function renderReact(data){(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_listing.Listing,{stats:data.stats,data:data.listing,sorting:scope.sorting,pagination:scope.pagination,onTableChange:scope.onTableChange,angular:{kbnUrl:kbnUrl,scope:scope}})),$el[0])}scope.$watch("data",function(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};renderReact(data)})}}})},1969:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Listing=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _eui=__webpack_require__(2);var _beats=__webpack_require__(965);var _format_number=__webpack_require__(29);var _table=__webpack_require__(186);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ListingUI=function(_PureComponent){_inherits(ListingUI,_PureComponent);function ListingUI(){_classCallCheck(this,ListingUI);return _possibleConstructorReturn(this,(ListingUI.__proto__||Object.getPrototypeOf(ListingUI)).apply(this,arguments))}_createClass(ListingUI,[{key:"getColumns",value:function getColumns(){var _props$angular=this.props.angular,kbnUrl=_props$angular.kbnUrl,scope=_props$angular.scope;return[{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.nameTitle",{defaultMessage:"Name"}),field:"name",render:function render(name,beat){return _react2.default.createElement(_eui.EuiLink,{onClick:function onClick(){scope.$evalAsync(function(){kbnUrl.changePath("/beats/beat/"+beat.uuid)})},"data-test-subj":"beatLink-"+name},name)}},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.typeTitle",{defaultMessage:"Type"}),field:"type"},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.outputEnabledTitle",{defaultMessage:"Output Enabled"}),field:"output"},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.totalEventsRateTitle",{defaultMessage:"Total Events Rate"}),field:"total_events_rate",render:function render(value){return(0,_format_number.formatMetric)(value,"","/s")}},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.bytesSentRateTitle",{defaultMessage:"Bytes Sent Rate"}),field:"bytes_sent_rate",render:function render(value){return(0,_format_number.formatMetric)(value,"byte","/s")}},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.outputErrorsTitle",{defaultMessage:"Output Errors"}),field:"errors",render:function render(value){return(0,_format_number.formatMetric)(value,"0")}},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.allocatedMemoryTitle",{defaultMessage:"Allocated Memory"}),field:"memory",render:function render(value){return(0,_format_number.formatMetric)(value,"byte")}},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.versionTitle",{defaultMessage:"Version"}),field:"version"}]}},{key:"render",value:function render(){var _props=this.props,stats=_props.stats,data=_props.data,sorting=_props.sorting,pagination=_props.pagination,onTableChange=_props.onTableChange;var types=(0,_lodash.uniq)(data.map(function(item){return item.type})).map(function(type){return{value:type}});var versions=(0,_lodash.uniq)(data.map(function(item){return item.version})).map(function(version){return{value:version}});return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_beats.Stats,{stats:stats}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_table.EuiMonitoringTable,{className:"beatsTable",rows:data,columns:this.getColumns(),sorting:sorting,pagination:pagination,search:{box:{incremental:true,placeholder:_i18n.i18n.translate("xpack.monitoring.beats.filterBeatsPlaceholder",{defaultMessage:"Filter Beats..."})},filters:[{type:"field_value_selection",field:"type",name:"Type",options:types,multiSelect:"or"},{type:"field_value_selection",field:"version",name:"Version",options:versions,multiSelect:"or"}]},onTableChange:onTableChange}))))}}]);return ListingUI}(_react.PureComponent);var Listing=exports.Listing=(0,_react3.injectI18n)(ListingUI)},1970:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _reactDom=__webpack_require__(15);var _modules=__webpack_require__(4);var _beat=__webpack_require__(1971);var _timefilter=__webpack_require__(16);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringBeatsBeat",function(){return{restrict:"E",scope:{data:"="},link:function link(scope,$el){function onBrush(_ref){var xaxis=_ref.xaxis;_timefilter.timefilter.setTime({from:(0,_moment2.default)(xaxis.from),to:(0,_moment2.default)(xaxis.to),mode:"absolute"})}scope.$watch("data",function(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_beat.Beat,{summary:data.summary,metrics:data.metrics,onBrush:onBrush})),$el[0])})}}})},1971:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _beat=__webpack_require__(1972);Object.defineProperty(exports,"Beat",{enumerable:true,get:function get(){return _beat.Beat}})},1972:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Beat=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _chart=__webpack_require__(176);var _format_number=__webpack_require__(29);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);var _summary_status=__webpack_require__(208);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function BeatUi(_ref){var summary=_ref.summary,metrics=_ref.metrics,intl=_ref.intl,props=_objectWithoutProperties(_ref,["summary","metrics","intl"]);var metricsToShow=[metrics.beat_event_rates,metrics.beat_fail_rates,metrics.beat_throughput_rates,metrics.beat_output_errors,metrics.beat_memory,metrics.beat_cpu_utilization,metrics.beat_os_load,metrics.beat_handles];var summarytStatsTop=[{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.nameLabel",defaultMessage:"Name"}),value:summary.name,"data-test-subj":"name"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.hostLabel",defaultMessage:"Host"}),value:summary.transportAddress,"data-test-subj":"host"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.versionLabel",defaultMessage:"Version"}),value:summary.version,"data-test-subj":"version"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.typeLabel",defaultMessage:"Type"}),value:summary.type,"data-test-subj":"type"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.outputLabel",defaultMessage:"Output"}),value:summary.output,"data-test-subj":"output"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.configReloadsLabel",defaultMessage:"Config reloads"}),value:(0,_format_number.formatMetric)(summary.configReloads,"int_commas"),"data-test-subj":"configReloads"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.uptimeLabel",defaultMessage:"Uptime"}),value:(0,_format_number.formatMetric)(summary.uptime,"time_since"),"data-test-subj":"uptime"}];var summarytStatsBot=[{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.eventsTotalLabel",defaultMessage:"Events total"}),value:(0,_format_number.formatMetric)(summary.eventsTotal,"int_commas"),"data-test-subj":"eventsTotal"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.eventsEmittedLabel",defaultMessage:"Events emitted"}),value:(0,_format_number.formatMetric)(summary.eventsEmitted,"int_commas"),"data-test-subj":"eventsEmitted"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.eventsDroppedLabel",defaultMessage:"Events dropped"}),value:(0,_format_number.formatMetric)(summary.eventsDropped,"int_commas"),"data-test-subj":"eventsDropped"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.bytesSentLabel",defaultMessage:"Bytes sent"}),value:(0,_format_number.formatMetric)(summary.bytesWritten,"byte"),"data-test-subj":"bytesWritten"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.handlesLimitSoftLabel",defaultMessage:"Handles limit (soft)"}),value:(0,_format_number.formatMetric)(summary.handlesSoftLimit,"byte"),"data-test-subj":"handlesLimitSoft"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.handlesLimitHardLabel",defaultMessage:"Handles limit (hard)"}),value:(0,_format_number.formatMetric)(summary.handlesHardLimit,"byte"),"data-test-subj":"handlesLimitHard"}];return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_summary_status.SummaryStatus,{metrics:summarytStatsTop,"data-test-subj":"beatSummaryStatus01"}),_react2.default.createElement(_summary_status.SummaryStatus,{metrics:summarytStatsBot,"data-test-subj":"beatSummaryStatus02"}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"none"},metricsToShow.map(function(metric,index){return _react2.default.createElement(_eui.EuiFlexItem,{key:index,style:{width:"50%"}},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))})))))}var Beat=exports.Beat=(0,_react3.injectI18n)(BeatUi)},1973:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1974);__webpack_require__(2017);__webpack_require__(2019);__webpack_require__(2025);__webpack_require__(2028);__webpack_require__(2030);__webpack_require__(2040);__webpack_require__(2043);__webpack_require__(2045);__webpack_require__(2056);__webpack_require__(2059);__webpack_require__(2061);__webpack_require__(2067);__webpack_require__(2070);__webpack_require__(2076);__webpack_require__(2082);__webpack_require__(2085);__webpack_require__(2087);__webpack_require__(2090);__webpack_require__(2092);__webpack_require__(2096);__webpack_require__(2101);__webpack_require__(2103);__webpack_require__(2105);__webpack_require__(2107);__webpack_require__(2109);__webpack_require__(2138);__webpack_require__(2141);__webpack_require__(2144);__webpack_require__(2147);__webpack_require__(2150);__webpack_require__(2154)},1974:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _index=__webpack_require__(1975);var _index2=_interopRequireDefault(_index);var _controller=__webpack_require__(1976);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/no-data",{template:_index2.default,resolve:{clusters:function clusters($injector){var monitoringClusters=$injector.get("monitoringClusters");var kbnUrl=$injector.get("kbnUrl");return monitoringClusters().then(function(clusters){if(clusters&&clusters.length){kbnUrl.changePath("/home");return Promise.reject()}return Promise.resolve()})}},controller:_controller.NoDataController}).otherwise({redirectTo:"/home"})},1975:function(module,exports){module.exports='<monitoring-main name="no-data">\n  <div data-test-subj="noDataContainer">\n    <div id="noDataReact"></div>\n  </div>\n</monitoring-main>\n'},1976:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoDataController=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _elasticsearch_settings=__webpack_require__(1977);var _model_updater=__webpack_require__(1982);var _reactDom=__webpack_require__(15);var _components=__webpack_require__(336);var _timefilter=__webpack_require__(16);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var REACT_NODE_ID_NO_DATA="noDataReact";var NoDataController=exports.NoDataController=function(){function NoDataController($injector,$scope){_classCallCheck(this,NoDataController);var $executor=$injector.get("$executor");this.enableTimefilter($executor,$scope);this.registerCleanup($scope,$executor);Object.assign(this,this.getDefaultModel());this.start($scope,$injector,$executor)}_createClass(NoDataController,[{key:"getDefaultModel",value:function getDefaultModel(){return{hasData:false,errors:[],checkMessage:null,isLoading:true,isCollectionEnabledUpdating:false,isCollectionEnabledUpdated:false,isCollectionIntervalUpdating:false,isCollectionIntervalUpdated:false}}},{key:"start",value:function start($scope,$injector,$executor){var model=this;var $http=$injector.get("$http");var kbnUrl=$injector.get("kbnUrl");var monitoringClusters=$injector.get("monitoringClusters");var _ref=new _model_updater.ModelUpdater($scope,model),updateModel=_ref.updateModel;var checkers=[new _elasticsearch_settings.ClusterSettingsChecker($http),new _elasticsearch_settings.NodeSettingsChecker($http)];var enabler=new _elasticsearch_settings.Enabler($http,updateModel);$scope.$$postDigest(function(){(0,_elasticsearch_settings.startChecks)(checkers,updateModel)});$scope.$watch(function(){return model},function(props){(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_components.NoData,_extends({},props,{enabler:enabler}))),document.getElementById(REACT_NODE_ID_NO_DATA))},true);$scope.$watch(function(){return model.hasData},function(hasData){if(hasData){kbnUrl.redirect("/home")}});$executor.register({execute:function execute(){return monitoringClusters()},handleResponse:function handleResponse(clusters){if(clusters.length){model.hasData=true}}});$executor.start($scope)}},{key:"enableTimefilter",value:function enableTimefilter($executor,$scope){_timefilter.timefilter.enableTimeRangeSelector();_timefilter.timefilter.enableAutoRefreshSelector();$scope.$listen(_timefilter.timefilter,"timeUpdate",function(){return $executor.run()})}},{key:"registerCleanup",value:function registerCleanup($scope,$executor){$scope.$on("$destroy",function(){$executor.destroy();(0,_reactDom.unmountComponentAtNode)(document.getElementById(REACT_NODE_ID_NO_DATA))})}}]);return NoDataController}()},1977:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _enabler=__webpack_require__(1978);Object.defineProperty(exports,"Enabler",{enumerable:true,get:function get(){return _enabler.Enabler}});var _cluster_settings=__webpack_require__(1979);Object.defineProperty(exports,"ClusterSettingsChecker",{enumerable:true,get:function get(){return _cluster_settings.ClusterSettingsChecker}});var _node_settings=__webpack_require__(1980);Object.defineProperty(exports,"NodeSettingsChecker",{enumerable:true,get:function get(){return _node_settings.NodeSettingsChecker}});var _start_checks=__webpack_require__(1981);Object.defineProperty(exports,"startChecks",{enumerable:true,get:function get(){return _start_checks.startChecks}})},1978:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Enabler=exports.Enabler=function(){function Enabler($http,updateModel){_classCallCheck(this,Enabler);this.$http=$http;this.updateModel=updateModel;this.enableCollectionEnabled=this.enableCollectionEnabled.bind(this);this.enableCollectionInterval=this.enableCollectionInterval.bind(this)}_createClass(Enabler,[{key:"enableCollectionInterval",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;this.updateModel({isCollectionIntervalUpdating:true});_context.next=4;return this.$http.put("../api/monitoring/v1/elasticsearch_settings/set/collection_interval");case 4:this.updateModel({isCollectionIntervalUpdated:true,isCollectionIntervalUpdating:false});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);this.updateModel({errors:_context.t0.data,isCollectionIntervalUpdated:false,isCollectionIntervalUpdating:false});case 10:case"end":return _context.stop()}}},_callee,this,[[0,7]])}));function enableCollectionInterval(){return _ref.apply(this,arguments)}return enableCollectionInterval}()},{key:"enableCollectionEnabled",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;this.updateModel({isCollectionEnabledUpdating:true});_context2.next=4;return this.$http.put("../api/monitoring/v1/elasticsearch_settings/set/collection_enabled");case 4:this.updateModel({isCollectionEnabledUpdated:true,isCollectionEnabledUpdating:false});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2["catch"](0);this.updateModel({errors:_context2.t0.data,isCollectionEnabledUpdated:false,isCollectionEnabledUpdating:false});case 10:case"end":return _context2.stop()}}},_callee2,this,[[0,7]])}));function enableCollectionEnabled(){return _ref2.apply(this,arguments)}return enableCollectionEnabled}()}]);return Enabler}()},1979:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterSettingsChecker=undefined;var _settings_checker=__webpack_require__(966);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClusterSettingsChecker=exports.ClusterSettingsChecker=function(_SettingsChecker){_inherits(ClusterSettingsChecker,_SettingsChecker);function ClusterSettingsChecker(params){_classCallCheck(this,ClusterSettingsChecker);var _this=_possibleConstructorReturn(this,(ClusterSettingsChecker.__proto__||Object.getPrototypeOf(ClusterSettingsChecker)).call(this,params));_this.setApi("../api/monitoring/v1/elasticsearch_settings/check/cluster");_this.setMessage("Checking cluster settings API on production cluster");return _this}return ClusterSettingsChecker}(_settings_checker.SettingsChecker)},1980:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeSettingsChecker=undefined;var _settings_checker=__webpack_require__(966);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var NodeSettingsChecker=exports.NodeSettingsChecker=function(_SettingsChecker){_inherits(NodeSettingsChecker,_SettingsChecker);function NodeSettingsChecker(params){_classCallCheck(this,NodeSettingsChecker);var _this=_possibleConstructorReturn(this,(NodeSettingsChecker.__proto__||Object.getPrototypeOf(NodeSettingsChecker)).call(this,params));_this.setApi("../api/monitoring/v1/elasticsearch_settings/check/nodes");_this.setMessage("Checking nodes settings API on production cluster");return _this}return NodeSettingsChecker}(_settings_checker.SettingsChecker)},1981:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var startChecks=exports.startChecks=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(checkers,updateModel){var _this=this;var runCheck,_checkers;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:runCheck=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(currentChecker){var _ref3,found,reason,error,errorReason;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:updateModel({checkMessage:currentChecker.getMessage()});_context.next=3;return currentChecker.executeCheck();case 3:_ref3=_context.sent;found=_ref3.found;reason=_ref3.reason;error=_ref3.error;errorReason=_ref3.errorReason;if(!error){_context.next=14;break}updateModel({errors:errorReason});if(!currentChecker.hasNext()){_context.next=12;break}return _context.abrupt("return",runCheck(currentChecker.getNext()));case 12:_context.next=20;break;case 14:if(!found){_context.next=18;break}return _context.abrupt("return",updateModel({reason:reason,isLoading:false,checkMessage:null}));case 18:if(!currentChecker.hasNext()){_context.next=20;break}return _context.abrupt("return",runCheck(currentChecker.getNext()));case 20:updateModel({reason:null,isLoading:false,checkMessage:null});case 21:case"end":return _context.stop()}}},_callee,_this)}));return function runCheck(_x3){return _ref2.apply(this,arguments)}}();_checkers=mapCheckers(checkers);return _context2.abrupt("return",runCheck(_checkers[0]));case 3:case"end":return _context2.stop()}}},_callee2,this)}));return function startChecks(_x,_x2){return _ref.apply(this,arguments)}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}var mapCheckers=function mapCheckers(_checkers){return _checkers.map(function(current,checkerIndex){var next=_checkers[checkerIndex+1];if(next!==undefined){current.setNext(next)}return current})}},1982:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var ModelUpdater=exports.ModelUpdater=function(){function ModelUpdater($scope,model){_classCallCheck(this,ModelUpdater);this.$scope=$scope;this.model=model;this.updateModel=this.updateModel.bind(this)}_createClass(ModelUpdater,[{key:"updateModel",value:function updateModel(properties){var $scope=this.$scope,model=this.model;var keys=Object.keys(properties);$scope.$evalAsync(function(){keys.forEach(function(key){if(Array.isArray(model[key])){model[key].push(properties[key])}else{model[key]=properties[key]}})})}}]);return ModelUpdater}()},1983:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _no_data=__webpack_require__(1984);Object.defineProperty(exports,"NoData",{enumerable:true,get:function get(){return _no_data.NoData}})},1984:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoData=NoData;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _checking_settings=__webpack_require__(1985);var _reasons=__webpack_require__(1989);var _checker_errors=__webpack_require__(1997);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NoDataMessage(props){var isLoading=props.isLoading,reason=props.reason,checkMessage=props.checkMessage;if(isLoading&&checkMessage!==null){return _react2.default.createElement(_checking_settings.CheckingSettings,{checkMessage:checkMessage})}if(reason){return _react2.default.createElement(_reasons.ReasonFound,props)}return _react2.default.createElement(_reasons.WeTried,null)}function NoData(props){return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,{restrictWidth:600},_react2.default.createElement(_eui.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",className:"eui-textCenter"},_react2.default.createElement(_eui.EuiIcon,{type:"monitoringApp",size:"xxl"}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(NoDataMessage,props),_react2.default.createElement(_checker_errors.CheckerErrors,{errors:props.errors}))))}NoData.propTypes={isLoading:_propTypes2.default.bool.isRequired,reason:_propTypes2.default.object,checkMessage:_propTypes2.default.string}},1985:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CheckingSettings=CheckingSettings;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _blurbs=__webpack_require__(396);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function CheckingSettings(_ref){var checkMessage=_ref.checkMessage;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_blurbs.LookingFor,null),_react2.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},checkMessage,"...")))}CheckingSettings.propTypes={checkMessage:_propTypes2.default.string.isRequired}},1986:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LookingFor=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LookingFor=exports.LookingFor=function LookingFor(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.lookingForMonitoringDataTitle",defaultMessage:"We're looking for your monitoring data"}))),_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.lookingForMonitoringDataDescription",defaultMessage:"Monitoring provides insight to your hardware performance and load."})))))}},1987:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WhatIs=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var WhatIs=exports.WhatIs=function WhatIs(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.monitoringIsOffTitle",defaultMessage:"Monitoring is currently off"}))),_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.monitoringIsOffDescription",defaultMessage:"Monitoring provides insight to your hardware performance and load."})))))}},1988:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ChangesNeeded=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ChangesNeeded=exports.ChangesNeeded=function ChangesNeeded(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.changesNeededTitle",defaultMessage:"You need to make some adjustments"}))),_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.changesNeededDescription",defaultMessage:"To run monitoring please perform the following steps"})))))}},1989:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _reason_found=__webpack_require__(1990);Object.defineProperty(exports,"ReasonFound",{enumerable:true,get:function get(){return _reason_found.ReasonFound}});var _we_tried=__webpack_require__(1996);Object.defineProperty(exports,"WeTried",{enumerable:true,get:function get(){return _we_tried.WeTried}})},1990:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.ReasonFound=ReasonFound;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _explanations=__webpack_require__(1991);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var ExplainWhyNoData=function ExplainWhyNoData(_ref){var reason=_ref.reason,props=_objectWithoutProperties(_ref,["reason"]);var property=reason.property,data=reason.data,context=reason.context;switch(property){case"xpack.monitoring.collection.enabled":return _react2.default.createElement(_explanations.ExplainCollectionEnabled,_extends({},reason,props));case"xpack.monitoring.collection.interval":return _react2.default.createElement(_explanations.ExplainCollectionInterval,_extends({},reason,props));case"xpack.monitoring.exporters":return _react2.default.createElement(_explanations.ExplainExporters,_extends({},reason,props));case"xpack.monitoring.enabled":return _react2.default.createElement(_explanations.ExplainPluginEnabled,_extends({},reason,props));default:return _react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.reasons.explainWhyNoDataDescription",defaultMessage:"There is a {context} setting that has {property} set to {data}.",values:{context:_react2.default.createElement(_eui.EuiCode,null,context),property:_react2.default.createElement(_eui.EuiCode,null,property),data:_react2.default.createElement(_eui.EuiCode,null,data)}})))}};function ReasonFound(props){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(ExplainWhyNoData,props))}ReasonFound.propTypes={enabler:_propTypes2.default.object.isRequired,reason:_propTypes2.default.object.isRequired}},1991:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _collection_enabled=__webpack_require__(1992);Object.defineProperty(exports,"ExplainCollectionEnabled",{enumerable:true,get:function get(){return _collection_enabled.ExplainCollectionEnabled}});var _collection_interval=__webpack_require__(1993);Object.defineProperty(exports,"ExplainCollectionInterval",{enumerable:true,get:function get(){return _collection_interval.ExplainCollectionInterval}});var _plugin_enabled=__webpack_require__(1994);Object.defineProperty(exports,"ExplainPluginEnabled",{enumerable:true,get:function get(){return _plugin_enabled.ExplainPluginEnabled}});var _exporters=__webpack_require__(1995);Object.defineProperty(exports,"ExplainExporters",{enumerable:true,get:function get(){return _exporters.ExplainExporters}})},1992:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExplainCollectionEnabled=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _blurbs=__webpack_require__(396);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ExplainCollectionEnabled=exports.ExplainCollectionEnabled=function(_React$Component){_inherits(ExplainCollectionEnabled,_React$Component);function ExplainCollectionEnabled(props){_classCallCheck(this,ExplainCollectionEnabled);var _this=_possibleConstructorReturn(this,(ExplainCollectionEnabled.__proto__||Object.getPrototypeOf(ExplainCollectionEnabled)).call(this,props));_this.handleClick=_this.handleClick.bind(_this);_this.waitedTooLongTimer=null;_this.state={waitedTooLong:false};return _this}_createClass(ExplainCollectionEnabled,[{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.waitedTooLongTimer)}},{key:"handleClick",value:function handleClick(){var _this2=this;var enabler=this.props.enabler;enabler.enableCollectionEnabled();this.waitedTooLongTimer=setTimeout(function(){_this2.setState({waitedTooLong:true})},19*1e3)}},{key:"render",value:function render(){var _this3=this;var _props=this.props,context=_props.context,property=_props.property,data=_props.data,isCollectionEnabledUpdated=_props.isCollectionEnabledUpdated,isCollectionEnabledUpdating=_props.isCollectionEnabledUpdating;var renderButton=function renderButton(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_blurbs.WhatIs,null),_react2.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabledDescription",defaultMessage:"We checked the {context} settings and found that {property} is set to {data}.",values:{context:context,property:_react2.default.createElement(_eui.EuiCode,null,property),data:_react2.default.createElement(_eui.EuiCode,null,data)}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabled.turnItOnDescription",defaultMessage:"Would you like to turn it on?"}))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceAround",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{fill:true,onClick:_this3.handleClick,type:"button","data-test-subj":"enableCollectionEnabled",isLoading:isCollectionEnabledUpdating},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabled.turnOnMonitoringButtonLabel",defaultMessage:"Turn on monitoring"})))))};var stillWaiting=this.state.waitedTooLong?_react2.default.createElement("p",null,_react2.default.createElement("a",{href:"#/"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabled.stillWaitingLinkText",defaultMessage:"Still waiting?"}))):null;var renderSuccess=function renderSuccess(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"l","data-test-subj":"monitoringCollectionEnabledMessage"},_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabled.monitoringTurnedOnTitle",defaultMessage:"Success! Getting your monitoring data."}))),_react2.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabled.monitoringTurnedOnDescription",defaultMessage:"When the data is in your cluster, your monitoring dashboard will show up here. This might take a few seconds."}))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"l"}),_react2.default.createElement(_eui.EuiSpacer,null),stillWaiting)};return _react2.default.createElement(_react.Fragment,null,isCollectionEnabledUpdated?renderSuccess():renderButton())}}]);return ExplainCollectionEnabled}(_react2.default.Component);ExplainCollectionEnabled.propTypes={enabler:_propTypes2.default.object.isRequired,context:_propTypes2.default.string.isRequired,property:_propTypes2.default.string.isRequired,data:_propTypes2.default.string.isRequired,isCollectionEnabledUpdated:_propTypes2.default.bool,isCollectionEnabledUpdating:_propTypes2.default.bool}},1993:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExplainCollectionInterval=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _blurbs=__webpack_require__(396);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ExplainCollectionInterval=exports.ExplainCollectionInterval=function(_React$Component){_inherits(ExplainCollectionInterval,_React$Component);function ExplainCollectionInterval(props){_classCallCheck(this,ExplainCollectionInterval);var _this=_possibleConstructorReturn(this,(ExplainCollectionInterval.__proto__||Object.getPrototypeOf(ExplainCollectionInterval)).call(this,props));_this.handleClick=_this.handleClick.bind(_this);return _this}_createClass(ExplainCollectionInterval,[{key:"handleClick",value:function handleClick(){var enabler=this.props.enabler;enabler.enableCollectionInterval()}},{key:"render",value:function render(){var _this2=this;var _props=this.props,context=_props.context,property=_props.property,data=_props.data,isCollectionIntervalUpdated=_props.isCollectionIntervalUpdated,isCollectionIntervalUpdating=_props.isCollectionIntervalUpdating;var renderButton=function renderButton(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_blurbs.WhatIs,null),_react2.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionIntervalDescription",defaultMessage:"We checked the {context} settings and found that {property} is set to {data}.",values:{context:context,property:_react2.default.createElement(_eui.EuiCode,null,property),data:_react2.default.createElement(_eui.EuiCode,null,data)}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionInterval.wrongIntervalValueDescription",defaultMessage:"The collection interval setting needs to be a positive integer (10s is recommended) in order for the collection agents to be active."})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionInterval.changeIntervalDescription",defaultMessage:"Would you like us to change it and enable monitoring?"}))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceAround",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{fill:true,onClick:_this2.handleClick,type:"button","data-test-subj":"enableCollectionInterval",isLoading:isCollectionIntervalUpdating},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionInterval.turnOnMonitoringButtonLabel",defaultMessage:"Turn on monitoring"})))))};var renderSuccess=function renderSuccess(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionInterval.monitoringTurnedOnTitle",defaultMessage:"Success! Wait a moment please."}))),_react2.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionInterval.monitoringTurnedOnDescription",defaultMessage:"As soon as monitoring data appears in your cluster the page will automatically refresh with your monitoring dashboard. This only takes only a few seconds."}))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"l"}))};return _react2.default.createElement(_react.Fragment,null,isCollectionIntervalUpdated?renderSuccess():renderButton())}}]);return ExplainCollectionInterval}(_react2.default.Component);ExplainCollectionInterval.propTypes={enabler:_propTypes2.default.object.isRequired,context:_propTypes2.default.string.isRequired,property:_propTypes2.default.string.isRequired,data:_propTypes2.default.string.isRequired,isCollectionIntervalUpdated:_propTypes2.default.bool,isCollectionIntervalUpdating:_propTypes2.default.bool}},1994:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExplainPluginEnabled=ExplainPluginEnabled;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _blurbs=__webpack_require__(396);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ExplainPluginEnabled(_ref){var context=_ref.context,property=_ref.property,data=_ref.data;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_blurbs.ChangesNeeded,null),_react2.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.pluginEnabledDescription",defaultMessage:"We checked the {context} settings and found that {property} is set to {data} set, which disables monitoring. Removing the {monitoringEnableFalse} setting from your configuration will put the default into effect and enable Monitoring.",values:{context:context,property:_react2.default.createElement(_eui.EuiCode,null,property),data:_react2.default.createElement(_eui.EuiCode,null,data),monitoringEnableFalse:_react2.default.createElement(_eui.EuiCode,null,"xpack.monitoring.enabled: false")}}))))}ExplainPluginEnabled.propTypes={property:_propTypes2.default.string.isRequired,context:_propTypes2.default.string.isRequired,data:_propTypes2.default.string.isRequired}},1995:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExplainExporters=ExplainExporters;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _blurbs=__webpack_require__(396);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ExplainExporters(_ref){var context=_ref.context,property=_ref.property,data=_ref.data;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_blurbs.ChangesNeeded,null),_react2.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react2.default.createElement(_eui.EuiText,{className:"eui-textLeft"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.exportersDescription",defaultMessage:"We checked the {context} settings for {property}, and found the reason: {data}.",values:{context:_react2.default.createElement(_eui.EuiCode,null,context),property:_react2.default.createElement(_eui.EuiCode,null,property),data:_react2.default.createElement(_eui.EuiCode,null,data)}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.exporters.problemWithConfigDescription",defaultMessage:"Using monitoring exporters ship the monitoring data to a remote monitoring cluster is highly recommended as it keeps the integrity of the monitoring data safe no matter what the state of the production cluster. However, as this instance of Kibana could not find any monitoring data, there seems to be a problem with the {property} configuration, or the {monitoringEs} settings in {kibanaConfig}.",values:{property:_react2.default.createElement(_eui.EuiCode,null,property),monitoringEs:_react2.default.createElement(_eui.EuiCode,null,"xpack.monitoring.elasticsearch"),kibanaConfig:_react2.default.createElement(_eui.EuiCode,null,"kibana.yml")}})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.explanations.exporters.checkConfigDescription",defaultMessage:"Check that the intended exporters are enabled for sending statistics to the monitoring cluster, and that the monitoring cluster host matches the {monitoringEs} setting in {kibanaConfig} to see monitoring data in this instance of Kibana.",values:{monitoringEs:_react2.default.createElement(_eui.EuiCode,null,"xpack.monitoring.elasticsearch"),kibanaConfig:_react2.default.createElement(_eui.EuiCode,null,"kibana.yml")}}))))}ExplainExporters.propTypes={context:_propTypes2.default.string.isRequired,property:_propTypes2.default.string.isRequired,data:_propTypes2.default.string.isRequired}},1996:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WeTried=WeTried;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function WeTried(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.reasons.couldNotActivateMonitoringTitle",defaultMessage:"We couldn't activate monitoring"}))),_react2.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react2.default.createElement(_eui.EuiText,{className:"eui-textLeft"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.reasons.noMonitoringDataFoundDescription",defaultMessage:'No monitoring data found. Try setting the time filter to "Last 1 hour" or check if data is available for a different time period.'})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.reasons.ifDataInClusterDescription",defaultMessage:"If data is in your cluster, your monitoring dashboards will show up here."}))))}},1997:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CheckerErrors=CheckerErrors;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ErrorList=function ErrorList(_ref){var errors=_ref.errors;return errors.map(function(error,errorIndex){var message=error.message,statusCode=error.statusCode,friendlyName=error.error;return _react2.default.createElement(_react.Fragment,{key:"checker-error-"+errorIndex},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,statusCode," ",friendlyName),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,message))})};function CheckerErrors(props){if(props.errors===undefined||props.errors.length===0){return null}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiCallOut,{title:"Errors found",color:"danger",className:"eui-textLeft"},_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.noData.checkerErrors.checkEsSettingsErrorMessage",defaultMessage:"There were some errors encountered in trying to check Elasticsearch settings. You need administrator rights to check the settings and, if needed, to enable the monitoring collection setting."})),_react2.default.createElement(_eui.EuiDescriptionList,null,_react2.default.createElement(ErrorList,props))))}CheckerErrors.propTypes={errors:_propTypes2.default.array}},1998:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.License=License;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _components=__webpack_require__(385);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LicenseUpdateInfoForPrimary=function LicenseUpdateInfoForPrimary(_ref){var isPrimaryCluster=_ref.isPrimaryCluster,uploadLicensePath=_ref.uploadLicensePath;if(!isPrimaryCluster){return null}return _react2.default.createElement(_components.AddLicense,{uploadPath:uploadLicensePath})};var LicenseUpdateInfoForRemote=function LicenseUpdateInfoForRemote(_ref2){var isPrimaryCluster=_ref2.isPrimaryCluster;if(isPrimaryCluster){return null}return _react2.default.createElement(_eui.EuiPanel,null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.license.howToUpdateLicenseDescription",defaultMessage:"To update the license for this cluster, provide the license file through the Elasticsearch {apiText}:",values:{apiText:"API"}})),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiCodeBlock,null,"curl -XPUT -u <user> 'https://<host>:<port>/_xpack/license' -H 'Content-Type: application/json' -d @license.json"))};function License(props){var status=props.status,type=props.type,isExpired=props.isExpired,expiryDate=props.expiryDate;return _react2.default.createElement(_eui.EuiPage,{className:"licenseManagement"},_react2.default.createElement(_eui.EuiPageBody,{className:"licManagement__pageBody"},_react2.default.createElement("div",{className:"licManagement__contain"},_react2.default.createElement(_components.LicenseStatus,{isExpired:isExpired,status:status,type:type,expiryDate:expiryDate}),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(LicenseUpdateInfoForPrimary,props),_react2.default.createElement(LicenseUpdateInfoForRemote,props))))}},1999:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PageLoading=PageLoading;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PageLoading(){return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",className:"noData__content"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.pageLoadingTitle",defaultMessage:"Loading…"}))))))))}},2000:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _overview=__webpack_require__(2001);Object.defineProperty(exports,"ElasticsearchOverview",{enumerable:true,get:function get(){return _overview.ElasticsearchOverview}});var _nodes=__webpack_require__(2012);Object.defineProperty(exports,"ElasticsearchNodes",{enumerable:true,get:function get(){return _nodes.ElasticsearchNodes}});var _indices=__webpack_require__(2015);Object.defineProperty(exports,"ElasticsearchIndices",{enumerable:true,get:function get(){return _indices.ElasticsearchIndices}})},2001:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _overview=__webpack_require__(2002);Object.defineProperty(exports,"ElasticsearchOverview",{enumerable:true,get:function get(){return _overview.ElasticsearchOverview}})},2002:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.ElasticsearchOverview=ElasticsearchOverview;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _cluster_status=__webpack_require__(395);var _shard_activity=__webpack_require__(2003);var _chart=__webpack_require__(176);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function ElasticsearchOverview(_ref){var clusterStatus=_ref.clusterStatus,metrics=_ref.metrics,shardActivity=_ref.shardActivity,props=_objectWithoutProperties(_ref,["clusterStatus","metrics","shardActivity"]);var metricsToShow=[metrics.cluster_search_request_rate,metrics.cluster_query_latency,metrics.cluster_index_request_rate,metrics.cluster_index_latency];return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_cluster_status.ClusterStatus,{stats:clusterStatus}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"none"},metricsToShow.map(function(metric,index){return _react2.default.createElement(_eui.EuiFlexItem,{key:index,style:{width:"50%"}},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))})),_react2.default.createElement(_shard_activity.ShardActivity,_extends({data:shardActivity},props)))))}},2003:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _shard_activity=__webpack_require__(2004);Object.defineProperty(exports,"ShardActivity",{enumerable:true,get:function get(){return _shard_activity.ShardActivity}})},2004:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShardActivity=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _table=__webpack_require__(186);var _recovery_index=__webpack_require__(2005);var _total_time=__webpack_require__(2007);var _source_destination=__webpack_require__(2008);var _progress=__webpack_require__(2010);var _parse_props=__webpack_require__(2011);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var columns=[{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.indexTitle",{defaultMessage:"Index"}),field:"name",render:function render(_name,shard){return _react2.default.createElement(_recovery_index.RecoveryIndex,shard)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.stageTitle",{defaultMessage:"Stage"}),field:"stage"},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.totalTimeTitle",{defaultMessage:"Total Time"}),field:null,render:function render(shard){return _react2.default.createElement(_total_time.TotalTime,shard)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.sourceDestinationTitle",{defaultMessage:"Source / Destination"}),field:null,render:function render(shard){return _react2.default.createElement(_source_destination.SourceDestination,shard)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.filesTitle",{defaultMessage:"Files"}),field:null,render:function render(shard){return _react2.default.createElement(_progress.FilesProgress,shard)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.bytesTitle",{defaultMessage:"Bytes"}),field:null,render:function render(shard){return _react2.default.createElement(_progress.BytesProgress,shard)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.translogTitle",{defaultMessage:"Translog"}),field:null,render:function render(shard){return _react2.default.createElement(_progress.TranslogProgress,shard)}}];var ShardActivityUI=function(_React$Component){_inherits(ShardActivityUI,_React$Component);function ShardActivityUI(props){_classCallCheck(this,ShardActivityUI);var _this=_possibleConstructorReturn(this,(ShardActivityUI.__proto__||Object.getPrototypeOf(ShardActivityUI)).call(this,props));_this.getNoDataMessage=_this.getNoDataMessage.bind(_this);return _this}_createClass(ShardActivityUI,[{key:"getNoDataMessage",value:function getNoDataMessage(){if(this.props.showShardActivityHistory){return this.props.intl.formatMessage({id:"xpack.monitoring.elasticsearch.shardActivity.noDataMessage",defaultMessage:"There are no historical shard activity records for the selected time range."})}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.noActiveShardRecoveriesMessage.completedRecoveriesLinkTextProblem",defaultMessage:"There are no active shard recoveries for this cluster."}),_react2.default.createElement("br",null),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.noActiveShardRecoveriesMessage.completedRecoveriesLinkTextSolution",defaultMessage:"Try viewing {shardActivityHistoryLink}.",values:{shardActivityHistoryLink:_react2.default.createElement(_eui.EuiLink,{onClick:this.props.toggleShardActivityHistory},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.noActiveShardRecoveriesMessage.completedRecoveriesLinkText",defaultMessage:"completed recoveries"}))}}))}},{key:"render",value:function render(){var _props=this.props,rawData=_props.data,sorting=_props.sorting,pagination=_props.pagination,onTableChange=_props.onTableChange,toggleShardActivityHistory=_props.toggleShardActivityHistory,showShardActivityHistory=_props.showShardActivityHistory;if(rawData===null){return null}var rows=rawData.map(_parse_props.parseProps);return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivityTitle",defaultMessage:"Shard Activity"})))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiSwitch,{id:"monitoring_completed_recoveries",label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.completedRecoveriesLabel",defaultMessage:"Completed recoveries"}),onChange:toggleShardActivityHistory,checked:showShardActivityHistory}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_table.EuiMonitoringTable,{className:"esShardActivityTable",rows:rows,columns:columns,message:this.getNoDataMessage(),sorting:sorting,search:false,pagination:pagination,onTableChange:onTableChange}))}}]);return ShardActivityUI}(_react2.default.Component);var ShardActivity=exports.ShardActivity=(0,_react3.injectI18n)(ShardActivityUI)},2005:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RecoveryIndex=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _snapshot=__webpack_require__(2006);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RecoveryIndex=exports.RecoveryIndex=function RecoveryIndex(props){var name=props.name,shard=props.shard,relocationType=props.relocationType;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiLink,{href:"#/elasticsearch/indices/"+name},name),_react2.default.createElement("br",null),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.recoveryIndex.shardDescription",defaultMessage:"Shard: {shard}",values:{shard:shard}}),_react2.default.createElement("br",null),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.recoveryIndex.recoveryTypeDescription",defaultMessage:"Recovery type: {relocationType}",values:{relocationType:relocationType}}),_react2.default.createElement("div",null,_react2.default.createElement(_snapshot.Snapshot,props)))}},2006:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Snapshot=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Snapshot=exports.Snapshot=function Snapshot(_ref){var isSnapshot=_ref.isSnapshot,repo=_ref.repo,snapshot=_ref.snapshot;return isSnapshot?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.snapshotTitle",defaultMessage:"Repo: {repo} / Snapshot: {snapshot}",values:{repo:repo,snapshot:snapshot}})):null}},2007:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TotalTime=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _tooltip=__webpack_require__(295);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TotalTime=exports.TotalTime=function TotalTime(_ref){var startTime=_ref.startTime,totalTime=_ref.totalTime;return _react2.default.createElement(_tooltip.Tooltip,{text:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.totalTimeTooltip",defaultMessage:"Started: {startTime}",values:{startTime:startTime}}),placement:"bottom",trigger:"hover"},_react2.default.createElement(_eui.EuiLink,null,totalTime))}},2008:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceDestination=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _tooltip=__webpack_require__(295);var _source_tooltip=__webpack_require__(2009);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SourceDestination=exports.SourceDestination=function SourceDestination(props){var sourceName=props.sourceName,targetName=props.targetName,targetTransportAddress=props.targetTransportAddress;return _react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_source_tooltip.SourceTooltip,props,sourceName)),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiIcon,{type:"arrowRight"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_tooltip.Tooltip,{text:targetTransportAddress,placement:"bottom",trigger:"hover"},_react2.default.createElement(_eui.EuiLink,null,targetName))))}},2009:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceTooltip=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _tooltip=__webpack_require__(295);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SourceTooltip=exports.SourceTooltip=function SourceTooltip(_ref){var isCopiedFromPrimary=_ref.isCopiedFromPrimary,sourceTransportAddress=_ref.sourceTransportAddress,children=_ref.children;if(!sourceTransportAddress){return children}var tipText=_react2.default.createElement(_react.Fragment,null,sourceTransportAddress,_react2.default.createElement("br",null),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.sourceTooltip",defaultMessage:"Copied from {copiedFrom} shard",values:{copiedFrom:isCopiedFromPrimary?_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.sourceTooltip.primarySourceText",defaultMessage:"primary"}):_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.sourceTooltip.replicaSourceText",defaultMessage:"replica"})}}));return _react2.default.createElement(_tooltip.Tooltip,{text:tipText,placement:"bottom",trigger:"hover"},_react2.default.createElement(_eui.EuiLink,null,children))}},2010:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TranslogProgress=exports.BytesProgress=exports.FilesProgress=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FilesProgress=exports.FilesProgress=function FilesProgress(_ref){var filesPercent=_ref.filesPercent,filesDone=_ref.filesDone,filesTotal=_ref.filesTotal;return _react2.default.createElement(_react.Fragment,null,filesPercent,_react2.default.createElement("br",null),filesDone," / ",filesTotal)};var BytesProgress=exports.BytesProgress=function BytesProgress(_ref2){var bytesPercent=_ref2.bytesPercent,bytesDone=_ref2.bytesDone,bytesTotal=_ref2.bytesTotal;return _react2.default.createElement(_react.Fragment,null,bytesPercent,_react2.default.createElement("br",null),bytesDone," / ",bytesTotal)};var TranslogProgress=exports.TranslogProgress=function TranslogProgress(_ref3){var hasTranslog=_ref3.hasTranslog,translogPercent=_ref3.translogPercent,translogDone=_ref3.translogDone,translogTotal=_ref3.translogTotal;return hasTranslog?_react2.default.createElement(_react.Fragment,null,translogPercent,_react2.default.createElement("br",null),translogDone," / ",translogTotal):_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.progress.noTranslogProgressLabel",defaultMessage:"n/a"})}},2011:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseProps=undefined;var _lodash=__webpack_require__(1);var _format_number=__webpack_require__(29);var _formatting=__webpack_require__(272);var getIpAndPort=function getIpAndPort(transport){if(transport!==undefined){var matches=transport.match(/([\d\.:]+)\]$/);if(matches){return matches[1]}}return transport};var normalizeString=function normalizeString(text){return(0,_lodash.capitalize)(text.toLowerCase())};var parseProps=exports.parseProps=function parseProps(props){var id=props.id,stage=props.stage,index=props.index,indexName=props.index_name,isPrimary=props.primary,startTimeInMillis=props.start_time_in_millis,totalTimeInMillis=props.total_time_in_millis,source=props.source,target=props.target,translog=props.translog,type=props.type;var files=index.files,size=index.size;return{name:indexName||index.name,shard:id+" / "+(isPrimary?"Primary":"Replica"),relocationType:type==="PRIMARY_RELOCATION"?"Primary Relocation":normalizeString(type),stage:normalizeString(stage),startTime:(0,_formatting.formatDateTimeLocal)(startTimeInMillis),totalTime:(0,_format_number.formatMetric)(totalTimeInMillis/1e3,"00:00:00"),isCopiedFromPrimary:!isPrimary||type==="PRIMARY_RELOCATION",sourceName:source.name===undefined?"n/a":source.name,targetName:target.name,sourceTransportAddress:getIpAndPort(source.transport_address),targetTransportAddress:getIpAndPort(target.transport_address),isSnapshot:type==="SNAPSHOT",repo:source.repository,snapshot:source.snapshot,filesPercent:files.percent,filesDone:files.reused?files.reused:files.recovered,filesTotal:files.total,bytesPercent:size.percent,bytesDone:(0,_format_number.formatMetric)(size.recovered_in_bytes+size.reused_in_bytes,"byte"),bytesTotal:(0,_format_number.formatMetric)(size.total_in_bytes,"byte"),hasTranslog:translog.total>0,translogPercent:translog.percent,translogDone:translog.total,translogTotal:translog.total_on_start}}},2012:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _nodes=__webpack_require__(2013);Object.defineProperty(exports,"ElasticsearchNodes",{enumerable:true,get:function get(){return _nodes.ElasticsearchNodes}})},2013:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchNodes=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _node=__webpack_require__(963);var _extract_ip=__webpack_require__(951);var _cluster_status=__webpack_require__(395);var _table=__webpack_require__(186);var _cells=__webpack_require__(2014);var _eui=__webpack_require__(2);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var getColumns=function getColumns(showCgroupMetricsElasticsearch){var cols=[];var cpuUsageColumnTitle=_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.cpuUsageColumnTitle",{defaultMessage:"CPU Usage"});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.nameColumnTitle",{defaultMessage:"Name"}),field:"name",sortable:true,render:function render(value,node){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"monTableCell__name"},_react2.default.createElement(_eui.EuiToolTip,{position:"bottom",content:node.nodeTypeLabel},_react2.default.createElement("span",{className:"fa "+node.nodeTypeClass}))," ",_react2.default.createElement("span",{"data-test-subj":"name"},_react2.default.createElement(_eui.EuiLink,{href:"#/elasticsearch/nodes/"+node.resolver,"data-test-subj":"nodeLink-"+node.resolver},value))),_react2.default.createElement("div",{className:"monTableCell__transportAddress"},(0,_extract_ip.extractIp)(node.transport_address)))}});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.statusColumnTitle",{defaultMessage:"Status"}),field:"isOnline",sortable:true,render:function render(value){var status=value?"Online":"Offline";return _react2.default.createElement("div",{className:"monTableCell__status"},_react2.default.createElement(_node.NodeStatusIcon,{isOnline:value,status:status})," ",status)}});if(showCgroupMetricsElasticsearch){cols.push({name:cpuUsageColumnTitle,field:"node_cgroup_quota",sortable:true,render:function render(value,node){return _react2.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:true,"data-test-subj":"cpuQuota"})}});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.cpuThrottlingColumnTitle",{defaultMessage:"CPU Throttling"}),field:"node_cgroup_throttled",sortable:true,render:function render(value,node){return _react2.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:false,"data-test-subj":"cpuThrottled"})}})}else{cols.push({name:cpuUsageColumnTitle,field:"node_cpu_utilization",sortable:true,render:function render(value,node){return _react2.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:true,"data-test-subj":"cpuUsage"})}});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.loadAverageColumnTitle",{defaultMessage:"Load Average"}),field:"node_load_average",sortable:true,render:function render(value,node){return _react2.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:false,"data-test-subj":"loadAverage"})}})}cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.jvmMemoryColumnTitle",{defaultMessage:"{javaVirtualMachine} Memory",values:{javaVirtualMachine:"JVM"}}),field:"node_jvm_mem_percent",sortable:true,render:function render(value,node){return _react2.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:true,"data-test-subj":"jvmMemory"})}});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.diskFreeSpaceColumnTitle",{defaultMessage:"Disk Free Space"}),field:"node_free_space",sortable:true,width:"300px",render:function render(value,node){return _react2.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:false,"data-test-subj":"diskFreeSpace"})}});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.shardsColumnTitle",{defaultMessage:"Shards"}),field:"shardCount",sortable:true,render:function render(value,node){return node.isOnline?_react2.default.createElement("div",{className:"monTableCell__number","data-test-subj":"shards"},value):_react2.default.createElement(_cells.OfflineCell,null)}});return cols};function ElasticsearchNodesUI(_ref){var clusterStatus=_ref.clusterStatus,nodes=_ref.nodes,showCgroupMetricsElasticsearch=_ref.showCgroupMetricsElasticsearch,intl=_ref.intl,props=_objectWithoutProperties(_ref,["clusterStatus","nodes","showCgroupMetricsElasticsearch","intl"]);var columns=getColumns(showCgroupMetricsElasticsearch);var sorting=props.sorting,pagination=props.pagination,onTableChange=props.onTableChange;return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_cluster_status.ClusterStatus,{stats:clusterStatus}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_table.EuiMonitoringTable,{className:"elasticsearchNodesTable",rows:nodes,columns:columns,sorting:sorting,pagination:pagination,search:{box:{incremental:true,placeholder:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodes.monitoringTablePlaceholder",defaultMessage:"Filter Nodes…"})}},onTableChange:onTableChange}))))}var ElasticsearchNodes=exports.ElasticsearchNodes=(0,_react3.injectI18n)(ElasticsearchNodesUI)},2014:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MetricCell=exports.OfflineCell=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _format_number=__webpack_require__(29);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function OfflineCell(){return _react2.default.createElement("div",{className:"monTableCell__number monTableCell__offline"},"N/A")}var getSlopeArrow=function getSlopeArrow(slope){if(slope||slope===0){return slope>0?"up":"down"}return null};var metricVal=function metricVal(metric,format,isPercent){if(isPercent){return(0,_format_number.formatMetric)(metric,format,"%",{prependSpace:false})}return(0,_format_number.formatMetric)(metric,format)};function MetricCell(_ref){var isOnline=_ref.isOnline,_ref$metric=_ref.metric,metric=_ref$metric===undefined?{}:_ref$metric,isPercent=_ref.isPercent,props=_objectWithoutProperties(_ref,["isOnline","metric","isPercent"]);if(isOnline){var _get=(0,_lodash.get)(metric,"summary",{}),lastVal=_get.lastVal,maxVal=_get.maxVal,minVal=_get.minVal,slope=_get.slope;var format=(0,_lodash.get)(metric,"metric.format");return _react2.default.createElement(_eui.EuiStat,{description:"",title:_react2.default.createElement(_eui.EuiFlexGroup,_extends({alignItems:"center"},props),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"m"},_react2.default.createElement("h4",null,metricVal(lastVal,format,isPercent)," ",_react2.default.createElement("span",{className:"fa fa-long-arrow-"+getSlopeArrow(slope)})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,{size:"xs"},metricVal(maxVal,format,isPercent)+" max"),_react2.default.createElement(_eui.EuiText,{size:"xs"},metricVal(minVal,format,isPercent)+" min")))})}return _react2.default.createElement(OfflineCell,null)}exports.OfflineCell=OfflineCell;exports.MetricCell=MetricCell},2015:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _indices=__webpack_require__(2016);Object.defineProperty(exports,"ElasticsearchIndices",{enumerable:true,get:function get(){return _indices.ElasticsearchIndices}})},2016:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchIndices=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _formatting=__webpack_require__(272);var _format_number=__webpack_require__(29);var _status_icon=__webpack_require__(615);var _cluster_status=__webpack_require__(395);var _table=__webpack_require__(186);var _eui=__webpack_require__(2);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var columns=[{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.nameTitle",{defaultMessage:"Name"}),field:"name",width:"350px",sortable:true,render:function render(value){return _react2.default.createElement("div",{"data-test-subj":"name"},_react2.default.createElement(_eui.EuiLink,{href:"#/elasticsearch/indices/"+value,"data-test-subj":"indexLink-"+value},value))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.statusTitle",{defaultMessage:"Status"}),field:"status",sortable:true,render:function render(value){return _react2.default.createElement("div",{title:"Index status: "+value},_react2.default.createElement(_status_icon.ElasticsearchStatusIcon,{status:value})," ",(0,_lodash.capitalize)(value))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.documentCountTitle",{defaultMessage:"Document Count"}),field:"doc_count",sortable:true,render:function render(value){return _react2.default.createElement("div",{"data-test-subj":"documentCount"},(0,_format_number.formatMetric)(value,_formatting.LARGE_ABBREVIATED))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.dataTitle",{defaultMessage:"Data"}),field:"data_size",sortable:true,render:function render(value){return _react2.default.createElement("div",{"data-test-subj":"dataSize"},(0,_format_number.formatMetric)(value,_formatting.LARGE_BYTES))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.indexRateTitle",{defaultMessage:"Index Rate"}),field:"index_rate",sortable:true,render:function render(value){return _react2.default.createElement("div",{"data-test-subj":"indexRate"},(0,_format_number.formatMetric)(value,_formatting.LARGE_FLOAT,"/s"))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.searchRateTitle",{defaultMessage:"Search Rate"}),field:"search_rate",sortable:true,render:function render(value){return _react2.default.createElement("div",{"data-test-subj":"searchRate"},(0,_format_number.formatMetric)(value,_formatting.LARGE_FLOAT,"/s"))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.unassignedShardsTitle",{defaultMessage:"Unassigned Shards"}),field:"unassigned_shards",sortable:true,render:function render(value){return _react2.default.createElement("div",{"data-test-subj":"unassignedShards"},(0,_format_number.formatMetric)(value,"0"))}}];var getNoDataMessage=function getNoDataMessage(){return _react2.default.createElement("div",null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.indices.noIndicesMatchYourSelectionDescription",defaultMessage:"There are no indices that match your selections. Try changing the time range selection."})),_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.indices.howToShowSystemIndicesDescription",defaultMessage:"If you are looking for system indices (e.g., .kibana), try checking ‘Show system indices’."})))};var ElasticsearchIndicesUI=function ElasticsearchIndicesUI(_ref){var clusterStatus=_ref.clusterStatus,indices=_ref.indices,intl=_ref.intl,sorting=_ref.sorting,pagination=_ref.pagination,onTableChange=_ref.onTableChange,toggleShowSystemIndices=_ref.toggleShowSystemIndices,showSystemIndices=_ref.showSystemIndices;return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_cluster_status.ClusterStatus,{stats:clusterStatus}),_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react2.default.createElement(_eui.EuiSwitch,{label:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.indices.systemIndicesLabel",defaultMessage:"System indices"}),checked:showSystemIndices,onChange:function onChange(e){return toggleShowSystemIndices(e.target.checked)}}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_table.EuiMonitoringTable,{className:"elasticsearchIndicesTable",rows:indices,columns:columns,sorting:sorting,pagination:pagination,message:getNoDataMessage(),search:{box:{incremental:true,placeholder:intl.formatMessage({id:"xpack.monitoring.elasticsearch.indices.monitoringTablePlaceholder",defaultMessage:"Filter Indices…"})}},onTableChange:onTableChange}))))};var ElasticsearchIndices=exports.ElasticsearchIndices=(0,_react3.injectI18n)(ElasticsearchIndicesUI)},2017:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _index=__webpack_require__(2018);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var tryPrivilege=function tryPrivilege($http,kbnUrl){return $http.get("../api/monitoring/v1/check_access").then(function(){return kbnUrl.redirect("/home")}).catch(_lodash.noop)};_routes2.default.when("/access-denied",{template:_index2.default,resolve:{initialCheck:function initialCheck($http,kbnUrl){return tryPrivilege($http,kbnUrl)}},controllerAs:"accessDenied",controller:function controller($scope,$injector){var $window=$injector.get("$window");var kbnBaseUrl=$injector.get("kbnBaseUrl");var $http=$injector.get("$http");var kbnUrl=$injector.get("kbnUrl");var $interval=$injector.get("$interval");this.goToKibana=function(){$window.location.href=_chrome2.default.getBasePath()+kbnBaseUrl};var accessPoller=$interval(function(){return tryPrivilege($http,kbnUrl)},5*1e3);$scope.$on("$destroy",function(){return $interval.cancel(accessPoller)})}})},2018:function(module,exports){module.exports='<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">\n  <div class="kuiInfoPanel kuiInfoPanel--error">\n    <div class="kuiInfoPanelHeader">\n      <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n      <span\n        class="kuiInfoPanelHeader__title"\n        data-test-subj="accessDeniedTitle"\n        i18n-id="xpack.monitoring.accessDeniedTitle"\n        i18n-default-message="Access Denied"\n      ></span>\n    </div>\n\n    <div class="kuiInfoPanelBody">\n      <div\n        class="kuiInfoPanelBody__message"\n        i18n-id="xpack.monitoring.accessDenied.notAuthorizedDescription"\n        i18n-default-message="You are not authorized to access Monitoring. To use Monitoring, you\n        need the privileges granted by both the `{kibanaUser}` and\n        `{monitoringUser}` roles."\n        i18n-values="{ kibanaUser: \'kibana_user\', monitoringUser: \'monitoring_user\' }"\n      ></div>\n\n      <div\n        class="kuiInfoPanelBody__message"\n        i18n-id="xpack.monitoring.accessDenied.clusterNotConfiguredDescription"\n        i18n-default-message="If you are attempting to access a dedicated monitoring cluster, this\n        might be because you are logged in as a user that is not configured on\n        the monitoring cluster."\n      ></div>\n\n      <div class="kuiInfoPanelBody__message">\n        <div class="kuiButtonGroup">\n          <button\n            ng-click="accessDenied.goToKibana();"\n            class="kuiButton kuiButton--primary"\n            i18n-id="xpack.monitoring.accessDenied.backToKibanaButtonLabel"\n            i18n-default-message="Back to Kibana"\n          ></button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},2019:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _lodash=__webpack_require__(1);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _index=__webpack_require__(2020);var _index2=_interopRequireDefault(_index);var _route_init=__webpack_require__(31);var _ajax_error_handler=__webpack_require__(42);var _timefilter=__webpack_require__(16);var _alerts=__webpack_require__(2021);var _base_eui_table_controller=__webpack_require__(968);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getPageData($injector){var globalState=$injector.get("globalState");var $http=$injector.get("$http");var Private=$injector.get("Private");var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/alerts";var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return(0,_lodash.get)(response,"data",[])}).catch(function(err){var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes2.default.when("/alerts",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},alerts:getPageData},controllerAs:"alerts",controller:function(_MonitoringViewBaseEu){_inherits(AlertsView,_MonitoringViewBaseEu);function AlertsView($injector,$scope,i18n){_classCallCheck(this,AlertsView);var $route=$injector.get("$route");var globalState=$injector.get("globalState");var kbnUrl=$injector.get("kbnUrl");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var _this=_possibleConstructorReturn(this,(AlertsView.__proto__||Object.getPrototypeOf(AlertsView)).call(this,{title:i18n("xpack.monitoring.alerts.clusterAlertsTitle",{defaultMessage:"Cluster Alerts"}),getPageData:getPageData,$scope:$scope,$injector:$injector}));_this.data=$route.current.locals.alerts;var renderReact=function renderReact(data){var app=data.message?_react2.default.createElement("p",null,data.message):_react2.default.createElement(_alerts.Alerts,{alerts:data,angular:{kbnUrl:kbnUrl,scope:$scope},sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange});(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,app,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiLink,{href:"#/overview"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.alerts.clusterOverviewLinkLabel",defaultMessage:"« Cluster Overview"})))))),document.getElementById("monitoringAlertsApp"))};$scope.$watch(function(){return _this.data},function(data){return renderReact(data)});return _this}return AlertsView}(_base_eui_table_controller.MonitoringViewBaseEuiTableController)})},2020:function(module,exports){module.exports='<monitoring-main name="alerts">\n  <div id="monitoringAlertsApp"></div>\n</monitoring-main>\n'},2021:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _alerts=__webpack_require__(2022);Object.defineProperty(exports,"Alerts",{enumerable:true,get:function get(){return _alerts.Alerts}})},2022:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Alerts=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _formatting=__webpack_require__(272);var _common=__webpack_require__(397);var _constants=__webpack_require__(59);var _map_severity=__webpack_require__(614);var _tooltip=__webpack_require__(295);var _formatted_alert=__webpack_require__(967);var _table=__webpack_require__(186);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var linkToCategories={"elasticsearch/nodes":"Elasticsearch Nodes","elasticsearch/indices":"Elasticsearch Indices","kibana/instances":"Kibana Instances","logstash/instances":"Logstash Nodes"};var getColumns=function getColumns(kbnUrl,scope){return[{name:"Status",field:"metadata.severity",sortable:true,render:function render(severity){var severityIcon=(0,_map_severity.mapSeverity)(severity);return _react2.default.createElement(_tooltip.Tooltip,{text:severityIcon.title,placement:"bottom",trigger:"hover"},_react2.default.createElement(_eui.EuiHealth,{color:severityIcon.color,"data-test-subj":"alertIcon","aria-label":severityIcon.title},(0,_lodash.capitalize)(severityIcon.value)))}},{name:"Resolved",field:"resolved_timestamp",sortable:true,render:function render(resolvedTimestamp){var resolution={icon:null,text:"Not Resolved"};if(resolvedTimestamp){resolution.text=(0,_common.formatTimestampToDuration)(resolvedTimestamp,_constants.CALCULATE_DURATION_SINCE)+" ago"}else{resolution.icon=_react2.default.createElement(_eui.EuiIcon,{type:"alert",size:"m","aria-label":"Not Resolved"})}return _react2.default.createElement("span",null,resolution.icon," ",resolution.text)}},{name:"Message",field:"message",sortable:true,render:function render(message,alert){return _react2.default.createElement(_formatted_alert.FormattedAlert,{prefix:alert.prefix,suffix:alert.suffix,message:message,metadata:alert.metadata,changeUrl:function changeUrl(target){scope.$evalAsync(function(){kbnUrl.changePath(target)})}})}},{name:"Category",field:"metadata.link",sortable:true,render:function render(link){return linkToCategories[link]?linkToCategories[link]:"General"}},{name:"Last Checked",field:"update_timestamp",sortable:true,render:function render(timestamp){return(0,_formatting.formatDateTimeLocal)(timestamp)}},{name:"Triggered",field:"timestamp",sortable:true,render:function render(timestamp){return(0,_common.formatTimestampToDuration)(timestamp,_constants.CALCULATE_DURATION_SINCE)+" ago"}}]};var AlertsUI=function AlertsUI(_ref){var alerts=_ref.alerts,angular=_ref.angular,sorting=_ref.sorting,pagination=_ref.pagination,onTableChange=_ref.onTableChange,intl=_ref.intl;return _react2.default.createElement(_table.EuiMonitoringTable,{className:"alertsTable",rows:alerts,columns:getColumns(angular.kbnUrl,angular.scope),sorting:_extends({},sorting,{sort:_extends({},sorting.sort,{field:"metadata.severity",direction:_constants.EUI_SORT_DESCENDING})}),pagination:pagination,search:{box:{incremental:true,placeholder:intl.formatMessage({id:"xpack.monitoring.alerts.filterAlertsPlaceholder",defaultMessage:"Filter Alerts…"})}},onTableChange:onTableChange})};var Alerts=exports.Alerts=(0,_react3.injectI18n)(AlertsUI)},2023:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(42);var _timefilter=__webpack_require__(16);function getPageData($injector,api){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(api,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2024:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringViewBaseTableController=undefined;var _=__webpack_require__(69);var _table=__webpack_require__(186);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MonitoringViewBaseTableController=exports.MonitoringViewBaseTableController=function(_MonitoringViewBaseCo){_inherits(MonitoringViewBaseTableController,_MonitoringViewBaseCo);function MonitoringViewBaseTableController(args){_classCallCheck(this,MonitoringViewBaseTableController);var _this=_possibleConstructorReturn(this,(MonitoringViewBaseTableController.__proto__||Object.getPrototypeOf(MonitoringViewBaseTableController)).call(this,args));var storageKey=args.storageKey,$injector=args.$injector;var storage=$injector.get("localStorage");var getLocalStorageData=(0,_table.tableStorageGetter)(storageKey);var setLocalStorageData=(0,_table.tableStorageSetter)(storageKey);var _getLocalStorageData=getLocalStorageData(storage),pageIndex=_getLocalStorageData.pageIndex,filterText=_getLocalStorageData.filterText,sortKey=_getLocalStorageData.sortKey,sortOrder=_getLocalStorageData.sortOrder;_this.pageIndex=pageIndex;_this.filterText=filterText;_this.sortKey=sortKey;_this.sortOrder=sortOrder;_this.onNewState=function(newState){setLocalStorageData(storage,newState)};return _this}return MonitoringViewBaseTableController}(_.MonitoringViewBaseController)},2025:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _index=__webpack_require__(2026);var _index2=_interopRequireDefault(_index);var _controller=__webpack_require__(2027);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/license",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()}},controllerAs:"licenseView",controller:_controller.LicenseViewController})},2026:function(module,exports){module.exports='<monitoring-main data-test-subj="xpackLicensePage">\n  <div id="licenseReact" class="licFeature"></div>\n</monitoring-main>\n'},2027:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseViewController=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _formatting=__webpack_require__(272);var _components=__webpack_require__(385);var _components2=__webpack_require__(336);var _timefilter=__webpack_require__(16);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var REACT_NODE_ID="licenseReact";var LicenseViewController=exports.LicenseViewController=function(){function LicenseViewController($injector,$scope,i18n){_classCallCheck(this,LicenseViewController);_timefilter.timefilter.disableTimeRangeSelector();_timefilter.timefilter.disableAutoRefreshSelector();$scope.$on("$destroy",function(){(0,_reactDom.unmountComponentAtNode)(document.getElementById(REACT_NODE_ID))});this.init($injector,$scope,i18n)}_createClass(LicenseViewController,[{key:"init",value:function init($injector,$scope,i18n){var globalState=$injector.get("globalState");var title=$injector.get("title");var $route=$injector.get("$route");var cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});$scope.cluster=cluster;var routeTitle=i18n("xpack.monitoring.license.licenseRouteTitle",{defaultMessage:"License"});title($scope.cluster,routeTitle);this.license=cluster.license;this.isExpired=Date.now()>(0,_lodash.get)(cluster,"license.expiry_date_in_millis");this.isPrimaryCluster=cluster.isPrimary;var basePath=_chrome2.default.getBasePath();this.uploadLicensePath=basePath+"/app/kibana#"+_components.MANAGEMENT_BASE_PATH+"upload_license";this.renderReact($scope)}},{key:"renderReact",value:function renderReact($scope){var _this=this;$scope.$evalAsync(function(){var isPrimaryCluster=_this.isPrimaryCluster,license=_this.license,isExpired=_this.isExpired,uploadLicensePath=_this.uploadLicensePath;var expiryDate=license.expiry_date_in_millis;if(license.expiry_date_in_millis!==undefined){expiryDate=(0,_formatting.formatDateTimeLocal)(license.expiry_date_in_millis)}(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_components2.License,{isPrimaryCluster:isPrimaryCluster,status:license.status,type:license.type,isExpired:isExpired,expiryDate:expiryDate,uploadLicensePath:uploadLicensePath})),document.getElementById(REACT_NODE_ID))})}}]);return LicenseViewController}()},2028:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _=__webpack_require__(69);var _index=__webpack_require__(2029);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var getPageData=function getPageData($injector){var monitoringClusters=$injector.get("monitoringClusters");return monitoringClusters()};_routes2.default.when("/home",{template:_index2.default,resolve:{clusters:function clusters(Private,kbnUrl){var routeInit=Private(_route_init.routeInitProvider);return routeInit().then(function(clusters){if(!clusters||!clusters.length){kbnUrl.changePath("/no-data");return Promise.reject()}if(clusters.length===1){kbnUrl.changePath("/overview");return Promise.reject()}return clusters})}},controllerAs:"clusters",controller:function(_MonitoringViewBaseEu){_inherits(ClustersList,_MonitoringViewBaseEu);function ClustersList($injector,$scope){_classCallCheck(this,ClustersList);var _this=_possibleConstructorReturn(this,(ClustersList.__proto__||Object.getPrototypeOf(ClustersList)).call(this,{storageKey:"clusters",getPageData:getPageData,$scope:$scope,$injector:$injector}));var $route=$injector.get("$route");_this.data=$route.current.locals.clusters;return _this}return ClustersList}(_.MonitoringViewBaseEuiTableController)}).otherwise({redirectTo:"/no-data"})},2029:function(module,exports){module.exports='<monitoring-main name="listing">\n  <monitoring-cluster-listing\n    pagination-settings="clusters.pagination"\n    sorting="clusters.sorting"\n    on-table-change="clusters.onTableChange"\n    clusters="clusters.data"\n  ></monitoring-cluster-listing>\n</monitoring-main>\n'},2030:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _index=__webpack_require__(2031);var _index2=_interopRequireDefault(_index);var _=__webpack_require__(69);var _overview=__webpack_require__(2032);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}_routes2.default.when("/overview",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},cluster:function cluster(monitoringClusters,globalState){return monitoringClusters(globalState.cluster_uuid,globalState.ccs)}},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope,i18n){_classCallCheck(this,controller);var kbnUrl=$injector.get("kbnUrl");var monitoringClusters=$injector.get("monitoringClusters");var globalState=$injector.get("globalState");var _this=_possibleConstructorReturn(this,(controller.__proto__||Object.getPrototypeOf(controller)).call(this,{title:i18n("xpack.monitoring.cluster.overviewTitle",{defaultMessage:"Overview"}),defaultData:{},getPageData:function getPageData(){return monitoringClusters(globalState.cluster_uuid,globalState.ccs)},reactNodeId:"monitoringClusterOverviewApp",$scope:$scope,$injector:$injector}));var changeUrl=function changeUrl(target){$scope.$evalAsync(function(){kbnUrl.changePath(target)})};$scope.$watch(function(){return _this.data},function(data){_this.renderReact(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_overview.Overview,{cluster:data,changeUrl:changeUrl,showLicenseExpiration:true})))});return _this}return controller}(_.MonitoringViewBaseController)})},2031:function(module,exports){module.exports='<monitoring-main name="overview" data-test-subj="clusterOverviewContainer">\n  <div id="monitoringClusterOverviewApp"></div>\n</monitoring-main>\n'},2032:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.Overview=Overview;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _elasticsearch_panel=__webpack_require__(2033);var _kibana_panel=__webpack_require__(2035);var _logstash_panel=__webpack_require__(2036);var _alerts_panel=__webpack_require__(2037);var _beats_panel=__webpack_require__(2038);var _eui=__webpack_require__(2);var _apm_panel=__webpack_require__(2039);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Overview(props){return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_alerts_panel.AlertsPanel,{alerts:props.cluster.alerts,changeUrl:props.changeUrl}),_react2.default.createElement(_elasticsearch_panel.ElasticsearchPanel,_extends({},props.cluster.elasticsearch,{version:props.cluster.version,ml:props.cluster.ml,changeUrl:props.changeUrl,license:props.cluster.license,showLicenseExpiration:props.showLicenseExpiration})),_react2.default.createElement(_kibana_panel.KibanaPanel,_extends({},props.cluster.kibana,{changeUrl:props.changeUrl})),_react2.default.createElement(_logstash_panel.LogstashPanel,_extends({},props.cluster.logstash,{changeUrl:props.changeUrl})),_react2.default.createElement(_beats_panel.BeatsPanel,_extends({},props.cluster.beats,{changeUrl:props.changeUrl})),_react2.default.createElement(_apm_panel.ApmPanel,_extends({},props.cluster.apm,{changeUrl:props.changeUrl}))))}},2033:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchPanel=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _format_number=__webpack_require__(29);var _helpers=__webpack_require__(398);var _eui=__webpack_require__(2);var _license_text=__webpack_require__(2034);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var calculateShards=function calculateShards(shards){var total=(0,_lodash.get)(shards,"total",0);var primaries=(0,_lodash.get)(shards,"primaries","N/A");var replicas="N/A";if(primaries!=="N/A"){replicas=(0,_format_number.formatNumber)(total-primaries,"int_commas");primaries=(0,_format_number.formatNumber)(primaries,"int_commas")}return{primaries:primaries,replicas:replicas}};function ElasticsearchPanelUi(props){var clusterStats=props.cluster_stats||{};var nodes=clusterStats.nodes;var indices=clusterStats.indices;var goToElasticsearch=function goToElasticsearch(){return props.changeUrl("elasticsearch")};var goToNodes=function goToNodes(){return props.changeUrl("elasticsearch/nodes")};var goToIndices=function goToIndices(){return props.changeUrl("elasticsearch/indices")};var _calculateShards=calculateShards((0,_lodash.get)(props,"cluster_stats.indices.shards",{})),primaries=_calculateShards.primaries,replicas=_calculateShards.replicas;var statusIndicator=_react2.default.createElement(_helpers.HealthStatusIndicator,{status:clusterStats.status});var showMlJobs=function showMlJobs(){if(props.ml){return[_react2.default.createElement(_eui.EuiDescriptionListTitle,{key:"mlJobsListTitle"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.jobsLabel",defaultMessage:"Jobs"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{key:"mlJobsCount","data-test-subj":"esMlJobs"},props.ml.jobs)]}return null};var licenseText=_react2.default.createElement(_license_text.LicenseText,{license:props.license,showLicenseExpiration:props.showLicenseExpiration});return _react2.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{statusIndicator:statusIndicator,url:"elasticsearch",title:"Elasticsearch",extras:licenseText}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:3},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToElasticsearch,"aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.esPanel.overviewLinkAriaLabel",defaultMessage:"Elasticsearch Overview"}),"data-test-subj":"esOverview"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.overviewLinkLabel",defaultMessage:"Overview"})))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.versionLabel",defaultMessage:"Version"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esVersion"},props.version||props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.esPanel.versionNotAvailableDescription",defaultMessage:"N/A"})),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.uptimeLabel",defaultMessage:"Uptime"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esUptime"},(0,_format_number.formatNumber)((0,_lodash.get)(nodes,"jvm.max_uptime_in_millis"),"time_since")),showMlJobs()))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{"data-test-subj":"esNumberOfNodes",onClick:goToNodes},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.nodesTotalLinkLabel",defaultMessage:"Nodes: {nodesTotal}",values:{nodesTotal:(0,_format_number.formatNumber)((0,_lodash.get)(nodes,"count.total"),"int_commas")}})))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.diskAvailableLabel",defaultMessage:"Disk Available"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esDiskAvailable"},_react2.default.createElement(_helpers.BytesUsage,{usedBytes:(0,_lodash.get)(nodes,"fs.available_in_bytes"),maxBytes:(0,_lodash.get)(nodes,"fs.total_in_bytes")})),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.jvmHeapLabel",defaultMessage:"{javaVirtualMachine} Heap",values:{javaVirtualMachine:"JVM"}})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esJvmHeap"},_react2.default.createElement(_helpers.BytesPercentageUsage,{usedBytes:(0,_lodash.get)(nodes,"jvm.mem.heap_used_in_bytes"),maxBytes:(0,_lodash.get)(nodes,"jvm.mem.heap_max_in_bytes")}))))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToIndices,"data-test-subj":"esNumberOfIndices","aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.esPanel.indicesCountLinkAriaLabel",defaultMessage:"Elasticsearch Indices: {indicesCount}"},{indicesCount:(0,_format_number.formatNumber)((0,_lodash.get)(indices,"count"),"int_commas")})},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.indicesCountLinkLabel",defaultMessage:"Indices: {indicesCount}",values:{indicesCount:(0,_format_number.formatNumber)((0,_lodash.get)(indices,"count"),"int_commas")}})))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.documentsLabel",defaultMessage:"Documents"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esDocumentsCount"},(0,_format_number.formatNumber)((0,_lodash.get)(indices,"docs.count"),"int_commas")),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.diskUsageLabel",defaultMessage:"Disk Usage"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esDiskUsage"},(0,_format_number.formatNumber)((0,_lodash.get)(indices,"store.size_in_bytes"),"byte")),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.primaryShardsLabel",defaultMessage:"Primary Shards"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esPrimaryShards"},primaries),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.replicaShardsLabel",defaultMessage:"Replica Shards"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esReplicaShards"},replicas))))))}var ElasticsearchPanel=exports.ElasticsearchPanel=(0,_react3.injectI18n)(ElasticsearchPanelUi)},2034:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseText=LicenseText;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _momentTimezone=__webpack_require__(191);var _momentTimezone2=_interopRequireDefault(_momentTimezone);var _lodash=__webpack_require__(1);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var formatDateLocal=function formatDateLocal(input){return _momentTimezone2.default.tz(input,_momentTimezone2.default.tz.guess()).format("LL")};function LicenseText(_ref){var license=_ref.license,showLicenseExpiration=_ref.showLicenseExpiration;if(!showLicenseExpiration){return null}return _react2.default.createElement(_eui.EuiLink,{href:"#/license"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.licenseText.toLicensePageLinkLabel",defaultMessage:"{licenseType} license {willExpireOn}",values:{licenseType:(0,_lodash.capitalize)(license.type),willExpireOn:license.expiry_date_in_millis===undefined?"":_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.licenseText.expireDateText",defaultMessage:"will expire on {expiryDate}",values:{expiryDate:formatDateLocal(license.expiry_date_in_millis)}})}}))}},2035:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KibanaPanel=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _format_number=__webpack_require__(29);var _helpers=__webpack_require__(398);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function KibanaPanelUi(props){if(!props.count){return null}var statusIndicator=_react2.default.createElement(_helpers.HealthStatusIndicator,{status:props.status});var goToKibana=function goToKibana(){return props.changeUrl("kibana")};var goToInstances=function goToInstances(){return props.changeUrl("kibana/instances")};return _react2.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{statusIndicator:statusIndicator,url:"kibana",title:props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.kibanaPanel.kibanaTitle",defaultMessage:"Kibana"})}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToKibana,"aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.kibanaPanel.overviewLinkAriaLabel",defaultMessage:"Kibana Overview"}),"data-test-subj":"kbnOverview"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.overviewLinkLabel",defaultMessage:"Overview"})))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column","data-test-subj":"kibana_overview","data-overview-status":props.status},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.requestsLabel",defaultMessage:"Requests"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnRequests"},props.requests_total),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.maxResponseTimeLabel",defaultMessage:"Max. Response Time"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnMaxResponseTime"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.maxResponseTimeDescription",defaultMessage:"{maxTime} ms",values:{maxTime:props.response_time_max}}))))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToInstances,"data-test-subj":"kbnInstances","aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.kibanaPanel.instancesCountLinkAriaLabel",defaultMessage:"Kibana Instances: {instancesCount}"},{instancesCount:props.count})},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.instancesCountLinkLabel",defaultMessage:"Instances: {instancesCount}",values:{instancesCount:_react2.default.createElement("span",{"data-test-subj":"number_of_kibana_instances"},props.count)}})))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.connectionsLabel",defaultMessage:"Connections"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnConnections"},(0,_format_number.formatNumber)(props.concurrent_connections,"int_commas")),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.memoryUsageLabel",defaultMessage:"Memory Usage"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnMemoryUsage"},_react2.default.createElement(_helpers.BytesPercentageUsage,{usedBytes:props.memory_size,maxBytes:props.memory_limit})))))))}var KibanaPanel=exports.KibanaPanel=(0,_react3.injectI18n)(KibanaPanelUi)},2036:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogstashPanel=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _format_number=__webpack_require__(29);var _helpers=__webpack_require__(398);var _tooltip=__webpack_require__(295);var _constants=__webpack_require__(59);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LogstashPanelUi(props){if(!props.node_count){return null}var goToLogstash=function goToLogstash(){return props.changeUrl("logstash")};var goToNodes=function goToNodes(){return props.changeUrl("logstash/nodes")};var goToPipelines=function goToPipelines(){return props.changeUrl("logstash/pipelines")};return _react2.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{url:"logstash",title:props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.logstashPanel.logstashTitle",defaultMessage:"Logstash"})}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:3},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToLogstash,"aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.logstashPanel.overviewLinkAriaLabel",defaultMessage:"Logstash Overview"})},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.overviewLinkLabel",defaultMessage:"Overview"})))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column","data-test-subj":"logstash_overview"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.eventsReceivedLabel",defaultMessage:"Events Received"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsEventsReceived"},(0,_format_number.formatNumber)(props.events_in_total,"0.[0]a")),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.eventsEmittedLabel",defaultMessage:"Events Emitted"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsEventsEmitted"},(0,_format_number.formatNumber)(props.events_out_total,"0.[0]a"))))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToNodes,"data-test-subj":"lsNodes","aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.logstashPanel.nodesCountLinkAriaLabel",defaultMessage:"Logstash Nodes: {nodesCount}"},{nodesCount:props.node_count})},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.nodesCountLinkLabel",defaultMessage:"Nodes: {nodesCount}",values:{nodesCount:_react2.default.createElement("span",{"data-test-subj":"number_of_logstash_instances"},props.node_count)}})))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.uptimeLabel",defaultMessage:"Uptime"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsUptime"},(0,_format_number.formatNumber)(props.max_uptime,"time_since")),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.jvmHeapLabel",defaultMessage:"{javaVirtualMachine} Heap",values:{javaVirtualMachine:"JVM"}})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsJvmHeap"},_react2.default.createElement(_helpers.BytesPercentageUsage,{usedBytes:props.avg_memory_used,maxBytes:props.avg_memory}))))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToPipelines,"data-test-subj":"lsPipelines","aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.logstashPanel.pipelineCountLinkAriaLabel",defaultMessage:"Logstash Pipelines (beta feature): {pipelineCount}"},{pipelineCount:props.pipeline_count})},_react2.default.createElement(_tooltip.Tooltip,{text:props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.logstashPanel.betaFeatureTooltip",defaultMessage:"Beta Feature"}),placement:"bottom",trigger:"hover"},_react2.default.createElement("span",{className:"kuiIcon fa-flask betaIcon"})),_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.pipelinesCountLinkLabel",defaultMessage:"Pipelines: {pipelineCount}",values:{pipelineCount:_react2.default.createElement("span",{"data-test-subj":"number_of_logstash_pipelines"},props.pipeline_count)}})))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.withMemoryQueuesLabel",defaultMessage:"With Memory Queues"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,props.queue_types[_constants.LOGSTASH.QUEUE_TYPES.MEMORY]),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.withPersistentQueuesLabel",defaultMessage:"With Persistent Queues"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,props.queue_types[_constants.LOGSTASH.QUEUE_TYPES.PERSISTED]))))))}var LogstashPanel=exports.LogstashPanel=(0,_react3.injectI18n)(LogstashPanelUi)},2037:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertsPanel=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _formatted_alert=__webpack_require__(967);var _map_severity=__webpack_require__(614);var _format_timestamp_to_duration=__webpack_require__(466);var _constants=__webpack_require__(59);var _formatting=__webpack_require__(272);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AlertsPanelUi(_ref){var alerts=_ref.alerts,changeUrl=_ref.changeUrl,intl=_ref.intl;var goToAlerts=function goToAlerts(){return changeUrl("/alerts")};if(!alerts||!alerts.length){return null}function TopAlertItem(_ref2){var item=_ref2.item,index=_ref2.index;var severityIcon=(0,_map_severity.mapSeverity)(item.metadata.severity);if(item.resolved_timestamp){severityIcon.title=intl.formatMessage({id:"xpack.monitoring.cluster.overview.alertsPanel.severityIconTitle",defaultMessage:"{severityIconTitle} (resolved {time} ago)"},{severityIconTitle:severityIcon.title,time:(0,_format_timestamp_to_duration.formatTimestampToDuration)(item.resolved_timestamp,_constants.CALCULATE_DURATION_SINCE)});severityIcon.color="success";severityIcon.iconType="check"}return _react2.default.createElement(_eui.EuiCallOut,{key:"alert-item-"+index,"data-test-subj":"topAlertItem",className:"kuiVerticalRhythm",iconType:severityIcon.iconType,color:severityIcon.color,title:severityIcon.title},_react2.default.createElement(_formatted_alert.FormattedAlert,{prefix:item.prefix,suffix:item.suffix,message:item.message,metadata:item.metadata,changeUrl:changeUrl}),_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("p",{"data-test-subj":"alertMeta"},_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.alertsPanel.lastCheckedTimeText",defaultMessage:"Last checked {updateDateTime} (triggered {duration} ago)",values:{updateDateTime:(0,_formatting.formatDateTimeLocal)(item.update_timestamp),duration:(0,_format_timestamp_to_duration.formatTimestampToDuration)(item.timestamp,_constants.CALCULATE_DURATION_SINCE)}})))))}var topAlertItems=alerts.map(function(item,index){return _react2.default.createElement(TopAlertItem,{item:item,key:"top-alert-item-"+index,index:index})});return _react2.default.createElement("div",{"data-test-subj":"clusterAlertsContainer"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.alertsPanel.topClusterTitle",defaultMessage:"Top cluster alerts"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{size:"s",onClick:goToAlerts,"data-test-subj":"viewAllAlerts"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.alertsPanel.viewAllButtonLabel",defaultMessage:"View all alerts"})))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),topAlertItems,_react2.default.createElement(_eui.EuiSpacer,{size:"xxl"}))}var AlertsPanel=exports.AlertsPanel=(0,_react3.injectI18n)(AlertsPanelUi)},2038:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BeatsPanel=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _lodash=__webpack_require__(1);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _format_number=__webpack_require__(29);var _eui=__webpack_require__(2);var _helpers=__webpack_require__(398);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function BeatsPanelUi(props){if(!(0,_lodash.get)(props,"beats.total",0)>0){return null}var goToBeats=function goToBeats(){return props.changeUrl("beats")};var goToInstances=function goToInstances(){return props.changeUrl("beats/beats")};var beatTypes=props.beats.types.map(function(beat,index){return[_react2.default.createElement(_eui.EuiDescriptionListTitle,{key:"beat-types-type-"+index,"data-test-subj":"beatTypeCount","data-test-beat-type-count":beat.type+":"+beat.count},beat.type),_react2.default.createElement(_eui.EuiDescriptionListDescription,{key:"beat-types-count-"+index},beat.count)]});return _react2.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{url:"beats",title:props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.beatsPanel.beatsTitle",defaultMessage:"Beats"})}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToBeats,"aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.beatsPanel.overviewLinkAriaLabel",defaultMessage:"Beats Overview"}),"data-test-subj":"beatsOverview"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.beatsPanel.overviewLinkLabel",defaultMessage:"Overview"})))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.beatsPanel.totalEventsLabel",defaultMessage:"Total Events"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"beatsTotalEvents"},(0,_format_number.formatMetric)(props.totalEvents,"0.[0]a")),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.beatsPanel.bytesSentLabel",defaultMessage:"Bytes Sent"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"beatsBytesSent"},(0,_format_number.formatMetric)(props.bytesSent,"byte"))))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToInstances,"aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.beatsPanel.instancesTotalLinkAriaLabel",defaultMessage:"Beats Instances: {beatsTotal}"},{beatsTotal:props.beats.total}),"data-test-subj":"beatsListing"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.beatsPanel.beatsTotalLinkLabel",defaultMessage:"Beats: {beatsTotal}",values:{beatsTotal:_react2.default.createElement("span",{"data-test-subj":"beatsTotal"},props.beats.total)}})))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},beatTypes)))))}var BeatsPanel=exports.BeatsPanel=(0,_react3.injectI18n)(BeatsPanelUi)},2039:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ApmPanel=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _lodash=__webpack_require__(1);var _format_number=__webpack_require__(29);var _helpers=__webpack_require__(398);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);var _common=__webpack_require__(397);var _constants=__webpack_require__(59);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ApmPanelUi(props){if(!(0,_lodash.get)(props,"apms.total",0)>0){return null}var goToApm=function goToApm(){return props.changeUrl("apm")};var goToInstances=function goToInstances(){return props.changeUrl("apm/instances")};return _react2.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{url:"apm",title:props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.apmPanel.apmTitle",defaultMessage:"APM"})}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToApm,"aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.apmPanel.overviewLinkAriaLabel",defaultMessage:"APM Overview"}),"data-test-subj":"apmOverview"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.overviewLinkLabel",defaultMessage:"Overview"})))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.processedEventsLabel",defaultMessage:"Processed Events"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"apmsTotalEvents"},(0,_format_number.formatMetric)(props.totalEvents,"0.[0]a")),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.lastEventLabel",defaultMessage:"Last Event"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"apmsBytesSent"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.lastEventDescription",defaultMessage:"{timeOfLastEvent} ago",values:{timeOfLastEvent:(0,_common.formatTimestampToDuration)(+(0,_moment2.default)(props.timeOfLastEvent),_constants.CALCULATE_DURATION_SINCE)}}))))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiLink,{onClick:goToInstances,"aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.apmPanel.instancesTotalLinkAriaLabel",defaultMessage:"Apm Instances: {apmsTotal}"},{apmsTotal:props.apms.total}),"data-test-subj":"apmListing"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.serversTotalLinkLabel",defaultMessage:"APM Servers: {apmsTotal}",values:{apmsTotal:_react2.default.createElement("span",{"data-test-subj":"apmsTotal"},props.apms.total)}})))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.memoryUsageLabel",defaultMessage:"Memory Usage"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"apmMemoryUsage"},_react2.default.createElement(_helpers.BytesPercentageUsage,{usedBytes:props.memRss,maxBytes:props.memTotal})))))))}var ApmPanel=exports.ApmPanel=(0,_react3.injectI18n)(ApmPanelUi)},2040:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _index=__webpack_require__(2041);var _index2=_interopRequireDefault(_index);var _controller=__webpack_require__(2042);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/elasticsearch",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()}},controllerAs:"elasticsearchOverview",controller:_controller.ElasticsearchOverviewController})},2041:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="overview"\n  data-test-subj="elasticsearchOverviewPage"\n>\n  <div id="elasticsearchOverviewReact"></div>\n</monitoring-main>\n'},2042:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchOverviewController=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _=__webpack_require__(69);var _components=__webpack_require__(336);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ElasticsearchOverviewController=exports.ElasticsearchOverviewController=function(_MonitoringViewBaseCo){_inherits(ElasticsearchOverviewController,_MonitoringViewBaseCo);function ElasticsearchOverviewController($injector,$scope){_classCallCheck(this,ElasticsearchOverviewController);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var _this=_possibleConstructorReturn(this,(ElasticsearchOverviewController.__proto__||Object.getPrototypeOf(ElasticsearchOverviewController)).call(this,{title:"Elasticsearch",api:"../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch",defaultData:{clusterStatus:{status:""},metrics:null,shardActivity:null},reactNodeId:"elasticsearchOverviewReact",$scope:$scope,$injector:$injector}));_this.showShardActivityHistory=false;_this.toggleShardActivityHistory=function(){_this.showShardActivityHistory=!_this.showShardActivityHistory;$scope.$evalAsync(function(){_this.renderReact(_this.data)})};_this.initScope($scope);return _this}_createClass(ElasticsearchOverviewController,[{key:"initScope",value:function initScope($scope){var _this2=this;$scope.$watch(function(){return _this2.data},function(data){_this2.renderReact(data)});$scope.$watch(function(){return _this2.showShardActivityHistory},function(){var data=_this2.data;var dataWithShardActivityLoading=_extends({},data,{shardActivity:null});_this2.renderReact(dataWithShardActivityLoading);_this2.renderReact(data)})}},{key:"filterShardActivityData",value:function filterShardActivityData(shardActivity){var _this3=this;return shardActivity.filter(function(row){return _this3.showShardActivityHistory||row.stage!=="DONE"})}},{key:"renderReact",value:function renderReact(data){var clusterStatus=data.clusterStatus,metrics=data.metrics,shardActivity=data.shardActivity;var shardActivityData=shardActivity&&this.filterShardActivityData(shardActivity);var component=_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_components.ElasticsearchOverview,{clusterStatus:clusterStatus,metrics:metrics,shardActivity:shardActivityData,onBrush:this.onBrush,showShardActivityHistory:this.showShardActivityHistory,toggleShardActivityHistory:this.toggleShardActivityHistory}));_get(ElasticsearchOverviewController.prototype.__proto__||Object.getPrototypeOf(ElasticsearchOverviewController.prototype),"renderReact",this).call(this,component)}}]);return ElasticsearchOverviewController}(_.MonitoringViewBaseController)},2043:function(module,exports,__webpack_require__){"use strict";var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _=__webpack_require__(69);var _components=__webpack_require__(336);var _index=__webpack_require__(2044);var _index2=_interopRequireDefault(_index);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}_routes2.default.when("/elasticsearch/indices",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()}},controllerAs:"elasticsearchIndices",controller:function(_MonitoringViewBaseEu){_inherits(ElasticsearchIndicesController,_MonitoringViewBaseEu);function ElasticsearchIndicesController($injector,$scope,i18n){var _call;_classCallCheck(this,ElasticsearchIndicesController);var $route=$injector.get("$route");var globalState=$injector.get("globalState");var features=$injector.get("features");var clusterUuid=globalState.cluster_uuid;$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:clusterUuid});var showSystemIndices=features.isEnabled("showSystemIndices",false);var _this=_possibleConstructorReturn(this,(ElasticsearchIndicesController.__proto__||Object.getPrototypeOf(ElasticsearchIndicesController)).call(this,(_call={title:i18n("xpack.monitoring.elasticsearch.indices.routeTitle",{defaultMessage:"Elasticsearch - Indices"}),storageKey:"elasticsearch.indices",apiUrlFn:function apiUrlFn(){return"../api/monitoring/v1/clusters/"+clusterUuid+"/elasticsearch/indices?show_system_indices="+showSystemIndices},reactNodeId:"elasticsearchIndicesReact",defaultData:{},$scope:$scope,$injector:$injector},_defineProperty(_call,"$scope",$scope),_defineProperty(_call,"$injector",$injector),_call)));var toggleShowSystemIndices=function toggleShowSystemIndices(isChecked){showSystemIndices=isChecked;features.update("showSystemIndices",isChecked);_this.updateData()};$scope.$watch(function(){return _this.data},function(data){_this.renderReact(data)});_this.renderReact=function(_ref){var clusterStatus=_ref.clusterStatus,indices=_ref.indices;_get(ElasticsearchIndicesController.prototype.__proto__||Object.getPrototypeOf(ElasticsearchIndicesController.prototype),"renderReact",_this).call(_this,_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_components.ElasticsearchIndices,{clusterStatus:clusterStatus,indices:indices,showSystemIndices:showSystemIndices,toggleShowSystemIndices:toggleShowSystemIndices,sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange})))};return _this}return ElasticsearchIndicesController}(_.MonitoringViewBaseEuiTableController)})},2044:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="indices"\n  data-test-subj="elasticsearchIndicesListingPage"\n>\n  <div id="elasticsearchIndicesReact"></div>\n</monitoring-main>\n'},2045:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _ajax_error_handler=__webpack_require__(42);var _index=__webpack_require__(2046);var _index2=_interopRequireDefault(_index);var _timefilter=__webpack_require__(16);var _react3=__webpack_require__(3);var _labels=__webpack_require__(969);var _indices_by_nodes=__webpack_require__(2047);var _index3=__webpack_require__(2048);var _base_controller=__webpack_require__(177);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getPageData($injector){var $http=$injector.get("$http");var $route=$injector.get("$route");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch/indices/"+$route.current.params.index;var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:false}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes2.default.when("/elasticsearch/indices/:index",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controllerAs:"monitoringElasticsearchIndexApp",controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope,i18n){_classCallCheck(this,controller);var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");var indexName=$route.current.params.index;var _this=_possibleConstructorReturn(this,(controller.__proto__||Object.getPrototypeOf(controller)).call(this,{title:i18n("xpack.monitoring.elasticsearch.indices.overview.routeTitle",{defaultMessage:"Elasticsearch - Indices - {indexName} - Overview",values:{indexName:indexName}}),defaultData:{},getPageData:getPageData,reactNodeId:"monitoringElasticsearchIndexApp",$scope:$scope,$injector:$injector}));_this.indexName=indexName;var transformer=(0,_indices_by_nodes.indicesByNodes)();$scope.$watch(function(){return _this.data},function(data){if(!data||!data.shards){return}var shards=data.shards;data.totalCount=shards.length;data.showing=transformer(shards,data.nodes);if(shards.some(function(shard){return shard.state==="UNASSIGNED"})){data.labels=_labels.labels.indexWithUnassigned}else{data.labels=_labels.labels.index}_this.renderReact(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_index3.Index,_extends({scope:$scope,kbnUrl:kbnUrl,onBrush:_this.onBrush},data))))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2046:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="indices"\n  instance="{{ monitoringElasticsearchIndexApp.indexName }}"\n  resolver="{{ monitoringElasticsearchIndexApp.indexName }}"\n  page="overview"\n>\n  <div id="monitoringElasticsearchIndexApp"></div>\n</monitoring-main>\n'},2047:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indicesByNodes=indicesByNodes;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _decorate_shards=__webpack_require__(970);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function indicesByNodes(){return function indicesByNodesFn(shards,nodes){function createIndex(obj,shard){var id=shard.index;if(obj[id]){return obj}obj[id]={id:id,name:id,children:[],unassigned:[],unassignedPrimaries:false,type:"index"};return obj}function createNodeAddShard(obj,shard){var node=shard.node,index=shard.index;if(!shard.node||shard.node===null){obj[index].unassigned.push(shard);if(shard.primary){obj[index].unassignedPrimaries=true}return obj}var nodeObj=_lodash2.default.find(obj[index].children,{id:node});if(!nodeObj){nodeObj={id:node,type:"node",name:nodes[node].name,node_type:nodes[node].type,ip_port:nodes[node].transport_address,children:[]};obj[index].children.push(nodeObj)}nodeObj.children.push(shard);return obj}var data=_lodash2.default.reduce((0,_decorate_shards.decorateShards)(shards,nodes),function(obj,shard){obj=createIndex(obj,shard);obj=createNodeAddShard(obj,shard);return obj},{});return(0,_lodash2.default)(data).values().sortBy(function(index){return[!index.unassignedPrimaries,/^\./.test(index.name),index.name]}).value()}}},2048:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Index=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _index_detail_status=__webpack_require__(616);var _chart=__webpack_require__(176);var _shard_allocation=__webpack_require__(971);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var Index=function Index(_ref){var scope=_ref.scope,indexSummary=_ref.indexSummary,metrics=_ref.metrics,kbnUrl=_ref.kbnUrl,props=_objectWithoutProperties(_ref,["scope","indexSummary","metrics","kbnUrl"]);var metricsToShow=[metrics.index_mem,metrics.index_size,metrics.index_search_request_rate,metrics.index_request_rate,metrics.index_segment_count,metrics.index_document_count];return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_index_detail_status.IndexDetailStatus,{stats:indexSummary}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"none"},metricsToShow.map(function(metric,index){return _react2.default.createElement(_eui.EuiFlexItem,{key:index,style:{width:"50%"}},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))})),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_shard_allocation.ShardAllocation,_extends({scope:scope},props,{kbnUrl:kbnUrl,type:"index"})))))};exports.Index=Index},2049:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterView=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _table_head=__webpack_require__(2050);var _table_body=__webpack_require__(2051);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ClusterView=exports.ClusterView=function(_React$Component){_inherits(ClusterView,_React$Component);function ClusterView(props){_classCallCheck(this,ClusterView);var _this=_possibleConstructorReturn(this,(ClusterView.__proto__||Object.getPrototypeOf(ClusterView)).call(this,props));_this.setShowing=function(data){if(data){_this.setState({showing:data})}};_this.setShardStats=function(stats){_this.setState({shardStats:stats})};_this.hasUnassigned=function(){return _this.state.showing.length&&_this.state.showing[0].unassigned&&_this.state.showing[0].unassigned.length};var scope=props.scope;var kbnChangePath=props.kbnUrl.changePath;_this.state={labels:props.scope.labels||[],showing:props.scope.showing||[],shardStats:props.scope.pageData.shardStats,showSystemIndices:props.showSystemIndices,toggleShowSystemIndices:props.toggleShowSystemIndices,angularChangeUrl:function angularChangeUrl(url){scope.$evalAsync(function(){return kbnChangePath(url)})}};return _this}_createClass(ClusterView,[{key:"componentWillMount",value:function componentWillMount(){var _this2=this;this.props.scope.$watch("showing",this.setShowing);this.props.scope.$watch(function(){return _this2.props.scope.pageData.shardStats},this.setShardStats)}},{key:"render",value:function render(){return _react2.default.createElement("table",{cellPadding:"0",cellSpacing:"0",className:"table"},_react2.default.createElement(_table_head.TableHead,{hasUnassigned:this.hasUnassigned(),scope:this.props.scope,toggleShowSystemIndices:this.state.toggleShowSystemIndices}),_react2.default.createElement(_table_body.TableBody,{filter:this.props.scope.filter,totalCount:this.props.scope.totalCount,rows:this.state.showing,cols:this.state.labels.length,shardStats:this.state.shardStats,changeUrl:this.state.angularChangeUrl}))}}]);return ClusterView}(_react2.default.Component);ClusterView.displayName=_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.clusterViewDisplayName",{defaultMessage:"ClusterView"})},2050:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TableHead=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IndexLabel=function(_React$Component){_inherits(IndexLabel,_React$Component);function IndexLabel(props){_classCallCheck(this,IndexLabel);var _this=_possibleConstructorReturn(this,(IndexLabel.__proto__||Object.getPrototypeOf(IndexLabel)).call(this,props));_this.state={showSystemIndices:props.scope.showSystemIndices};_this.toggleShowSystemIndicesState=_this.toggleShowSystemIndicesState.bind(_this);return _this}_createClass(IndexLabel,[{key:"toggleShowSystemIndicesState",value:function toggleShowSystemIndicesState(e){var _this2=this;var isChecked=e.target.checked;this.setState({showSystemIndices:isChecked});this.props.scope.$evalAsync(function(){_this2.props.toggleShowSystemIndices(isChecked)})}},{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardAllocation.tableHead.indicesLabel",defaultMessage:"Indices"})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiSwitch,{label:"System indices",onChange:this.toggleShowSystemIndicesState,checked:this.state.showSystemIndices,"data-test-subj":"shardShowSystemIndices"})))}}]);return IndexLabel}(_react2.default.Component);var TableHead=exports.TableHead=function(_React$Component2){_inherits(TableHead,_React$Component2);function TableHead(props){_classCallCheck(this,TableHead);return _possibleConstructorReturn(this,(TableHead.__proto__||Object.getPrototypeOf(TableHead)).call(this,props))}_createClass(TableHead,[{key:"createColumn",value:function createColumn(_ref){var key=_ref.key,content=_ref.content;return _react2.default.createElement("th",{scope:"col",key:key,colSpan:1},content)}},{key:"render",value:function render(){var _this4=this;var propLabels=this.props.scope.labels||[];var labelColumns=propLabels.map(function(label){var column={key:label.content.toLowerCase()};if(label.showToggleSystemIndicesComponent){column.content=_react2.default.createElement(IndexLabel,{scope:_this4.props.scope,toggleShowSystemIndices:_this4.props.toggleShowSystemIndices})}else{column.content=label.content}return column}).map(this.createColumn);return _react2.default.createElement("thead",null,_react2.default.createElement("tr",null,labelColumns))}}]);return TableHead}(_react2.default.Component)},2051:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TableBody=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _unassigned=__webpack_require__(2052);var _assigned=__webpack_require__(2054);var _react3=__webpack_require__(3);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ShardRow=function ShardRow(props){var unassigned=void 0;if(props.data.unassigned&&props.data.unassigned.length){unassigned=_react2.default.createElement(_unassigned.Unassigned,{shards:props.data.unassigned})}else{if(props.cols===3){unassigned=_react2.default.createElement("td",null)}}return _react2.default.createElement("tr",null,unassigned,_react2.default.createElement(_assigned.Assigned,{shardStats:props.shardStats,data:props.data.children,changeUrl:props.changeUrl}))};var TableBody=exports.TableBody=function(_React$Component){_inherits(TableBody,_React$Component);function TableBody(){var _ref;var _temp,_this,_ret;_classCallCheck(this,TableBody);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=TableBody.__proto__||Object.getPrototypeOf(TableBody)).call.apply(_ref,[this].concat(args))),_this),_this.createRow=function(data,index){return _react2.default.createElement(ShardRow,_extends({key:"shardRow-"+index,data:data},_this.props,{changeUrl:_this.props.changeUrl}))},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(TableBody,[{key:"render",value:function render(){if(this.props.totalCount===0){return _react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",{colSpan:this.props.cols},_react2.default.createElement("div",null,_react2.default.createElement("p",{style:{margin:"10px 0"},className:"text-center lead"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardAllocation.tableBody.noShardsAllocatedDescription",defaultMessage:"There are no shards allocated."}))))))}if(this.props.shardStats){if(this.props.rows.length){return _react2.default.createElement("tbody",null,this.props.rows.map(this.createRow))}}return _react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",{colSpan:this.props.cols})))}}]);return TableBody}(_react2.default.Component);TableBody.displayName=_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.tableBodyDisplayName",{defaultMessage:"TableBody"})},2052:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Unassigned=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _shard=__webpack_require__(972);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Unassigned=exports.Unassigned=function(_React$Component){_inherits(Unassigned,_React$Component);function Unassigned(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Unassigned);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Unassigned.__proto__||Object.getPrototypeOf(Unassigned)).call.apply(_ref,[this].concat(args))),_this),_this.createShard=function(shard){var type=shard.primary?"primary":"replica";var additionId=shard.state==="UNASSIGNED"?Math.random():"";var key=shard.index+"."+shard.node+"."+type+"."+shard.state+"."+shard.shard+additionId;return _react2.default.createElement(_shard.Shard,{shard:shard,key:key})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(Unassigned,[{key:"render",value:function render(){var shards=_lodash2.default.sortBy(this.props.shards,"shard").map(this.createShard);return _react2.default.createElement("td",{className:"unassigned","data-test-subj":"clusterView-Unassigned"},_react2.default.createElement("div",{className:"children"},shards))}}]);return Unassigned}(_react2.default.Component);Unassigned.displayName=_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.unassignedDisplayName",{defaultMessage:"Unassigned"})},2053:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.vents=exports._vents=undefined;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _vents=exports._vents={};var vents=exports.vents={vents:_vents,on:function on(id,cb){if(!_lodash2.default.isArray(_vents[id])){_vents[id]=[]}_vents[id].push(cb)},clear:function clear(id){delete _vents[id]},trigger:function trigger(){var args=Array.prototype.slice.call(arguments);var id=args.shift();if(_vents[id]){_lodash2.default.each(_vents[id],function(cb){cb.apply(null,args)})}}}},2054:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Assigned=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _shard=__webpack_require__(972);var _calculate_class=__webpack_require__(973);var _generate_query_and_link=__webpack_require__(2055);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function sortByName(item){if(item.type==="node"){return[!item.master,item.name]}return[item.name]}var Assigned=exports.Assigned=function(_React$Component){_inherits(Assigned,_React$Component);function Assigned(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Assigned);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Assigned.__proto__||Object.getPrototypeOf(Assigned)).call.apply(_ref,[this].concat(args))),_this),_this.createShard=function(shard){var type=shard.primary?"primary":"replica";var key=shard.index+"."+shard.node+"."+type+"."+shard.state+"."+shard.shard;return _react2.default.createElement(_shard.Shard,{shard:shard,key:key})},_this.createChild=function(data){var key=data.id;var initialClasses=["child"];var shardStats=(0,_lodash.get)(_this.props.shardStats.indices,key);if(shardStats){initialClasses.push(shardStats.status)}var changeUrl=function changeUrl(){_this.props.changeUrl((0,_generate_query_and_link.generateQueryAndLink)(data))};var name=_react2.default.createElement(_eui.EuiKeyboardAccessible,null,_react2.default.createElement("a",{onClick:changeUrl},_react2.default.createElement("span",null,data.name)));var master=data.node_type==="master"?_react2.default.createElement("span",{className:"fa fa-star"}):null;var shards=(0,_lodash.sortBy)(data.children,"shard").map(_this.createShard);return _react2.default.createElement("div",{className:(0,_calculate_class.calculateClass)(data,initialClasses.join(" ")),key:key,"data-test-subj":"clusterView-Assigned-"+key,"data-status":shardStats&&shardStats.status},_react2.default.createElement("div",{className:"title"},name,master),shards)},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(Assigned,[{key:"render",value:function render(){var data=(0,_lodash.sortBy)(this.props.data,sortByName).map(this.createChild);return _react2.default.createElement("td",null,_react2.default.createElement("div",{className:"children"},data))}}]);return Assigned}(_react2.default.Component)},2055:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.generateQueryAndLink=generateQueryAndLink;function generateQueryAndLink(data){var type="indices";var ident=data.name;if(data.type==="node"){type="nodes";ident=data.id}return"/elasticsearch/"+type+"/"+ident}},2056:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _ajax_error_handler=__webpack_require__(42);var _route_init=__webpack_require__(31);var _index=__webpack_require__(2057);var _index2=_interopRequireDefault(_index);var _timefilter=__webpack_require__(16);var _advanced=__webpack_require__(2058);var _react3=__webpack_require__(3);var _base_controller=__webpack_require__(177);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getPageData($injector){var globalState=$injector.get("globalState");var $route=$injector.get("$route");var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch/indices/"+$route.current.params.index;var $http=$injector.get("$http");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:true}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes2.default.when("/elasticsearch/indices/:index/advanced",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controllerAs:"monitoringElasticsearchAdvancedIndexApp",controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope,i18n){_classCallCheck(this,controller);var $route=$injector.get("$route");var indexName=$route.current.params.index;var _this=_possibleConstructorReturn(this,(controller.__proto__||Object.getPrototypeOf(controller)).call(this,{title:i18n("xpack.monitoring.elasticsearch.indices.advanced.routeTitle",{defaultMessage:"Elasticsearch - Indices - {indexName} - Advanced",values:{indexName:indexName}}),defaultData:{},getPageData:getPageData,reactNodeId:"monitoringElasticsearchAdvancedIndexApp",$scope:$scope,$injector:$injector}));_this.indexName=indexName;$scope.$watch(function(){return _this.data},function(data){_this.renderReact(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_advanced.AdvancedIndex,{indexSummary:data.indexSummary,metrics:data.metrics,onBrush:_this.onBrush})))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2057:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch" name="indices"\n  instance="{{ monitoringElasticsearchAdvancedIndexApp.indexName }}"\n  resolver="{{ monitoringElasticsearchAdvancedIndexApp.indexName }}"\n  page="advanced"\n>\n  <div id="monitoringElasticsearchAdvancedIndexApp"></div>\n</monitoring-main>\n'},2058:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedIndex=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _index_detail_status=__webpack_require__(616);var _chart=__webpack_require__(176);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var AdvancedIndex=function AdvancedIndex(_ref){var indexSummary=_ref.indexSummary,metrics=_ref.metrics,props=_objectWithoutProperties(_ref,["indexSummary","metrics"]);var metricsToShow=[metrics.index_1,metrics.index_2,metrics.index_3,metrics.index_4,metrics.index_total,metrics.index_time,metrics.index_refresh,metrics.index_throttling,metrics.index_disk,metrics.index_segment_count,metrics.index_latency];return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_index_detail_status.IndexDetailStatus,{stats:indexSummary}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"none"},metricsToShow.map(function(metric,index){return _react2.default.createElement(_eui.EuiFlexItem,{key:index,style:{width:"50%"}},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))})))))};exports.AdvancedIndex=AdvancedIndex},2059:function(module,exports,__webpack_require__){"use strict";var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _index=__webpack_require__(2060);var _index2=_interopRequireDefault(_index);var _route_init=__webpack_require__(31);var _=__webpack_require__(69);var _components=__webpack_require__(336);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}_routes2.default.when("/elasticsearch/nodes",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()}},controllerAs:"elasticsearchNodes",controller:function(_MonitoringViewBaseEu){_inherits(ElasticsearchNodesController,_MonitoringViewBaseEu);function ElasticsearchNodesController($injector,$scope,i18n){_classCallCheck(this,ElasticsearchNodesController);var $route=$injector.get("$route");var globalState=$injector.get("globalState");var showCgroupMetricsElasticsearch=$injector.get("showCgroupMetricsElasticsearch");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var _this=_possibleConstructorReturn(this,(ElasticsearchNodesController.__proto__||Object.getPrototypeOf(ElasticsearchNodesController)).call(this,{title:i18n("xpack.monitoring.elasticsearch.nodes.routeTitle",{defaultMessage:"Elasticsearch - Nodes"}),storageKey:"elasticsearch.nodes",api:"../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch/nodes",reactNodeId:"elasticsearchNodesReact",defaultData:{},$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){_this.renderReact(data)});_this.renderReact=function(_ref){var clusterStatus=_ref.clusterStatus,nodes=_ref.nodes;_get(ElasticsearchNodesController.prototype.__proto__||Object.getPrototypeOf(ElasticsearchNodesController.prototype),"renderReact",_this).call(_this,_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_components.ElasticsearchNodes,{clusterStatus:clusterStatus,nodes:nodes,showCgroupMetricsElasticsearch:showCgroupMetricsElasticsearch,sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange})))};return _this}return ElasticsearchNodesController}(_.MonitoringViewBaseEuiTableController)})},2060:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="nodes"\n  data-test-subj="elasticsearchNodesListingPage"\n>\n  <div id="elasticsearchNodesReact"></div>\n</monitoring-main>\n'},2061:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _get_page_data=__webpack_require__(2062);var _index=__webpack_require__(2063);var _index2=_interopRequireDefault(_index);var _node=__webpack_require__(2064);var _react3=__webpack_require__(3);var _labels=__webpack_require__(969);var _nodes_by_indices=__webpack_require__(2065);var _base_controller=__webpack_require__(177);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}_routes2.default.when("/elasticsearch/nodes/:node",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"monitoringElasticsearchNodeApp",controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope,i18n){_classCallCheck(this,controller);var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");var nodeName=$route.current.params.node;var _this=_possibleConstructorReturn(this,(controller.__proto__||Object.getPrototypeOf(controller)).call(this,{title:i18n("xpack.monitoring.elasticsearch.node.overview.routeTitle",{defaultMessage:"Elasticsearch - Nodes - {nodeName} - Overview",values:{nodeName:nodeName}}),defaultData:{},getPageData:_get_page_data.getPageData,reactNodeId:"monitoringElasticsearchNodeApp",$scope:$scope,$injector:$injector}));_this.nodeName=nodeName;var features=$injector.get("features");var callPageData=(0,_lodash.partial)(_get_page_data.getPageData,$injector);$scope.showSystemIndices=features.isEnabled("showSystemIndices",false);$scope.toggleShowSystemIndices=function(isChecked){$scope.showSystemIndices=isChecked;features.update("showSystemIndices",isChecked);callPageData().then(function(data){return _this.data=data})};var transformer=(0,_nodes_by_indices.nodesByIndices)();$scope.$watch(function(){return _this.data},function(data){if(!data||!data.shards){return}var shards=data.shards;$scope.totalCount=shards.length;$scope.showing=transformer(shards,data.nodes);$scope.labels=_labels.labels.node;_this.renderReact(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_node.Node,_extends({scope:$scope,kbnUrl:kbnUrl,onBrush:_this.onBrush},data))))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2062:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(42);var _timefilter=__webpack_require__(16);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var $route=$injector.get("$route");var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch/nodes/"+$route.current.params.node;var features=$injector.get("features");var showSystemIndices=features.isEnabled("showSystemIndices",false);var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{showSystemIndices:showSystemIndices,ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:false}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2063:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="nodes"\n  instance="{{ monitoringElasticsearchNodeApp.nodeName }}"\n  resolver="{{ monitoringElasticsearchNodeApp.data.nodeSummary.resolver }}"\n  page="overview"\n  tab-icon-class="{{ monitoringElasticsearchNodeApp.data.nodeSummary.nodeTypeClass }}"\n  tab-icon-class="{{ monitoringElasticsearchNodeApp.data.nodeSummary.nodeTypeLabel }}"\n>\n  <div id="monitoringElasticsearchNodeApp"></div>\n</monitoring-main>\n'},2064:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Node=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _node_detail_status=__webpack_require__(617);var _chart=__webpack_require__(176);var _shard_allocation=__webpack_require__(971);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var Node=function Node(_ref){var nodeSummary=_ref.nodeSummary,metrics=_ref.metrics,scope=_ref.scope,kbnUrl=_ref.kbnUrl,props=_objectWithoutProperties(_ref,["nodeSummary","metrics","scope","kbnUrl"]);var metricsToShow=[metrics.node_jvm_mem,metrics.node_mem,metrics.node_cpu_metric,metrics.node_load_average,metrics.node_latency,metrics.node_segment_count];return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_node_detail_status.NodeDetailStatus,{stats:nodeSummary}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"none"},metricsToShow.map(function(metric,index){return _react2.default.createElement(_eui.EuiFlexItem,{key:index,style:{width:"50%"}},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))})),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_shard_allocation.ShardAllocation,{scope:scope,kbnUrl:kbnUrl}))))};exports.Node=Node},2065:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.nodesByIndices=nodesByIndices;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _has_primary_children=__webpack_require__(2066);var _decorate_shards=__webpack_require__(970);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function nodesByIndices(){return function nodesByIndicesFn(shards,nodes){var getNodeType=function getNodeType(node){var attrs=node.attributes||{};return attrs.master==="true"?"master":"normal"};function createNode(obj,node,id){node.type="node";node.children=[];var nodeType=getNodeType(node);if(nodeType==="normal"||nodeType==="data"){obj[id]=node}return obj}function createIndexAddShard(obj,shard){var node=shard.node||"unassigned";var index=shard.index;if(!obj[node]){createNode(obj,nodes[node],node)}var indexObj=_lodash2.default.find(obj[node].children,{id:index});if(!indexObj){indexObj={id:index,name:index,type:"index",children:[]};obj[node].children.push(indexObj)}indexObj.children.push(shard);return obj}function isUnassigned(shard){return shard.state==="UNASSIGNED"}var data={};if(_lodash2.default.some(shards,isUnassigned)){data.unassigned={name:"Unassigned",master:false,type:"node",children:[]}}data=_lodash2.default.reduce((0,_decorate_shards.decorateShards)(shards,nodes),createIndexAddShard,data);return(0,_lodash2.default)(data).values().sortBy(function(node){return[node.name!=="Unassigned",!node.master,node.name]}).map(function(node){if(node.name==="Unassigned"){node.unassignedPrimaries=node.children.some(_has_primary_children.hasPrimaryChildren)}return node}).value()}}},2066:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hasPrimaryChildren=hasPrimaryChildren;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function hasPrimaryChildren(item){return _lodash2.default.some(item.children,{primary:true})}},2067:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _ajax_error_handler=__webpack_require__(42);var _route_init=__webpack_require__(31);var _index=__webpack_require__(2068);var _index2=_interopRequireDefault(_index);var _timefilter=__webpack_require__(16);var _react3=__webpack_require__(3);var _advanced=__webpack_require__(2069);var _base_controller=__webpack_require__(177);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var $route=$injector.get("$route");var timeBounds=_timefilter.timefilter.getBounds();var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch/nodes/"+$route.current.params.node;return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:true}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes2.default.when("/elasticsearch/nodes/:node/advanced",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope,i18n){_classCallCheck(this,controller);var _this=_possibleConstructorReturn(this,(controller.__proto__||Object.getPrototypeOf(controller)).call(this,{defaultData:{},getPageData:getPageData,reactNodeId:"monitoringElasticsearchAdvancedNodeApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){if(!data||!data.nodeSummary){return}_this.setTitle(i18n("xpack.monitoring.elasticsearch.node.advanced.routeTitle",{defaultMessage:"Elasticsearch - Nodes - {nodeSummaryName} - Advanced",values:{nodeSummaryName:data.nodeSummary.name}}));_this.renderReact(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_advanced.AdvancedNode,{nodeSummary:data.nodeSummary,metrics:data.metrics,onBrush:_this.onBrush})))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2068:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="nodes"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.resolver }}"\n  page="advanced"\n  tab-icon-class="{{ pageData.nodeSummary.nodeTypeClass }}"\n  tab-icon-class="{{ pageData.nodeSummary.nodeTypeLabel }}"\n>\n  <div id="monitoringElasticsearchAdvancedNodeApp"></div>\n</monitoring-main>\n'},2069:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedNode=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _node_detail_status=__webpack_require__(617);var _chart=__webpack_require__(176);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var AdvancedNode=function AdvancedNode(_ref){var nodeSummary=_ref.nodeSummary,metrics=_ref.metrics,props=_objectWithoutProperties(_ref,["nodeSummary","metrics"]);var metricsToShow=[metrics.node_gc,metrics.node_gc_time,metrics.node_jvm_mem,metrics.node_cpu_utilization,metrics.node_index_1,metrics.node_index_2,metrics.node_index_3,metrics.node_index_4,metrics.node_index_time,metrics.node_request_total,metrics.node_index_threads,metrics.node_read_threads,metrics.node_cgroup_cpu,metrics.node_cgroup_stats,metrics.node_latency];return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_node_detail_status.NodeDetailStatus,{stats:nodeSummary}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"none"},metricsToShow.map(function(metric,index){return _react2.default.createElement(_eui.EuiFlexItem,{key:index,style:{width:"50%"}},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))})))))};exports.AdvancedNode=AdvancedNode},2070:function(module,exports,__webpack_require__){"use strict";var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _get_page_data=__webpack_require__(2071);var _route_init=__webpack_require__(31);var _index=__webpack_require__(2072);var _index2=_interopRequireDefault(_index);var _ccr=__webpack_require__(2073);var _base_controller=__webpack_require__(177);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}_routes2.default.when("/elasticsearch/ccr",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"elasticsearchCcr",controller:function(_MonitoringViewBaseCo){_inherits(ElasticsearchCcrController,_MonitoringViewBaseCo);function ElasticsearchCcrController($injector,$scope,i18n){_classCallCheck(this,ElasticsearchCcrController);var _this=_possibleConstructorReturn(this,(ElasticsearchCcrController.__proto__||Object.getPrototypeOf(ElasticsearchCcrController)).call(this,{title:i18n("xpack.monitoring.elasticsearch.ccr.routeTitle",{defaultMessage:"Elasticsearch - Ccr"}),reactNodeId:"elasticsearchCcrReact",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){_this.renderReact(data)});_this.renderReact=function(_ref){var data=_ref.data;_get(ElasticsearchCcrController.prototype.__proto__||Object.getPrototypeOf(ElasticsearchCcrController.prototype),"renderReact",_this).call(_this,_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_ccr.Ccr,{data:data})))};return _this}return ElasticsearchCcrController}(_base_controller.MonitoringViewBaseController)})},2071:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(42);var _timefilter=__webpack_require__(16);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch/ccr";return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2072:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="ccr"\n  data-test-subj="elasticsearchCcrListingPage"\n>\n  <div id="elasticsearchCcrReact"></div>\n</monitoring-main>\n'},2073:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ccr=__webpack_require__(2074);Object.defineProperty(exports,"Ccr",{enumerable:true,get:function get(){return _ccr.Ccr}})},2074:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Ccr=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);__webpack_require__(2075);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function toSeconds(ms){return Math.floor(ms/1e3)+"s"}var CcrUI=function(_Component){_inherits(CcrUI,_Component);function CcrUI(props){_classCallCheck(this,CcrUI);var _this=_possibleConstructorReturn(this,(CcrUI.__proto__||Object.getPrototypeOf(CcrUI)).call(this,props));_this.state={itemIdToExpandedRowMap:{}};return _this}_createClass(CcrUI,[{key:"toggleShards",value:function toggleShards(index,shards){var intl=this.props.intl;var itemIdToExpandedRowMap=_extends({},this.state.itemIdToExpandedRowMap);if(itemIdToExpandedRowMap[index]){delete itemIdToExpandedRowMap[index]}else{var pagination={initialPageSize:5,pageSizeOptions:[5,10,20]};if(shards.length<=pagination.initialPageSize){pagination=false}itemIdToExpandedRowMap[index]=_react2.default.createElement(_eui.EuiInMemoryTable,{items:shards,columns:[{field:"shardId",name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.shardsTable.shardColumnTitle",defaultMessage:"Shard"}),render:function render(shardId){return _react2.default.createElement(_eui.EuiLink,{href:"#/elasticsearch/ccr/"+index+"/shard/"+shardId},shardId)}},{render:function render(){return null}},{field:"syncLagOps",name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.shardsTable.syncLagOpsColumnTitle",defaultMessage:"Sync Lag (ops)"}),render:function render(syncLagOps,data){return _react2.default.createElement("span",null,syncLagOps,"  ",_react2.default.createElement(_eui.EuiIconTip,{size:"m",type:"iInCircle",content:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.ccr.shardsTable.syncLagOpsColumn.leaderLagTooltip",defaultMessage:"Leader lag: {syncLagOpsLeader}",values:{syncLagOpsLeader:data.syncLagOpsLeader}})),_react2.default.createElement("br",null),_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.ccr.shardsTable.syncLagOpsColumn.followerLagTooltip",defaultMessage:"Follower lag: {syncLagOpsFollower}",values:{syncLagOpsFollower:data.syncLagOpsFollower}}))),position:"right"}))}},{field:"syncLagTime",name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.shardsTable.lastFetchTimeColumnTitle",defaultMessage:"Last fetch time"}),render:function render(syncLagTime){return _react2.default.createElement("span",null,toSeconds(syncLagTime))}},{field:"opsSynced",name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.shardsTable.opsSyncedColumnTitle",defaultMessage:"Ops synced"})},{field:"error",name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.shardsTable.errorColumnTitle",defaultMessage:"Error"}),render:function render(error){return _react2.default.createElement(_eui.EuiTextColor,{color:"danger"},error)}}],sorting:true,pagination:pagination})}this.setState({itemIdToExpandedRowMap:itemIdToExpandedRowMap})}},{key:"renderTable",value:function renderTable(){var _this2=this;var _props=this.props,data=_props.data,intl=_props.intl;var items=data;var pagination={initialPageSize:5,pageSizeOptions:[5,10,20]};if(items.length<=pagination.initialPageSize){pagination=false}var sorting={sort:{field:"index",direction:"asc"}};return _react2.default.createElement(_eui.EuiInMemoryTable,{className:"monitoringElasticsearchCcrListingTable",columns:[{field:"index",name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.ccrListingTable.indexColumnTitle",defaultMessage:"Index"}),sortable:true,render:function render(index,_ref){var shards=_ref.shards;var expanded=!!_this2.state.itemIdToExpandedRowMap[index];return _react2.default.createElement(_eui.EuiLink,{onClick:function onClick(){return _this2.toggleShards(index,shards)}},index," ",expanded?_react2.default.createElement(_eui.EuiIcon,{type:"arrowUp"}):_react2.default.createElement(_eui.EuiIcon,{type:"arrowDown"}))}},{field:"follows",sortable:true,name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.ccrListingTable.followsColumnTitle",defaultMessage:"Follows"})},{field:"syncLagOps",sortable:true,name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.ccrListingTable.syncLagOpsColumnTitle",defaultMessage:"Sync Lag (ops)"})},{field:"syncLagTime",sortable:true,name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.ccrListingTable.lastFetchTimeColumnTitle",defaultMessage:"Last fetch time"}),render:function render(syncLagTime){return _react2.default.createElement("span",null,toSeconds(syncLagTime))}},{field:"opsSynced",sortable:true,name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.ccrListingTable.opsSyncedColumnTitle",defaultMessage:"Ops synced"})},{field:"error",sortable:true,name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.ccrListingTable.errorColumnTitle",defaultMessage:"Error"}),render:function render(error){return _react2.default.createElement(_eui.EuiTextColor,{color:"danger"},error)}}],items:items,pagination:pagination,sorting:sorting,itemId:"id",itemIdToExpandedRowMap:this.state.itemIdToExpandedRowMap})}},{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_eui.EuiPageContentBody,null,this.renderTable()))))}}]);return CcrUI}(_react.Component);var Ccr=exports.Ccr=(0,_react3.injectI18n)(CcrUI)},2075:function(module,exports,__webpack_require__){},2076:function(module,exports,__webpack_require__){"use strict";var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _get_page_data=__webpack_require__(2077);var _route_init=__webpack_require__(31);var _index=__webpack_require__(2078);var _index2=_interopRequireDefault(_index);var _base_controller=__webpack_require__(177);var _ccr_shard=__webpack_require__(2079);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}_routes2.default.when("/elasticsearch/ccr/:index/shard/:shardId",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"elasticsearchCcr",controller:function(_MonitoringViewBaseCo){_inherits(ElasticsearchCcrController,_MonitoringViewBaseCo);function ElasticsearchCcrController($injector,$scope,pageData,i18n){_classCallCheck(this,ElasticsearchCcrController);var _this=_possibleConstructorReturn(this,(ElasticsearchCcrController.__proto__||Object.getPrototypeOf(ElasticsearchCcrController)).call(this,{title:i18n("xpack.monitoring.elasticsearch.ccr.shard.routeTitle",{defaultMessage:"Elasticsearch - Ccr - Shard"}),reactNodeId:"elasticsearchCcrShardReact",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));$scope.instance=i18n("xpack.monitoring.elasticsearch.ccr.shard.instanceTitle",{defaultMessage:"Index: {followerIndex} Shard: {shardId}",values:{followerIndex:(0,_lodash.get)(pageData,"stat.follower_index"),shardId:(0,_lodash.get)(pageData,"stat.shard_id")}});$scope.$watch(function(){return _this.data},function(data){_this.renderReact(data)});_this.renderReact=function(props){_get(ElasticsearchCcrController.prototype.__proto__||Object.getPrototypeOf(ElasticsearchCcrController.prototype),"renderReact",_this).call(_this,_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_ccr_shard.CcrShard,props)))};return _this}return ElasticsearchCcrController}(_base_controller.MonitoringViewBaseController)})},2077:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(42);var _timefilter=__webpack_require__(16);function getPageData($injector){var $http=$injector.get("$http");var $route=$injector.get("$route");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch/ccr/"+$route.current.params.index+"/shard/"+$route.current.params.shardId;return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2078:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="ccr_shard"\n  instance="{{ instance }}"\n  data-test-subj="elasticsearchCcrShardPage"\n>\n  <div id="elasticsearchCcrShardReact"></div>\n</monitoring-main>\n'},2079:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ccr_shard=__webpack_require__(2080);Object.defineProperty(exports,"CcrShard",{enumerable:true,get:function get(){return _ccr_shard.CcrShard}})},208:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _summary_status=__webpack_require__(1952);Object.defineProperty(exports,"SummaryStatus",{enumerable:true,get:function get(){return _summary_status.SummaryStatus}})},2080:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CcrShard=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _chart=__webpack_require__(176);var _status=__webpack_require__(2081);var _formatting=__webpack_require__(272);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CcrShardUI=function(_PureComponent){_inherits(CcrShardUI,_PureComponent);function CcrShardUI(){_classCallCheck(this,CcrShardUI);return _possibleConstructorReturn(this,(CcrShardUI.__proto__||Object.getPrototypeOf(CcrShardUI)).apply(this,arguments))}_createClass(CcrShardUI,[{key:"renderCharts",value:function renderCharts(){var metrics=this.props.metrics;var seriesToShow=[metrics.ccr_sync_lag_ops,metrics.ccr_sync_lag_time];var charts=seriesToShow.map(function(data,index){return _react2.default.createElement(_eui.EuiFlexItem,{style:{minWidth:"45%"},key:index},_react2.default.createElement(_eui.EuiPanel,null,_react2.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data})))});return _react2.default.createElement(_react.Fragment,null,charts)}},{key:"renderErrors",value:function renderErrors(){var _props=this.props,stat=_props.stat,intl=_props.intl;if(stat.read_exceptions&&stat.read_exceptions.length>0){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiPanel,null,_react2.default.createElement(_eui.EuiTitle,{size:"s",color:"danger"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiTextColor,{color:"danger"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.ccrShard.errorsTableTitle",defaultMessage:"Errors"})))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiBasicTable,{items:stat.read_exceptions,columns:[{name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccrShard.errorsTable.typeColumnTitle",defaultMessage:"Type"}),field:"exception.type"},{name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccrShard.errorsTable.reasonColumnTitle",defaultMessage:"Reason"}),field:"exception.reason",width:"75%"}]})),_react2.default.createElement(_eui.EuiHorizontalRule,null))}return null}},{key:"renderLatestStat",value:function renderLatestStat(){var _props2=this.props,stat=_props2.stat,timestamp=_props2.timestamp;return _react2.default.createElement(_eui.EuiAccordion,{id:"ccrLatestStat",buttonContent:_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.ccrShard.latestStateAdvancedButtonLabel",defaultMessage:"Advanced"}))),paddingSize:"l"},_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,(0,_formatting.formatDateTimeLocal)(timestamp))),_react2.default.createElement(_eui.EuiHorizontalRule,null),_react2.default.createElement(_eui.EuiCodeBlock,{language:"json"},JSON.stringify(stat,null,2))))}},{key:"render",value:function render(){var _props3=this.props,stat=_props3.stat,oldestStat=_props3.oldestStat,formattedLeader=_props3.formattedLeader;return _react2.default.createElement(_eui.EuiPage,{style:{backgroundColor:"white"}},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_status.Status,{stat:stat,formattedLeader:formattedLeader,oldestStat:oldestStat}),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderErrors(),_react2.default.createElement(_eui.EuiFlexGroup,{wrap:true},this.renderCharts()),_react2.default.createElement(_eui.EuiHorizontalRule,null),this.renderLatestStat()))}}]);return CcrShardUI}(_react.PureComponent);var CcrShard=exports.CcrShard=(0,_react3.injectI18n)(CcrShardUI)},2081:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Status=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _summary_status=__webpack_require__(208);var _format_number=__webpack_require__(29);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StatusUI(_ref){var stat=_ref.stat,formattedLeader=_ref.formattedLeader,oldestStat=_ref.oldestStat,intl=_ref.intl;var followerIndex=stat.follower_index,shardId=stat.shard_id,operationsReceived=stat.operations_written,failedFetches=stat.failed_read_requests;var oldestOperationsReceived=oldestStat.operations_written,oldestFailedFetches=oldestStat.failed_read_requests;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccrShard.status.followerIndexLabel",defaultMessage:"Follower Index"}),value:followerIndex,"data-test-subj":"followerIndex"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccrShard.status.shardIdLabel",defaultMessage:"Shard Id"}),value:shardId,"data-test-subj":"shardId"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccrShard.status.leaderIndexLabel",defaultMessage:"Leader Index"}),value:formattedLeader,"data-test-subj":"leaderIndex"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccrShard.status.opsSyncedLabel",defaultMessage:"Ops Synced"}),value:(0,_format_number.formatMetric)(operationsReceived-oldestOperationsReceived,"int_commas"),"data-test-subj":"operationsReceived"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccrShard.status.failedFetchesLabel",defaultMessage:"Failed Fetches"}),value:(0,_format_number.formatMetric)(failedFetches-oldestFailedFetches,"int_commas"),"data-test-subj":"failedFetches"}];return _react2.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,"data-test-subj":"ccrDetailStatus"})}var Status=exports.Status=(0,_react3.injectI18n)(StatusUI)},2082:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _=__webpack_require__(69);var _get_page_data=__webpack_require__(2083);var _index=__webpack_require__(2084);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}_routes2.default.when("/elasticsearch/ml_jobs",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"mlJobs",controller:function(_MonitoringViewBaseEu){_inherits(MlJobsList,_MonitoringViewBaseEu);function MlJobsList($injector,$scope,i18n){_classCallCheck(this,MlJobsList);var _this=_possibleConstructorReturn(this,(MlJobsList.__proto__||Object.getPrototypeOf(MlJobsList)).call(this,{title:i18n("xpack.monitoring.elasticsearch.mlJobs.routeTitle",{defaultMessage:"Elasticsearch - Machine Learning Jobs"}),storageKey:"elasticsearch.mlJobs",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));var $route=$injector.get("$route");_this.data=$route.current.locals.pageData;var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});return _this}return MlJobsList}(_.MonitoringViewBaseEuiTableController)})},2083:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(42);var _timefilter=__webpack_require__(16);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/elasticsearch/ml_jobs";var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2084:function(module,exports){module.exports='<monitoring-main product="elasticsearch" name="ml">\n  <monitoring-ml-listing\n    paginationSettings="mlJobs.pagination"\n    sorting="mlJobs.sorting"\n    on-table-change="mlJobs.onTableChange"\n    jobs="mlJobs.data.rows"\n    status="mlJobs.data.clusterStatus"\n  ></monitoring-ml-listing>\n</monitoring-main>\n'},2085:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _chart=__webpack_require__(176);var _ajax_error_handler=__webpack_require__(42);var _route_init=__webpack_require__(31);var _index=__webpack_require__(2086);var _index2=_interopRequireDefault(_index);var _timefilter=__webpack_require__(16);var _eui=__webpack_require__(2);var _cluster_status=__webpack_require__(618);var _react3=__webpack_require__(3);var _base_controller=__webpack_require__(177);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/kibana";var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes2.default.when("/kibana",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controllerAs:"monitoringKibanaOverviewApp",controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){_classCallCheck(this,controller);var _this=_possibleConstructorReturn(this,(controller.__proto__||Object.getPrototypeOf(controller)).call(this,{title:"Kibana",defaultData:{},getPageData:getPageData,reactNodeId:"monitoringKibanaOverviewApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){if(!data||!data.clusterStatus){return}_this.renderReact(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_cluster_status.ClusterStatus,{stats:data.clusterStatus}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:true},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_cluster_requests,onBrush:_this.onBrush})),_react2.default.createElement(_eui.EuiFlexItem,{grow:true},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_cluster_response_times,onBrush:_this.onBrush}))))))))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2086:function(module,exports){module.exports='<monitoring-main\n  product="kibana"\n  name="overview"\n  data-test-subj="kibanaOverviewPage"\n>\n  <div id="monitoringKibanaOverviewApp"></div>\n</monitoring-main>\n'},2087:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _lodash=__webpack_require__(1);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _=__webpack_require__(69);var _get_page_data=__webpack_require__(2088);var _index=__webpack_require__(2089);var _index2=_interopRequireDefault(_index);var _eui=__webpack_require__(2);var _cluster_status=__webpack_require__(618);var _table=__webpack_require__(186);var _status_icon=__webpack_require__(465);var _format_number=__webpack_require__(29);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var getColumns=function getColumns(kbnUrl,scope){return[{name:_i18n.i18n.translate("xpack.monitoring.kibana.listing.nameColumnTitle",{defaultMessage:"Name"}),field:"kibana.name",render:function render(name,kibana){return _react2.default.createElement(_eui.EuiLink,{onClick:function onClick(){scope.$evalAsync(function(){kbnUrl.changePath("/kibana/instances/"+kibana.kibana.uuid)})},"data-test-subj":"kibanaLink-"+name},name)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.listing.statusColumnTitle",{defaultMessage:"Status"}),field:"kibana.status",render:function render(status,kibana){return _react2.default.createElement("div",{title:"Instance status: "+status,className:"monTableCell__status"},_react2.default.createElement(_status_icon.KibanaStatusIcon,{status:status,availability:kibana.availability})," ",!kibana.availability?_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.kibana.listing.instanceStatus.offlineLabel",defaultMessage:"Offline"}):(0,_lodash.capitalize)(status))}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.listing.loadAverageColumnTitle",{defaultMessage:"Load Average"}),field:"os.load.1m",render:function render(value){return _react2.default.createElement("span",null,(0,_format_number.formatMetric)(value,"0.00"))}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.listing.memorySizeColumnTitle",{defaultMessage:"Memory Size"}),field:"process.memory.resident_set_size_in_bytes",render:function render(value){return _react2.default.createElement("span",null,(0,_format_number.formatNumber)(value,"byte"))}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.listing.requestsColumnTitle",{defaultMessage:"Requests"}),field:"requests.total",render:function render(value){return _react2.default.createElement("span",null,(0,_format_number.formatNumber)(value,"int_commas"))}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.listing.responseTimeColumnTitle",{defaultMessage:"Response Times"}),field:"response_times.average",render:function render(value,kibana){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"monTableCell__splitNumber"},value&&(0,_format_number.formatNumber)(value,"int_commas")+" ms avg"),_react2.default.createElement("div",{className:"monTableCell__splitNumber"},(0,_format_number.formatNumber)(kibana.response_times.max,"int_commas")," ms max"))}}]};_routes2.default.when("/kibana/instances",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"kibanas",controller:function(_MonitoringViewBaseEu){_inherits(KibanaInstancesList,_MonitoringViewBaseEu);function KibanaInstancesList($injector,$scope){_classCallCheck(this,KibanaInstancesList);var _this=_possibleConstructorReturn(this,(KibanaInstancesList.__proto__||Object.getPrototypeOf(KibanaInstancesList)).call(this,{title:"Kibana Instances",storageKey:"kibana.instances",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));var $route=$injector.get("$route");_this.data=$route.current.locals.pageData;var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});$scope.pageData=$route.current.locals.pageData;var kbnUrl=$injector.get("kbnUrl");var renderReact=function renderReact(){var app=document.getElementById("monitoringKibanaInstancesApp");if(!app){return}var page=_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_cluster_status.ClusterStatus,{stats:$scope.pageData.clusterStatus}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_table.EuiMonitoringTable,{className:"kibanaInstancesTable",rows:_this.data.kibanas,columns:getColumns(kbnUrl,$scope),sorting:_extends({},_this.sorting,{sort:_extends({},_this.sorting.sort,{field:"kibana.name"})}),pagination:_this.pagination,search:{box:{incremental:true,placeholder:_i18n.i18n.translate("xpack.monitoring.kibana.listing.filterInstancesPlaceholder",{defaultMessage:"Filter Instances…"})}},onTableChange:_this.onTableChange})))));(0,_reactDom.render)(page,app)};$scope.$watch("data",function(){return renderReact()});renderReact();return _this}return KibanaInstancesList}(_.MonitoringViewBaseEuiTableController)})},2088:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(42);var _timefilter=__webpack_require__(16);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/kibana/instances";var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2089:function(module,exports){module.exports='<monitoring-main\n  product="kibana"\n  name="kibanas"\n  data-test-subj="kibanaInstancesPage"\n>\n  <div id="monitoringKibanaInstancesApp"></div>\n</monitoring-main>\n'},2090:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _ajax_error_handler=__webpack_require__(42);var _route_init=__webpack_require__(31);var _index=__webpack_require__(2091);var _index2=_interopRequireDefault(_index);var _timefilter=__webpack_require__(16);var _eui=__webpack_require__(2);var _chart=__webpack_require__(176);var _detail_status=__webpack_require__(964);var _react3=__webpack_require__(3);var _base_controller=__webpack_require__(177);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var $route=$injector.get("$route");var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/kibana/"+$route.current.params.uuid;var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes2.default.when("/kibana/instances/:uuid",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controllerAs:"monitoringKibanaInstanceApp",controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){_classCallCheck(this,controller);var _this=_possibleConstructorReturn(this,(controller.__proto__||Object.getPrototypeOf(controller)).call(this,{title:"Kibana - "+(0,_lodash.get)($scope.pageData,"kibanaSummary.name"),defaultData:{},getPageData:getPageData,reactNodeId:"monitoringKibanaInstanceApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){if(!data||!data.metrics){return}_this.setTitle("Kibana - "+(0,_lodash.get)(data,"kibanaSummary.name"));_this.renderReact(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_detail_status.DetailStatus,{stats:data.kibanaSummary}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:true},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_requests,onBrush:_this.onBrush})),_react2.default.createElement(_eui.EuiFlexItem,{grow:true},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_response_times,onBrush:_this.onBrush}))),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:true},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_memory,onBrush:_this.onBrush})),_react2.default.createElement(_eui.EuiFlexItem,{grow:true},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_average_concurrent_connections,onBrush:_this.onBrush}))),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:true},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_os_load,onBrush:_this.onBrush})),_react2.default.createElement(_eui.EuiFlexItem,{grow:true},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_process_delay,onBrush:_this.onBrush}))))))))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2091:function(module,exports){module.exports='<monitoring-main\n  product="kibana"\n  name="kibana"\n  instance="{{ pageData.kibanaSummary.name }}"\n  data-test-subj="kibanaInstancePage"\n>\n  <div id="monitoringKibanaInstanceApp"></div>\n</monitoring-main>\n'},2092:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _ajax_error_handler=__webpack_require__(42);var _route_init=__webpack_require__(31);var _index=__webpack_require__(2093);var _index2=_interopRequireDefault(_index);var _timefilter=__webpack_require__(16);var _react3=__webpack_require__(3);var _overview=__webpack_require__(2094);var _base_controller=__webpack_require__(177);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/logstash";var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes2.default.when("/logstash",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){_classCallCheck(this,controller);var _this=_possibleConstructorReturn(this,(controller.__proto__||Object.getPrototypeOf(controller)).call(this,{title:"Logstash",getPageData:getPageData,reactNodeId:"monitoringLogstashOverviewApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){_this.renderReact(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_overview.Overview,{stats:data.clusterStatus,metrics:data.metrics,onBrush:_this.onBrush})))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2093:function(module,exports){module.exports='<monitoring-main product="logstash" name="overview">\n  <div id="monitoringLogstashOverviewApp"></div>\n</monitoring-main>\n'},2094:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _overview=__webpack_require__(2095);Object.defineProperty(exports,"Overview",{enumerable:true,get:function get(){return _overview.Overview}})},2095:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Overview=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _cluster_status=__webpack_require__(619);var _chart=__webpack_require__(176);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Overview=exports.Overview=function(_PureComponent){_inherits(Overview,_PureComponent);function Overview(){_classCallCheck(this,Overview);return _possibleConstructorReturn(this,(Overview.__proto__||Object.getPrototypeOf(Overview)).apply(this,arguments))}_createClass(Overview,[{key:"render",value:function render(){var _props=this.props,stats=_props.stats,metrics=_props.metrics,props=_objectWithoutProperties(_props,["stats","metrics"]);var metricsToShow=[metrics.logstash_cluster_events_input_rate,metrics.logstash_cluster_events_output_rate,metrics.logstash_cluster_events_latency];return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_cluster_status.ClusterStatus,{stats:stats}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"none"},metricsToShow.map(function(metric,index){return _react2.default.createElement(_eui.EuiFlexItem,{key:index,style:{width:"50%"}},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))})))))}}]);return Overview}(_react.PureComponent)},2096:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _=__webpack_require__(69);var _get_page_data=__webpack_require__(2097);var _index=__webpack_require__(2098);var _index2=_interopRequireDefault(_index);var _react3=__webpack_require__(3);var _listing=__webpack_require__(2099);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}_routes2.default.when("/logstash/nodes",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"lsNodes",controller:function(_MonitoringViewBaseEu){_inherits(LsNodesList,_MonitoringViewBaseEu);function LsNodesList($injector,$scope){_classCallCheck(this,LsNodesList);var kbnUrl=$injector.get("kbnUrl");var _this=_possibleConstructorReturn(this,(LsNodesList.__proto__||Object.getPrototypeOf(LsNodesList)).call(this,{title:"Logstash - Nodes",storageKey:"logstash.nodes",getPageData:_get_page_data.getPageData,reactNodeId:"monitoringLogstashNodesApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){_this.renderReact(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_listing.Listing,{data:data.nodes,stats:data.clusterStatus,sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange,angular:{kbnUrl:kbnUrl,scope:$scope}})))});return _this}return LsNodesList}(_.MonitoringViewBaseEuiTableController)})},2097:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(42);var _timefilter=__webpack_require__(16);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/logstash/nodes";var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2098:function(module,exports){module.exports='<monitoring-main product="logstash" name="nodes">\n  <div id="monitoringLogstashNodesApp"></div>\n</monitoring-main>\n'},2099:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _listing=__webpack_require__(2100);Object.defineProperty(exports,"Listing",{enumerable:true,get:function get(){return _listing.Listing}})},2100:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Listing=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _format_number=__webpack_require__(29);var _cluster_status=__webpack_require__(619);var _table=__webpack_require__(186);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ListingUI=function(_PureComponent){_inherits(ListingUI,_PureComponent);function ListingUI(){_classCallCheck(this,ListingUI);return _possibleConstructorReturn(this,(ListingUI.__proto__||Object.getPrototypeOf(ListingUI)).apply(this,arguments))}_createClass(ListingUI,[{key:"getColumns",value:function getColumns(){var _props$angular=this.props.angular,kbnUrl=_props$angular.kbnUrl,scope=_props$angular.scope;return[{name:"Name",field:"logstash.name",sortable:true,render:function render(name,node){return _react2.default.createElement("div",null,_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiLink,{onClick:function onClick(){scope.$evalAsync(function(){kbnUrl.changePath("/logstash/node/"+node.logstash.uuid)})}},name)),_react2.default.createElement("div",null,node.logstash.http_address))}},{name:"CPU Usage",field:"process.cpu.percent",sortable:true,render:function render(value){return(0,_format_number.formatPercentageUsage)(value,100)}},{name:"Load Average",field:"os.cpu.load_average.1m",sortable:true,render:function render(value){return(0,_format_number.formatNumber)(value,"0.00")}},{name:"JVM Heap Used",field:"jvm.mem.heap_used_percent",sortable:true,render:function render(value){return(0,_format_number.formatPercentageUsage)(value,100)}},{name:"Events Ingested",field:"events.out",sortable:true,render:function render(value){return(0,_format_number.formatNumber)(value,"0.[0]a")}},{name:"Config Reloads",sortable:true,render:function render(node){return _react2.default.createElement("div",null,_react2.default.createElement("div",null,node.reloads.successes," successes"),_react2.default.createElement("div",null,node.reloads.failures," failures"))}},{name:"Version",field:"logstash.version",sortable:true,render:function render(value){return(0,_format_number.formatNumber)(value)}}]}},{key:"render",value:function render(){var _props=this.props,data=_props.data,stats=_props.stats,sorting=_props.sorting,pagination=_props.pagination,onTableChange=_props.onTableChange,intl=_props.intl;var columns=this.getColumns();return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_cluster_status.ClusterStatus,{stats:stats}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_table.EuiMonitoringTable,{className:"logstashNodesTable",rows:data,columns:columns,sorting:_extends({},sorting,{sort:_extends({},sorting.sort,{field:"logstash.name"})}),pagination:pagination,search:{box:{incremental:true,placeholder:intl.formatMessage({id:"xpack.monitoring.logstash.filterNodesPlaceholder",defaultMessage:"Filter Nodes…"})}},onTableChange:onTableChange}))))}}]);return ListingUI}(_react.PureComponent);var Listing=exports.Listing=(0,_react3.injectI18n)(ListingUI)},2101:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _ajax_error_handler=__webpack_require__(42);var _route_init=__webpack_require__(31);var _index=__webpack_require__(2102);var _index2=_interopRequireDefault(_index);var _timefilter=__webpack_require__(16);var _detail_status=__webpack_require__(974);var _eui=__webpack_require__(2);var _chart=__webpack_require__(176);var _react3=__webpack_require__(3);var _base_controller=__webpack_require__(177);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getPageData($injector){var $http=$injector.get("$http");var $route=$injector.get("$route");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/logstash/node/"+$route.current.params.uuid;var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:false}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes2.default.when("/logstash/node/:uuid",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope,i18n){_classCallCheck(this,controller);var _this=_possibleConstructorReturn(this,(controller.__proto__||Object.getPrototypeOf(controller)).call(this,{defaultData:{},getPageData:getPageData,reactNodeId:"monitoringLogstashNodeApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){if(!data||!data.nodeSummary){return}_this.setTitle(i18n("xpack.monitoring.logstash.node.routeTitle",{defaultMessage:"Logstash - {nodeName}",values:{nodeName:data.nodeSummary.name}}));var metricsToShow=[data.metrics.logstash_events_input_rate,data.metrics.logstash_jvm_usage,data.metrics.logstash_events_output_rate,data.metrics.logstash_node_cpu_metric,data.metrics.logstash_events_latency,data.metrics.logstash_os_load];_this.renderReact(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_detail_status.DetailStatus,{stats:data.nodeSummary}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"none"},metricsToShow.map(function(metric,index){return _react2.default.createElement(_eui.EuiFlexItem,{key:index,style:{width:"50%"}},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric,onBrush:_this.onBrush},data)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))})))))))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2102:function(module,exports){module.exports='<monitoring-main\n  product="logstash"\n  name="nodes"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="overview"\n>\n  <div id="monitoringLogstashNodeApp"></div>\n</monitoring-main>\n'},2103:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _ajax_error_handler=__webpack_require__(42);var _route_init=__webpack_require__(31);var _index=__webpack_require__(2104);var _index2=_interopRequireDefault(_index);var _timefilter=__webpack_require__(16);var _base_controller=__webpack_require__(177);var _detail_status=__webpack_require__(974);var _eui=__webpack_require__(2);var _chart=__webpack_require__(176);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var $route=$injector.get("$route");var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/logstash/node/"+$route.current.params.uuid;var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:true}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes2.default.when("/logstash/node/:uuid/advanced",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope,i18n){_classCallCheck(this,controller);var _this=_possibleConstructorReturn(this,(controller.__proto__||Object.getPrototypeOf(controller)).call(this,{defaultData:{},getPageData:getPageData,reactNodeId:"monitoringLogstashNodeAdvancedApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){if(!data||!data.nodeSummary){return}_this.setTitle(i18n("xpack.monitoring.logstash.node.advanced.routeTitle",{defaultMessage:"Logstash - {nodeName} - Advanced",values:{nodeName:data.nodeSummary.name}}));var metricsToShow=[data.metrics.logstash_node_cpu_utilization,data.metrics.logstash_queue_events_count,data.metrics.logstash_node_cgroup_cpu,data.metrics.logstash_pipeline_queue_size,data.metrics.logstash_node_cgroup_stats];_this.renderReact(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_detail_status.DetailStatus,{stats:data.nodeSummary}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"none"},metricsToShow.map(function(metric,index){return _react2.default.createElement(_eui.EuiFlexItem,{key:index,style:{width:"50%"}},_react2.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric,onBrush:_this.onBrush},data)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))})))))))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2104:function(module,exports){module.exports='<monitoring-main\n  product="logstash"\n  name="nodes"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="advanced"\n>\n  <div id="monitoringLogstashNodeAdvancedApp"></div>\n</monitoring-main>\n'},2105:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _ajax_error_handler=__webpack_require__(42);var _route_init=__webpack_require__(31);var _pipelines=__webpack_require__(975);var _index=__webpack_require__(2106);var _index2=_interopRequireDefault(_index);var _timefilter=__webpack_require__(16);var _=__webpack_require__(69);var _react3=__webpack_require__(3);var _pipeline_listing=__webpack_require__(976);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var getPageData=function getPageData($injector){var $route=$injector.get("$route");var $http=$injector.get("$http");var globalState=$injector.get("globalState");var Private=$injector.get("Private");var logstashUuid=$route.current.params.uuid;var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/logstash/node/"+logstashUuid+"/pipelines";var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})};function makeUpgradeMessage(logstashVersion,i18n){if((0,_pipelines.isPipelineMonitoringSupportedInVersion)(logstashVersion)){return null}return i18n("xpack.monitoring.logstash.node.pipelines.notAvailableDescription",{defaultMessage:"Pipeline monitoring is only available in Logstash version 6.0.0 or higher. This node is running version {logstashVersion}.",values:{logstashVersion:logstashVersion}})}_routes2.default.when("/logstash/node/:uuid/pipelines",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controller:function(_MonitoringViewBaseEu){_inherits(controller,_MonitoringViewBaseEu);function controller($injector,$scope,i18n){_classCallCheck(this,controller);var kbnUrl=$injector.get("kbnUrl");var config=$injector.get("config");var _this=_possibleConstructorReturn(this,(controller.__proto__||Object.getPrototypeOf(controller)).call(this,{defaultData:{},getPageData:getPageData,reactNodeId:"monitoringLogstashNodePipelinesApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){if(!data||!data.nodeSummary){return}_this.setTitle(i18n("xpack.monitoring.logstash.node.pipelines.routeTitle",{defaultMessage:"Logstash - {nodeName} - Pipelines",values:{nodeName:data.nodeSummary.name}}));_this.renderReact(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_pipeline_listing.PipelineListing,{className:"monitoringLogstashPipelinesTable",onBrush:_this.onBrush,stats:data.nodeSummary,data:data.pipelines,sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange,dateFormat:config.get("dateFormat"),upgradeMessage:makeUpgradeMessage(data.nodeSummary.version,i18n),angular:{kbnUrl:kbnUrl,scope:$scope}})))});return _this}return controller}(_.MonitoringViewBaseEuiTableController)})},2106:function(module,exports){module.exports='<monitoring-main\n  product="logstash"\n  name="nodes" instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="pipelines"\n>\n  <div id="monitoringLogstashNodePipelinesApp"></div>\n</monitoring-main>\n'},2107:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _reactDom=__webpack_require__(15);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _ajax_error_handler=__webpack_require__(42);var _route_init=__webpack_require__(31);var _pipelines=__webpack_require__(975);var _index=__webpack_require__(2108);var _index2=_interopRequireDefault(_index);var _timefilter=__webpack_require__(16);var _react3=__webpack_require__(3);var _pipeline_listing=__webpack_require__(976);var _=__webpack_require__(69);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var getPageData=function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var Private=$injector.get("Private");var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/logstash/pipelines";var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})};function makeUpgradeMessage(logstashVersions){if(!Array.isArray(logstashVersions)||logstashVersions.length===0||logstashVersions.some(_pipelines.isPipelineMonitoringSupportedInVersion)){return null}return"Pipeline monitoring is only available in Logstash version 6.0.0 or higher."}_routes2.default.when("/logstash/pipelines",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controller:function(_MonitoringViewBaseEu){_inherits(LogstashPipelinesList,_MonitoringViewBaseEu);function LogstashPipelinesList($injector,$scope,i18n){_classCallCheck(this,LogstashPipelinesList);var _this=_possibleConstructorReturn(this,(LogstashPipelinesList.__proto__||Object.getPrototypeOf(LogstashPipelinesList)).call(this,{title:"Logstash Pipelines",storageKey:"logstash.pipelines",getPageData:getPageData,$scope:$scope,$injector:$injector}));var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");var config=$injector.get("config");_this.data=$route.current.locals.pageData;var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});function onBrush(xaxis){_timefilter.timefilter.setTime({from:(0,_moment2.default)(xaxis.from),to:(0,_moment2.default)(xaxis.to),mode:"absolute"})}var renderReact=function renderReact(pageData){if(!pageData){return}var upgradeMessage=pageData?makeUpgradeMessage(pageData.clusterStatus.versions,i18n):null;(0,_reactDom.render)(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_pipeline_listing.PipelineListing,{className:"monitoringLogstashPipelinesTable",onBrush:onBrush,stats:pageData.clusterStatus,data:pageData.pipelines,sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange,upgradeMessage:upgradeMessage,dateFormat:config.get("dateFormat"),angular:{kbnUrl:kbnUrl,scope:$scope}})),document.getElementById("monitoringLogstashPipelinesApp"))};$scope.$watch(function(){return _this.data},function(pageData){renderReact(pageData)});return _this}return LogstashPipelinesList}(_.MonitoringViewBaseEuiTableController)})},2108:function(module,exports){module.exports='<monitoring-main\n  product="logstash"\n  name="pipelines"\n  data-test-subj="logstashPipelinesListing"\n>\n  <div id="monitoringLogstashPipelinesApp"></div>\n</monitoring-main>\n'},2109:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _ajax_error_handler=__webpack_require__(42);var _route_init=__webpack_require__(31);var _constants=__webpack_require__(59);var _format_timestamp_to_duration=__webpack_require__(466);var _index=__webpack_require__(2110);var _index2=_interopRequireDefault(_index);var _i18n=__webpack_require__(9);var _list=__webpack_require__(2111);var _pipeline_state=__webpack_require__(2114);var _pipeline_viewer=__webpack_require__(2121);var _pipeline=__webpack_require__(2133);var _base_controller=__webpack_require__(177);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getPageData($injector){var $route=$injector.get("$route");var $http=$injector.get("$http");var globalState=$injector.get("globalState");var minIntervalSeconds=$injector.get("minIntervalSeconds");var Private=$injector.get("Private");var ccs=globalState.ccs,clusterUuid=globalState.cluster_uuid;var pipelineId=$route.current.params.id;var pipelineHash=$route.current.params.hash||"";var url=pipelineHash?"../api/monitoring/v1/clusters/"+clusterUuid+"/logstash/pipeline/"+pipelineId+"/"+pipelineHash:"../api/monitoring/v1/clusters/"+clusterUuid+"/logstash/pipeline/"+pipelineId;return $http.post(url,{ccs:ccs}).then(function(response){return response.data}).then(function(data){data.versions=data.versions.map(function(version){var relativeFirstSeen=(0,_format_timestamp_to_duration.formatTimestampToDuration)(version.firstSeen,_constants.CALCULATE_DURATION_SINCE);var relativeLastSeen=(0,_format_timestamp_to_duration.formatTimestampToDuration)(version.lastSeen,_constants.CALCULATE_DURATION_SINCE);var fudgeFactorSeconds=2*minIntervalSeconds;var isLastSeenCloseToNow=Date.now()-version.lastSeen<=fudgeFactorSeconds*1e3;return _extends({},version,{relativeFirstSeen:_i18n.i18n.translate("xpack.monitoring.logstash.pipeline.relativeFirstSeenAgoLabel",{defaultMessage:"{relativeFirstSeen} ago",values:{relativeFirstSeen:relativeFirstSeen}}),relativeLastSeen:isLastSeenCloseToNow?_i18n.i18n.translate("xpack.monitoring.logstash.pipeline.relativeLastSeenNowLabel",{defaultMessage:"now"}):_i18n.i18n.translate("xpack.monitoring.logstash.pipeline.relativeLastSeenAgoLabel",{defaultMessage:"until {relativeLastSeen} ago",values:{relativeLastSeen:relativeLastSeen}})})});return data}).catch(function(err){var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes2.default.when("/logstash/pipelines/:id/:hash?",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope,i18n){_classCallCheck(this,controller);var config=$injector.get("config");var dateFormat=config.get("dateFormat");var _this=_possibleConstructorReturn(this,(controller.__proto__||Object.getPrototypeOf(controller)).call(this,{title:i18n("xpack.monitoring.logstash.pipeline.routeTitle",{defaultMessage:"Logstash - Pipeline"}),storageKey:"logstash.pipelines",getPageData:getPageData,reactNodeId:"monitoringLogstashPipelineApp",$scope:$scope,options:{enableTimeFilter:false},$injector:$injector}));var timeseriesTooltipXValueFormatter=function timeseriesTooltipXValueFormatter(xValue){return(0,_moment2.default)(xValue).format(dateFormat)};$scope.$watch(function(){return _this.data},function(data){if(!data||!data.pipeline){return}_this.pipelineState=new _pipeline_state.PipelineState(data.pipeline);_this.renderReact(_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_pipeline_viewer.PipelineViewer,{pipeline:_list.List.fromPipeline(_pipeline.Pipeline.fromPipelineGraph(_this.pipelineState.config.graph)),timeseriesTooltipXValueFormatter:timeseriesTooltipXValueFormatter}))))))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2110:function(module,exports){module.exports='<monitoring-main\n  product="logstash"\n  name="node"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="pipeline"\n  pipeline-id="{{ pageData.pipeline.id }}"\n  pipeline-hash="{{ pageData.pipeline.hash }}"\n  pipeline-versions="pageData.versions"\n>\n  <div id="monitoringLogstashPipelineApp"></div>\n</monitoring-main>\n'},2111:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _list=__webpack_require__(2112);Object.defineProperty(exports,"List",{enumerable:true,get:function get(){return _list.List}})},2112:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.List=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _flatten_pipeline_section=__webpack_require__(2113);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var List=exports.List=function(){function List(inputs,filters,outputs,queue){_classCallCheck(this,List);this.inputs=inputs;this.filters=filters;this.outputs=outputs;this.queue=queue}_createClass(List,null,[{key:"fromPipeline",value:function fromPipeline(pipeline){var inputStatements=pipeline.inputStatements,filterStatements=pipeline.filterStatements,outputStatements=pipeline.outputStatements,queue=pipeline.queue;return new List((0,_flatten_pipeline_section.flattenPipelineSection)(inputStatements),(0,_flatten_pipeline_section.flattenPipelineSection)(filterStatements),(0,_flatten_pipeline_section.flattenPipelineSection)(outputStatements),queue)}}]);return List}()},2113:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flattenPipelineSection=flattenPipelineSection;function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function flattenPipelineSection(pipelineSection){var depth=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var parentId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var list=[];pipelineSection.forEach(function(statement){list.push.apply(list,_toConsumableArray(statement.toList(depth,parentId)))});return list}},2114:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineState=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _config=__webpack_require__(2115);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var PipelineState=exports.PipelineState=function(){function PipelineState(pipelineState){_classCallCheck(this,PipelineState);this.config=new _config.Config;this.update(pipelineState)}_createClass(PipelineState,[{key:"update",value:function update(pipelineJson){this.config.update(pipelineJson.representation)}}]);return PipelineState}()},2115:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Config=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _graph=__webpack_require__(2116);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Config=exports.Config=function(){function Config(){_classCallCheck(this,Config);this.graph=new _graph.Graph}_createClass(Config,[{key:"update",value:function update(configJson){this.json=configJson;this.graph.update(configJson.graph)}}]);return Config}()},2116:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Graph=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _vertex_factory=__webpack_require__(2117);var _edge_factory=__webpack_require__(2119);var _queue_vertex=__webpack_require__(622);var _plugin_vertex=__webpack_require__(977);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Graph=exports.Graph=function(){function Graph(){_classCallCheck(this,Graph);this.json=null;this.verticesById={};this.edgesById={};this.edgesByFrom={};this.edgesByTo={}}_createClass(Graph,[{key:"getVertexById",value:function getVertexById(id){return this.verticesById[id]}},{key:"getVertices",value:function getVertices(){if(this.vertexCache===undefined){this.vertexCache=Object.values(this.verticesById)}return this.vertexCache}},{key:"update",value:function update(jsonRepresentation){var _this=this;this.json=jsonRepresentation;jsonRepresentation.vertices.forEach(function(vJson){var existingVertex=_this.verticesById[vJson.id];if(existingVertex!==undefined){existingVertex.update(vJson)}else{var newVertex=(0,_vertex_factory.vertexFactory)(_this,vJson);_this.verticesById[vJson.id]=newVertex}});jsonRepresentation.edges.forEach(function(eJson){var existingEdge=_this.edgesById[eJson.id];if(existingEdge!==undefined){existingEdge.update(eJson)}else{var newEdge=(0,_edge_factory.edgeFactory)(_this,eJson);_this.edgesById[eJson.id]=newEdge;if(_this.edgesByFrom[newEdge.from.json.id]===undefined){_this.edgesByFrom[newEdge.from.json.id]=[]}_this.edgesByFrom[newEdge.from.json.id].push(newEdge);if(_this.edgesByTo[newEdge.to.json.id]===undefined){_this.edgesByTo[newEdge.to.json.id]=[]}_this.edgesByTo[newEdge.to.json.id].push(newEdge)}});this.annotateVerticesWithStages()}},{key:"annotateVerticesWithStages",value:function annotateVerticesWithStages(){this.annotateInputStageVertices();this.annotateOutputStageVertices();this.annotateFilterStageVertices()}},{key:"annotateInputStageVertices",value:function annotateInputStageVertices(){if(!this.hasQueueVertex){return}this.startVertices.forEach(function(v){return v.pipelineStage="input"})}},{key:"annotateOutputStageVertices",value:function annotateOutputStageVertices(){if(this.endVertices.length===1&&this.endVertices[0]instanceof _queue_vertex.QueueVertex){return}if(this.endVertices.every(function(v){return v.pluginType==="filter"})){return}var pending=[].concat(_toConsumableArray(this.endVertices));while(pending.length>0){var currentVertex=pending.shift();var parents=currentVertex.incomingVertices;var isParentFilterPluginVertex=parents.some(function(p){return p instanceof _plugin_vertex.PluginVertex&&p.pluginType==="filter"});var isParentQueueVertex=parents.some(function(p){return p instanceof _queue_vertex.QueueVertex});var isParentNothing=parents.length===0;var isParentOutputStageVertex=!(isParentFilterPluginVertex||isParentQueueVertex||isParentNothing);if(isParentOutputStageVertex){pending.push.apply(pending,_toConsumableArray(parents))}else{currentVertex.pipelineStage="output";var descendantVertices=currentVertex.descendants().vertices;descendantVertices.forEach(function(v){return v.pipelineStage="output"})}}}},{key:"annotateFilterStageVertices",value:function annotateFilterStageVertices(){var pending=[];if(this.hasQueueVertex){pending.push.apply(pending,_toConsumableArray(this.queueVertex.outgoingVertices))}else{pending.push.apply(pending,_toConsumableArray(this.startVertices))}while(pending.length>0){var currentVertex=pending.shift();if(!currentVertex.pipelineStage){currentVertex.pipelineStage="filter";pending.push.apply(pending,_toConsumableArray(currentVertex.outgoingVertices))}}}},{key:"queueVertex",get:function get(){return this.getVertices().find(function(v){return v instanceof _queue_vertex.QueueVertex})}},{key:"processorVertices",get:function get(){return this.getVertices().filter(function(v){return v.isProcessor})}},{key:"edges",get:function get(){return Object.values(this.edgesById)}},{key:"startVertices",get:function get(){return this.getVertices().filter(function(v){return v.incomingEdges.length===0})}},{key:"endVertices",get:function get(){return this.getVertices().filter(function(v){return v.outgoingEdges.length===0})}},{key:"hasQueueVertex",get:function get(){return!!this.queueVertex}}]);return Graph}()},2117:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.vertexFactory=vertexFactory;var _plugin_vertex=__webpack_require__(977);var _if_vertex=__webpack_require__(2118);var _queue_vertex=__webpack_require__(622);function vertexFactory(graph,vertexJson){var type=vertexJson.type;switch(type){case"plugin":return new _plugin_vertex.PluginVertex(graph,vertexJson);case"if":return new _if_vertex.IfVertex(graph,vertexJson);case"queue":return new _queue_vertex.QueueVertex(graph,vertexJson);default:throw new Error("Unknown vertex type "+type+"! This shouldn't happen!")}}},2118:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IfVertex=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _vertex=__webpack_require__(621);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IfVertex=exports.IfVertex=function(_Vertex){_inherits(IfVertex,_Vertex);function IfVertex(){_classCallCheck(this,IfVertex);return _possibleConstructorReturn(this,(IfVertex.__proto__||Object.getPrototypeOf(IfVertex)).apply(this,arguments))}_createClass(IfVertex,[{key:"typeString",get:function get(){return"if"}},{key:"name",get:function get(){return this.json.condition}},{key:"iconType",get:function get(){return"logstashIf"}},{key:"title",get:function get(){return"if"}},{key:"subtitle",get:function get(){return this.name}},{key:"trueEdge",get:function get(){return this.outgoingEdges.find(function(e){return e.when===true})}},{key:"trueEdges",get:function get(){return this.outgoingEdges.filter(function(e){return e.when===true})}},{key:"falseEdge",get:function get(){return this.outgoingEdges.find(function(e){return e.when===false})}},{key:"falseEdges",get:function get(){return this.outgoingEdges.filter(function(e){return e.when===false})}},{key:"trueOutgoingVertex",get:function get(){return this.trueEdge?this.trueEdge.to:null}},{key:"trueOutgoingVertices",get:function get(){return this.trueEdges.map(function(e){return e.to})}},{key:"falseOutgoingVertex",get:function get(){return this.falseEdge?this.falseEdge.to:null}},{key:"falseOutgoingVertices",get:function get(){return this.falseEdges.map(function(e){return e.to})}},{key:"next",get:function get(){var trueDescendants=this.trueOutgoingVertex?this.trueOutgoingVertex.descendants().vertices:[];var falseDescendants=this.falseOutgoingVertex?this.falseOutgoingVertex.descendants().vertices:[];trueDescendants.unshift(this.trueOutgoingVertex);falseDescendants.unshift(this.falseOutgoingVertex);return(0,_lodash.intersection)(trueDescendants,falseDescendants)[0]}}]);return IfVertex}(_vertex.Vertex)},2119:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.edgeFactory=edgeFactory;var _edge=__webpack_require__(978);var _boolean_edge=__webpack_require__(2120);function edgeFactory(graph,edgeJson){var type=edgeJson.type;switch(type){case"plain":return new _edge.Edge(graph,edgeJson);case"boolean":return new _boolean_edge.BooleanEdge(graph,edgeJson);default:throw new Error("Unknown edge type "+type+"! This shouldn't happen!")}}},2120:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BooleanEdge=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _edge=__webpack_require__(978);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var BooleanEdge=exports.BooleanEdge=function(_Edge){_inherits(BooleanEdge,_Edge);function BooleanEdge(){_classCallCheck(this,BooleanEdge);return _possibleConstructorReturn(this,(BooleanEdge.__proto__||Object.getPrototypeOf(BooleanEdge)).apply(this,arguments))}_createClass(BooleanEdge,[{key:"when",get:function get(){return this.json.when}},{key:"isTrue",get:function get(){return this.when===true}},{key:"isFalse",get:function get(){return this.when===false}}]);return BooleanEdge}(_edge.Edge)},2121:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _views=__webpack_require__(2122);Object.defineProperty(exports,"PipelineViewer",{enumerable:true,get:function get(){return _views.PipelineViewer}})},2122:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pipeline_viewer=__webpack_require__(2123);Object.defineProperty(exports,"PipelineViewer",{enumerable:true,get:function get(){return _pipeline_viewer.PipelineViewer}})},2123:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineViewer=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _detail_drawer=__webpack_require__(2124);var _queue=__webpack_require__(2125);var _statement_section=__webpack_require__(2126);var _react3=__webpack_require__(3);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PipelineViewerUi=function(_React$Component){_inherits(PipelineViewerUi,_React$Component);function PipelineViewerUi(){_classCallCheck(this,PipelineViewerUi);var _this=_possibleConstructorReturn(this,(PipelineViewerUi.__proto__||Object.getPrototypeOf(PipelineViewerUi)).call(this));_this.onShowVertexDetails=function(vertex){if(vertex===_this.state.detailDrawer.vertex){_this.onHideVertexDetails()}else{_this.setState({detailDrawer:{vertex:vertex}})}};_this.onHideVertexDetails=function(){_this.setState({detailDrawer:{vertex:null}})};_this.renderDetailDrawer=function(){if(!_this.state.detailDrawer.vertex){return null}return _react2.default.createElement(_detail_drawer.DetailDrawer,{vertex:_this.state.detailDrawer.vertex,onHide:_this.onHideVertexDetails,timeseriesTooltipXValueFormatter:_this.props.timeseriesTooltipXValueFormatter})};_this.state={detailDrawer:{vertex:null}};return _this}_createClass(PipelineViewerUi,[{key:"render",value:function render(){var _props$pipeline=this.props.pipeline,inputs=_props$pipeline.inputs,filters=_props$pipeline.filters,outputs=_props$pipeline.outputs,queue=_props$pipeline.queue;var intl=this.props.intl;return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",className:"monPipelineViewer"},_react2.default.createElement(_statement_section.StatementSection,{iconType:"logstashInput",headingText:intl.formatMessage({id:"xpack.monitoring.logstash.pipelineViewer.inputsTitle",defaultMessage:"Inputs"}),elements:inputs,onShowVertexDetails:this.onShowVertexDetails,detailVertex:this.state.detailDrawer.vertex}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_queue.Queue,{queue:queue}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_statement_section.StatementSection,{iconType:"logstashFilter",headingText:intl.formatMessage({id:"xpack.monitoring.logstash.pipelineViewer.filtersTitle",defaultMessage:"Filters"}),elements:filters,onShowVertexDetails:this.onShowVertexDetails,detailVertex:this.state.detailDrawer.vertex}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_statement_section.StatementSection,{iconType:"logstashOutput",headingText:intl.formatMessage({id:"xpack.monitoring.logstash.pipelineViewer.outputsTitle",defaultMessage:"Outputs"}),elements:outputs,onShowVertexDetails:this.onShowVertexDetails,detailVertex:this.state.detailDrawer.vertex}),this.renderDetailDrawer())))}}]);return PipelineViewerUi}(_react2.default.Component);PipelineViewerUi.propTypes={pipeline:_propTypes2.default.shape({inputs:_propTypes2.default.array.isRequired,filters:_propTypes2.default.array.isRequired,outputs:_propTypes2.default.array.isRequired,queue:_propTypes2.default.object.isRequired}).isRequired};var PipelineViewer=exports.PipelineViewer=(0,_react3.injectI18n)(PipelineViewerUi)},2124:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailDrawer=DetailDrawer;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _eui=__webpack_require__(2);var _sparkline=__webpack_require__(613);var _format_number=__webpack_require__(29);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function renderIcon(vertex){return _react2.default.createElement(_eui.EuiIcon,{type:vertex.iconType,className:"lspvDetailDrawerIcon"})}function renderPluginBasicStats(vertex,timeseriesTooltipXValueFormatter){var eventsLatencyValueFormatter=function eventsLatencyValueFormatter(value){return(0,_format_number.formatMetric)(value,"0.[00]a","ms/e")};var latestEventsLatency=Array.isArray(vertex.stats.millis_per_event.data)&&vertex.stats.millis_per_event.data.length>0?(0,_lodash.last)(vertex.stats.millis_per_event.data)[1]:null;var eventsLatencyRow=vertex.pluginType==="input"?null:_react2.default.createElement(_eui.EuiTableRow,{key:"events_latency"},_react2.default.createElement(_eui.EuiTableRowCell,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsLatencyLabel",defaultMessage:"Events Latency"})),_react2.default.createElement(_eui.EuiTableRowCell,null,_react2.default.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},_react2.default.createElement(_sparkline.Sparkline,{series:vertex.stats.millis_per_event.data,options:{xaxis:vertex.stats.millis_per_event.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsLatencyValueFormatter}}))),_react2.default.createElement(_eui.EuiTableRowCell,null,eventsLatencyValueFormatter(latestEventsLatency)));var eventsOutRateValueFormatter=function eventsOutRateValueFormatter(value){return(0,_format_number.formatMetric)(value,"0.[0]a","e/s")};var eventsOutRateRow=_react2.default.createElement(_eui.EuiTableRow,{key:"events_out_rate"},_react2.default.createElement(_eui.EuiTableRowCell,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsEmittedRateLabel",defaultMessage:"Events Emitted Rate"})),_react2.default.createElement(_eui.EuiTableRowCell,null,_react2.default.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},_react2.default.createElement(_sparkline.Sparkline,{series:vertex.eventsPerSecond.data,options:{xaxis:vertex.eventsPerSecond.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsOutRateValueFormatter}}))),_react2.default.createElement(_eui.EuiTableRowCell,null,eventsOutRateValueFormatter(vertex.latestEventsPerSecond)));var eventsInValueFormatter=function eventsInValueFormatter(value){return(0,_format_number.formatMetric)(value,"0a","events")};var latestEventsIn=Array.isArray(vertex.stats.events_in.data)&&vertex.stats.events_in.data.length>0?(0,_lodash.last)(vertex.stats.events_in.data)[1]:null;var eventsInRow=vertex.pluginType==="input"?null:_react2.default.createElement(_eui.EuiTableRow,{key:"events_in"},_react2.default.createElement(_eui.EuiTableRowCell,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsReceivedLabel",defaultMessage:"Events Received"})),_react2.default.createElement(_eui.EuiTableRowCell,null,_react2.default.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},_react2.default.createElement(_sparkline.Sparkline,{series:vertex.stats.events_in.data,options:{xaxis:vertex.stats.events_in.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsInValueFormatter}}))),_react2.default.createElement(_eui.EuiTableRowCell,null,eventsInValueFormatter(latestEventsIn)));var eventsOutValueFormatter=eventsInValueFormatter;var latestEventsOut=Array.isArray(vertex.stats.events_out.data)&&vertex.stats.events_out.data.length>0?(0,_lodash.last)(vertex.stats.events_out.data)[1]:null;var eventsOutRow=_react2.default.createElement(_eui.EuiTableRow,{key:"events_out"},_react2.default.createElement(_eui.EuiTableRowCell,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsEmittedLabel",defaultMessage:"Events Emitted"})),_react2.default.createElement(_eui.EuiTableRowCell,null,_react2.default.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},_react2.default.createElement(_sparkline.Sparkline,{series:vertex.stats.events_out.data,options:{xaxis:vertex.stats.events_out.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsOutValueFormatter}}))),_react2.default.createElement(_eui.EuiTableRowCell,null,eventsOutValueFormatter(latestEventsOut)));return _react2.default.createElement(_eui.EuiTable,null,_react2.default.createElement(_eui.EuiTableBody,null,eventsLatencyRow,eventsOutRateRow,eventsInRow,eventsOutRow))}function renderIfBasicStats(_vertex){return _react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.noMetricsForIfDescription",defaultMessage:"There are currently no metrics to show for this if condition."}))}function renderQueueBasicStats(_vertex){return _react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.noMetricsForQueueDescription",defaultMessage:"There are currently no metrics to show for the queue."}))}function renderBasicStats(vertex,timeseriesTooltipXValueFormatter){switch(vertex.typeString){case"plugin":return renderPluginBasicStats(vertex,timeseriesTooltipXValueFormatter);break;case"if":return renderIfBasicStats(vertex,timeseriesTooltipXValueFormatter);break;case"queue":return renderQueueBasicStats(vertex,timeseriesTooltipXValueFormatter);break}}function renderPluginBasicInfo(vertex){if(vertex.hasExplicitId){return _react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.vertexIdDescription",defaultMessage:"This {vertexType}'s ID is {vertexId}.",values:{vertexType:vertex.typeString,vertexId:_react2.default.createElement(_eui.EuiBadge,null,vertex.id)}}))}return _react2.default.createElement("div",null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.specifyVertexIdDescription",defaultMessage:"This {vertexType} does not have an ID explicitly specified. Specifying an ID allows you to track differences across pipeline changes. You can explicitly specify an ID for this plugin like so:",values:{vertexType:vertex.typeString}})),_react2.default.createElement(_eui.EuiCodeBlock,null,vertex.name," ",'{\n  id => "mySpecialId"\n}'),_react2.default.createElement(_eui.EuiSpacer,null))}function renderIfBasicInfo(vertex){var ifCode="if ("+vertex.subtitle+") {\n  ...\n}";return _react2.default.createElement("div",null,_react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.conditionalStatementDescription",defaultMessage:"This is a conditional statement in your pipeline."})),_react2.default.createElement(_eui.EuiCodeBlock,null,ifCode),_react2.default.createElement(_eui.EuiSpacer,null))}function renderQueueBasicInfo(_vertex){return _react2.default.createElement("p",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.structureDescription",defaultMessage:"This is an internal structure used by Logstash to buffer events between inputs and the rest of the pipeline."}))}function renderBasicInfo(vertex){switch(vertex.typeString){case"plugin":return renderPluginBasicInfo(vertex);break;case"if":return renderIfBasicInfo(vertex);break;case"queue":return renderQueueBasicInfo(vertex);break}}function renderTitle(vertex){switch(vertex.typeString){case"plugin":return vertex.title+" "+vertex.pluginType;break;case"if":case"queue":return vertex.title;break}}function DetailDrawer(_ref){var vertex=_ref.vertex,onHide=_ref.onHide,timeseriesTooltipXValueFormatter=_ref.timeseriesTooltipXValueFormatter;return _react2.default.createElement(_eui.EuiFlyout,{size:"s",onClose:onHide},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"baseline",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},renderIcon(vertex)),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,renderTitle(vertex)))))),_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiText,null,renderBasicInfo(vertex),renderBasicStats(vertex,timeseriesTooltipXValueFormatter))))}},2125:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Queue=Queue;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _statement_list_heading=__webpack_require__(979);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Queue(){return _react2.default.createElement("div",null,_react2.default.createElement(_statement_list_heading.StatementListHeading,{iconType:"logstashQueue",title:"Queue"}),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,{className:"monPipelineViewer__queueMessage"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.queue.noMetricsDescription",defaultMessage:"Queue metrics not available"})))}},2126:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatementSection=StatementSection;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _statement_list_heading=__webpack_require__(979);var _eui=__webpack_require__(2);var _statement_list=__webpack_require__(2127);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StatementSection(_ref){var iconType=_ref.iconType,headingText=_ref.headingText,elements=_ref.elements,onShowVertexDetails=_ref.onShowVertexDetails;if(!elements.length){return null}return _react2.default.createElement("div",null,_react2.default.createElement(_statement_list_heading.StatementListHeading,{iconType:iconType,title:headingText}),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_statement_list.StatementList,{elements:elements,onShowVertexDetails:onShowVertexDetails}))}StatementSection.propTypes={elements:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,parentId:_propTypes2.default.string})).isRequired,headingText:_propTypes2.default.string.isRequired,iconType:_propTypes2.default.string.isRequired,onShowVertexDetails:_propTypes2.default.func.isRequired}},2127:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatementList=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _statement=__webpack_require__(2128);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getCollapsedChildIds(elements,collapsedIds){var collapsedChildIds=new Set;elements.forEach(function(_ref){var id=_ref.id,parentId=_ref.parentId;if(collapsedIds.has(parentId)||collapsedChildIds.has(parentId)){collapsedChildIds.add(id)}});return collapsedChildIds}var StatementList=exports.StatementList=function(_React$PureComponent){_inherits(StatementList,_React$PureComponent);function StatementList(props){_classCallCheck(this,StatementList);var _this=_possibleConstructorReturn(this,(StatementList.__proto__||Object.getPrototypeOf(StatementList)).call(this,props));_this.expand=function(elementId){var collapsedIds=new Set(_this.state.collapsedIds);collapsedIds.delete(elementId);_this.updateCollapsedElement(collapsedIds)};_this.collapse=function(elementId){var collapsedIds=new Set(_this.state.collapsedIds);collapsedIds.add(elementId);_this.updateCollapsedElement(collapsedIds)};_this.updateCollapsedElement=function(collapsedIds){var elements=_this.props.elements;var collapsedChildIds=getCollapsedChildIds(elements,collapsedIds);_this.setState({collapsedIds:collapsedIds,collapsedChildIds:collapsedChildIds})};_this.elementIsCollapsed=function(elementId){return _this.state.collapsedIds.has(elementId)};_this.renderStatement=function(element){var id=element.id,parentId=element.parentId;var onShowVertexDetails=_this.props.onShowVertexDetails;return _this.state.collapsedIds.has(parentId)||_this.state.collapsedChildIds.has(parentId)?null:_react2.default.createElement(_statement.Statement,{key:id,element:element,collapse:_this.collapse,expand:_this.expand,isCollapsed:_this.elementIsCollapsed(id),onShowVertexDetails:onShowVertexDetails})};_this.state={collapsedIds:new Set,collapsedChildIds:new Set};return _this}_createClass(StatementList,[{key:"render",value:function render(){var elements=this.props.elements;return _react2.default.createElement("ul",{className:"monPipelineViewer__list"},elements.map(this.renderStatement))}}]);return StatementList}(_react2.default.PureComponent);StatementList.propTypes={elements:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,parentId:_propTypes2.default.string})).isRequired,onShowVertexDetails:_propTypes2.default.func.isRequired}},2128:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Statement=Statement;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _plugin_statement=__webpack_require__(980);var _collapsible_statement=__webpack_require__(2130);var _if_element=__webpack_require__(981);var _plugin_statement2=__webpack_require__(2131);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function renderStatementName(name,onVertexSelected){return _react2.default.createElement(_eui.EuiFlexItem,{grow:false,key:"statementName"},_react2.default.createElement(_eui.EuiButtonEmpty,{"aria-label":name,color:"text",size:"xs",onClick:onVertexSelected,flush:"left"},_react2.default.createElement("span",{className:"monPipelineViewer__conditional"},name)))}function renderIfStatement(_ref,onVertexSelected){var condition=_ref.condition;return[renderStatementName("if",onVertexSelected),_react2.default.createElement(_eui.EuiFlexItem,{key:"ifContent",grow:false},_react2.default.createElement(_eui.EuiCodeBlock,{fontSize:"s",paddingSize:"none",transparentBackground:true},condition))]}function getStatementBody(isIf,statement,vertex,onShowVertexDetails){var showVertexDetailsClicked=function showVertexDetailsClicked(){onShowVertexDetails(vertex)};return isIf?renderIfStatement(statement,showVertexDetailsClicked):renderStatementName("else",showVertexDetailsClicked)}function renderNestingSpacers(depth){var spacers=[];for(var i=0;i<depth;i+=1){spacers.push(_react2.default.createElement("div",{key:"spacer_"+i,className:"monPipelineViewer__spacer"}))}return spacers}function renderStatement(_ref2){var collapse=_ref2.collapse,element=_ref2.element,_ref2$element=_ref2.element,id=_ref2$element.id,statement=_ref2$element.statement,vertex=_ref2$element.statement.vertex,expand=_ref2.expand,isCollapsed=_ref2.isCollapsed,onShowVertexDetails=_ref2.onShowVertexDetails;if(statement instanceof _plugin_statement.PluginStatement){return _react2.default.createElement(_plugin_statement2.PluginStatement,{statement:statement,onShowVertexDetails:onShowVertexDetails})}var statementBody=getStatementBody(element instanceof _if_element.IfElement,statement,vertex,onShowVertexDetails);return _react2.default.createElement(_collapsible_statement.CollapsibleStatement,{expand:expand,collapse:collapse,isCollapsed:isCollapsed,id:id},statementBody)}function Statement(props){var depth=props.element.depth;return _react2.default.createElement("li",{className:"monPipelineViewer__listItem"},_react2.default.createElement("div",{className:"monPipelineViewer__spaceContainer"},renderNestingSpacers(depth)),renderStatement(props))}Statement.propTypes={collapse:_propTypes2.default.func.isRequired,element:_propTypes2.default.shape({depth:_propTypes2.default.number.isRequired,id:_propTypes2.default.string.isRequired,statement:_propTypes2.default.object.isRequired}).isRequired,expand:_propTypes2.default.func.isRequired,isCollapsed:_propTypes2.default.bool.isRequired,onShowVertexDetails:_propTypes2.default.func.isRequired}},2129:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PluginElement=undefined;var _element=__webpack_require__(624);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PluginElement=exports.PluginElement=function(_Element){_inherits(PluginElement,_Element);function PluginElement(statement,depth,parentId){_classCallCheck(this,PluginElement);var id=statement.id;return _possibleConstructorReturn(this,(PluginElement.__proto__||Object.getPrototypeOf(PluginElement)).call(this,id,statement,depth,parentId))}return PluginElement}(_element.Element)},2130:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CollapsibleStatement=CollapsibleStatement;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getToggleIconType(isCollapsed){return isCollapsed?"arrowRight":"arrowDown"}function CollapsibleStatement(props){var collapse=props.collapse,expand=props.expand,id=props.id,isCollapsed=props.isCollapsed;var toggleClicked=function toggleClicked(){if(isCollapsed){expand(id)}else{collapse(id)}};return _react2.default.createElement(_eui.EuiFlexGroup,{responsive:false,gutterSize:"none",alignItems:"center",className:"monPipelineViewer__statement"},_react2.default.createElement(_eui.EuiFlexItem,{key:id,grow:false},_react2.default.createElement(_eui.EuiButtonIcon,{"aria-label":"collapse",color:"text",iconType:getToggleIconType(isCollapsed),onClick:toggleClicked,size:"s"})),props.children)}CollapsibleStatement.propTypes={collapse:_propTypes2.default.func.isRequired,expand:_propTypes2.default.func.isRequired,id:_propTypes2.default.string.isRequired,isCollapsed:_propTypes2.default.bool.isRequired}},2131:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PluginStatement=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _format_number=__webpack_require__(29);var _metric=__webpack_require__(2132);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getInputStatementMetrics(_ref){var latestEventsPerSecond=_ref.latestEventsPerSecond;return[_react2.default.createElement(_metric.Metric,{key:"eventsEmitted",className:"monPipelineViewer__metric--eventsEmitted",value:(0,_format_number.formatMetric)(latestEventsPerSecond,"0.[00]a","e/s emitted")})]}function getProcessorStatementMetrics(processorVertex){var latestMillisPerEvent=processorVertex.latestMillisPerEvent,latestEventsPerSecond=processorVertex.latestEventsPerSecond,percentOfTotalProcessorTime=processorVertex.percentOfTotalProcessorTime;return[_react2.default.createElement(_metric.Metric,{key:"cpuMetric",className:"monPipelineViewer__metric--cpuTime",warning:processorVertex.isTimeConsuming(),value:(0,_format_number.formatMetric)(Math.round(percentOfTotalProcessorTime||0),"0","%",{prependSpace:false})}),_react2.default.createElement(_metric.Metric,{key:"eventMillis",className:"monPipelineViewer__metric--eventMillis",warning:processorVertex.isSlow(),value:(0,_format_number.formatMetric)(latestMillisPerEvent,"0.[00]a","ms/e")}),_react2.default.createElement(_metric.Metric,{key:"eventsReceived",className:"monPipelineViewer__metric--events",value:(0,_format_number.formatMetric)(latestEventsPerSecond,"0.[00]a","e/s received")})]}function renderPluginStatementMetrics(pluginType,vertex){return pluginType==="input"?getInputStatementMetrics(vertex):getProcessorStatementMetrics(vertex)}function PluginStatementUi(_ref2){var _ref2$statement=_ref2.statement,hasExplicitId=_ref2$statement.hasExplicitId,id=_ref2$statement.id,name=_ref2$statement.name,pluginType=_ref2$statement.pluginType,vertex=_ref2$statement.vertex,onShowVertexDetails=_ref2.onShowVertexDetails,intl=_ref2.intl;var statementMetrics=renderPluginStatementMetrics(pluginType,vertex);var onNameButtonClick=function onNameButtonClick(){onShowVertexDetails(vertex)};return _react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",className:"monPipelineViewer__statement",gutterSize:"none",justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"xs",responsive:false},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{"aria-label":name,className:"monPipelineViewer__plugin",color:"primary",flush:"left",iconType:"dot",onClick:onNameButtonClick,size:"xs"},_react2.default.createElement("span",null,name))),hasExplicitId&&_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiBadge,{onClick:onNameButtonClick,onClickAriaLabel:intl.formatMessage({id:"xpack.monitoring.logstash.pipelineStatement.viewDetailsAriaLabel",defaultMessage:"View details"})},id)))),statementMetrics&&_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},statementMetrics)))}PluginStatementUi.propTypes={onShowVertexDetails:_propTypes2.default.func.isRequired,statement:_propTypes2.default.shape({hasExplicitId:_propTypes2.default.bool.isRequired,id:_propTypes2.default.string.isRequired,name:_propTypes2.default.string.isRequired,pluginType:_propTypes2.default.string.isRequired,vertex:_propTypes2.default.shape({latestEventsPerSecond:_propTypes2.default.number.isRequired,latestMillisPerEvent:_propTypes2.default.number,percentOfTotalProcessorTime:_propTypes2.default.number}).isRequired}).isRequired};var PluginStatement=exports.PluginStatement=(0,_react3.injectI18n)(PluginStatementUi)},2132:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Metric=Metric;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);var _classnames=__webpack_require__(192);var _classnames2=_interopRequireDefault(_classnames);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Metric(_ref){var className=_ref.className,warning=_ref.warning,value=_ref.value;var classes=(0,_classnames2.default)("monPipelineViewer__metric",className);var stylizedValue=void 0;if(warning){stylizedValue=_react2.default.createElement(_eui.EuiBadge,{color:"warning",className:className},value)}else{stylizedValue=_react2.default.createElement(_eui.EuiText,{size:"s",color:"subdued",className:classes},_react2.default.createElement("span",null,value))}return _react2.default.createElement(_eui.EuiFlexItem,{className:"monPipelineViewer__metricFlexItem",grow:false},stylizedValue)}Metric.propTypes={className:_propTypes2.default.string.isRequired,value:_propTypes2.default.string.isRequired,warning:_propTypes2.default.bool}},2133:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pipeline=__webpack_require__(2134);Object.defineProperty(exports,"Pipeline",{enumerable:true,get:function get(){return _pipeline.Pipeline}})},2134:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Pipeline=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _make_statement=__webpack_require__(982);var _queue_vertex=__webpack_require__(622);var _utils=__webpack_require__(983);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function getInputStatements(pipelineGraph){return pipelineGraph.getVertices().filter(function(v){return v.pipelineStage==="input"}).map(_make_statement.makeStatement)}function isFilterStageVertex(vertex){return vertex.pipelineStage==="filter"}function isVertexOrphan(vertex){return vertex.incomingVertices.length===0}function isVertexChildOfQueue(vertex){return vertex.incomingVertices.every(function(p){return p instanceof _queue_vertex.QueueVertex})}function getFilterStatements(pipelineGraph){var allVertices=pipelineGraph.getVertices();var allFilterVertices=allVertices.filter(function(v){return isFilterStageVertex(v)});var startFilterVertex=pipelineGraph.hasQueueVertex?allFilterVertices.find(function(v){return isVertexChildOfQueue(v)}):allFilterVertices.find(function(v){return isVertexOrphan(v)});if(!startFilterVertex){return[]}var filterStatements=[];var currentVertex=startFilterVertex;while((0,_utils.isVertexPipelineStage)(currentVertex,"filter")){filterStatements.push((0,_make_statement.makeStatement)(currentVertex,"filter"));currentVertex=currentVertex.next}return filterStatements}function getQueue(pipelineGraph){return pipelineGraph.hasQueueVertex?(0,_make_statement.makeStatement)(pipelineGraph.queueVertex):null}function getOutputStatements(pipelineGraph){return pipelineGraph.getVertices().filter(function(v){return v.pipelineStage==="output"&&!v.incomingVertices.some(function(p){return p.pipelineStage==="output"})}).map(function(v){return(0,_make_statement.makeStatement)(v,"output")})}var Pipeline=exports.Pipeline=function(){function Pipeline(inputStatements,filterStatements,outputStatements,queue){_classCallCheck(this,Pipeline);this.inputStatements=inputStatements;this.filterStatements=filterStatements;this.outputStatements=outputStatements;this.queue=queue}_createClass(Pipeline,null,[{key:"fromPipelineGraph",value:function fromPipelineGraph(pipelineGraph){var inputStatements=getInputStatements(pipelineGraph);var filterStatements=getFilterStatements(pipelineGraph);var outputStatements=getOutputStatements(pipelineGraph);var queue=getQueue(pipelineGraph);return new Pipeline(inputStatements,filterStatements,outputStatements,queue)}}]);return Pipeline}()},2135:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IfStatement=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _statement=__webpack_require__(623);var _make_statement=__webpack_require__(982);var _utils=__webpack_require__(983);var _if_element=__webpack_require__(981);var _else_element=__webpack_require__(2136);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function makeStatementsForOutgoingVertices(outgoingVertices,statements,next,pipelineStage){outgoingVertices.forEach(function(vertex){var currentVertex=vertex;while((0,_utils.isVertexPipelineStage)(currentVertex,pipelineStage)&&currentVertex!==next){statements.push((0,_make_statement.makeStatement)(currentVertex,pipelineStage));currentVertex=currentVertex.next}})}function addStatementsToList(list,statements,depth,id){statements.forEach(function(statement){list.push.apply(list,_toConsumableArray(statement.toList(depth,id)))})}var IfStatement=exports.IfStatement=function(_Statement){_inherits(IfStatement,_Statement);function IfStatement(vertex,trueStatements,elseStatements){_classCallCheck(this,IfStatement);var _this=_possibleConstructorReturn(this,(IfStatement.__proto__||Object.getPrototypeOf(IfStatement)).call(this,vertex));var name=vertex.name;_this.condition=name;_this.trueStatements=trueStatements;_this.elseStatements=elseStatements;return _this}_createClass(IfStatement,[{key:"toList",value:function toList(depth,parentId){var list=[];var ifElement=new _if_element.IfElement(this,depth,parentId);list.push(ifElement);var nestedElementDepth=depth+1;addStatementsToList(list,this.trueStatements,nestedElementDepth,ifElement.id);if(this.elseStatements.length){var elseElement=new _else_element.ElseElement(this,depth,parentId);list.push(elseElement);addStatementsToList(list,this.elseStatements,nestedElementDepth,elseElement.id)}return list}}],[{key:"fromPipelineGraphVertex",value:function fromPipelineGraphVertex(ifVertex,pipelineStage){var trueStatements=[];var elseStatements=[];var trueOutgoingVertices=ifVertex.trueOutgoingVertices,falseOutgoingVertices=ifVertex.falseOutgoingVertices;var next=ifVertex.next;makeStatementsForOutgoingVertices(trueOutgoingVertices,trueStatements,next,pipelineStage);makeStatementsForOutgoingVertices(falseOutgoingVertices,elseStatements,next,pipelineStage);return new IfStatement(ifVertex,trueStatements,elseStatements)}}]);return IfStatement}(_statement.Statement)},2136:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElseElement=undefined;var _element=__webpack_require__(624);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ElseElement=exports.ElseElement=function(_Element){_inherits(ElseElement,_Element);function ElseElement(statement,depth,parentId){_classCallCheck(this,ElseElement);var id=statement.id;return _possibleConstructorReturn(this,(ElseElement.__proto__||Object.getPrototypeOf(ElseElement)).call(this,id+"_else",statement,depth,parentId))}return ElseElement}(_element.Element)},2137:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Queue=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _statement=__webpack_require__(623);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Queue=exports.Queue=function(_Statement){_inherits(Queue,_Statement);function Queue(){_classCallCheck(this,Queue);return _possibleConstructorReturn(this,(Queue.__proto__||Object.getPrototypeOf(Queue)).apply(this,arguments))}_createClass(Queue,null,[{key:"fromPipelineGraphVertex",value:function fromPipelineGraphVertex(queueVertex){return new Queue(queueVertex)}}]);return Queue}(_statement.Statement)},2138:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _=__webpack_require__(69);var _get_page_data=__webpack_require__(2139);var _index=__webpack_require__(2140);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}_routes2.default.when("/beats",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"beats",controller:function(_MonitoringViewBaseCo){_inherits(BeatsOverview,_MonitoringViewBaseCo);function BeatsOverview($injector,$scope,i18n){_classCallCheck(this,BeatsOverview);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var _this=_possibleConstructorReturn(this,(BeatsOverview.__proto__||Object.getPrototypeOf(BeatsOverview)).call(this,{title:i18n("xpack.monitoring.beats.overview.routeTitle",{defaultMessage:"Beats - Overview"}),getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));_this.data=$route.current.locals.pageData;return _this}return BeatsOverview}(_.MonitoringViewBaseController)})},2139:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(42);var _timefilter=__webpack_require__(16);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/beats";return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2140:function(module,exports){module.exports='<monitoring-main\n  product="beats"\n  name="overview"\n  data-test-subj="beatsOverviewPage"\n>\n  <monitoring-beats-overview data="beats.data"></monitoring-beats-overview>\n</monitoring-main>\n'},2141:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _=__webpack_require__(69);var _get_page_data=__webpack_require__(2142);var _index=__webpack_require__(2143);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}_routes2.default.when("/beats/beats",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"beats",controller:function(_MonitoringViewBaseTa){_inherits(BeatsListing,_MonitoringViewBaseTa);function BeatsListing($injector,$scope,i18n){_classCallCheck(this,BeatsListing);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var _this=_possibleConstructorReturn(this,(BeatsListing.__proto__||Object.getPrototypeOf(BeatsListing)).call(this,{title:i18n("xpack.monitoring.beats.routeTitle",{defaultMessage:"Beats"}),storageKey:"beats.beats",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));_this.data=$route.current.locals.pageData;return _this}return BeatsListing}(_.MonitoringViewBaseTableController)})},2142:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(42);var _timefilter=__webpack_require__(16);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/beats/beats";return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2143:function(module,exports){module.exports='<monitoring-main\n  product="beats"\n  name="beats"\n  data-test-subj="beatsListingPage"\n>\n  <monitoring-beats-listing\n    page-index="beats.pageIndex"\n    sort-key="beats.sortKey"\n    sort-order="beats.sortOrder"\n    on-new-state="beats.onNewState"\n    data="beats.data"\n  ></monitoring-beats-listing>\n</monitoring-main>\n'},2144:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _=__webpack_require__(69);var _get_page_data=__webpack_require__(2145);var _index=__webpack_require__(2146);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}_routes2.default.when("/beats/beat/:beatUuid",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"beat",controller:function(_MonitoringViewBaseCo){_inherits(BeatDetail,_MonitoringViewBaseCo);function BeatDetail($injector,$scope,i18n){_classCallCheck(this,BeatDetail);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var pageData=$route.current.locals.pageData;var _this=_possibleConstructorReturn(this,(BeatDetail.__proto__||Object.getPrototypeOf(BeatDetail)).call(this,{title:i18n("xpack.monitoring.beats.instance.routeTitle",{defaultMessage:"Beats - {instanceName} - Overview",values:{instanceName:pageData.summary.name}}),getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));_this.data=pageData;return _this}return BeatDetail}(_.MonitoringViewBaseController)})},2145:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(42);var _timefilter=__webpack_require__(16);function getPageData($injector){var $http=$injector.get("$http");var $route=$injector.get("$route");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/beats/beat/"+$route.current.params.beatUuid;var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2146:function(module,exports){module.exports='<monitoring-main\n  product="beats"\n  name="detail"\n  instance="{{ beat.data.summary.name }}"\n  resolver="{{ beat.data.summary.uuid }}"\n  page="overview"\n  data-test-subj="beatDetailPage"\n>\n  <monitoring-beats-beat data="beat.data"></monitoring-beats-beat>\n</monitoring-main>\n'},2147:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _lodash=__webpack_require__(1);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _index=__webpack_require__(2148);var _index2=_interopRequireDefault(_index);var _base_controller=__webpack_require__(177);var _overview=__webpack_require__(2149);var _timefilter=__webpack_require__(16);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}_routes2.default.when("/apm",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()}},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){_classCallCheck(this,controller);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var _this=_possibleConstructorReturn(this,(controller.__proto__||Object.getPrototypeOf(controller)).call(this,{title:"APM",api:"../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/apm",defaultData:{},reactNodeId:"apmOverviewReact",$scope:$scope,$injector:$injector}));function onBrush(_ref){var xaxis=_ref.xaxis;_timefilter.timefilter.setTime({from:(0,_moment2.default)(xaxis.from),to:(0,_moment2.default)(xaxis.to),mode:"absolute"})}$scope.$watch(function(){return _this.data},function(data){_this.renderReact(data,onBrush)});return _this}_createClass(controller,[{key:"renderReact",value:function renderReact(data,onBrush){var component=_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_overview.ApmOverview,_extends({},data,{onBrush:onBrush})));_get(controller.prototype.__proto__||Object.getPrototypeOf(controller.prototype),"renderReact",this).call(this,component)}}]);return controller}(_base_controller.MonitoringViewBaseController)})},2148:function(module,exports){module.exports='<monitoring-main\n  product="apm"\n  name="overview"\n  data-test-subj="apmOverviewPage"\n>\n  <div id="apmOverviewReact"></div>\n</monitoring-main>\n'},2149:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.ApmOverview=ApmOverview;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _chart=__webpack_require__(176);var _eui=__webpack_require__(2);var _status=__webpack_require__(984);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function ApmOverview(_ref){var stats=_ref.stats,metrics=_ref.metrics,props=_objectWithoutProperties(_ref,["stats","metrics"]);var seriesToShow=[metrics.apm_responses_valid,metrics.apm_responses_errors,metrics.apm_output_events_rate_success,metrics.apm_output_events_rate_failure,metrics.apm_requests,metrics.apm_transformations,metrics.apm_cpu,metrics.apm_memory,metrics.apm_os_load];var charts=seriesToShow.map(function(data,index){return _react2.default.createElement(_eui.EuiFlexItem,{style:{minWidth:"45%"},key:index},_react2.default.createElement(_eui.EuiPanel,null,_react2.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:data},props))))});return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_status.Status,{stats:stats}),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFlexGroup,{wrap:true},charts))))}},2150:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _index=__webpack_require__(2151);var _index2=_interopRequireDefault(_index);var _instances=__webpack_require__(2152);var _=__webpack_require__(69);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}_routes2.default.when("/apm/instances",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()}},controller:function(_MonitoringViewBaseEu){_inherits(controller,_MonitoringViewBaseEu);function controller($injector,$scope,i18n){_classCallCheck(this,controller);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var _this=_possibleConstructorReturn(this,(controller.__proto__||Object.getPrototypeOf(controller)).call(this,{title:i18n("xpack.monitoring.apm.instances.routeTitle",{defaultMessage:"{apm} - Instances",values:{apm:"APM"}}),storageKey:"apm.instances",api:"../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/apm/instances",defaultData:{},reactNodeId:"apmInstancesReact",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){_this.renderReact(data)});return _this}_createClass(controller,[{key:"renderReact",value:function renderReact(data){var pagination=this.pagination,sorting=this.sorting,onTableChange=this.onTableChange;var component=_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_instances.ApmServerInstances,{apms:{pagination:pagination,sorting:sorting,onTableChange:onTableChange,data:data}}));_get(controller.prototype.__proto__||Object.getPrototypeOf(controller.prototype),"renderReact",this).call(this,component)}}]);return controller}(_.MonitoringViewBaseEuiTableController)})},2151:function(module,exports){module.exports='<monitoring-main\n  product="apm"\n  name="apms"\n  data-test-subj="apmInstancesPage"\n>\n  <div id="apmInstancesReact"></div>\n</monitoring-main>\n'},2152:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _instances=__webpack_require__(2153);Object.defineProperty(exports,"ApmServerInstances",{enumerable:true,get:function get(){return _instances.ApmServerInstances}})},2153:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ApmServerInstances=undefined;exports.ApmServerInstancesUI=ApmServerInstancesUI;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _lodash=__webpack_require__(1);var _table=__webpack_require__(186);var _eui=__webpack_require__(2);var _status=__webpack_require__(984);var _format_number=__webpack_require__(29);var _common=__webpack_require__(397);var _i18n=__webpack_require__(9);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var columns=[{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.nameTitle",{defaultMessage:"Name"}),field:"name",render:function render(name,instance){return _react2.default.createElement(_eui.EuiLink,{href:"#/apm/instances/"+instance.uuid,"data-test-subj":"apmLink-"+name},name)}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.outputEnabledTitle",{defaultMessage:"Output Enabled"}),field:"output"},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.totalEventsRateTitle",{defaultMessage:"Total Events Rate"}),field:"total_events_rate",render:function render(value){return(0,_format_number.formatMetric)(value,"","/s")}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.bytesSentRateTitle",{defaultMessage:"Bytes Sent Rate"}),field:"bytes_sent_rate",render:function render(value){return(0,_format_number.formatMetric)(value,"byte","/s")}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.outputErrorsTitle",{defaultMessage:"Output Errors"}),field:"errors",render:function render(value){return(0,_format_number.formatMetric)(value,"0")}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.lastEventTitle",{defaultMessage:"Last Event"}),field:"time_of_last_event",render:function render(value){return(0,_common.formatTimestampToDuration)(+(0,_moment2.default)(value),"since")+" ago"}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.allocatedMemoryTitle",{defaultMessage:"Allocated Memory"}),field:"memory",render:function render(value){return(0,_format_number.formatMetric)(value,"byte")}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.versionTitle",{defaultMessage:"Version"}),field:"version"}];function ApmServerInstancesUI(_ref){var apms=_ref.apms,intl=_ref.intl;var pagination=apms.pagination,sorting=apms.sorting,onTableChange=apms.onTableChange,data=apms.data;var versions=(0,_lodash.uniq)(data.apms.map(function(item){return item.version})).map(function(version){return{value:version}});return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_status.Status,{stats:data.stats}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_table.EuiMonitoringTable,{className:"apmInstancesTable",rows:data.apms,columns:columns,sorting:sorting,pagination:pagination,search:{box:{incremental:true,placeholder:intl.formatMessage({id:"xpack.monitoring.apm.instances.filterInstancesPlaceholder",defaultMessage:"Filter Instances…"})},filters:[{type:"field_value_selection",field:"version",name:"Version",options:versions,multiSelect:"or"}]},onTableChange:onTableChange}))))}var ApmServerInstances=exports.ApmServerInstances=(0,_react3.injectI18n)(ApmServerInstancesUI)},2154:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _lodash=__webpack_require__(1);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _route_init=__webpack_require__(31);var _index=__webpack_require__(2155);var _index2=_interopRequireDefault(_index);var _base_controller=__webpack_require__(177);var _instance=__webpack_require__(2156);var _timefilter=__webpack_require__(16);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}_routes2.default.when("/apm/instances/:uuid",{template:_index2.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()}},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope,i18n){_classCallCheck(this,controller);var $route=$injector.get("$route");var title=$injector.get("title");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var _this=_possibleConstructorReturn(this,(controller.__proto__||Object.getPrototypeOf(controller)).call(this,{title:i18n("xpack.monitoring.apm.instance.routeTitle",{defaultMessage:"{apm} - Instance",values:{apm:"APM"}}),api:"../api/monitoring/v1/clusters/"+globalState.cluster_uuid+"/apm/"+$route.current.params.uuid,defaultData:{},reactNodeId:"apmInstanceReact",$scope:$scope,$injector:$injector}));function onBrush(_ref){var xaxis=_ref.xaxis;_timefilter.timefilter.setTime({from:(0,_moment2.default)(xaxis.from),to:(0,_moment2.default)(xaxis.to),mode:"absolute"})}$scope.$watch(function(){return _this.data},function(data){title($scope.cluster,"APM - "+(0,_lodash.get)(data,"apmSummary.name"));_this.renderReact(data,onBrush)});return _this}_createClass(controller,[{key:"renderReact",value:function renderReact(data,onBrush){var component=_react2.default.createElement(_react3.I18nProvider,null,_react2.default.createElement(_instance.ApmServerInstance,{summary:data.apmSummary||{},metrics:data.metrics||{},onBrush:onBrush}));_get(controller.prototype.__proto__||Object.getPrototypeOf(controller.prototype),"renderReact",this).call(this,component)}}]);return controller}(_base_controller.MonitoringViewBaseController)})},2155:function(module,exports){module.exports='<monitoring-main\n  product="apm"\n  name="apm"\n  instance="{{ pageData.apmSummary.name }}"\n  data-test-subj="apmInstancePage"\n>\n  <div id="apmInstanceReact"></div>\n</monitoring-main>\n'},2156:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _instance=__webpack_require__(2157);Object.defineProperty(exports,"ApmServerInstance",{enumerable:true,get:function get(){return _instance.ApmServerInstance}})},2157:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.ApmServerInstance=ApmServerInstance;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _chart=__webpack_require__(176);var _eui=__webpack_require__(2);var _status=__webpack_require__(2158);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function ApmServerInstance(_ref){var summary=_ref.summary,metrics=_ref.metrics,props=_objectWithoutProperties(_ref,["summary","metrics"]);var seriesToShow=[metrics.apm_responses_valid,metrics.apm_responses_errors,metrics.apm_output_events_rate_success,metrics.apm_output_events_rate_failure,metrics.apm_requests,metrics.apm_transformations,metrics.apm_cpu,metrics.apm_memory,metrics.apm_os_load];var charts=seriesToShow.map(function(data,index){return _react2.default.createElement(_eui.EuiFlexItem,{style:{minWidth:"45%"},key:index},_react2.default.createElement(_eui.EuiPanel,null,_react2.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:data},props))))});return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_status.Status,{stats:summary}),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFlexGroup,{wrap:true},charts))))}},2158:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Status=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _summary_status=__webpack_require__(208);var _status_icon=__webpack_require__(985);var _format_number=__webpack_require__(29);var _common=__webpack_require__(397);var _constants=__webpack_require__(59);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StatusUI(_ref){var stats=_ref.stats,intl=_ref.intl;var name=stats.name,output=stats.output,version=stats.version,uptime=stats.uptime,timeOfLastEvent=stats.timeOfLastEvent;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.apm.instance.status.nameLabel",defaultMessage:"Name"}),value:name,"data-test-subj":"name"},{label:intl.formatMessage({id:"xpack.monitoring.apm.instance.status.outputLabel",defaultMessage:"Output"}),value:output,"data-test-subj":"output"},{label:intl.formatMessage({id:"xpack.monitoring.apm.instance.status.versionLabel",defaultMessage:"Version"}),value:version,"data-test-subj":"version"},{label:intl.formatMessage({id:"xpack.monitoring.apm.instance.status.uptimeLabel",defaultMessage:"Uptime"}),value:(0,_format_number.formatMetric)(uptime,"time_since"),"data-test-subj":"uptime"},{label:intl.formatMessage({id:"xpack.monitoring.apm.instance.status.lastEventLabel",defaultMessage:"Last Event"}),value:intl.formatMessage({id:"xpack.monitoring.apm.instance.status.lastEventDescription",defaultMessage:"{timeOfLastEvent} ago"},{timeOfLastEvent:(0,_common.formatTimestampToDuration)(+(0,_moment2.default)(timeOfLastEvent),_constants.CALCULATE_DURATION_SINCE)}),"data-test-subj":"timeOfLastEvent"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.apm.instance.statusDescription",defaultMessage:"Status: {apmStatusIcon}",values:{apmStatusIcon:_react2.default.createElement(_status_icon.ApmStatusIcon,{status:status})}}))};return _react2.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,IconComponent:IconComponent,"data-test-subj":"apmDetailStatus"})}var Status=exports.Status=(0,_react3.injectI18n)(StatusUI)},272:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LARGE_ABBREVIATED=exports.SMALL_BYTES=exports.LARGE_BYTES=exports.SMALL_FLOAT=exports.LARGE_FLOAT=undefined;exports.formatDateTimeLocal=formatDateTimeLocal;exports.shortenPipelineHash=shortenPipelineHash;var _momentTimezone=__webpack_require__(191);var _momentTimezone2=_interopRequireDefault(_momentTimezone);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LARGE_FLOAT=exports.LARGE_FLOAT="0,0.[00]";var SMALL_FLOAT=exports.SMALL_FLOAT="0.[00]";var LARGE_BYTES=exports.LARGE_BYTES="0,0.0 b";var SMALL_BYTES=exports.SMALL_BYTES="0.0 b";var LARGE_ABBREVIATED=exports.LARGE_ABBREVIATED="0,0.[0]a";function formatDateTimeLocal(date){return _momentTimezone2.default.tz(date,_momentTimezone2.default.tz.guess()).format("LL LTS")}function shortenPipelineHash(hash){return hash.substr(0,6)}},29:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatBytesUsage=formatBytesUsage;exports.formatPercentageUsage=formatPercentageUsage;exports.formatNumber=formatNumber;exports.formatMetric=formatMetric;var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);__webpack_require__(487);var _numeral=__webpack_require__(212);var _numeral2=_interopRequireDefault(_numeral);var _i18n=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatBytesUsage(used,max){return formatNumber(used,"byte")+" / "+formatNumber(max,"byte")}function formatPercentageUsage(used,max){return formatNumber(used/max,"0.00%")}function formatNumber(num,which){var isNan=Number.isNaN(num);var format="0,0.0";if(typeof num!=="number"||isNan){if(num!==undefined&&!isNan){return num}num=0;format="0"}var postfix="";switch(which){case"time_since":return(0,_moment2.default)((0,_moment2.default)()-num).from((0,_moment2.default)(),true);case"time":return(0,_moment2.default)(num).format("H:mm:ss");case"int_commas":format="0,0";break;case"byte":case"bytes":format+=" b";break;case"ms":postfix="ms";break;default:if(which){format=which}}return(0,_numeral2.default)(num).format(format)+postfix}function formatMetric(value,format,suffix){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var _options$prependSpace=options.prependSpace,prependSpace=_options$prependSpace===undefined?true:_options$prependSpace;if(Boolean(value)||value===0){var _suffix="";if(suffix!==undefined){if(prependSpace){_suffix=" "+suffix}else{_suffix=suffix}}return formatNumber(value,format)+_suffix}return _i18n.i18n.translate("xpack.monitoring.formatNumbers.notAvailableLabel",{defaultMessage:"N/A"})}},295:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Tooltip=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _tooltip=__webpack_require__(962);var _overlayTrigger=__webpack_require__(1019);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Tooltip=exports.Tooltip=function Tooltip(props){var tooltip=_react2.default.createElement(_tooltip.Tooltip,null,props.text);return _react2.default.createElement(_overlayTrigger.OverlayTrigger,{placement:props.placement,trigger:props.trigger,overlay:tooltip},_react2.default.createElement("span",{className:"overlay-trigger"},_react2.default.createElement("span",{className:"monitoring-tooltip__trigger"},props.children)))};Tooltip.defaultProps={placement:"top",trigger:"click"}},31:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.routeInitProvider=routeInitProvider;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _ajax_error_handler=__webpack_require__(42);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function routeInitProvider(Private,monitoringClusters,globalState,license,kbnUrl){var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);function isOnPage(hash){return _lodash2.default.contains(window.location.hash,hash)}return function routeInit(){return monitoringClusters().then(function(clusters){var cluster=function(){var existingCurrent=_lodash2.default.find(clusters,{cluster_uuid:globalState.cluster_uuid});if(existingCurrent){return existingCurrent}var firstCluster=_lodash2.default.first(clusters);if(firstCluster&&firstCluster.cluster_uuid){return firstCluster}return null}();if(cluster&&cluster.license){globalState.cluster_uuid=cluster.cluster_uuid;globalState.ccs=cluster.ccs;globalState.save()}else{return kbnUrl.redirect("/no-data")}license.setLicense(cluster.license);if(!(isOnPage("license")||isOnPage("home"))&&license.isExpired()){return kbnUrl.redirect("/license")}if(!isOnPage("home")&&!cluster.isSupported){return kbnUrl.redirect("/home")}return clusters}).catch(ajaxErrorHandlers)}}},335:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatusIcon=StatusIcon;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function StatusIcon(_ref){var _typeToIconMap;var type=_ref.type,label=_ref.label;var typeToIconMap=(_typeToIconMap={},_defineProperty(_typeToIconMap,StatusIcon.TYPES.RED,"health-red.svg"),_defineProperty(_typeToIconMap,StatusIcon.TYPES.YELLOW,"health-yellow.svg"),_defineProperty(_typeToIconMap,StatusIcon.TYPES.GREEN,"health-green.svg"),_defineProperty(_typeToIconMap,StatusIcon.TYPES.GRAY,"health-gray.svg"),_typeToIconMap);var icon=typeToIconMap[type];return _react2.default.createElement("span",{className:"kuiStatusText"},_react2.default.createElement("img",{src:"../plugins/monitoring/icons/"+icon,alt:label,"data-test-subj":"statusIcon"}))}StatusIcon.TYPES={RED:"RED",YELLOW:"YELLOW",GREEN:"GREEN",GRAY:"GRAY"}},336:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _no_data=__webpack_require__(1983);Object.defineProperty(exports,"NoData",{enumerable:true,get:function get(){return _no_data.NoData}});var _license=__webpack_require__(1998);Object.defineProperty(exports,"License",{enumerable:true,get:function get(){return _license.License}});var _page_loading=__webpack_require__(1999);Object.defineProperty(exports,"PageLoading",{enumerable:true,get:function get(){return _page_loading.PageLoading}});var _elasticsearch=__webpack_require__(2e3);Object.defineProperty(exports,"ElasticsearchOverview",{enumerable:true,get:function get(){return _elasticsearch.ElasticsearchOverview}});Object.defineProperty(exports,"ElasticsearchNodes",{enumerable:true,get:function get(){return _elasticsearch.ElasticsearchNodes}});Object.defineProperty(exports,"ElasticsearchIndices",{enumerable:true,get:function get(){return _elasticsearch.ElasticsearchIndices}})},395:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterStatus=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _summary_status=__webpack_require__(208);var _status_icon=__webpack_require__(615);var _format_number=__webpack_require__(29);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ClusterStatusUI(_ref){var stats=_ref.stats,intl=_ref.intl;var dataSize=stats.dataSize,nodesCount=stats.nodesCount,indicesCount=stats.indicesCount,memUsed=stats.memUsed,memMax=stats.memMax,totalShards=stats.totalShards,unassignedShards=stats.unassignedShards,documentCount=stats.documentCount,status=stats.status;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.clusterStatus.nodesLabel",defaultMessage:"Nodes"}),value:nodesCount,"data-test-subj":"nodesCount"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.clusterStatus.indicesLabel",defaultMessage:"Indices"}),value:indicesCount,"data-test-subj":"indicesCount"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.clusterStatus.memoryLabel",defaultMessage:"Memory"}),value:(0,_format_number.formatMetric)(memUsed,"byte")+" / "+(0,_format_number.formatMetric)(memMax,"byte"),"data-test-subj":"memory"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.clusterStatus.totalShardsLabel",defaultMessage:"Total Shards"}),value:totalShards,"data-test-subj":"totalShards"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.clusterStatus.unassignedShardsLabel",defaultMessage:"Unassigned Shards"}),value:unassignedShards,"data-test-subj":"unassignedShards"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.clusterStatus.documentsLabel",defaultMessage:"Documents"}),value:(0,_format_number.formatMetric)(documentCount,"int_commas"),"data-test-subj":"documentCount"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.clusterStatus.dataLabel",defaultMessage:"Data"}),value:(0,_format_number.formatMetric)(dataSize,"byte"),"data-test-subj":"dataSize"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react2.default.createElement(_status_icon.ElasticsearchStatusIcon,{status:status})};return _react2.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,status:status,IconComponent:IconComponent,"data-test-subj":"elasticsearchClusterStatus"})}var ClusterStatus=exports.ClusterStatus=(0,_react3.injectI18n)(ClusterStatusUI)},396:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _looking_for=__webpack_require__(1986);Object.defineProperty(exports,"LookingFor",{enumerable:true,get:function get(){return _looking_for.LookingFor}});var _what_is=__webpack_require__(1987);Object.defineProperty(exports,"WhatIs",{enumerable:true,get:function get(){return _what_is.WhatIs}});var _changes_needed=__webpack_require__(1988);Object.defineProperty(exports,"ChangesNeeded",{enumerable:true,get:function get(){return _changes_needed.ChangesNeeded}})},397:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _format_timestamp_to_duration=__webpack_require__(466);Object.defineProperty(exports,"formatTimestampToDuration",{enumerable:true,get:function get(){return _format_timestamp_to_duration.formatTimestampToDuration}})},398:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HealthStatusIndicator=HealthStatusIndicator;exports.ClusterItemContainer=ClusterItemContainer;exports.BytesUsage=BytesUsage;exports.BytesPercentageUsage=BytesPercentageUsage;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _format_number=__webpack_require__(29);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HealthStatusIndicator(props){var statusColorMap={green:"success",yellow:"warning",red:"danger"};var statusColor=statusColorMap[props.status];return _react2.default.createElement(_eui.EuiHealth,{color:statusColor,"data-test-subj":"statusIcon"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.cluster.overview.healthStatusDescription",defaultMessage:"Health is {status}",values:{status:props.status}}))}var PanelExtras=function PanelExtras(_ref){var extras=_ref.extras;if(extras===undefined){return null}return _react2.default.createElement(_eui.EuiFlexItem,{grow:false},extras)};function ClusterItemContainer(props){var iconMap={elasticsearch:"logoElasticsearch",kibana:"logoKibana",logstash:"logoLogstash",beats:"logoBeats",apm:"apmApp"};var icon=iconMap[props.url];return _react2.default.createElement("div",{"data-test-subj":"clusterItemContainer"+props.title},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiIcon,{type:icon,size:"l"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,props.title))))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},props.statusIndicator),_react2.default.createElement(PanelExtras,{extras:props.extras})),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),props.children,_react2.default.createElement(_eui.EuiSpacer,{size:"xxl"}))}function BytesUsage(_ref2){var usedBytes=_ref2.usedBytes,maxBytes=_ref2.maxBytes;if(usedBytes&&maxBytes){return _react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiText,null,(0,_format_number.formatPercentageUsage)(usedBytes,maxBytes)),_react2.default.createElement(_eui.EuiText,{color:"subdued",size:"s"},(0,_format_number.formatBytesUsage)(usedBytes,maxBytes)))}return null}function BytesPercentageUsage(_ref3){var usedBytes=_ref3.usedBytes,maxBytes=_ref3.maxBytes;if(usedBytes&&maxBytes){return _react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiText,null,(0,_format_number.formatPercentageUsage)(usedBytes,maxBytes)),_react2.default.createElement(_eui.EuiText,{color:"subdued",size:"s"},(0,_format_number.formatBytesUsage)(usedBytes,maxBytes)))}return null}},42:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatMonitoringError=formatMonitoringError;exports.ajaxErrorHandlersProvider=ajaxErrorHandlersProvider;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _notify=__webpack_require__(10);var _lib=__webpack_require__(827);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatMonitoringError(err){if(err.status&&err.status!==-1&&err.data){return _react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,err.data.message),_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.ajaxErrorHandler.httpErrorMessage",defaultMessage:"HTTP {errStatus}",values:{errStatus:err.status}})))}return(0,_lib.formatMsg)(err)}function ajaxErrorHandlersProvider($injector){var kbnUrl=$injector.get("kbnUrl");var $window=$injector.get("$window");return function(err){if(err.status===403){kbnUrl.redirect("access-denied")}else if(err.status===404&&!(0,_lodash.contains)($window.location.hash,"no-data")){_notify.toastNotifications.addDanger({title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.ajaxErrorHandler.requestFailedNotificationTitle",defaultMessage:"Monitoring Request Failed"}),text:_react2.default.createElement("div",null,formatMonitoringError(err),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiButton,{size:"s",color:"danger",onClick:function onClick(){return $window.location.reload()}},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.ajaxErrorHandler.requestFailedNotification.retryButtonLabel",defaultMessage:"Retry"})))})}else{_notify.toastNotifications.addDanger({title:_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.ajaxErrorHandler.requestErrorNotificationTitle",defaultMessage:"Monitoring Request Error"}),text:formatMonitoringError(err)})}return Promise.reject(err)}}},465:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KibanaStatusIcon=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _status_icon=__webpack_require__(335);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function KibanaStatusIconUI(_ref){var status=_ref.status,_ref$availability=_ref.availability,availability=_ref$availability===undefined?true:_ref$availability,intl=_ref.intl;var type=function(){if(!availability){return _status_icon.StatusIcon.TYPES.GRAY}var statusKey=status.toUpperCase();return _status_icon.StatusIcon.TYPES[statusKey]||_status_icon.StatusIcon.TYPES.YELLOW}();return _react2.default.createElement(_status_icon.StatusIcon,{type:type,label:intl.formatMessage({id:"xpack.monitoring.kibana.statusIconLabel",defaultMessage:"Health: {status}"},{status:status})})}var KibanaStatusIcon=exports.KibanaStatusIcon=(0,_react3.injectI18n)(KibanaStatusIconUI)},466:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatTimestampToDuration=formatTimestampToDuration;var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);__webpack_require__(487);var _constants=__webpack_require__(59);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatTimestampToDuration(timestamp,calculationFlag,initialTime){initialTime=initialTime||(0,_moment2.default)();var timeDuration=void 0;if(calculationFlag===_constants.CALCULATE_DURATION_SINCE){timeDuration=_moment2.default.duration(initialTime-(0,_moment2.default)(timestamp))}else if(calculationFlag===_constants.CALCULATE_DURATION_UNTIL){timeDuration=_moment2.default.duration((0,_moment2.default)(timestamp)-initialTime)}else{throw new Error('[formatTimestampToDuration] requires a [calculationFlag] parameter to specify format as "since" or "until" the given time.')}var duration=void 0;if(Math.abs(initialTime.diff(timestamp,"months"))>=1){duration=_moment2.default.duration(timeDuration).format(_constants.FORMAT_DURATION_TEMPLATE_LONG)}else if(Math.abs(initialTime.diff(timestamp,"minutes"))>=1){duration=_moment2.default.duration(timeDuration).format(_constants.FORMAT_DURATION_TEMPLATE_SHORT)}else{duration=_moment2.default.duration(timeDuration).format(_constants.FORMAT_DURATION_TEMPLATE_TINY)}return duration.replace(/ 0 min$/,"").replace(/ 0 hrs$/,"").replace(/ 0 days$/,"")}},59:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CLUSTER_ALERTS_ADDRESS_CONFIG_KEY=exports.DEBOUNCE_FAST_MS=exports.DEBOUNCE_SLOW_MS=exports.TABLE_ACTION_RESET_PAGING=exports.TABLE_ACTION_UPDATE_FILTER=exports.DEFAULT_NO_DATA_MESSAGE_WITH_FILTER=exports.DEFAULT_NO_DATA_MESSAGE=exports.LOGSTASH=exports.CLOUD_METADATA_SERVICES=exports.ML_SUPPORTED_LICENSES=exports.CALCULATE_DURATION_UNTIL=exports.CALCULATE_DURATION_SINCE=exports.FORMAT_DURATION_TEMPLATE_TINY=exports.FORMAT_DURATION_TEMPLATE_SHORT=exports.FORMAT_DURATION_TEMPLATE_LONG=exports.CLUSTER_ALERTS_SEARCH_SIZE=exports.CHART_TEXT_COLOR=exports.CHART_LINE_COLOR=exports.SORT_DESCENDING=exports.SORT_ASCENDING=exports.EUI_SORT_DESCENDING=exports.EUI_SORT_ASCENDING=exports.NORMALIZED_DERIVATIVE_UNIT=exports.STORAGE_KEY=exports.KIBANA_USAGE_TYPE=exports.KIBANA_SETTINGS_TYPE=exports.KIBANA_STATS_TYPE_MONITORING=exports.MONITORING_SYSTEM_API_VERSION=exports.KIBANA_MONITORING_LOGGING_TAG=exports.LOGGING_TAG=undefined;var _i18n=__webpack_require__(9);var LOGGING_TAG=exports.LOGGING_TAG="monitoring-ui";var KIBANA_MONITORING_LOGGING_TAG=exports.KIBANA_MONITORING_LOGGING_TAG="kibana-monitoring";var MONITORING_SYSTEM_API_VERSION=exports.MONITORING_SYSTEM_API_VERSION="6";var KIBANA_STATS_TYPE_MONITORING=exports.KIBANA_STATS_TYPE_MONITORING="kibana_stats";var KIBANA_SETTINGS_TYPE=exports.KIBANA_SETTINGS_TYPE="kibana_settings";var KIBANA_USAGE_TYPE=exports.KIBANA_USAGE_TYPE="kibana";var STORAGE_KEY=exports.STORAGE_KEY="xpack.monitoring.data";var NORMALIZED_DERIVATIVE_UNIT=exports.NORMALIZED_DERIVATIVE_UNIT="1s";var EUI_SORT_ASCENDING=exports.EUI_SORT_ASCENDING="asc";var EUI_SORT_DESCENDING=exports.EUI_SORT_DESCENDING="desc";var SORT_ASCENDING=exports.SORT_ASCENDING=1;var SORT_DESCENDING=exports.SORT_DESCENDING=-1;var CHART_LINE_COLOR=exports.CHART_LINE_COLOR="#d2d2d2";var CHART_TEXT_COLOR=exports.CHART_TEXT_COLOR="#9c9c9c";var CLUSTER_ALERTS_SEARCH_SIZE=exports.CLUSTER_ALERTS_SEARCH_SIZE=3;var FORMAT_DURATION_TEMPLATE_LONG=exports.FORMAT_DURATION_TEMPLATE_LONG="M [months] d [days]";var FORMAT_DURATION_TEMPLATE_SHORT=exports.FORMAT_DURATION_TEMPLATE_SHORT=" d [days] h [hrs] m [min]";var FORMAT_DURATION_TEMPLATE_TINY=exports.FORMAT_DURATION_TEMPLATE_TINY=" s [seconds]";var CALCULATE_DURATION_SINCE=exports.CALCULATE_DURATION_SINCE="since";var CALCULATE_DURATION_UNTIL=exports.CALCULATE_DURATION_UNTIL="until";var ML_SUPPORTED_LICENSES=exports.ML_SUPPORTED_LICENSES=["trial","platinum"];var CLOUD_METADATA_SERVICES=exports.CLOUD_METADATA_SERVICES={AWS_URL:"http://169.254.169.254/2016-09-02/dynamic/instance-identity/document",AZURE_URL:"http://169.254.169.254/metadata/instance?api-version=2017-04-02",GCP_URL_PREFIX:"http://169.254.169.254/computeMetadata/v1/instance"};var LOGSTASH=exports.LOGSTASH={MAJOR_VER_REQD_FOR_PIPELINES:6,QUEUE_TYPES:{MEMORY:"memory",PERSISTED:"persisted"}};var DEFAULT_NO_DATA_MESSAGE=exports.DEFAULT_NO_DATA_MESSAGE=_i18n.i18n.translate("xpack.monitoring.defaultNoDataMessage",{defaultMessage:"There are no records that match your query. Try changing the time range selection."});var DEFAULT_NO_DATA_MESSAGE_WITH_FILTER=exports.DEFAULT_NO_DATA_MESSAGE_WITH_FILTER=_i18n.i18n.translate("xpack.monitoring.defaultNoDataWithFilterMessage",{defaultMessage:"There are no records that match your query with the filter [{filter}]. Try changing the filter or the time range selection.",values:{filter:"{{FILTER}}"}});var TABLE_ACTION_UPDATE_FILTER=exports.TABLE_ACTION_UPDATE_FILTER="UPDATE_FILTER";var TABLE_ACTION_RESET_PAGING=exports.TABLE_ACTION_RESET_PAGING="RESET_PAGING";var DEBOUNCE_SLOW_MS=exports.DEBOUNCE_SLOW_MS=17;var DEBOUNCE_FAST_MS=exports.DEBOUNCE_FAST_MS=10;var CLUSTER_ALERTS_ADDRESS_CONFIG_KEY=exports.CLUSTER_ALERTS_ADDRESS_CONFIG_KEY="cluster_alerts.email_notifications.email_address"},613:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Sparkline=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _sparkline_flot_chart=__webpack_require__(1942);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Sparkline=exports.Sparkline=function(_React$Component){_inherits(Sparkline,_React$Component);function Sparkline(props){_classCallCheck(this,Sparkline);var _this=_possibleConstructorReturn(this,(Sparkline.__proto__||Object.getPrototypeOf(Sparkline)).call(this,props));_this.makeSparklineFlotChart=_this.makeSparklineFlotChart.bind(_this);_this.onHover=_this.onHover.bind(_this);_this.renderTooltip=_this.renderTooltip.bind(_this);_this.handleSparklineRef=_this.handleSparklineRef.bind(_this);_this.state={tooltip:undefined};return _this}_createClass(Sparkline,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(_ref){var series=_ref.series,options=_ref.options;if(!(0,_lodash.isEqual)(options,this.props.options)){this.sparklineFlotChart.shutdown();this.makeSparklineFlotChart(options)}if(!(0,_lodash.isEqual)(series,this.props.series)){this.sparklineFlotChart.update(series)}}},{key:"makeSparklineFlotChart",value:function makeSparklineFlotChart(overrideFlotOptions){this.sparklineFlotChart=new _sparkline_flot_chart.SparklineFlotChart(this.chartElem,this.props.series,this.props.onBrush,this.onHover,overrideFlotOptions)}},{key:"onHover",value:function onHover(dataPoint){this.setState({tooltip:dataPoint})}},{key:"renderTooltip",value:function renderTooltip(){if(this.props.tooltip.enabled===false){return}if(!this.state.tooltip){return}var tooltipHeightInPx=36;var tooltipWidthInPx=220;var caretWidthInPx=6;var marginBetweenPointAndCaretInPx=10;var styles={tooltipContainer:{top:this.state.tooltip.yPosition-tooltipHeightInPx/2},tooltip:{height:tooltipHeightInPx,width:tooltipWidthInPx},leftCaret:{width:caretWidthInPx},rightCaret:{width:caretWidthInPx}};var plotMiddleX=this.state.tooltip.plotLeft+this.state.tooltip.plotWidth/2;var tooltipContainerWidthInPx=tooltipWidthInPx+caretWidthInPx;if(this.state.tooltip.xPosition>plotMiddleX){styles.rightCaret.display="block";styles.tooltipContainer.left=this.state.tooltip.xPosition-tooltipContainerWidthInPx-marginBetweenPointAndCaretInPx}else{styles.leftCaret.display="block";styles.tooltipContainer.left=this.state.tooltip.xPosition+marginBetweenPointAndCaretInPx}return _react2.default.createElement("div",{className:"monSparklineTooltip__container",style:styles.tooltipContainer},_react2.default.createElement("i",{className:"fa fa-caret-left monSparklineTooltip__caret",style:styles.leftCaret}),_react2.default.createElement("div",{className:"monSparklineTooltip",style:styles.tooltip},_react2.default.createElement("div",{className:"monSparklineTooltip__yValue"},this.props.tooltip.yValueFormatter(this.state.tooltip.yValue)),_react2.default.createElement("div",{className:"monSparklineTooltip__xValue"},this.props.tooltip.xValueFormatter(this.state.tooltip.xValue))),_react2.default.createElement("i",{className:"fa fa-caret-right monSparklineTooltip__caret",style:styles.rightCaret}))}},{key:"handleSparklineRef",value:function handleSparklineRef(elem){this.chartElem=elem;if(this.chartElem){this.makeSparklineFlotChart(this.props.options)}else if(this.sparklineFlotChart){this.sparklineFlotChart.shutdown()}}},{key:"render",value:function render(){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"monSparkline",ref:this.handleSparklineRef}),this.renderTooltip())}}]);return Sparkline}(_react2.default.Component);Sparkline.propTypes={series:_propTypes2.default.arrayOf(_propTypes2.default.arrayOf(_propTypes2.default.number)).isRequired,tooltip:_propTypes2.default.shape({enabled:_propTypes2.default.bool,xValueFormatter:_propTypes2.default.func,yValueFormatter:_propTypes2.default.func}),options:_propTypes2.default.shape({xaxis:_propTypes2.default.shape({min:_propTypes2.default.number,max:_propTypes2.default.number})})}},614:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.mapSeverity=mapSeverity;var _lodash=__webpack_require__(1);var _i18n=__webpack_require__(9);function mapSeverity(severity){var floor=Math.floor(severity/1e3);var mapped=void 0;switch(floor){case 0:mapped={value:_i18n.i18n.translate("xpack.monitoring.alerts.lowSeverityName",{defaultMessage:"low"}),color:"warning",iconType:"dot"};break;case 1:mapped={value:_i18n.i18n.translate("xpack.monitoring.alerts.mediumSeverityName",{defaultMessage:"medium"}),color:"warning",iconType:"dot"};break;default:mapped={value:_i18n.i18n.translate("xpack.monitoring.alerts.highSeverityName",{defaultMessage:"high"}),color:"danger",iconType:"dot"};break}return _extends({title:_i18n.i18n.translate("xpack.monitoring.alerts.severityTitle",{defaultMessage:"{severity} severity alert",values:{severity:(0,_lodash.capitalize)(mapped.value)}})},mapped)}},615:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchStatusIcon=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _status_icon=__webpack_require__(335);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ElasticsearchStatusIconUI(_ref){var intl=_ref.intl,status=_ref.status;var type=function(){var statusKey=status.toUpperCase();return _status_icon.StatusIcon.TYPES[statusKey]||_status_icon.StatusIcon.TYPES.GRAY}();return _react2.default.createElement(_status_icon.StatusIcon,{type:type,label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.healthStatusLabel",defaultMessage:"Health: {status}"},{status:status})})}var ElasticsearchStatusIcon=exports.ElasticsearchStatusIcon=(0,_react3.injectI18n)(ElasticsearchStatusIconUI)},616:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexDetailStatus=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _summary_status=__webpack_require__(208);var _status_icon=__webpack_require__(615);var _format_number=__webpack_require__(29);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function IndexDetailStatusUI(_ref){var stats=_ref.stats,intl=_ref.intl;var dataSize=stats.dataSize,documentCount=stats.documents,totalShards=stats.totalShards,unassignedShards=stats.unassignedShards,status=stats.status;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.indexDetailStatus.totalTitle",defaultMessage:"Total"}),value:(0,_format_number.formatMetric)(dataSize.total,"0.0 b"),"data-test-subj":"dataSize"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.indexDetailStatus.primariesTitle",defaultMessage:"Primaries"}),value:(0,_format_number.formatMetric)(dataSize.primaries,"0.0 b"),"data-test-subj":"dataSizePrimaries"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.indexDetailStatus.documentsTitle",defaultMessage:"Documents"}),value:(0,_format_number.formatMetric)(documentCount,"0.[0]a"),"data-test-subj":"documentCount"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.indexDetailStatus.totalShardsTitle",defaultMessage:"Total Shards"}),value:(0,_format_number.formatMetric)(totalShards,"int_commas"),"data-test-subj":"totalShards"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.indexDetailStatus.unassignedShardsTitle",defaultMessage:"Unassigned Shards"}),value:(0,_format_number.formatMetric)(unassignedShards,"int_commas"),"data-test-subj":"unassignedShards"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.indexDetailStatus.iconStatusLabel",defaultMessage:"Health: {elasticsearchStatusIcon}",values:{elasticsearchStatusIcon:_react2.default.createElement(_status_icon.ElasticsearchStatusIcon,{status:status})}}))};return _react2.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,status:status,IconComponent:IconComponent,"data-test-subj":"elasticsearchIndexDetailStatus"})}var IndexDetailStatus=exports.IndexDetailStatus=(0,_react3.injectI18n)(IndexDetailStatusUI)},617:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeDetailStatus=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _summary_status=__webpack_require__(208);var _node=__webpack_require__(963);var _format_number=__webpack_require__(29);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NodeDetailStatusUI(_ref){var stats=_ref.stats,intl=_ref.intl;var transportAddress=stats.transport_address,usedHeap=stats.usedHeap,freeSpace=stats.freeSpace,documents=stats.documents,dataSize=stats.dataSize,indexCount=stats.indexCount,totalShards=stats.totalShards,nodeTypeLabel=stats.nodeTypeLabel,status=stats.status,isOnline=stats.isOnline;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.transportAddress",defaultMessage:"Transport Address"}),value:transportAddress,"data-test-subj":"transportAddress"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.jvmHeapLabel",defaultMessage:"{javaVirtualMachine} Heap"},{javaVirtualMachine:"JVM"}),value:(0,_format_number.formatMetric)(usedHeap,"0,0.[00]","%",{prependSpace:false}),"data-test-subj":"jvmHeap"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.freeDiskSpaceLabel",defaultMessage:"Free Disk Space"}),value:(0,_format_number.formatMetric)(freeSpace,"0.0 b"),"data-test-subj":"freeDiskSpace"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.documentsLabel",defaultMessage:"Documents"}),value:(0,_format_number.formatMetric)(documents,"0.[0]a"),"data-test-subj":"documentCount"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.dataLabel",defaultMessage:"Data"}),value:(0,_format_number.formatMetric)(dataSize,"0.0 b"),"data-test-subj":"dataSize"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.indicesLabel",defaultMessage:"Indices"}),value:(0,_format_number.formatMetric)(indexCount,"int_commas"),"data-test-subj":"indicesCount"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.shardsLabel",defaultMessage:"Shards"}),value:(0,_format_number.formatMetric)(totalShards,"int_commas"),"data-test-subj":"shardsCount"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.typeLabel",defaultMessage:"Type"}),value:nodeTypeLabel,"data-test-subj":"nodeType"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status,isOnline=_ref2.isOnline;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_node.NodeStatusIcon,{status:status,isOnline:isOnline}))};return _react2.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,status:status,isOnline:isOnline,IconComponent:IconComponent,"data-test-subj":"elasticsearchNodeDetailStatus"})}var NodeDetailStatus=exports.NodeDetailStatus=(0,_react3.injectI18n)(NodeDetailStatusUI)},618:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterStatus=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _summary_status=__webpack_require__(208);var _status_icon=__webpack_require__(465);var _format_number=__webpack_require__(29);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ClusterStatusUI(_ref){var stats=_ref.stats,intl=_ref.intl;var connections=stats.concurrent_connections,instances=stats.count,memLimit=stats.memory_limit,memSize=stats.memory_size,requests=stats.requests_total,maxResponseTime=stats.response_time_max,status=stats.status;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.kibana.clusterStatus.instancesLabel",defaultMessage:"Instances"}),value:instances,"data-test-subj":"instances"},{label:intl.formatMessage({id:"xpack.monitoring.kibana.clusterStatus.memoryLabel",defaultMessage:"Memory"}),value:(0,_format_number.formatMetric)(memSize,"byte")+" / "+(0,_format_number.formatMetric)(memLimit,"byte"),"data-test-subj":"memory"},{label:intl.formatMessage({id:"xpack.monitoring.kibana.clusterStatus.requestsLabel",defaultMessage:"Requests"}),value:requests,"data-test-subj":"requests"},{label:intl.formatMessage({id:"xpack.monitoring.kibana.clusterStatus.connectionsLabel",defaultMessage:"Connections"}),value:connections,"data-test-subj":"connections"},{label:intl.formatMessage({id:"xpack.monitoring.kibana.clusterStatus.maxResponseTimeLabel",defaultMessage:"Max. Response Time"}),value:(0,_format_number.formatMetric)(maxResponseTime,"0","ms"),"data-test-subj":"maxResponseTime"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react2.default.createElement(_status_icon.KibanaStatusIcon,{status:status})};return _react2.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,status:status,IconComponent:IconComponent,"data-test-subj":"kibanaClusterStatus"})}var ClusterStatus=exports.ClusterStatus=(0,_react3.injectI18n)(ClusterStatusUI)},619:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterStatus=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _summary_status=__webpack_require__(208);var _format_number=__webpack_require__(29);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ClusterStatusUi(_ref){var stats=_ref.stats,intl=_ref.intl;var nodeCount=stats.node_count,avgMemoryUsed=stats.avg_memory_used,avgMemory=stats.avg_memory,eventsInTotal=stats.events_in_total,eventsOutTotal=stats.events_out_total;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.logstash.clusterStatus.nodesLabel",defaultMessage:"Nodes"}),value:nodeCount,"data-test-subj":"node_count"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.clusterStatus.memoryLabel",defaultMessage:"Memory"}),value:(0,_format_number.formatMetric)(avgMemoryUsed,"byte")+" / "+(0,_format_number.formatMetric)(avgMemory,"byte"),"data-test-subj":"memory_used"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.clusterStatus.eventsReceivedLabel",defaultMessage:"Events Received"}),value:(0,_format_number.formatMetric)(eventsInTotal,"0.[0]a"),"data-test-subj":"events_in_total"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.clusterStatus.eventsEmittedLabel",defaultMessage:"Events Emitted"}),value:(0,_format_number.formatMetric)(eventsOutTotal,"0.[0]a"),"data-test-subj":"events_out_total"}];return _react2.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,"data-test-subj":"logstashClusterStatus"})}var ClusterStatus=exports.ClusterStatus=(0,_react3.injectI18n)(ClusterStatusUi)},621:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Vertex=exports.Vertex=function(){function Vertex(graph,json){_classCallCheck(this,Vertex);this.graph=graph;this.update(json)}_createClass(Vertex,[{key:"update",value:function update(json){this.json=json}},{key:"descendants",value:function descendants(){var vertices=[];var edges=[];var pending=[this];var seen={};while(pending.length>0){var vertex=pending.pop();vertex.outgoingEdges.forEach(function(edge){edges.push(edge);var to=edge.to;if(seen[to.id]!==true){vertices.push(to);seen[to.id]=true;pending.push(to)}})}return{vertices:vertices,edges:edges}}},{key:"name",get:function get(){return this.json.config_name}},{key:"id",get:function get(){return this.json.id}},{key:"subtitle",get:function get(){return this.id}},{key:"incomingEdges",get:function get(){return this.graph.edgesByTo[this.json.id]||[]}},{key:"incomingVertices",get:function get(){return this.incomingEdges.map(function(e){return e.from})}},{key:"outgoingEdges",get:function get(){return this.graph.edgesByFrom[this.json.id]||[]}},{key:"outgoingVertices",get:function get(){return this.outgoingEdges.map(function(e){return e.to})}},{key:"meta",get:function get(){return this.json.meta}},{key:"stats",get:function get(){return this.json.stats||{}}},{key:"hasExplicitId",get:function get(){return Boolean(this.json.explicit_id)}}]);return Vertex}()},622:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.QueueVertex=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _vertex=__webpack_require__(621);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var QueueVertex=exports.QueueVertex=function(_Vertex){_inherits(QueueVertex,_Vertex);function QueueVertex(){_classCallCheck(this,QueueVertex);return _possibleConstructorReturn(this,(QueueVertex.__proto__||Object.getPrototypeOf(QueueVertex)).apply(this,arguments))}_createClass(QueueVertex,[{key:"typeString",get:function get(){return"queue"}},{key:"title",get:function get(){return"queue"}},{key:"iconType",get:function get(){return"logstashQueue"}},{key:"next",get:function get(){return this.outgoingVertices}}]);return QueueVertex}(_vertex.Vertex)},623:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Statement=exports.Statement=function Statement(vertex){_classCallCheck(this,Statement);var id=vertex.id,hasExplicitId=vertex.hasExplicitId,stats=vertex.stats,meta=vertex.meta;this.id=id;this.hasExplicitId=hasExplicitId;this.stats=stats;this.meta=meta;this.vertex=vertex}},624:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Element=exports.Element=function Element(id,statement,depth,parentId){_classCallCheck(this,Element);this.id=id;this.statement=statement;this.depth=depth;this.parentId=parentId}},69:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _base_controller=__webpack_require__(177);Object.defineProperty(exports,"MonitoringViewBaseController",{enumerable:true,get:function get(){return _base_controller.MonitoringViewBaseController}});var _base_table_controller=__webpack_require__(2024);Object.defineProperty(exports,"MonitoringViewBaseTableController",{enumerable:true,get:function get(){return _base_table_controller.MonitoringViewBaseTableController}});var _base_eui_table_controller=__webpack_require__(968);Object.defineProperty(exports,"MonitoringViewBaseEuiTableController",{enumerable:true,get:function get(){return _base_eui_table_controller.MonitoringViewBaseEuiTableController}})},7:function(module,exports){module.exports=vendors},951:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractIp=extractIp;function extractIp(transport){if(typeof transport!=="string"){return null}var matches=transport.match(/inet\[[^\/]*\/([^\/\]]+)\]/);if(matches){return matches[1]}return transport}},952:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringTimeseriesContainer=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _get_title=__webpack_require__(953);var _get_units=__webpack_require__(954);var _monitoring_timeseries=__webpack_require__(955);var _info_tooltip=__webpack_require__(960);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MonitoringTimeseriesContainerUI(_ref){var series=_ref.series,onBrush=_ref.onBrush,intl=_ref.intl;if(series===undefined){return null}var title=(0,_get_title.getTitle)(series);var titleForAriaIds=title.replace(/\s+/,"--");var units=(0,_get_units.getUnits)(series);var bucketSize=(0,_lodash.get)((0,_lodash.first)(series),"bucket_size");var seriesScreenReaderTextList=[intl.formatMessage({id:"xpack.monitoring.chart.seriesScreenReaderListDescription",defaultMessage:"Interval: {bucketSize}"},{bucketSize:bucketSize})].concat(series.map(function(item){return item.metric.label+": "+item.metric.description}));return _react2.default.createElement(_eui.EuiFlexGroup,{direction:"column",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center",style:{flexGrow:0}},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,{tabIndex:"0"},_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiScreenReaderOnly,null,_react2.default.createElement("span",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.chart.screenReaderUnaccessibleTitle",defaultMessage:"This chart is not screen reader accessible"}))),_react2.default.createElement("h2",null,(0,_get_title.getTitle)(series),units?" ("+units+")":"")))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiIconTip,{anchorClassName:"eui-textRight eui-alignMiddle monChart__tooltipTrigger",type:"iInCircle",position:"right",content:_react2.default.createElement(_info_tooltip.InfoTooltip,{series:series,bucketSize:bucketSize})}),_react2.default.createElement(_eui.EuiScreenReaderOnly,null,_react2.default.createElement("span",{id:"monitoringChart"+titleForAriaIds},seriesScreenReaderTextList.join(". "))))))),_react2.default.createElement(_eui.EuiFlexItem,{style:{minHeight:"200px"}},_react2.default.createElement(_monitoring_timeseries.MonitoringTimeseries,{series:series,onBrush:onBrush})))}var MonitoringTimeseriesContainer=exports.MonitoringTimeseriesContainer=(0,_react3.injectI18n)(MonitoringTimeseriesContainerUI)},953:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTitle=getTitle;var _lodash=__webpack_require__(1);function getTitle(){var series=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return(0,_lodash.chain)(series.map(function(s){return s.metric.title||s.metric.label})).first().value()}},954:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getUnits=getUnits;var _lodash=__webpack_require__(1);var _numeral=__webpack_require__(212);var _numeral2=_interopRequireDefault(_numeral);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getUnits(series){var units=(0,_lodash.get)(series,"[0].metric.units");if(units==="B"){var maxLastBytes=0;(0,_lodash.forEach)(series,function(s){var lastDataPoint=(0,_lodash.last)(s.data)||[null,0];maxLastBytes=Math.max(maxLastBytes,lastDataPoint[1])});units=(0,_numeral2.default)(maxLastBytes).byteUnits()}return units}},955:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringTimeseries=MonitoringTimeseries;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _numeral=__webpack_require__(212);var _numeral2=_interopRequireDefault(_numeral);var _get_color=__webpack_require__(1932);var _timeseries_visualization=__webpack_require__(1933);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatTicksFor(series){var format=(0,_lodash.get)(series,".metric.format","0,0.0");var units=(0,_lodash.get)(series,".metric.units","");return function formatTicks(val){var formatted=(0,_numeral2.default)(val).format(format);if(units!=="B"&&units!==""){formatted+=" "+units}return formatted}}function MonitoringTimeseries(_ref){var series=_ref.series,onBrush=_ref.onBrush;var dataset=series.map(function(s,index){return{color:(0,_get_color.getColor)(s.metric.app,index),data:s.data,label:s.metric.label}});var firstSeries=(0,_lodash.first)(series);var timeRange=(0,_lodash.get)(firstSeries,"timeRange");var formatTicks=formatTicksFor(firstSeries);return _react2.default.createElement(_timeseries_visualization.TimeseriesVisualization,{series:dataset,timeRange:timeRange,tickFormatter:formatTicks,onBrush:onBrush})}},960:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InfoTooltip=InfoTooltip;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function InfoTooltip(_ref){var series=_ref.series,bucketSize=_ref.bucketSize;var tableRows=series.map(function(item,index){return _react2.default.createElement("tr",{key:"chart-tooltip-"+index,"data-debug-metric-agg":item.metric.metricAgg,"data-debug-metric-field":item.metric.field,"data-debug-metric-is-derivative":item.metric.isDerivative,"data-debug-metric-has-calculation":item.metric.hasCalculation},_react2.default.createElement("td",{className:"monChart__tooltipLabel"},item.metric.label),_react2.default.createElement("td",{className:"monChart__tooltipValue"},item.metric.description))});return _react2.default.createElement("table",null,_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"monChart__tooltipLabel"},_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.chart.infoTooltip.intervalLabel",defaultMessage:"Interval"})),_react2.default.createElement("td",{className:"monChart__tooltipValue"},bucketSize)),tableRows))}},963:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _status_icon=__webpack_require__(1955);Object.defineProperty(exports,"NodeStatusIcon",{enumerable:true,get:function get(){return _status_icon.NodeStatusIcon}})},964:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailStatus=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _summary_status=__webpack_require__(208);var _status_icon=__webpack_require__(465);var _format_number=__webpack_require__(29);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DetailStatusUI(_ref){var stats=_ref.stats,intl=_ref.intl;var transportAddress=stats.transport_address,osFreeMemory=stats.os_memory_free,version=stats.version,uptime=stats.uptime,status=stats.status;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.kibana.detailStatus.transportAddressLabel",defaultMessage:"Transport Address"}),value:transportAddress,"data-test-subj":"transportAddress"},{label:intl.formatMessage({id:"xpack.monitoring.kibana.detailStatus.osFreeMemoryLabel",defaultMessage:"OS Free Memory"}),value:(0,_format_number.formatMetric)(osFreeMemory,"byte"),"data-test-subj":"osFreeMemory"},{label:intl.formatMessage({id:"xpack.monitoring.kibana.detailStatus.versionLabel",defaultMessage:"Version"}),value:version,"data-test-subj":"version"},{label:intl.formatMessage({id:"xpack.monitoring.kibana.detailStatus.uptimeLabel",defaultMessage:"Uptime"}),value:(0,_format_number.formatMetric)(uptime,"time_since"),"data-test-subj":"uptime"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react2.default.createElement(_status_icon.KibanaStatusIcon,{status:status})};return _react2.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,status:status,IconComponent:IconComponent,"data-test-subj":"kibanaDetailStatus"})}var DetailStatus=exports.DetailStatus=(0,_react3.injectI18n)(DetailStatusUI)},965:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _stats=__webpack_require__(1967);Object.defineProperty(exports,"Stats",{enumerable:true,get:function get(){return _stats.Stats}})},966:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var SettingsChecker=exports.SettingsChecker=function(){function SettingsChecker($http){_classCallCheck(this,SettingsChecker);this.$http=$http;this.message=null;this.api=null;this.next=null}_createClass(SettingsChecker,[{key:"setApi",value:function setApi(api){this.api=api}},{key:"setMessage",value:function setMessage(message){this.message=message}},{key:"getApi",value:function getApi(){return this.api}},{key:"getMessage",value:function getMessage(){return this.message}},{key:"hasNext",value:function hasNext(){return this.next!==null}},{key:"setNext",value:function setNext(checker){this.next=checker}},{key:"getNext",value:function getNext(){return this.next}},{key:"executeCheck",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _ref2,data,found,reason,_data;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return this.$http.get(this.getApi());case 3:_ref2=_context.sent;data=_ref2.data;found=data.found,reason=data.reason;return _context.abrupt("return",{found:found,reason:reason});case 9:_context.prev=9;_context.t0=_context["catch"](0);_data=_context.t0.data;return _context.abrupt("return",{error:true,found:false,errorReason:_data});case 13:case"end":return _context.stop()}}},_callee,this,[[0,9]])}));function executeCheck(){return _ref.apply(this,arguments)}return executeCheck}()}]);return SettingsChecker}()},967:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FormattedAlert=FormattedAlert;var _momentTimezone=__webpack_require__(191);var _momentTimezone2=_interopRequireDefault(_momentTimezone);__webpack_require__(487);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _format_timestamp_to_duration=__webpack_require__(466);var _constants=__webpack_require__(59);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FormattedAlert(_ref){var prefix=_ref.prefix,suffix=_ref.suffix,message=_ref.message,metadata=_ref.metadata,changeUrl=_ref.changeUrl;var formattedAlert=function(){if(metadata&&metadata.link){if(metadata.link.startsWith("https")){return _react2.default.createElement(_eui.EuiLink,{href:metadata.link,target:"_blank","data-test-subj":"alertAction"},message)}var goToLink=function goToLink(){return changeUrl("/"+metadata.link)};return _react2.default.createElement(_eui.EuiLink,{onClick:goToLink,"data-test-subj":"alertAction"},message)}return message}();if(metadata&&metadata.time){prefix=prefix.replace(/{{#relativeTime}}metadata\.([\w\.]+){{\/relativeTime}}/,function(_match,field){return(0,_format_timestamp_to_duration.formatTimestampToDuration)(metadata[field],_constants.CALCULATE_DURATION_UNTIL)});prefix=prefix.replace(/{{#absoluteTime}}metadata\.([\w\.]+){{\/absoluteTime}}/,function(_match,field){return _momentTimezone2.default.tz(metadata[field],_momentTimezone2.default.tz.guess()).format("LLL z")})}var formattedPrefix=prefix?prefix+" ":null;var formattedSuffix=suffix?" "+suffix:null;return _react2.default.createElement("span",{"data-test-subj":"alertText"},formattedPrefix,formattedAlert,formattedSuffix)}},968:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringViewBaseEuiTableController=undefined;var _=__webpack_require__(69);var _table=__webpack_require__(186);var _constants=__webpack_require__(59);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MonitoringViewBaseEuiTableController=exports.MonitoringViewBaseEuiTableController=function(_MonitoringViewBaseCo){_inherits(MonitoringViewBaseEuiTableController,_MonitoringViewBaseCo);function MonitoringViewBaseEuiTableController(args){_classCallCheck(this,MonitoringViewBaseEuiTableController);var _this=_possibleConstructorReturn(this,(MonitoringViewBaseEuiTableController.__proto__||Object.getPrototypeOf(MonitoringViewBaseEuiTableController)).call(this,args));var storageKey=args.storageKey,$injector=args.$injector;var storage=$injector.get("localStorage");var getLocalStorageData=(0,_table.euiTableStorageGetter)(storageKey);var setLocalStorageData=(0,_table.euiTableStorageSetter)(storageKey);var _getLocalStorageData=getLocalStorageData(storage),page=_getLocalStorageData.page,sort=_getLocalStorageData.sort;_this.pagination=page||{initialPageSize:20,pageSizeOptions:[5,10,20,50]};_this.sorting=sort||{sort:{field:"name",direction:_constants.EUI_SORT_ASCENDING}};_this.onTableChange=function(_ref){var page=_ref.page,sort=_ref.sort;setLocalStorageData(storage,{page:page,sort:{sort:sort}})};return _this}return MonitoringViewBaseEuiTableController}(_.MonitoringViewBaseController)},969:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.labels=undefined;var _i18n=__webpack_require__(9);var labels=exports.labels={index:[{content:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.labels.nodesLabel",{defaultMessage:"Nodes"})}],indexWithUnassigned:[{content:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.labels.unassignedLabel",{defaultMessage:"Unassigned"})},{content:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.labels.unassignedNodesLabel",{defaultMessage:"Nodes"})}],node:[{content:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.labels.indicesLabel",{defaultMessage:"Indices"}),showToggleSystemIndicesComponent:true}]}},970:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.decorateShards=decorateShards;var _lodash=__webpack_require__(1);var _i18n=__webpack_require__(9);function decorateShards(shards,nodes){function getTooltipMessage(shard){var isRelocating=function isRelocating(node){return(0,_lodash.includes)(node.node_ids,shard.relocating_node)};var nodeName=(0,_lodash.get)((0,_lodash.find)(nodes,function(n){return isRelocating(n)}),"name");if(nodeName){if(shard.state==="INITIALIZING"){return _i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.decorateShards.relocatingFromTextMessage",{defaultMessage:"Relocating from {nodeName}",values:{nodeName:nodeName}})}if(shard.state==="RELOCATING"){return _i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.decorateShards.relocatingToTextMessage",{defaultMessage:"Relocating to {nodeName}",values:{nodeName:nodeName}})}}return(0,_lodash.capitalize)(shard.state.toLowerCase())}return shards.map(function(shard){var node=nodes[shard.node];shard.nodeName=node&&node.name||null;shard.type="shard";shard.tooltip_message=getTooltipMessage(shard);return shard})}},971:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShardAllocation=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(2);var _react3=__webpack_require__(3);var _i18n=__webpack_require__(9);var _cluster_view=__webpack_require__(2049);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ShardAllocation=exports.ShardAllocation=function ShardAllocation(_ref){var scope=_ref.scope,kbnUrl=_ref.kbnUrl,type=_ref.type,shardStats=_ref.shardStats;var types=[{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.primaryLabel",{defaultMessage:"Primary"}),color:"primary"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.replicaLabel",{defaultMessage:"Replica"}),color:"secondary"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.relocatingLabel",{defaultMessage:"Relocating"}),color:"accent"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.initializingLabel",{defaultMessage:"Initializing"}),color:"default"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.unassignedPrimaryLabel",{defaultMessage:"Unassigned Primary"}),color:"danger"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.unassignedReplicaLabel",{defaultMessage:"Unassigned Replica"}),color:"warning"}];return _react2.default.createElement("div",{className:"monCluster"},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h1",null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardAllocation.shardLegendTitle",defaultMessage:"Shard Legend"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react2.default.createElement(_eui.EuiFlexGroup,{wrap:true,responsive:false,gutterSize:"xs"},types.map(function(type){return _react2.default.createElement(_eui.EuiFlexItem,{grow:false,key:type.label},_react2.default.createElement(_eui.EuiBadge,{color:type.color},type.label))})),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_cluster_view.ClusterView,{scope:scope,shardStats:shardStats,kbnUrl:kbnUrl,showSystemIndices:scope.showSystemIndices,toggleShowSystemIndices:scope.toggleShowSystemIndices,type:type}))}},972:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Shard=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _calculate_class=__webpack_require__(973);var _vents=__webpack_require__(2053);var _i18n=__webpack_require__(9);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getColor(classes){return classes.split(" ").reduce(function(color,cls){if(color){return color}switch(cls){case"primary":return"ghost";case"replica":return"secondary";case"relocation":return"accent";case"initializing":return"default";case"emergency":case"unassigned":return"danger"}},null)}var Shard=exports.Shard=function(_React$Component){_inherits(Shard,_React$Component);function Shard(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Shard);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Shard.__proto__||Object.getPrototypeOf(Shard)).call.apply(_ref,[this].concat(args))),_this),_this.state={tooltipVisible:false},_this.generateKey=function(relocating){var shard=_this.props.shard;var shardType=shard.primary?"primary":"replica";var additionId=shard.state==="UNASSIGNED"?Math.random():"";var node=relocating?shard.relocating_node:shard.node;return shard.index+"."+node+"."+shardType+"."+shard.shard+additionId},_this.toggle=function(event){if(_this.props.shard.tooltip_message){var action=event.type==="mouseenter"?"show":"hide";var key=_this.generateKey(true);_this.setState({tooltipVisible:action==="show"});_vents.vents.trigger(key,action)}},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(Shard,[{key:"componentDidMount",value:function componentDidMount(){var key=void 0;var shard=this.props.shard;var self=this;if(shard.tooltip_message){key=this.generateKey();_vents.vents.on(key,function(action){self.setState({tooltipVisible:action==="show"})})}}},{key:"componentWillUnmount",value:function componentWillUnmount(){var key=void 0;var shard=this.props.shard;if(shard.tooltip_message){key=this.generateKey();_vents.vents.clear(key)}}},{key:"render",value:function render(){var shard=this.props.shard;var tooltip=void 0;if(this.state.tooltipVisible){tooltip=_react2.default.createElement("div",{className:"shard-tooltip","data-test-subj":"shardTooltip","data-tooltip-content":this.props.shard.tooltip_message},this.props.shard.tooltip_message)}var classes=(0,_calculate_class.calculateClass)(shard);var color=getColor(classes);var classification=classes+" "+shard.shard;return _react2.default.createElement("div",{onMouseEnter:this.toggle,onMouseLeave:this.toggle,className:classes,"data-shard-tooltip":this.props.shard.tooltip_message,"data-shard-classification":classification,"data-test-subj":"shardIcon"},_react2.default.createElement(_eui.EuiTextColor,{color:color},tooltip,shard.shard))}}]);return Shard}(_react2.default.Component);Shard.displayName=_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.shardDisplayName",{defaultMessage:"Shard"})},973:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.calculateClass=calculateClass;function calculateClass(item,initial){var classes=[item.type];if(initial){classes.push(initial)}if(item.type==="shard"){classes.push(item.primary&&"primary"||"replica");classes.push(item.state.toLowerCase());if(item.state==="UNASSIGNED"&&item.primary){classes.push("emergency")}}if(item.master){classes.push("master")}return classes.join(" ")}},974:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailStatus=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _summary_status=__webpack_require__(208);var _format_number=__webpack_require__(29);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DetailStatusUi(_ref){var stats=_ref.stats,intl=_ref.intl;var httpAddress=stats.http_address,events=stats.events,reloads=stats.reloads,pipeline=stats.pipeline,queueType=stats.queue_type,version=stats.version,uptime=stats.uptime;var firstMetrics=[{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.transportAddressLabel",defaultMessage:"Transport Address"}),value:httpAddress,"data-test-subj":"httpAddress"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.eventsReceivedLabel",defaultMessage:"Events Received"}),value:(0,_format_number.formatMetric)(events.in,"0.[0]a"),"data-test-subj":"eventsIn"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.eventsEmittedLabel",defaultMessage:"Events Emitted"}),value:(0,_format_number.formatMetric)(events.out,"0.[0]a"),"data-test-subj":"eventsOut"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.configReloadsLabel",defaultMessage:"Config Reloads"}),value:reloads.successes,"data-test-subj":"numReloads"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.pipelineWorkersLabel",defaultMessage:"Pipeline Workers"}),value:pipeline.workers,"data-test-subj":"pipelineWorkers"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.batchSizeLabel",defaultMessage:"Batch Size"}),value:pipeline.batch_size,"data-test-subj":"pipelineBatchSize"}];var lastMetrics=[{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.versionLabel",defaultMessage:"Version"}),value:version,"data-test-subj":"version"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.uptimeLabel",defaultMessage:"Uptime"}),value:(0,_format_number.formatMetric)(uptime,"time_since"),"data-test-subj":"uptime"}];var metrics=[].concat(firstMetrics);if(queueType){metrics.push({label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.queueTypeLabel",defaultMessage:"Queue Type"}),value:queueType,"data-test-subj":"queueType"})}metrics.push.apply(metrics,lastMetrics);return _react2.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,"data-test-subj":"logstashDetailStatus"})}var DetailStatus=exports.DetailStatus=(0,_react3.injectI18n)(DetailStatusUi)},975:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isPipelineMonitoringSupportedInVersion=isPipelineMonitoringSupportedInVersion;var _semver=__webpack_require__(627);var _semver2=_interopRequireDefault(_semver);var _constants=__webpack_require__(59);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isPipelineMonitoringSupportedInVersion(logstashVersion){var major=_semver2.default.major(logstashVersion);return major>=_constants.LOGSTASH.MAJOR_VER_REQD_FOR_PIPELINES}},976:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineListing=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _lodash=__webpack_require__(1);var _eui=__webpack_require__(2);var _format_number=__webpack_require__(29);var _cluster_status=__webpack_require__(619);var _sparkline=__webpack_require__(613);var _table=__webpack_require__(186);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PipelineListingUI=function(_Component){_inherits(PipelineListingUI,_Component);function PipelineListingUI(){_classCallCheck(this,PipelineListingUI);return _possibleConstructorReturn(this,(PipelineListingUI.__proto__||Object.getPrototypeOf(PipelineListingUI)).apply(this,arguments))}_createClass(PipelineListingUI,[{key:"tooltipXValueFormatter",value:function tooltipXValueFormatter(xValue,dateFormat){return(0,_moment2.default)(xValue).format(dateFormat)}},{key:"tooltipYValueFormatter",value:function tooltipYValueFormatter(yValue,format,units){return(0,_format_number.formatMetric)(yValue,format,units)}},{key:"getColumns",value:function getColumns(){var _this2=this;var _props=this.props,onBrush=_props.onBrush,dateFormat=_props.dateFormat;var _props$angular=this.props.angular,kbnUrl=_props$angular.kbnUrl,scope=_props$angular.scope;return[{name:"ID",field:"id",sortable:true,render:function render(id){return _react2.default.createElement(_eui.EuiLink,{"data-test-subj":"id",onClick:function onClick(){scope.$evalAsync(function(){kbnUrl.changePath("/logstash/pipelines/"+id)})}},id)}},{name:"Events Emitted Rate",field:"latestThroughput",sortable:true,render:function render(value,pipeline){var throughput=pipeline.metrics.throughput;return _react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_sparkline.Sparkline,{series:throughput.data,onBrush:onBrush,tooltip:{xValueFormatter:function xValueFormatter(value){return _this2.tooltipXValueFormatter(value,dateFormat)},yValueFormatter:(0,_lodash.partialRight)(_this2.tooltipYValueFormatter,throughput.metric.format,throughput.metric.units)},options:{xaxis:throughput.timeRange}})),_react2.default.createElement(_eui.EuiFlexItem,{className:"monTableCell__number","data-test-subj":"eventsEmittedRate"},(0,_format_number.formatMetric)(value,"0.[0]a",throughput.metric.units)))}},{name:"Number of Nodes",field:"latestNodesCount",sortable:true,render:function render(value,pipeline){var nodesCount=pipeline.metrics.nodesCount;return _react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_sparkline.Sparkline,{series:nodesCount.data,onBrush:onBrush,tooltip:{xValueFormatter:function xValueFormatter(value){return _this2.tooltipXValueFormatter(value,dateFormat)},yValueFormatter:(0,_lodash.partialRight)(_this2.tooltipYValueFormatter,nodesCount.metric.format,nodesCount.metric.units)},options:{xaxis:nodesCount.timeRange}})),_react2.default.createElement(_eui.EuiFlexItem,{className:"monTableCell__number","data-test-subj":"nodeCount"},(0,_format_number.formatMetric)(value,"0a")))}}]}},{key:"renderStats",value:function renderStats(){if(this.props.statusComponent){var _Component2=this.props.statusComponent;return _react2.default.createElement(_Component2,{stats:this.props.stats})}return _react2.default.createElement(_cluster_status.ClusterStatus,{stats:this.props.stats})}},{key:"render",value:function render(){var _props2=this.props,data=_props2.data,sorting=_props2.sorting,pagination=_props2.pagination,onTableChange=_props2.onTableChange,upgradeMessage=_props2.upgradeMessage,className=_props2.className,intl=_props2.intl;var columns=this.getColumns();return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,this.renderStats(),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_table.EuiMonitoringTable,{className:className||"logstashNodesTable",rows:data,columns:columns,sorting:_extends({},sorting,{sort:_extends({},sorting.sort,{field:"id"})}),message:upgradeMessage,pagination:pagination,search:{box:{incremental:true,placeholder:intl.formatMessage({id:"xpack.monitoring.logstash.filterPipelinesPlaceholder",defaultMessage:"Filter Pipelines…"})}},onTableChange:onTableChange}))))}}]);return PipelineListingUI}(_react.Component);var PipelineListing=exports.PipelineListing=(0,_react3.injectI18n)(PipelineListingUI)},977:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PluginVertex=exports.SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN=exports.TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _vertex=__webpack_require__(621);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT=exports.TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT=2;var SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN=exports.SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN=2;var PluginVertex=exports.PluginVertex=function(_Vertex){_inherits(PluginVertex,_Vertex);function PluginVertex(){_classCallCheck(this,PluginVertex);return _possibleConstructorReturn(this,(PluginVertex.__proto__||Object.getPrototypeOf(PluginVertex)).apply(this,arguments))}_createClass(PluginVertex,[{key:"isTimeConsuming",value:function isTimeConsuming(){var expectedPercentOfTotalProcessorTime=1/this.graph.processorVertices.length;var threshold=TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT*expectedPercentOfTotalProcessorTime;return this.percentOfTotalProcessorTime>threshold}},{key:"isSlow",value:function isSlow(){var totalProcessorVertices=this.graph.processorVertices.length;if(totalProcessorVertices===0){return 0}var meanmillisPerEvent=this.graph.processorVertices.reduce(function(acc,v){return acc+v.latestMillisPerEvent||0},0)/totalProcessorVertices;var variance=this.graph.processorVertices.reduce(function(acc,v){var difference=(v.latestMillisPerEvent||0)-meanmillisPerEvent;var square=difference*difference;return acc+square},0)/totalProcessorVertices;var stdDeviation=Math.sqrt(variance);var slowness=(this.latestMillisPerEvent-meanmillisPerEvent)/stdDeviation;return slowness>SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN}},{key:"typeString",get:function get(){return"plugin"}},{key:"name",get:function get(){return this.json.config_name}},{key:"title",get:function get(){return this.name}},{key:"pluginType",get:function get(){return this.json.plugin_type}},{key:"isInput",get:function get(){return this.pluginType==="input"}},{key:"isFilter",get:function get(){return this.pluginType==="filter"}},{key:"isOutput",get:function get(){return this.pluginType==="output"}},{key:"isProcessor",get:function get(){return this.isFilter||this.isOutput}},{key:"latestMillisPerEvent",get:function get(){var latestMillisPerEventBucket=(0,_lodash.last)((0,_lodash.get)(this.stats,"millis_per_event.data",[]))||[];return latestMillisPerEventBucket[1]}},{key:"percentOfTotalProcessorTime",get:function get(){var latestPercentOfTotalProcessorDurationBucket=(0,_lodash.last)((0,_lodash.get)(this.stats,"percent_of_total_processor_duration.data",[]))||[];return latestPercentOfTotalProcessorDurationBucket[1]}},{key:"eventsPerSecond",get:function get(){var eventsPerMillisecond=this.isInput?this.stats.events_out_per_millisecond:this.stats.events_in_per_millisecond;return _extends({},(0,_lodash.omit)(eventsPerMillisecond,"data"),{data:(0,_lodash.get)(eventsPerMillisecond,"data",[]).map(function(_ref){var _ref2=_slicedToArray(_ref,2),x=_ref2[0],y=_ref2[1];return[x,y*1e3]})})}},{key:"latestEventsPerSecond",get:function get(){var latestBucket=(0,_lodash.last)((0,_lodash.get)(this.eventsPerSecond,"data",[]))||[];return latestBucket[1]}},{key:"iconType",get:function get(){switch(this.pluginType){case"input":return"logstashInput";case"filter":return"logstashFilter";case"output":return"logstashOutput";default:throw new Error("Unknown plugin type "+this.pluginType+"! This shouldn't happen!")}}},{key:"next",get:function get(){var firstOutgoingEdge=this.outgoingEdges[0]||{};return firstOutgoingEdge.to}}]);return PluginVertex}(_vertex.Vertex)},978:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Edge=exports.Edge=function(){function Edge(graph,json){_classCallCheck(this,Edge);this.graph=graph;this.update(json)}_createClass(Edge,[{key:"update",value:function update(json){this.json=json}},{key:"id",get:function get(){return this.json.id}},{key:"from",get:function get(){return this.graph.verticesById[this.fromId]}},{key:"fromId",get:function get(){return this.json.from}},{key:"to",get:function get(){return this.graph.verticesById[this.toId]}},{key:"toId",get:function get(){return this.json.to}}]);return Edge}()},979:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatementListHeading=StatementListHeading;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(6);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StatementListHeading(_ref){var iconType=_ref.iconType,title=_ref.title;return _react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",responsive:false,alignItems:"baseline"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiIcon,{type:iconType})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h4",null,title))))}StatementListHeading.propTypes={iconType:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired}},980:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PluginStatement=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _statement=__webpack_require__(623);var _plugin_element=__webpack_require__(2129);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PluginStatement=exports.PluginStatement=function(_Statement){_inherits(PluginStatement,_Statement);function PluginStatement(vertex){_classCallCheck(this,PluginStatement);var _this=_possibleConstructorReturn(this,(PluginStatement.__proto__||Object.getPrototypeOf(PluginStatement)).call(this,vertex));var pluginType=vertex.pluginType,name=vertex.name;_this.pluginType=pluginType;_this.name=name;return _this}_createClass(PluginStatement,[{key:"toList",value:function toList(depth,parentId){return[new _plugin_element.PluginElement(this,depth,parentId)]}}],[{key:"fromPipelineGraphVertex",value:function fromPipelineGraphVertex(pluginVertex){return new PluginStatement(pluginVertex)}}]);return PluginStatement}(_statement.Statement)},981:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IfElement=undefined;var _element=__webpack_require__(624);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var IfElement=exports.IfElement=function(_Element){_inherits(IfElement,_Element);function IfElement(statement,depth,parentId){_classCallCheck(this,IfElement);var id=statement.id;return _possibleConstructorReturn(this,(IfElement.__proto__||Object.getPrototypeOf(IfElement)).call(this,id,statement,depth,parentId))}return IfElement}(_element.Element)},982:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.makeStatement=makeStatement;var _plugin_statement=__webpack_require__(980);var _if_statement=__webpack_require__(2135);var _queue=__webpack_require__(2137);function makeStatement(pipelineGraphVertex,pipelineStage){var klass=pipelineGraphVertex.constructor.name;switch(klass){case"PluginVertex":return _plugin_statement.PluginStatement.fromPipelineGraphVertex(pipelineGraphVertex,pipelineStage);case"IfVertex":return _if_statement.IfStatement.fromPipelineGraphVertex(pipelineGraphVertex,pipelineStage);case"QueueVertex":return _queue.Queue.fromPipelineGraphVertex(pipelineGraphVertex,pipelineStage);default:throw new Error("Unknown vertex class: "+klass)}}},983:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isVertexPipelineStage=isVertexPipelineStage;function isVertexPipelineStage(vertex,pipelineStage){return vertex&&vertex.pipelineStage===pipelineStage}},984:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Status=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(13);var _moment2=_interopRequireDefault(_moment);var _summary_status=__webpack_require__(208);var _status_icon=__webpack_require__(985);var _format_number=__webpack_require__(29);var _common=__webpack_require__(397);var _constants=__webpack_require__(59);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StatusUI(_ref){var stats=_ref.stats,intl=_ref.intl;var total=stats.apms.total,totalEvents=stats.totalEvents,timeOfLastEvent=stats.timeOfLastEvent;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.apm.instances.status.serversLabel",defaultMessage:"Servers"}),value:total,"data-test-subj":"total"},{label:intl.formatMessage({id:"xpack.monitoring.apm.instances.status.totalEventsLabel",defaultMessage:"Total Events"}),value:(0,_format_number.formatMetric)(totalEvents,"0.[0]a"),"data-test-subj":"totalEvents"},{label:intl.formatMessage({id:"xpack.monitoring.apm.instances.status.lastEventLabel",defaultMessage:"Last Event"}),value:intl.formatMessage({id:"xpack.monitoring.apm.instances.status.lastEventDescription",defaultMessage:"{timeOfLastEvent} ago"},{timeOfLastEvent:(0,_common.formatTimestampToDuration)(+(0,_moment2.default)(timeOfLastEvent),_constants.CALCULATE_DURATION_SINCE)}),"data-test-subj":"timeOfLastEvent"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_react3.FormattedMessage,{id:"xpack.monitoring.apm.instances.statusDescription",defaultMessage:"Status: {apmStatusIcon}",values:{apmStatusIcon:_react2.default.createElement(_status_icon.ApmStatusIcon,{status:status})}}))};return _react2.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,IconComponent:IconComponent,"data-test-subj":"apmDetailStatus"})}var Status=exports.Status=(0,_react3.injectI18n)(StatusUI)},985:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ApmStatusIcon=undefined;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _status_icon=__webpack_require__(335);var _react3=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ApmStatusIconUI(_ref){var status=_ref.status,_ref$availability=_ref.availability,availability=_ref$availability===undefined?true:_ref$availability,intl=_ref.intl;var type=function(){if(!availability){return _status_icon.StatusIcon.TYPES.GRAY}var statusKey=status.toUpperCase();return _status_icon.StatusIcon.TYPES[statusKey]||_status_icon.StatusIcon.TYPES.YELLOW}();return _react2.default.createElement(_status_icon.StatusIcon,{type:type,label:intl.formatMessage({id:"xpack.monitoring.apm.healthStatusLabel",defaultMessage:"Health: {status}"},{status:status})})}var ApmStatusIcon=exports.ApmStatusIcon=(0,_react3.injectI18n)(ApmStatusIconUI)}});